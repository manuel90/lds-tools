(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,76261,(e,t,r)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,h=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function S(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case h:case d:case s:case l:case a:case p:return e;default:switch(e=e&&e.$$typeof){case c:case f:case y:case m:case u:return e;default:return t}}case o:return t}}}function C(e){return S(e)===d}r.AsyncMode=h,r.ConcurrentMode=d,r.ContextConsumer=c,r.ContextProvider=u,r.Element=i,r.ForwardRef=f,r.Fragment=s,r.Lazy=y,r.Memo=m,r.Portal=o,r.Profiler=l,r.StrictMode=a,r.Suspense=p,r.isAsyncMode=function(e){return C(e)||S(e)===h},r.isConcurrentMode=C,r.isContextConsumer=function(e){return S(e)===c},r.isContextProvider=function(e){return S(e)===u},r.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},r.isForwardRef=function(e){return S(e)===f},r.isFragment=function(e){return S(e)===s},r.isLazy=function(e){return S(e)===y},r.isMemo=function(e){return S(e)===m},r.isPortal=function(e){return S(e)===o},r.isProfiler=function(e){return S(e)===l},r.isStrictMode=function(e){return S(e)===a},r.isSuspense=function(e){return S(e)===p},r.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===d||e===l||e===a||e===p||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===b||e.$$typeof===w||e.$$typeof===x||e.$$typeof===v)},r.typeOf=S},2079,(e,t,r)=>{"use strict";t.exports=e.r(76261)},98437,(e,t,r)=>{"use strict";var n=e.r(2079),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return n.isMemo(e)?s:a[e.$$typeof]||i}a[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[n.Memo]=s;var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;t.exports=function e(t,r,n){if("string"!=typeof r){if(p){var i=f(r);i&&i!==p&&e(t,i,n)}var s=c(r);h&&(s=s.concat(h(r)));for(var a=l(t),g=l(r),m=0;m<s.length;++m){var y=s[m];if(!o[y]&&!(n&&n[y])&&!(g&&g[y])&&!(a&&a[y])){var v=d(r,y);try{u(t,y,v)}catch(e){}}}}return t}},78804,(e,t,r)=>{"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function y(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case a:case s:case h:case d:case g:return e;default:switch(e=e&&e.$$typeof){case u:case c:case p:case f:case l:return e;default:return t}}case i:return t}}}r.ContextConsumer=l,r.ContextProvider=u,r.Element=n,r.ForwardRef=c,r.Fragment=o,r.Lazy=p,r.Memo=f,r.Portal=i,r.Profiler=a,r.StrictMode=s,r.Suspense=h,r.SuspenseList=d,r.isContextConsumer=function(e){return y(e)===l},r.isContextProvider=function(e){return y(e)===u},r.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},r.isForwardRef=function(e){return y(e)===c},r.isFragment=function(e){return y(e)===o},r.isLazy=function(e){return y(e)===p},r.isMemo=function(e){return y(e)===f},r.isPortal=function(e){return y(e)===i},r.isProfiler=function(e){return y(e)===a},r.isStrictMode=function(e){return y(e)===s},r.isSuspense=function(e){return y(e)===h},r.isSuspenseList=function(e){return y(e)===d},r.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===a||e===s||e===h||e===d||"object"==typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===f||e.$$typeof===u||e.$$typeof===l||e.$$typeof===c||e.$$typeof===m||void 0!==e.getModuleId)||!1},r.typeOf=y},79684,(e,t,r)=>{"use strict";t.exports=e.r(78804)},79148,(e,t,r)=>{"use strict";var n="u">typeof Uint8Array&&"u">typeof Uint16Array&&"u">typeof Int32Array;r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw TypeError(r+"must be non-object");for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)return void e.set(t.subarray(r,r+n),i);for(var o=0;o<n;o++)e[i+o]=t[r+o]},flattenChunks:function(e){var t,r,n,i,o,s;for(t=0,n=0,r=e.length;t<r;t++)n+=e[t].length;for(t=0,s=new Uint8Array(n),i=0,r=e.length;t<r;t++)o=e[t],s.set(o,i),i+=o.length;return s}},o={arraySet:function(e,t,r,n,i){for(var o=0;o<n;o++)e[i+o]=t[r+o]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,o))},r.setTyped(n)},18008,(e,t,r)=>{"use strict";var n,i,o,s=e.r(79148);function a(e){for(var t=e.length;--t>=0;)e[t]=0}var l=573,u=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],c=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],d=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],f=Array(576);a(f);var p=Array(60);a(p);var g=Array(512);a(g);var m=Array(256);a(m);var y=Array(29);a(y);var v=Array(30);function b(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function w(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function x(e){return e<256?g[e]:g[256+(e>>>7)]}function S(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function C(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,S(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function k(e,t,r){C(e,r[2*t],r[2*t+1])}function _(e,t){var r=0;do r|=1&e,e>>>=1,r<<=1;while(--t>0)return r>>>1}function A(e,t,r){var n,i,o=Array(16),s=0;for(n=1;n<=15;n++)o[n]=s=s+r[n-1]<<1;for(i=0;i<=t;i++){var a=e[2*i+1];0!==a&&(e[2*i]=_(o[a]++,a))}}function T(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function E(e){e.bi_valid>8?S(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function I(e,t,r,n){var i=2*t,o=2*r;return e[i]<e[o]||e[i]===e[o]&&n[t]<=n[r]}function D(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&I(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!I(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function F(e,t,r){var n,i,o,s,a=0;if(0!==e.last_lit)do n=e.pending_buf[e.d_buf+2*a]<<8|e.pending_buf[e.d_buf+2*a+1],i=e.pending_buf[e.l_buf+a],a++,0===n?k(e,i,t):(k(e,(o=m[i])+256+1,t),0!==(s=u[o])&&C(e,i-=y[o],s),k(e,o=x(--n),r),0!==(s=c[o])&&C(e,n-=v[o],s));while(a<e.last_lit)k(e,256,t)}function N(e,t){var r,n,i,o=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,u=t.stat_desc.elems,c=-1;for(r=0,e.heap_len=0,e.heap_max=l;r<u;r++)0!==o[2*r]?(e.heap[++e.heap_len]=c=r,e.depth[r]=0):o[2*r+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,a&&(e.static_len-=s[2*i+1]);for(t.max_code=c,r=e.heap_len>>1;r>=1;r--)D(e,o,r);i=u;do r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],D(e,o,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,o[2*i]=o[2*r]+o[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,o[2*r+1]=o[2*n+1]=i,e.heap[1]=i++,D(e,o,1);while(e.heap_len>=2)e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,o,s,a,u=t.dyn_tree,c=t.max_code,h=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,g=t.stat_desc.max_length,m=0;for(o=0;o<=15;o++)e.bl_count[o]=0;for(u[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<l;r++)(o=u[2*u[2*(n=e.heap[r])+1]+1]+1)>g&&(o=g,m++),u[2*n+1]=o,!(n>c)&&(e.bl_count[o]++,s=0,n>=p&&(s=f[n-p]),a=u[2*n],e.opt_len+=a*(o+s),d&&(e.static_len+=a*(h[2*n+1]+s)));if(0!==m){do{for(o=g-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[g]--,m-=2}while(m>0)for(o=g;0!==o;o--)for(n=e.bl_count[o];0!==n;)!((i=e.heap[--r])>c)&&(u[2*i+1]!==o&&(e.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),n--)}}(e,t),A(o,c,e.bl_count)}function P(e,t,r){var n,i,o=-1,s=t[1],a=0,l=7,u=4;for(0===s&&(l=138,u=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)i=s,s=t[(n+1)*2+1],++a<l&&i===s||(a<u?e.bl_tree[2*i]+=a:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,o=i,0===s?(l=138,u=3):i===s?(l=6,u=3):(l=7,u=4))}function R(e,t,r){var n,i,o=-1,s=t[1],a=0,l=7,u=4;for(0===s&&(l=138,u=3),n=0;n<=r;n++)if(i=s,s=t[(n+1)*2+1],!(++a<l)||i!==s){if(a<u)do k(e,i,e.bl_tree);while(0!=--a)else 0!==i?(i!==o&&(k(e,i,e.bl_tree),a--),k(e,16,e.bl_tree),C(e,a-3,2)):a<=10?(k(e,17,e.bl_tree),C(e,a-3,3)):(k(e,18,e.bl_tree),C(e,a-11,7));a=0,o=i,0===s?(l=138,u=3):i===s?(l=6,u=3):(l=7,u=4)}}a(v);var O=!1;function M(e,t,r,n){C(e,0+ +!!n,3),E(e),S(e,r),S(e,~r),s.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}r._tr_init=function(e){O||(!function(){var e,t,r,s,a,l=Array(16);for(s=0,r=0;s<28;s++)for(e=0,y[s]=r;e<1<<u[s];e++)m[r++]=s;for(m[r-1]=s,a=0,s=0;s<16;s++)for(e=0,v[s]=a;e<1<<c[s];e++)g[a++]=s;for(a>>=7;s<30;s++)for(e=0,v[s]=a<<7;e<1<<c[s]-7;e++)g[256+a++]=s;for(t=0;t<=15;t++)l[t]=0;for(e=0;e<=143;)f[2*e+1]=8,e++,l[8]++;for(;e<=255;)f[2*e+1]=9,e++,l[9]++;for(;e<=279;)f[2*e+1]=7,e++,l[7]++;for(;e<=287;)f[2*e+1]=8,e++,l[8]++;for(A(f,287,l),e=0;e<30;e++)p[2*e+1]=5,p[2*e]=_(e,5);n=new b(f,u,257,286,15),i=new b(p,c,0,30,15),o=new b([],h,0,19,7)}(),O=!0),e.l_desc=new w(e.dyn_ltree,n),e.d_desc=new w(e.dyn_dtree,i),e.bl_desc=new w(e.bl_tree,o),e.bi_buf=0,e.bi_valid=0,T(e)},r._tr_stored_block=M,r._tr_flush_block=function(e,t,r,n){var i,o,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=0xf3ffc07f;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),N(e,e.l_desc),N(e,e.d_desc),s=function(e){var t;for(P(e,e.dyn_ltree,e.l_desc.max_code),P(e,e.dyn_dtree,e.d_desc.max_code),N(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*d[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==t?M(e,t,r,n):4===e.strategy||o===i?(C(e,2+ +!!n,3),F(e,f,p)):(C(e,4+ +!!n,3),function(e,t,r,n){var i;for(C(e,t-257,5),C(e,r-1,5),C(e,n-4,4),i=0;i<n;i++)C(e,e.bl_tree[2*d[i]+1],3);R(e,e.dyn_ltree,t-1),R(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),F(e,e.dyn_ltree,e.dyn_dtree)),T(e),n&&E(e)},r._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[(m[r]+256+1)*2]++,e.dyn_dtree[2*x(t)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){C(e,2,3),k(e,256,f),16===e.bi_valid?(S(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},74049,(e,t,r)=>{"use strict";t.exports=function(e,t,r,n){for(var i=65535&e,o=e>>>16&65535,s=0;0!==r;){s=r>2e3?2e3:r,r-=s;do o=o+(i=i+t[n++]|0)|0;while(--s)i%=65521,o%=65521}return i|o<<16}},63327,(e,t,r)=>{"use strict";var n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?0xedb88320^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t,r,i){var o=i+r;e^=-1;for(var s=i;s<o;s++)e=e>>>8^n[(e^t[s])&255];return -1^e}},19558,(e,t,r)=>{"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},79674,(e,t,r)=>{"use strict";var n,i=e.r(79148),o=e.r(18008),s=e.r(74049),a=e.r(63327),l=e.r(19558),u=573;function c(e,t){return e.msg=l[t],t}function h(e){return(e<<1)-9*(e>4)}function d(e){for(var t=e.length;--t>=0;)e[t]=0}function f(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(i.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function p(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,f(e.strm)}function g(e,t){e.pending_buf[e.pending++]=t}function m(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function y(e,t){var r,n,i=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,u=e.window,c=e.w_mask,h=e.prev,d=e.strstart+258,f=u[o+s-1],p=u[o+s];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(u[(r=t)+s]!==p||u[r+s-1]!==f||u[r]!==u[o]||u[++r]!==u[o+1])continue;o+=2,r++;do;while(u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&o<d)if(n=258-(d-o),o=d-258,n>s){if(e.match_start=t,s=n,n>=a)break;f=u[o+s-1],p=u[o+s]}}while((t=h[t&c])>l&&0!=--i)return s<=e.lookahead?s:e.lookahead}function v(e){var t,r,n,o,l,u=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=u+(u-262)){i.arraySet(e.window,e.window,u,u,0),e.match_start-=u,e.strstart-=u,e.block_start-=u,t=r=e.hash_size;do n=e.head[--t],e.head[t]=n>=u?n-u:0;while(--r)t=r=u;do n=e.prev[--t],e.prev[t]=n>=u?n-u:0;while(--r)o+=u}if(0===e.strm.avail_in)break;if(r=function(e,t,r,n){var o=e.avail_in;return(o>n&&(o=n),0===o)?0:(e.avail_in-=o,i.arraySet(t,e.input,e.next_in,o,r),1===e.state.wrap?e.adler=s(e.adler,t,o,r):2===e.state.wrap&&(e.adler=a(e.adler,t,o,r)),e.next_in+=o,e.total_in+=o,o)}(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=r,e.lookahead+e.insert>=3)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function b(e,t){for(var r,n;;){if(e.lookahead<262){if(v(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-262&&(e.match_length=y(e,r)),e.match_length>=3)if(n=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!=--e.match_length)e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(p(e,!1),0===e.strm.avail_out))return 1}return(e.insert=e.strstart<2?e.strstart:2,4===t)?(p(e,!0),0===e.strm.avail_out)?3:4:e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}function w(e,t){for(var r,n,i;;){if(e.lookahead<262){if(v(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-262&&(e.match_length=y(e,r),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,n=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!=--e.prev_length)if(e.match_available=0,e.match_length=2,e.strstart++,n&&(p(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=o._tr_tally(e,0,e.window[e.strstart-1]))&&p(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return(e.match_available&&(n=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t)?(p(e,!0),0===e.strm.avail_out)?3:4:e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}function x(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function S(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*u),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),d(this.dyn_ltree),d(this.dyn_dtree),d(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),d(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),d(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function C(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=+(2!==t.wrap),t.last_flush=0,o._tr_init(t),0):c(e,-2)}function k(e){var t,r=C(e);return 0===r&&((t=e.state).window_size=2*t.w_size,d(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),r}function _(e,t,r,n,o,s){if(!e)return -2;var a=1;if(-1===t&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),o<1||o>9||8!==r||n<8||n>15||t<0||t>9||s<0||s>4)return c(e,-2);8===n&&(n=9);var l=new S;return e.state=l,l.strm=e,l.wrap=a,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=+l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=s,l.method=r,k(e)}n=[new x(0,0,0,0,function(e,t){var r=65535;for(65535>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(v(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,p(e,!1),0===e.strm.avail_out)||e.strstart-e.block_start>=e.w_size-262&&(p(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,4===t)?(p(e,!0),0===e.strm.avail_out)?3:4:(e.strstart>e.block_start&&(p(e,!1),e.strm.avail_out),1)}),new x(4,4,8,4,b),new x(4,5,16,8,b),new x(4,6,32,32,b),new x(4,4,16,16,w),new x(8,16,32,32,w),new x(8,16,128,128,w),new x(8,32,128,256,w),new x(32,128,258,1024,w),new x(32,258,258,4096,w)],r.deflateInit=function(e,t){return _(e,t,8,15,8,0)},r.deflateInit2=_,r.deflateReset=k,r.deflateResetKeep=C,r.deflateSetHeader=function(e,t){return e&&e.state&&2===e.state.wrap?(e.state.gzhead=t,0):-2},r.deflate=function(e,t){if(!e||!e.state||t>5||t<0)return e?c(e,-2):-2;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return c(e,0===e.avail_out?-5:-2);if(i.strm=e,r=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,g(i,31),g(i,139),g(i,8),i.gzhead?(g(i,+!!i.gzhead.text+2*!!i.gzhead.hcrc+4*!!i.gzhead.extra+8*!!i.gzhead.name+16*!!i.gzhead.comment),g(i,255&i.gzhead.time),g(i,i.gzhead.time>>8&255),g(i,i.gzhead.time>>16&255),g(i,i.gzhead.time>>24&255),g(i,9===i.level?2:4*(i.strategy>=2||i.level<2)),g(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(g(i,255&i.gzhead.extra.length),g(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=a(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(g(i,0),g(i,0),g(i,0),g(i,0),g(i,0),g(i,9===i.level?2:4*(i.strategy>=2||i.level<2)),g(i,3),i.status=113);else{var r,i,s,l,u=8+(i.w_bits-8<<4)<<8;u|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(u|=32),u+=31-u%31,i.status=113,m(i,u),0!==i.strstart&&(m(i,e.adler>>>16),m(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(s=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),f(e),s=i.pending,i.pending!==i.pending_buf_size));)g(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),f(e),s=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,g(i,l)}while(0!==l)i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),f(e),s=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,g(i,l)}while(0!==l)i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&f(e),i.pending+2<=i.pending_buf_size&&(g(i,255&e.adler),g(i,e.adler>>8&255),e.adler=0,i.status=113)):i.status=113),0!==i.pending){if(f(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&h(t)<=h(r)&&4!==t)return c(e,-5);if(666===i.status&&0!==e.avail_in)return c(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&666!==i.status){var y=2===i.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(v(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(p(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,4===t)?(p(e,!0),0===e.strm.avail_out)?3:4:e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var r,n,i,s,a=e.window;;){if(e.lookahead<=258){if(v(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(n=a[i=e.strstart-1])===a[++i]&&n===a[++i]&&n===a[++i]){s=e.strstart+258;do;while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<s)e.match_length=258-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(p(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,4===t)?(p(e,!0),0===e.strm.avail_out)?3:4:e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}(i,t):n[i.level].func(i,t);if((3===y||4===y)&&(i.status=666),1===y||3===y)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===y&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(d(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),f(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(g(i,255&e.adler),g(i,e.adler>>8&255),g(i,e.adler>>16&255),g(i,e.adler>>24&255),g(i,255&e.total_in),g(i,e.total_in>>8&255),g(i,e.total_in>>16&255),g(i,e.total_in>>24&255)):(m(i,e.adler>>>16),m(i,65535&e.adler)),f(e),i.wrap>0&&(i.wrap=-i.wrap),+(0===i.pending))},r.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?c(e,-2):(e.state=null,113===t?c(e,-3):0):-2},r.deflateSetDictionary=function(e,t){var r,n,o,a,l,u,c,h,f=t.length;if(!e||!e.state||2===(a=(r=e.state).wrap)||1===a&&42!==r.status||r.lookahead)return -2;for(1===a&&(e.adler=s(e.adler,t,f,0)),r.wrap=0,f>=r.w_size&&(0===a&&(d(r.head),r.strstart=0,r.block_start=0,r.insert=0),h=new i.Buf8(r.w_size),i.arraySet(h,t,f-r.w_size,r.w_size,0),t=h,f=r.w_size),l=e.avail_in,u=e.next_in,c=e.input,e.avail_in=f,e.next_in=0,e.input=t,v(r);r.lookahead>=3;){n=r.strstart,o=r.lookahead-2;do r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++;while(--o)r.strstart=n,r.lookahead=2,v(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=u,e.input=c,e.avail_in=l,r.wrap=a,0},r.deflateInfo="pako deflate (from Nodeca project)"},63202,(e,t,r)=>{"use strict";var n=e.r(79148),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var s=new n.Buf8(256),a=0;a<256;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var r="",s=0;s<t;s++)r+=String.fromCharCode(e[s]);return r}s[254]=s[254]=1,r.string2buf=function(e){var t,r,i,o,s,a=e.length,l=0;for(o=0;o<a;o++)(64512&(r=e.charCodeAt(o)))==55296&&o+1<a&&(64512&(i=e.charCodeAt(o+1)))==56320&&(r=65536+(r-55296<<10)+(i-56320),o++),l+=r<128?1:r<2048?2:r<65536?3:4;for(s=0,t=new n.Buf8(l),o=0;s<l;o++)(64512&(r=e.charCodeAt(o)))==55296&&o+1<a&&(64512&(i=e.charCodeAt(o+1)))==56320&&(r=65536+(r-55296<<10)+(i-56320),o++),r<128?t[s++]=r:(r<2048?t[s++]=192|r>>>6:(r<65536?t[s++]=224|r>>>12:(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63),t[s++]=128|r>>>6&63),t[s++]=128|63&r);return t},r.buf2binstring=function(e){return l(e,e.length)},r.binstring2buf=function(e){for(var t=new n.Buf8(e.length),r=0,i=t.length;r<i;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){var r,n,i,o,a=t||e.length,u=Array(2*a);for(n=0,r=0;r<a;){if((i=e[r++])<128){u[n++]=i;continue}if((o=s[i])>4){u[n++]=65533,r+=o-1;continue}for(i&=2===o?31:3===o?15:7;o>1&&r<a;)i=i<<6|63&e[r++],o--;if(o>1){u[n++]=65533;continue}i<65536?u[n++]=i:(i-=65536,u[n++]=55296|i>>10&1023,u[n++]=56320|1023&i)}return l(u,n)},r.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&(192&e[r])==128;)r--;return r<0||0===r?t:r+s[e[r]]>t?r:t}},98899,(e,t,r)=>{"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},48901,(e,t,r)=>{"use strict";var n=e.r(79674),i=e.r(79148),o=e.r(63202),s=e.r(19558),a=e.r(98899),l=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t,r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var c=n.deflateInit2(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(0!==c)throw Error(s[c]);if(r.header&&n.deflateSetHeader(this.strm,r.header),r.dictionary){if(t="string"==typeof r.dictionary?o.string2buf(r.dictionary):"[object ArrayBuffer]"===l.call(r.dictionary)?new Uint8Array(r.dictionary):r.dictionary,0!==(c=n.deflateSetDictionary(this.strm,t)))throw Error(s[c]);this._dict_set=!0}}function c(e,t){var r=new u(t);if(r.push(e,!0),r.err)throw r.msg||s[r.err];return r.result}u.prototype.push=function(e,t){var r,s,a=this.strm,u=this.options.chunkSize;if(this.ended)return!1;s=t===~~t?t:4*(!0===t),"string"==typeof e?a.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new i.Buf8(u),a.next_out=0,a.avail_out=u),1!==(r=n.deflate(a,s))&&0!==r)return this.onEnd(r),this.ended=!0,!1;(0===a.avail_out||0===a.avail_in&&(4===s||2===s))&&("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(a.output,a.next_out))):this.onData(i.shrinkBuf(a.output,a.next_out)))}while((a.avail_in>0||0===a.avail_out)&&1!==r)return 4===s?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):(2===s&&(this.onEnd(0),a.avail_out=0),!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=u,r.deflate=c,r.deflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},r.gzip=function(e,t){return(t=t||{}).gzip=!0,c(e,t)}},75531,(e,t,r)=>{"use strict";t.exports=function(e,t){var r,n,i,o,s,a,l,u,c,h,d,f,p,g,m,y,v,b,w,x,S,C,k,_,A;r=e.state,n=e.next_in,_=e.input,i=n+(e.avail_in-5),o=e.next_out,A=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),l=r.dmax,u=r.wsize,c=r.whave,h=r.wnext,d=r.window,f=r.hold,p=r.bits,g=r.lencode,m=r.distcode,y=(1<<r.lenbits)-1,v=(1<<r.distbits)-1;e:do for(p<15&&(f+=_[n++]<<p,p+=8,f+=_[n++]<<p,p+=8),b=g[f&y];;){if(f>>>=w=b>>>24,p-=w,0==(w=b>>>16&255))A[o++]=65535&b;else if(16&w)for(x=65535&b,(w&=15)&&(p<w&&(f+=_[n++]<<p,p+=8),x+=f&(1<<w)-1,f>>>=w,p-=w),p<15&&(f+=_[n++]<<p,p+=8,f+=_[n++]<<p,p+=8),b=m[f&v];;){if(f>>>=w=b>>>24,p-=w,16&(w=b>>>16&255)){if(S=65535&b,p<(w&=15)&&(f+=_[n++]<<p,(p+=8)<w&&(f+=_[n++]<<p,p+=8)),(S+=f&(1<<w)-1)>l){e.msg="invalid distance too far back",r.mode=30;break e}if(f>>>=w,p-=w,S>(w=o-s)){if((w=S-w)>c&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(C=0,k=d,0===h){if(C+=u-w,w<x){x-=w;do A[o++]=d[C++];while(--w)C=o-S,k=A}}else if(h<w){if(C+=u+h-w,(w-=h)<x){x-=w;do A[o++]=d[C++];while(--w)if(C=0,h<x){x-=w=h;do A[o++]=d[C++];while(--w)C=o-S,k=A}}}else if(C+=h-w,w<x){x-=w;do A[o++]=d[C++];while(--w)C=o-S,k=A}for(;x>2;)A[o++]=k[C++],A[o++]=k[C++],A[o++]=k[C++],x-=3;x&&(A[o++]=k[C++],x>1&&(A[o++]=k[C++]))}else{C=o-S;do A[o++]=A[C++],A[o++]=A[C++],A[o++]=A[C++],x-=3;while(x>2)x&&(A[o++]=A[C++],x>1&&(A[o++]=A[C++]))}}else if((64&w)==0){b=m[(65535&b)+(f&(1<<w)-1)];continue}else{e.msg="invalid distance code",r.mode=30;break e}break}else if((64&w)==0){b=g[(65535&b)+(f&(1<<w)-1)];continue}else if(32&w){r.mode=12;break e}else{e.msg="invalid literal/length code",r.mode=30;break e}break}while(n<i&&o<a)n-=x=p>>3,p-=x<<3,f&=(1<<p)-1,e.next_in=n,e.next_out=o,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=o<a?257+(a-o):257-(o-a),r.hold=f,r.bits=p}},73012,(e,t,r)=>{"use strict";var n=e.r(79148),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,l,u,c,h,d){var f,p,g,m,y,v,b,w,x,S=d.bits,C=0,k=0,_=0,A=0,T=0,E=0,I=0,D=0,F=0,N=0,P=null,R=0,O=new n.Buf16(16),M=new n.Buf16(16),B=null,L=0;for(C=0;C<=15;C++)O[C]=0;for(k=0;k<l;k++)O[t[r+k]]++;for(A=15,T=S;A>=1&&0===O[A];A--);if(T>A&&(T=A),0===A)return u[c++]=0x1400000,u[c++]=0x1400000,d.bits=1,0;for(_=1;_<A&&0===O[_];_++);for(T<_&&(T=_),D=1,C=1;C<=15;C++)if(D<<=1,(D-=O[C])<0)return -1;if(D>0&&(0===e||1!==A))return -1;for(C=1,M[1]=0;C<15;C++)M[C+1]=M[C]+O[C];for(k=0;k<l;k++)0!==t[r+k]&&(h[M[t[r+k]]++]=k);if(0===e?(P=B=h,v=19):1===e?(P=i,R-=257,B=o,L-=257,v=256):(P=s,B=a,v=-1),N=0,k=0,C=_,y=c,E=T,I=0,g=-1,m=(F=1<<T)-1,1===e&&F>852||2===e&&F>592)return 1;for(;;){b=C-I,h[k]<v?(w=0,x=h[k]):h[k]>v?(w=B[L+h[k]],x=P[R+h[k]]):(w=96,x=0),f=1<<C-I,_=p=1<<E;do u[y+(N>>I)+(p-=f)]=b<<24|w<<16|x;while(0!==p)for(f=1<<C-1;N&f;)f>>=1;if(0!==f?(N&=f-1,N+=f):N=0,k++,0==--O[C]){if(C===A)break;C=t[r+h[k]]}if(C>T&&(N&m)!==g){for(0===I&&(I=T),y+=_,D=1<<(E=C-I);E+I<A&&!((D-=O[E+I])<=0);)E++,D<<=1;if(F+=1<<E,1===e&&F>852||2===e&&F>592)return 1;u[g=N&m]=T<<24|E<<16|y-c}}return 0!==N&&(u[y+N]=C-I<<24|4194304),d.bits=T,0}},57235,(e,t,r)=>{"use strict";var n,i,o=e.r(79148),s=e.r(74049),a=e.r(63327),l=e.r(75531),u=e.r(73012);function c(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function h(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new o.Buf32(852),t.distcode=t.distdyn=new o.Buf32(592),t.sane=1,t.back=-1,0):-2}function f(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,d(e)):-2}function p(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?-2:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,f(e)):-2}function g(e,t){var r,n;return e?(e.state=n=new h,n.window=null,0!==(r=p(e,t))&&(e.state=null),r):-2}var m=!0;function y(e,t,r,n){var i,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new o.Buf8(s.wsize)),n>=s.wsize?(o.arraySet(s.window,t,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((i=s.wsize-s.wnext)>n&&(i=n),o.arraySet(s.window,t,r-n,i,s.wnext),(n-=i)?(o.arraySet(s.window,t,r-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}r.inflateReset=f,r.inflateReset2=p,r.inflateResetKeep=d,r.inflateInit=function(e){return g(e,15)},r.inflateInit2=g,r.inflate=function(e,t){var r,h,d,f,p,g,v,b,w,x,S,C,k,_,A,T,E,I,D,F,N,P,R,O,M=0,B=new o.Buf8(4),L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return -2;12===(r=e.state).mode&&(r.mode=13),p=e.next_out,d=e.output,v=e.avail_out,f=e.next_in,h=e.input,g=e.avail_in,b=r.hold,w=r.bits,x=g,S=v,P=0;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;w<16;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}if(2&r.wrap&&35615===b){r.check=0,B[0]=255&b,B[1]=b>>>8&255,r.check=a(r.check,B,2,0),b=0,w=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&b)<<8)+(b>>8))%31){e.msg="incorrect header check",r.mode=30;break}if((15&b)!=8){e.msg="unknown compression method",r.mode=30;break}if(b>>>=4,w-=4,N=(15&b)+8,0===r.wbits)r.wbits=N;else if(N>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<N,e.adler=r.check=1,r.mode=512&b?10:12,b=0,w=0;break;case 2:for(;w<16;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}if(r.flags=b,(255&r.flags)!=8){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=b>>8&1),512&r.flags&&(B[0]=255&b,B[1]=b>>>8&255,r.check=a(r.check,B,2,0)),b=0,w=0,r.mode=3;case 3:for(;w<32;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}r.head&&(r.head.time=b),512&r.flags&&(B[0]=255&b,B[1]=b>>>8&255,B[2]=b>>>16&255,B[3]=b>>>24&255,r.check=a(r.check,B,4,0)),b=0,w=0,r.mode=4;case 4:for(;w<16;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}r.head&&(r.head.xflags=255&b,r.head.os=b>>8),512&r.flags&&(B[0]=255&b,B[1]=b>>>8&255,r.check=a(r.check,B,2,0)),b=0,w=0,r.mode=5;case 5:if(1024&r.flags){for(;w<16;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}r.length=b,r.head&&(r.head.extra_len=b),512&r.flags&&(B[0]=255&b,B[1]=b>>>8&255,r.check=a(r.check,B,2,0)),b=0,w=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((C=r.length)>g&&(C=g),C&&(r.head&&(N=r.head.extra_len-r.length,r.head.extra||(r.head.extra=Array(r.head.extra_len)),o.arraySet(r.head.extra,h,f,C,N)),512&r.flags&&(r.check=a(r.check,h,C,f)),g-=C,f+=C,r.length-=C),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===g)break t;C=0;do N=h[f+C++],r.head&&N&&r.length<65536&&(r.head.name+=String.fromCharCode(N));while(N&&C<g)if(512&r.flags&&(r.check=a(r.check,h,C,f)),g-=C,f+=C,N)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===g)break t;C=0;do N=h[f+C++],r.head&&N&&r.length<65536&&(r.head.comment+=String.fromCharCode(N));while(N&&C<g)if(512&r.flags&&(r.check=a(r.check,h,C,f)),g-=C,f+=C,N)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;w<16;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}if(b!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}b=0,w=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;w<32;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}e.adler=r.check=c(b),b=0,w=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=p,e.avail_out=v,e.next_in=f,e.avail_in=g,r.hold=b,r.bits=w,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break t;case 13:if(r.last){b>>>=7&w,w-=7&w,r.mode=27;break}for(;w<3;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}switch(r.last=1&b,w-=1,3&(b>>>=1)){case 0:r.mode=14;break;case 1:if(!function(e){if(m){var t;for(n=new o.Buf32(512),i=new o.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(u(1,e.lens,0,288,n,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;u(2,e.lens,0,32,i,0,e.work,{bits:5}),m=!1}e.lencode=n,e.lenbits=9,e.distcode=i,e.distbits=5}(r),r.mode=20,6===t){b>>>=2,w-=2;break t}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}b>>>=2,w-=2;break;case 14:for(b>>>=7&w,w-=7&w;w<32;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}if((65535&b)!=(b>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&b,b=0,w=0,r.mode=15,6===t)break t;case 15:r.mode=16;case 16:if(C=r.length){if(C>g&&(C=g),C>v&&(C=v),0===C)break t;o.arraySet(d,h,f,C,p),g-=C,f+=C,v-=C,p+=C,r.length-=C;break}r.mode=12;break;case 17:for(;w<14;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}if(r.nlen=(31&b)+257,w-=5,r.ndist=(31&(b>>>=5))+1,w-=5,r.ncode=(15&(b>>>=5))+4,b>>>=4,w-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;w<3;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}r.lens[L[r.have++]]=7&b,b>>>=3,w-=3}for(;r.have<19;)r.lens[L[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,R={bits:r.lenbits},P=u(0,r.lens,0,19,r.lencode,0,r.work,R),r.lenbits=R.bits,P){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;A=(M=r.lencode[b&(1<<r.lenbits)-1])>>>24,T=M>>>16&255,E=65535&M,!(A<=w);){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}if(E<16)b>>>=A,w-=A,r.lens[r.have++]=E;else{if(16===E){for(O=A+2;w<O;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}if(b>>>=A,w-=A,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}N=r.lens[r.have-1],C=3+(3&b),b>>>=2,w-=2}else if(17===E){for(O=A+3;w<O;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}b>>>=A,w-=A,N=0,C=3+(7&b),b>>>=3,w-=3}else{for(O=A+7;w<O;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}b>>>=A,w-=A,N=0,C=11+(127&b),b>>>=7,w-=7}if(r.have+C>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;C--;)r.lens[r.have++]=N}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,R={bits:r.lenbits},P=u(1,r.lens,0,r.nlen,r.lencode,0,r.work,R),r.lenbits=R.bits,P){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,R={bits:r.distbits},P=u(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,R),r.distbits=R.bits,P){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break t;case 20:r.mode=21;case 21:if(g>=6&&v>=258){e.next_out=p,e.avail_out=v,e.next_in=f,e.avail_in=g,r.hold=b,r.bits=w,l(e,S),p=e.next_out,d=e.output,v=e.avail_out,f=e.next_in,h=e.input,g=e.avail_in,b=r.hold,w=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;A=(M=r.lencode[b&(1<<r.lenbits)-1])>>>24,T=M>>>16&255,E=65535&M,!(A<=w);){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}if(T&&(240&T)==0){for(I=A,D=T,F=E;A=(M=r.lencode[F+((b&(1<<I+D)-1)>>I)])>>>24,T=M>>>16&255,E=65535&M,!(I+A<=w);){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}b>>>=I,w-=I,r.back+=I}if(b>>>=A,w-=A,r.back+=A,r.length=E,0===T){r.mode=26;break}if(32&T){r.back=-1,r.mode=12;break}if(64&T){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&T,r.mode=22;case 22:if(r.extra){for(O=r.extra;w<O;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}r.length+=b&(1<<r.extra)-1,b>>>=r.extra,w-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;A=(M=r.distcode[b&(1<<r.distbits)-1])>>>24,T=M>>>16&255,E=65535&M,!(A<=w);){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}if((240&T)==0){for(I=A,D=T,F=E;A=(M=r.distcode[F+((b&(1<<I+D)-1)>>I)])>>>24,T=M>>>16&255,E=65535&M,!(I+A<=w);){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}b>>>=I,w-=I,r.back+=I}if(b>>>=A,w-=A,r.back+=A,64&T){e.msg="invalid distance code",r.mode=30;break}r.offset=E,r.extra=15&T,r.mode=24;case 24:if(r.extra){for(O=r.extra;w<O;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}r.offset+=b&(1<<r.extra)-1,b>>>=r.extra,w-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===v)break t;if(C=S-v,r.offset>C){if((C=r.offset-C)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}C>r.wnext?(C-=r.wnext,k=r.wsize-C):k=r.wnext-C,C>r.length&&(C=r.length),_=r.window}else _=d,k=p-r.offset,C=r.length;C>v&&(C=v),v-=C,r.length-=C;do d[p++]=_[k++];while(--C)0===r.length&&(r.mode=21);break;case 26:if(0===v)break t;d[p++]=r.length,v--,r.mode=21;break;case 27:if(r.wrap){for(;w<32;){if(0===g)break t;g--,b|=h[f++]<<w,w+=8}if(S-=v,e.total_out+=S,r.total+=S,S&&(e.adler=r.check=r.flags?a(r.check,d,S,p-S):s(r.check,d,S,p-S)),S=v,(r.flags?b:c(b))!==r.check){e.msg="incorrect data check",r.mode=30;break}b=0,w=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;w<32;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}if(b!==(0|r.total)){e.msg="incorrect length check",r.mode=30;break}b=0,w=0}r.mode=29;case 29:P=1;break t;case 30:P=-3;break t;case 31:return -4;default:return -2}return e.next_out=p,e.avail_out=v,e.next_in=f,e.avail_in=g,r.hold=b,r.bits=w,(r.wsize||S!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&y(e,e.output,e.next_out,S-e.avail_out),x-=e.avail_in,S-=e.avail_out,e.total_in+=x,e.total_out+=S,r.total+=S,r.wrap&&S&&(e.adler=r.check=r.flags?a(r.check,d,S,e.next_out-S):s(r.check,d,S,e.next_out-S)),e.data_type=r.bits+64*!!r.last+128*(12===r.mode)+256*(20===r.mode||15===r.mode),(0===x&&0===S||4===t)&&0===P&&(P=-5),P},r.inflateEnd=function(e){if(!e||!e.state)return -2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},r.inflateGetHeader=function(e,t){var r;return e&&e.state&&(2&(r=e.state).wrap)!=0?(r.head=t,t.done=!1,0):-2},r.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state&&(0===(r=e.state).wrap||11===r.mode)?11===r.mode&&s(1,t,n,0)!==r.check?-3:y(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,0):-2},r.inflateInfo="pako inflate (from Nodeca project)"},34131,(e,t,r)=>{"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},24448,(e,t,r)=>{"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},82473,(e,t,r)=>{"use strict";var n=e.r(57235),i=e.r(79148),o=e.r(63202),s=e.r(34131),a=e.r(19558),l=e.r(98899),u=e.r(24448),c=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits)==0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,t.windowBits);if(r!==s.Z_OK||(this.header=new u,n.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=o.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw)&&(r=n.inflateSetDictionary(this.strm,t.dictionary))!==s.Z_OK))throw Error(a[r])}function d(e,t){var r=new h(t);if(r.push(e,!0),r.err)throw r.msg||a[r.err];return r.result}h.prototype.push=function(e,t){var r,a,l,u,h,d=this.strm,f=this.options.chunkSize,p=this.options.dictionary,g=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof e?d.input=o.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new i.Buf8(f),d.next_out=0,d.avail_out=f),(r=n.inflate(d,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&p&&(r=n.inflateSetDictionary(this.strm,p)),r===s.Z_BUF_ERROR&&!0===g&&(r=s.Z_OK,g=!1),r!==s.Z_STREAM_END&&r!==s.Z_OK)return this.onEnd(r),this.ended=!0,!1;d.next_out&&(0===d.avail_out||r===s.Z_STREAM_END||0===d.avail_in&&(a===s.Z_FINISH||a===s.Z_SYNC_FLUSH))&&("string"===this.options.to?(l=o.utf8border(d.output,d.next_out),u=d.next_out-l,h=o.buf2string(d.output,l),d.next_out=u,d.avail_out=f-u,u&&i.arraySet(d.output,d.output,l,u,0),this.onData(h)):this.onData(i.shrinkBuf(d.output,d.next_out))),0===d.avail_in&&0===d.avail_out&&(g=!0)}while((d.avail_in>0||0===d.avail_out)&&r!==s.Z_STREAM_END)return(r===s.Z_STREAM_END&&(a=s.Z_FINISH),a===s.Z_FINISH)?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===s.Z_OK):(a===s.Z_SYNC_FLUSH&&(this.onEnd(s.Z_OK),d.avail_out=0),!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=h,r.inflate=d,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},r.ungzip=d},9643,(e,t,r)=>{"use strict";var n=e.r(79148).assign,i=e.r(48901),o=e.r(82473),s=e.r(34131),a={};n(a,i,o,s),t.exports=a},81353,(e,t,r)=>{},67034,(e,t,r)=>{var n={675:function(e,t){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,o=l(e),s=o[0],a=o[1],u=new i((s+a)*3/4-a),c=0,h=a>0?s-4:s;for(r=0;r<h;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===a&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[c++]=255&t),1===a&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(function(e,t,n){for(var i,o=[],s=t;s<n;s+=3)i=(e[s]<<16&0xff0000)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[i>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}(e,s,s+16383>a?a:s+16383));return 1===i?o.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&o.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),o.join("")};for(var r=[],n=[],i="u">typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n[45]=62,n[95]=63},72:function(e,t,r){"use strict";var n=r(675),i=r(783),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function s(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return c(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e){var n=e,i=t;if(("string"!=typeof i||""===i)&&(i="utf8"),!a.isEncoding(i))throw TypeError("Unknown encoding: "+i);var o=0|f(n,i),l=s(o),u=l.write(n,i);return u!==o&&(l=l.slice(0,u)),l}if(ArrayBuffer.isView(e))return h(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(I(e,ArrayBuffer)||e&&I(e.buffer,ArrayBuffer)||"u">typeof SharedArrayBuffer&&(I(e,SharedArrayBuffer)||e&&I(e.buffer,SharedArrayBuffer)))return function(e,t,r){var n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),a.prototype),n}(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var c=e.valueOf&&e.valueOf();if(null!=c&&c!==e)return a.from(c,t,r);var p=function(e){if(a.isBuffer(e)){var t=0|d(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?s(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(p)return p;if("u">typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return u(e),s(e<0?0:0|d(e))}function h(e){for(var t=e.length<0?0:0|d(e.length),r=s(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}t.Buffer=a,t.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=0x7fffffff,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),!a.TYPED_ARRAY_SUPPORT&&"u">typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return(u(e),e<=0)?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)},a.allocUnsafe=function(e){return c(e)},a.allocUnsafeSlow=function(e){return c(e)};function d(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function f(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||I(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return _(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return T(e).length;default:if(i)return n?-1:_(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,r){var i,o,s,a=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=D[e[o]];return i}(this,t,r);case"utf8":case"utf-8":return v(this,t,r);case"ascii":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":return i=this,o=t,s=r,0===o&&s===i.length?n.fromByteArray(i):n.fromByteArray(i.slice(o,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}(this,t,r);default:if(a)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){var o;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(o=r*=1)!=o&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(i)return -1;else r=e.length-1;else if(r<0)if(!i)return -1;else r=0;if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return y(e,[t],r,n,i)}throw TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){var o,s=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;s=2,a/=2,l/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var c=-1;for(o=r;o<a;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*s}else -1!==c&&(o-=o-c),c=-1}else for(r+l>a&&(r=a-l),o=r;o>=0;o--){for(var h=!0,d=0;d<l;d++)if(u(e,o+d)!==u(t,d)){h=!1;break}if(h)return o}return -1}a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(I(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),I(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:+(n<r)},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(I(o,Uint8Array)&&(o=a.from(o)),!a.isBuffer(o))throw TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},a.byteLength=f,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?v(this,0,e):p.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(a.prototype[o]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,i){if(I(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,s=r-t,l=Math.min(o,s),u=this.slice(n,i),c=e.slice(t,r),h=0;h<l;++h)if(u[h]!==c[h]){o=u[h],s=c[h];break}return o<s?-1:+(s<o)},a.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)};function v(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,l,u=e[i],c=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=r)switch(h){case 1:u<128&&(c=u);break;case 2:(192&(o=e[i+1]))==128&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=e[i+1],s=e[i+2],(192&o)==128&&(192&s)==128&&(l=(15&u)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(l=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=h}var d=n,f=d.length;if(f<=4096)return String.fromCharCode.apply(String,d);for(var p="",g=0;g<f;)p+=String.fromCharCode.apply(String,d.slice(g,g+=4096));return p}function b(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function w(e,t,r,n,i,o){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function x(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function S(e,t,r,n,o){return t*=1,r>>>=0,o||x(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function C(e,t,r,n,o){return t*=1,r>>>=0,o||x(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,o,s,a,l,u,c,h,d=this.length-t;if((void 0===r||r>d)&&(r=d),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var f=!1;;)switch(n){case"hex":return function(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a,l=parseInt(t.substr(2*s,2),16);if((a=l)!=a)break;e[r+s]=l}return s}(this,e,t,r);case"utf8":case"utf-8":return i=t,o=r,E(_(e,this.length-i),this,i,o);case"ascii":return s=t,a=r,E(A(e),this,s,a);case"latin1":case"binary":return function(e,t,r,n){return E(A(t),e,r,n)}(this,e,t,r);case"base64":return l=t,u=r,E(T(e),this,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,h=r,E(function(e,t){for(var r,n,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(e,this.length-c),this,c,h);default:if(f)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),f=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUInt8=function(e,t){return e>>>=0,t||b(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return(e>>>=0,t||b(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||b(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||b(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||b(e,4,this.length),i.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||b(e,4,this.length),i.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||b(e,8,this.length),i.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||b(e,8,this.length),i.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;w(this,e,t,r,i,0)}var o=1,s=0;for(this[t]=255&e;++s<r&&(o*=256);)this[t+s]=e/o&255;return t+r},a.prototype.writeUIntBE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;w(this,e,t,r,i,0)}var o=r-1,s=1;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+r},a.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,r,n){if(e*=1,t>>>=0,!n){var i=Math.pow(2,8*r-1);w(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s|0)-a&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e*=1,t>>>=0,!n){var i=Math.pow(2,8*r-1);w(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s|0)-a&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,r){return S(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return S(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return C(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return C(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var o=i-1;o>=0;--o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},a.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){var i,o=e.charCodeAt(0);("utf8"===n&&o<128||"latin1"===n)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var s=a.isBuffer(e)?e:a.from(e,n),l=s.length;if(0===l)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%l]}return this};var k=/[^+/0-9A-Za-z-_]/g;function _(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319||s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function A(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function T(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(k,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function E(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function I(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var D=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()},783:function(e,t){t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,l=(1<<a)-1,u=l>>1,c=-7,h=r?i-1:0,d=r?-1:1,f=e[t+h];for(h+=d,o=f&(1<<-c)-1,f>>=-c,c+=a;c>0;o=256*o+e[t+h],h+=d,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;c>0;s=256*s+e[t+h],h+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,n),o-=u}return(f?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,l,u=8*o-i-1,c=(1<<u)-1,h=c>>1,d=5960464477539062e-23*(23===i),f=n?0:o-1,p=n?1:-1,g=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(a=+!!isNaN(t),s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+h>=1?t+=d/l:t+=d*Math.pow(2,1-h),t*l>=2&&(s++,l/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(t*l-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[r+f]=255&a,f+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+f]=255&s,f+=p,s/=256,u-=8);e[r+f-p]|=128*g}}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}},s=!0;try{n[e](r,r.exports,o),s=!1}finally{s&&delete i[e]}return r.exports}o.ab="/ROOT/node_modules/next/dist/compiled/buffer/",t.exports=o(72)},94505,e=>{"use strict";let t,r,n,i,o,s,a;var l,u,c,h,d,f,p,g,m,y,v,b,w,x,S,C,k,_,A,T,E,I,D,F,N,P,R,O,M,B,L,j,z,V,U,$,W,q,K,G,H,Q,X,J,Y,Z,ee,et,er,en,ei,eo,es,ea,el,eu,ec,eh,ed,ef,ep,eg,em,ey,ev,eb,ew,ex,eS,eC,ek,e_,eA,eT,eE,eI,eD,eF,eN,eP,eR,eO,eM,eB=e.i(43476),eL=e.i(71645),ej=e=>e instanceof Date,ez=e=>null==e,eV=e=>!ez(e)&&!Array.isArray(e)&&"object"==typeof e&&!ej(e),eU="u">typeof window&&void 0!==window.HTMLElement&&"u">typeof document;function e$(e){let t;if(e instanceof Date)return new Date(e);let r="u">typeof FileList&&e instanceof FileList;if(eU&&(e instanceof Blob||r))return e;let n=Array.isArray(e);if(!n&&!(eV(e)&&eV(t=e.constructor&&e.constructor.prototype)&&t.hasOwnProperty("isPrototypeOf")))return e;let i=n?[]:Object.create(Object.getPrototypeOf(e));for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=e$(e[t]));return i}var eW=e=>void 0===e,eq=e=>Array.isArray(e)?e.filter(Boolean):[],eK=e=>eq(e.replace(/["|']|\]/g,"").split(/\.|\[/)),eG=(e,t,r)=>{if(!t||!eV(e))return r;let n=(/^\w*$/.test(t)?[t]:eK(t)).reduce((e,t)=>ez(e)?e:e[t],e);return eW(n)||n===e?eW(e[t])?r:e[t]:n},eH=e=>"function"==typeof e,eQ=(e,t,r)=>{let n=-1,i=/^\w*$/.test(t)?[t]:eK(t),o=i.length,s=o-1;for(;++n<o;){let t=i[n],o=r;if(n!==s){let r=e[t];o=eV(r)||Array.isArray(r)?r:isNaN(+i[n+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=o,e=e[t]}};let eX="onChange",eJ="onSubmit",eY="maxLength",eZ="minLength",e0="pattern",e1="required";eL.default.createContext(null).displayName="HookFormControlContext";let e2="u">typeof window?eL.default.useLayoutEffect:eL.default.useEffect;var e5=e=>"string"==typeof e,e3=e=>ez(e)||"object"!=typeof e;function e4(e,t,r=new WeakSet){if(e3(e)||e3(t))return Object.is(e,t);if(ej(e)&&ej(t))return Object.is(e.getTime(),t.getTime());let n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;if(r.has(e)||r.has(t))return!0;for(let o of(r.add(e),r.add(t),n)){let n=e[o];if(!i.includes(o))return!1;if("ref"!==o){let e=t[o];if(ej(n)&&ej(e)||eV(n)&&eV(e)||Array.isArray(n)&&Array.isArray(e)?!e4(n,e,r):!Object.is(n,e))return!1}}return!0}eL.default.createContext(null).displayName="HookFormContext";var e6=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},e8=e=>Array.isArray(e)?e:[e],e9=()=>{let e=[];return{get observers(){return e},next:t=>{for(let r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},e7=e=>eV(e)&&!Object.keys(e).length,te=e=>{if(!eU)return!1;let t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},tt=e=>te(e)&&e.isConnected;function tr(e,t){let r=Array.isArray(t)?t:/^\w*$/.test(t)?[t]:eK(t),n=1===r.length?e:function(e,t){let r=t.slice(0,-1).length,n=0;for(;n<r;)e=eW(e)?n++:e[t[n++]];return e}(e,r),i=r.length-1,o=r[i];return n&&delete n[o],0!==i&&(eV(n)&&e7(n)||Array.isArray(n)&&function(e){for(let t in e)if(e.hasOwnProperty(t)&&!eW(e[t]))return!1;return!0}(n))&&tr(e,r.slice(0,-1)),e}function tn(e){return Array.isArray(e)||eV(e)&&!(e=>{for(let t in e)if(eH(e[t]))return!0;return!1})(e)}function ti(e,t={}){for(let r in e){let n=e[r];tn(n)?(t[r]=Array.isArray(n)?[]:{},ti(n,t[r])):eW(n)||(t[r]=!0)}return t}function to(e,t,r){for(let n in r||(r=ti(t)),e){let i=e[n];if(tn(i))eW(t)||e3(r[n])?r[n]=ti(i,Array.isArray(i)?[]:{}):to(i,ez(t)?{}:t[n],r[n]);else{let e=t[n];r[n]=!e4(i,e)}}return r}let ts={value:!1,isValid:!1},ta={value:!0,isValid:!0};var tl=e=>{if(Array.isArray(e)){if(e.length>1){let t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!eW(e[0].attributes.value)?eW(e[0].value)||""===e[0].value?ta:{value:e[0].value,isValid:!0}:ta:ts}return ts},tu=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>eW(e)?e:t?""===e?NaN:e?+e:e:r&&e5(e)?new Date(e):n?n(e):e;let tc={isValid:!1,value:null};var th=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,tc):tc;function td(e){let t=e.ref;return"file"===t.type?t.files:"radio"===t.type?th(e.refs).value:"select-multiple"===t.type?[...t.selectedOptions].map(({value:e})=>e):"checkbox"===t.type?tl(e.refs).value:tu(eW(t.value)?e.ref.value:t.value,e)}var tf=e=>eW(e)?e:e instanceof RegExp?e.source:eV(e)?e.value instanceof RegExp?e.value.source:e.value:e,tp=e=>({isOnSubmit:!e||e===eJ,isOnBlur:"onBlur"===e,isOnChange:e===eX,isOnAll:"all"===e,isOnTouch:"onTouched"===e});let tg="AsyncFunction";var tm=e=>!!e&&!!e.validate&&!!(eH(e.validate)&&e.validate.constructor.name===tg||eV(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===tg)),ty=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));let tv=(e,t,r,n)=>{for(let i of r||Object.keys(e)){let r=eG(e,i);if(r){let{_f:e,...o}=r;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!n)return!0;else if(e.ref&&t(e.ref,e.name)&&!n)return!0;else if(tv(o,t))break}else if(eV(o)&&tv(o,t))break}}};function tb(e,t,r){let n=eG(e,r);if(n||/^\w*$/.test(r))return{error:n,name:r};let i=r.split(".");for(;i.length;){let n=i.join("."),o=eG(t,n),s=eG(e,n);if(o&&!Array.isArray(o)&&r!==n)break;if(s&&s.type)return{name:n,error:s};if(s&&s.root&&s.root.type)return{name:`${n}.root`,error:s.root};i.pop()}return{name:r}}var tw=(e,t,r)=>{let n=e8(eG(e,r));return eQ(n,"root",t[r]),eQ(e,r,n),e};function tx(e,t,r="validate"){if(e5(e)||Array.isArray(e)&&e.every(e5)||"boolean"==typeof e&&!e)return{type:r,message:e5(e)?e:"",ref:t}}var tS=e=>!eV(e)||e instanceof RegExp?{value:e,message:""}:e,tC=async(e,t,r,n,i,o)=>{let{ref:s,refs:a,required:l,maxLength:u,minLength:c,min:h,max:d,pattern:f,validate:p,name:g,valueAsNumber:m,mount:y}=e._f,v=eG(r,g);if(!y||t.has(g))return{};let b=a?a[0]:s,w=e=>{i&&b.reportValidity&&(b.setCustomValidity("boolean"==typeof e?"":e||""),b.reportValidity())},x={},S="radio"===s.type,C="checkbox"===s.type,k=(m||"file"===s.type)&&eW(s.value)&&eW(v)||te(s)&&""===s.value||""===v||Array.isArray(v)&&!v.length,_=e6.bind(null,g,n,x),A=(e,t,r,n=eY,i=eZ)=>{let o=e?t:r;x[g]={type:e?n:i,message:o,ref:s,..._(e?n:i,o)}};if(o?!Array.isArray(v)||!v.length:l&&(!(S||C)&&(k||ez(v))||"boolean"==typeof v&&!v||C&&!tl(a).isValid||S&&!th(a).isValid)){let{value:e,message:t}=e5(l)?{value:!!l,message:l}:tS(l);if(e&&(x[g]={type:e1,message:t,ref:b,..._(e1,t)},!n))return w(t),x}if(!k&&(!ez(h)||!ez(d))){let e,t,r=tS(d),i=tS(h);if(ez(v)||isNaN(v)){let n=s.valueAsDate||new Date(v),o=e=>new Date(new Date().toDateString()+" "+e),a="time"==s.type,l="week"==s.type;e5(r.value)&&v&&(e=a?o(v)>o(r.value):l?v>r.value:n>new Date(r.value)),e5(i.value)&&v&&(t=a?o(v)<o(i.value):l?v<i.value:n<new Date(i.value))}else{let n=s.valueAsNumber||(v?+v:v);ez(r.value)||(e=n>r.value),ez(i.value)||(t=n<i.value)}if((e||t)&&(A(!!e,r.message,i.message,"max","min"),!n))return w(x[g].message),x}if((u||c)&&!k&&(e5(v)||o&&Array.isArray(v))){let e=tS(u),t=tS(c),r=!ez(e.value)&&v.length>+e.value,i=!ez(t.value)&&v.length<+t.value;if((r||i)&&(A(r,e.message,t.message),!n))return w(x[g].message),x}if(f&&!k&&e5(v)){let{value:e,message:t}=tS(f);if(e instanceof RegExp&&!v.match(e)&&(x[g]={type:e0,message:t,ref:s,..._(e0,t)},!n))return w(t),x}if(p){if(eH(p)){let e=tx(await p(v,r),b);if(e&&(x[g]={...e,..._("validate",e.message)},!n))return w(e.message),x}else if(eV(p)){let e={};for(let t in p){if(!e7(e)&&!n)break;let i=tx(await p[t](v,r),b,t);i&&(e={...i,..._(t,i.message)},w(i.message),n&&(x[g]=e))}if(!e7(e)&&(x[g]={ref:b,...e},!n))return x}}return w(!0),x};let tk={mode:eJ,reValidateMode:eX,shouldFocusError:!0};var t_=e.i(47167),tA=e.i(7670);function tT(e,t,r){let n={};for(let i in e){let o=e[i],s="",a=!0;for(let e=0;e<o.length;e+=1){let n=o[e];n&&(s+=(!0===a?"":" ")+t(n),a=!1,r&&r[n]&&(s+=" "+r[n]))}n[i]=s}return n}let tE=0,tI={...eL}.useId;function tD(e){if(void 0!==tI){let t=tI();return e??t}return function(e){let[t,r]=eL.useState(e),n=e||t;return eL.useEffect(()=>{null==t&&(tE+=1,r(`mui-${tE}`))},[t]),n}(e)}function tF(){return(tF=Object.assign.bind()).apply(null,arguments)}var tN=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(((t=document.createElement("style")).setAttribute("data-emotion",this.key),void 0!==this.nonce&&t.setAttribute("nonce",this.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t));var t,r=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(r);try{n.insertRule(e,n.cssRules.length)}catch(e){}}else r.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),tP=Math.abs,tR=String.fromCharCode,tO=Object.assign;function tM(e,t,r){return e.replace(t,r)}function tB(e,t){return e.indexOf(t)}function tL(e,t){return 0|e.charCodeAt(t)}function tj(e,t,r){return e.slice(t,r)}function tz(e){return e.length}function tV(e,t){return t.push(e),e}var tU=1,t$=1,tW=0,tq=0,tK=0,tG="";function tH(e,t,r,n,i,o,s){return{value:e,root:t,parent:r,type:n,props:i,children:o,line:tU,column:t$,length:s,return:""}}function tQ(e,t){return tO(tH("",null,null,"",null,null,0),e,{length:-e.length},t)}function tX(){return tK=tq<tW?tL(tG,tq++):0,t$++,10===tK&&(t$=1,tU++),tK}function tJ(){return tL(tG,tq)}function tY(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function tZ(e){return tU=t$=1,tW=tz(tG=e),tq=0,[]}function t0(e){var t,r;return(t=tq-1,r=function e(t){for(;tX();)switch(tK){case t:return tq;case 34:case 39:34!==t&&39!==t&&e(tK);break;case 40:41===t&&e(t);break;case 92:tX()}return tq}(91===e?e+2:40===e?e+1:e),tj(tG,t,r)).trim()}var t1="-ms-",t2="-moz-",t5="-webkit-",t3="comm",t4="rule",t6="decl",t8="@keyframes";function t9(e,t){for(var r="",n=e.length,i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function t7(e,t,r,n){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case t6:return e.return=e.return||e.value;case t3:return"";case t8:return e.return=e.value+"{"+t9(e.children,n)+"}";case t4:e.value=e.props.join(",")}return tz(r=t9(e.children,n))?e.return=e.value+"{"+r+"}":""}function re(e,t,r,n,i,o,s,a,l,u,c){for(var h=i-1,d=0===i?o:[""],f=d.length,p=0,g=0,m=0;p<n;++p)for(var y=0,v=tj(e,h+1,h=tP(g=s[p])),b=e;y<f;++y)(b=(g>0?d[y]+" "+v:tM(v,/&\f/g,d[y])).trim())&&(l[m++]=b);return tH(e,t,r,0===i?t4:a,l,u,c)}function rt(e,t,r,n){return tH(e,t,r,t6,tj(e,0,n),tj(e,n+1,-1),n)}function rr(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}var rn=function(e,t,r){for(var n=0,i=0;n=i,i=tJ(),38===n&&12===i&&(t[r]=1),!tY(i);)tX();return tj(tG,e,tq)},ri=function(e,t){var r=-1,n=44;do switch(tY(n)){case 0:38===n&&12===tJ()&&(t[r]=1),e[r]+=rn(tq-1,t,r);break;case 2:e[r]+=t0(n);break;case 4:if(44===n){e[++r]=58===tJ()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=tR(n)}while(n=tX())return e},ro=function(e,t){var r;return r=ri(tZ(e),t),tG="",r},rs=new WeakMap,ra=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||rs.get(r))&&!n){rs.set(e,!0);for(var i=[],o=ro(t,i),s=r.props,a=0,l=0;a<o.length;a++)for(var u=0;u<s.length;u++,l++)e.props[l]=i[a]?o[a].replace(/&\f/g,s[u]):s[u]+" "+o[a]}}},rl=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},ru=[function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case t6:e.return=function e(t,r){switch(45^tL(t,0)?(((r<<2^tL(t,0))<<2^tL(t,1))<<2^tL(t,2))<<2^tL(t,3):0){case 5103:return t5+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return t5+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return t5+t+t2+t+t1+t+t;case 6828:case 4268:return t5+t+t1+t+t;case 6165:return t5+t+t1+"flex-"+t+t;case 5187:return t5+t+tM(t,/(\w+).+(:[^]+)/,t5+"box-$1$2"+t1+"flex-$1$2")+t;case 5443:return t5+t+t1+"flex-item-"+tM(t,/flex-|-self/,"")+t;case 4675:return t5+t+t1+"flex-line-pack"+tM(t,/align-content|flex-|-self/,"")+t;case 5548:return t5+t+t1+tM(t,"shrink","negative")+t;case 5292:return t5+t+t1+tM(t,"basis","preferred-size")+t;case 6060:return t5+"box-"+tM(t,"-grow","")+t5+t+t1+tM(t,"grow","positive")+t;case 4554:return t5+tM(t,/([^-])(transform)/g,"$1"+t5+"$2")+t;case 6187:return tM(tM(tM(t,/(zoom-|grab)/,t5+"$1"),/(image-set)/,t5+"$1"),t,"")+t;case 5495:case 3959:return tM(t,/(image-set\([^]*)/,t5+"$1$`$1");case 4968:return tM(tM(t,/(.+:)(flex-)?(.*)/,t5+"box-pack:$3"+t1+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+t5+t+t;case 4095:case 3583:case 4068:case 2532:return tM(t,/(.+)-inline(.+)/,t5+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(tz(t)-1-r>6)switch(tL(t,r+1)){case 109:if(45!==tL(t,r+4))break;case 102:return tM(t,/(.+:)(.+)-([^]+)/,"$1"+t5+"$2-$3$1"+t2+(108==tL(t,r+3)?"$3":"$2-$3"))+t;case 115:return~tB(t,"stretch")?e(tM(t,"stretch","fill-available"),r)+t:t}break;case 4949:if(115!==tL(t,r+1))break;case 6444:switch(tL(t,tz(t)-3-(~tB(t,"!important")&&10))){case 107:return tM(t,":",":"+t5)+t;case 101:return tM(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+t5+(45===tL(t,14)?"inline-":"")+"box$3$1"+t5+"$2$3$1"+t1+"$2box$3")+t}break;case 5936:switch(tL(t,r+11)){case 114:return t5+t+t1+tM(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return t5+t+t1+tM(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return t5+t+t1+tM(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return t5+t+t1+t+t}return t}(e.value,e.length);break;case t8:return t9([tQ(e,{value:tM(e.value,"@","@"+t5)})],n);case t4:if(e.length){var i,o;return i=e.props,o=function(t){var r;switch(r=t,(r=/(::plac\w+|:read-\w+)/.exec(r))?r[0]:r){case":read-only":case":read-write":return t9([tQ(e,{props:[tM(t,/:(read-\w+)/,":"+t2+"$1")]})],n);case"::placeholder":return t9([tQ(e,{props:[tM(t,/:(plac\w+)/,":"+t5+"input-$1")]}),tQ(e,{props:[tM(t,/:(plac\w+)/,":"+t2+"$1")]}),tQ(e,{props:[tM(t,/:(plac\w+)/,t1+"input-$1")]})],n)}return""},i.map(o).join("")}}}];function rc(e,t,r){var n="";return r.split(" ").forEach(function(r){void 0!==e[r]?t.push(e[r]+";"):r&&(n+=r+" ")}),n}e.i(98437);var rh=function(e,t,r){var n=e.key+"-"+t.name;!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles)},rd=function(e,t,r){rh(e,t,r);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do e.insert(t===i?"."+n:"",i,e.sheet,!0),i=i.next;while(void 0!==i)}},rf={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},rp=/[A-Z]|^ms/g,rg=/_EMO_([^_]+?)_([^]*?)_EMO_/g,rm=function(e){return 45===e.charCodeAt(1)},ry=function(e){return null!=e&&"boolean"!=typeof e},rv=rr(function(e){return rm(e)?e:e.replace(rp,"-$&").toLowerCase()}),rb=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(rg,function(e,t,r){return W={name:t,styles:r,next:W},t})}return 1===rf[e]||rm(e)||"number"!=typeof t||0===t?t:t+"px"};function rw(e,t,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return W={name:r.name,styles:r.styles,next:W},r.name;if(void 0!==r.styles){var n=r.next;if(void 0!==n)for(;void 0!==n;)W={name:n.name,styles:n.styles,next:W},n=n.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=rw(e,t,r[i])+";";else for(var o in r){var s=r[o];if("object"!=typeof s)null!=t&&void 0!==t[s]?n+=o+"{"+t[s]+"}":ry(s)&&(n+=rv(o)+":"+rb(o,s)+";");else if(Array.isArray(s)&&"string"==typeof s[0]&&(null==t||void 0===t[s[0]]))for(var a=0;a<s.length;a++)ry(s[a])&&(n+=rv(o)+":"+rb(o,s[a])+";");else{var l=rw(e,t,s);switch(o){case"animation":case"animationName":n+=rv(o)+":"+l+";";break;default:n+=o+"{"+l+"}"}}}return n}(e,t,r);case"function":if(void 0!==e){var i=W,o=r(e);return W=i,rw(e,t,o)}}if(null==t)return r;var s=t[r];return void 0!==s?s:r}var rx=/label:\s*([^\s;{]+)\s*(;|$)/g;function rS(e,t,r){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n,i=!0,o="";W=void 0;var s=e[0];null==s||void 0===s.raw?(i=!1,o+=rw(r,t,s)):o+=s[0];for(var a=1;a<e.length;a++)o+=rw(r,t,e[a]),i&&(o+=s[a]);rx.lastIndex=0;for(var l="";null!==(n=rx.exec(o));)l+="-"+n[1];return{name:function(e){for(var t,r=0,n=0,i=e.length;i>=4;++n,i-=4)t=(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))*0x5bd1e995+((t>>>16)*59797<<16),t^=t>>>24,r=(65535&t)*0x5bd1e995+((t>>>16)*59797<<16)^(65535&r)*0x5bd1e995+((r>>>16)*59797<<16);switch(i){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r^=255&e.charCodeAt(n),r=(65535&r)*0x5bd1e995+((r>>>16)*59797<<16)}return r^=r>>>13,(((r=(65535&r)*0x5bd1e995+((r>>>16)*59797<<16))^r>>>15)>>>0).toString(36)}(o)+l,styles:o,next:W}}var rC=!!eL.useInsertionEffect&&eL.useInsertionEffect,rk=rC||function(e){return e()},r_=rC||eL.useLayoutEffect,rA=eL.createContext("u">typeof HTMLElement?function(e){var t,r,n,i,o,s=e.key;if("css"===s){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var l=e.stylisPlugins||ru,u={},c=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+s+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)u[t[r]]=!0;c.push(e)});var h=(r=(t=[ra,rl].concat(l,[t7,(n=function(e){o.insert(e)},function(e){!e.root&&(e=e.return)&&n(e)})])).length,function(e,n,i,o){for(var s="",a=0;a<r;a++)s+=t[a](e,n,i,o)||"";return s}),d=function(e){var t,r;return t9((r=function e(t,r,n,i,o,s,a,l,u){for(var c,h=0,d=0,f=a,p=0,g=0,m=0,y=1,v=1,b=1,w=0,x="",S=o,C=s,k=i,_=x;v;)switch(m=w,w=tX()){case 40:if(108!=m&&58==tL(_,f-1)){-1!=tB(_+=tM(t0(w),"&","&\f"),"&\f")&&(b=-1);break}case 34:case 39:case 91:_+=t0(w);break;case 9:case 10:case 13:case 32:_+=function(e){for(;tK=tJ();)if(tK<33)tX();else break;return tY(e)>2||tY(tK)>3?"":" "}(m);break;case 92:_+=function(e,t){for(var r;--t&&tX()&&!(tK<48)&&!(tK>102)&&(!(tK>57)||!(tK<65))&&(!(tK>70)||!(tK<97)););return r=tq+(t<6&&32==tJ()&&32==tX()),tj(tG,e,r)}(tq-1,7);continue;case 47:switch(tJ()){case 42:case 47:tV((c=function(e,t){for(;tX();)if(e+tK===57)break;else if(e+tK===84&&47===tJ())break;return"/*"+tj(tG,t,tq-1)+"*"+tR(47===e?e:tX())}(tX(),tq),tH(c,r,n,t3,tR(tK),tj(c,2,-2),0)),u);break;default:_+="/"}break;case 123*y:l[h++]=tz(_)*b;case 125*y:case 59:case 0:switch(w){case 0:case 125:v=0;case 59+d:-1==b&&(_=tM(_,/\f/g,"")),g>0&&tz(_)-f&&tV(g>32?rt(_+";",i,n,f-1):rt(tM(_," ","")+";",i,n,f-2),u);break;case 59:_+=";";default:if(tV(k=re(_,r,n,h,d,o,l,x,S=[],C=[],f),s),123===w)if(0===d)e(_,r,k,k,S,s,f,l,C);else switch(99===p&&110===tL(_,3)?100:p){case 100:case 108:case 109:case 115:e(t,k,k,i&&tV(re(t,k,k,0,0,o,l,x,o,S=[],f),C),o,C,f,l,i?S:C);break;default:e(_,k,k,k,[""],C,0,l,C)}}h=d=g=0,y=b=1,x=_="",f=a;break;case 58:f=1+tz(_),g=m;default:if(y<1){if(123==w)--y;else if(125==w&&0==y++&&125==(tK=tq>0?tL(tG,--tq):0,t$--,10===tK&&(t$=1,tU--),tK))continue}switch(_+=tR(w),w*y){case 38:b=d>0?1:(_+="\f",-1);break;case 44:l[h++]=(tz(_)-1)*b,b=1;break;case 64:45===tJ()&&(_+=t0(tX())),p=tJ(),d=f=tz(x=_+=function(e){for(;!tY(tJ());)tX();return tj(tG,e,tq)}(tq)),w++;break;case 45:45===m&&2==tz(_)&&(y=0)}}return s}("",null,null,null,[""],t=tZ(t=e),0,[0],t),tG="",r),h)},f={key:s,sheet:new tN({key:s,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:u,registered:{},insert:function(e,t,r,n){o=r,d(e?e+"{"+t.styles+"}":t.styles),n&&(f.inserted[t.name]=!0)}};return f.sheet.hydrate(c),f}({key:"css"}):null);rA.Provider;var rT=function(e){return(0,eL.forwardRef)(function(t,r){return e(t,(0,eL.useContext)(rA),r)})},rE=eL.createContext({}),rI={}.hasOwnProperty,rD="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",rF=function(e,t){var r={};for(var n in t)rI.call(t,n)&&(r[n]=t[n]);return r[rD]=e,r},rN=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return rh(t,r,n),rk(function(){return rd(t,r,n)}),null},rP=rT(function(e,t,r){var n=e.css;"string"==typeof n&&void 0!==t.registered[n]&&(n=t.registered[n]);var i=e[rD],o=[n],s="";"string"==typeof e.className?s=rc(t.registered,o,e.className):null!=e.className&&(s=e.className+" ");var a=rS(o,void 0,eL.useContext(rE));s+=t.key+"-"+a.name;var l={};for(var u in e)rI.call(e,u)&&"css"!==u&&u!==rD&&(l[u]=e[u]);return l.className=s,r&&(l.ref=r),eL.createElement(eL.Fragment,null,eL.createElement(rN,{cache:t,serialized:a,isStringTag:"string"==typeof i}),eL.createElement(i,l))}),rR=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,rO=rr(function(e){return rR.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&91>e.charCodeAt(2)}),rM=function(e){return"theme"!==e},rB=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?rO:rM},rL=function(e,t,r){var n;if(t){var i=t.shouldForwardProp;n=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!=typeof n&&r&&(n=e.__emotion_forwardProp),n},rj=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return rh(t,r,n),rk(function(){return rd(t,r,n)}),null},rz=(function e(t,r){var n,i,o=t.__emotion_real===t,s=o&&t.__emotion_base||t;void 0!==r&&(n=r.label,i=r.target);var a=rL(t,r,o),l=a||rB(s),u=!l("as");return function(){var c=arguments,h=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==n&&h.push("label:"+n+";"),null==c[0]||void 0===c[0].raw)h.push.apply(h,c);else{var d=c[0];h.push(d[0]);for(var f=c.length,p=1;p<f;p++)h.push(c[p],d[p])}var g=rT(function(e,t,r){var n=u&&e.as||s,o="",c=[],d=e;if(null==e.theme){for(var f in d={},e)d[f]=e[f];d.theme=eL.useContext(rE)}"string"==typeof e.className?o=rc(t.registered,c,e.className):null!=e.className&&(o=e.className+" ");var p=rS(h.concat(c),t.registered,d);o+=t.key+"-"+p.name,void 0!==i&&(o+=" "+i);var g=u&&void 0===a?rB(n):l,m={};for(var y in e)(!u||"as"!==y)&&g(y)&&(m[y]=e[y]);return m.className=o,r&&(m.ref=r),eL.createElement(eL.Fragment,null,eL.createElement(rj,{cache:t,serialized:p,isStringTag:"string"==typeof n}),eL.createElement(n,m))});return g.displayName=void 0!==n?n:"Styled("+("string"==typeof s?s:s.displayName||s.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=s,g.__emotion_styles=h,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+i}}),g.withComponent=function(t,n){return e(t,tF({},r,n,{shouldForwardProp:rL(g,n,!0)})).apply(void 0,h)},g}}).bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){rz[e]=rz(e)});let rV=[];function rU(e){return rV[0]=e,rS(rV)}var r$=e.i(79684);function rW(e){if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function rq(e,t,r={clone:!0}){let n=r.clone?{...e}:e;return rW(e)&&rW(t)&&Object.keys(t).forEach(i=>{eL.isValidElement(t[i])||(0,r$.isValidElementType)(t[i])?n[i]=t[i]:rW(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&rW(e[i])?n[i]=rq(e[i],t[i],r):r.clone?n[i]=rW(t[i])?function e(t){if(eL.isValidElement(t)||(0,r$.isValidElementType)(t)||!rW(t))return t;let r={};return Object.keys(t).forEach(n=>{r[n]=e(t[n])}),r}(t[i]):t[i]:n[i]=t[i]}),n}function rK(e,...t){let r=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(e=>r.searchParams.append("args[]",e)),`Minified MUI error #${e}; visit ${r} for the full message.`}function rG(e){if("string"!=typeof e)throw Error(rK(7));return e.charAt(0).toUpperCase()+e.slice(1)}function rH(e,t){if(!e.containerQueries)return t;let r=Object.keys(t).filter(e=>e.startsWith("@container")).sort((e,t)=>{let r=/min-width:\s*([0-9.]+)/;return(e.match(r)?.[1]||0)-(t.match(r)?.[1]||0)});return r.length?r.reduce((e,r)=>{let n=t[r];return delete e[r],e[r]=n,e},{...t}):t}let rQ={borderRadius:4},rX=function(e,t){return t?rq(e,t,{clone:!1}):e},rJ={xs:0,sm:600,md:900,lg:1200,xl:1536},rY={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${rJ[e]}px)`},rZ={containerQueries:e=>({up:t=>{let r="number"==typeof t?t:rJ[t]||t;return"number"==typeof r&&(r=`${r}px`),e?`@container ${e} (min-width:${r})`:`@container (min-width:${r})`}})};function r0(e,t,r){let n=e.theme||{};if(Array.isArray(t)){let e=n.breakpoints||rY;return t.reduce((n,i,o)=>(n[e.up(e.keys[o])]=r(t[o]),n),{})}if("object"==typeof t){let e=n.breakpoints||rY;return Object.keys(t).reduce((i,o)=>{var s;if(s=e.keys,"@"===o||o.startsWith("@")&&(s.some(e=>o.startsWith(`@${e}`))||o.match(/^@\d/))){let e=function(e,t){let r=t.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;let[,n,i]=r,o=Number.isNaN(+n)?n||0:+n;return e.containerQueries(i).up(o)}(n.containerQueries?n:rZ,o);e&&(i[e]=r(t[o],o))}else Object.keys(e.values||rJ).includes(o)?i[e.up(o)]=r(t[o],o):i[o]=t[o];return i},{})}return r(t)}function r1(e={}){return e.keys?.reduce((t,r)=>(t[e.up(r)]={},t),{})||{}}function r2(e,t){return e.reduce((e,t)=>{let r=e[t];return r&&0!==Object.keys(r).length||delete e[t],e},t)}function r5({values:e,breakpoints:t,base:r}){let n,i=Object.keys(r||function(e,t){if("object"!=typeof e)return{};let r={},n=Object.keys(t);return Array.isArray(e)?n.forEach((t,n)=>{n<e.length&&(r[t]=!0)}):n.forEach(t=>{null!=e[t]&&(r[t]=!0)}),r}(e,t));return 0===i.length?e:i.reduce((t,r,i)=>(Array.isArray(e)?(t[r]=null!=e[i]?e[i]:e[n],n=i):"object"==typeof e?(t[r]=null!=e[r]?e[r]:e[n],n=r):t[r]=e,t),{})}function r3(e,t,r=!0){if(!t||"string"!=typeof t)return null;if(e&&e.vars&&r){let r=`vars.${t}`.split(".").reduce((e,t)=>e&&e[t]?e[t]:null,e);if(null!=r)return r}return t.split(".").reduce((e,t)=>e&&null!=e[t]?e[t]:null,e)}function r4(e,t,r,n=r){let i;return i="function"==typeof e?e(r):Array.isArray(e)?e[r]||n:r3(e,r)||n,t&&(i=t(i,n,e)),i}let r6=function(e){let{prop:t,cssProperty:r=e.prop,themeKey:n,transform:i}=e,o=e=>{if(null==e[t])return null;let o=e[t],s=r3(e.theme,n)||{};return r0(e,o,e=>{let n=r4(s,i,e);return(e===n&&"string"==typeof e&&(n=r4(s,i,`${t}${"default"===e?"":rG(e)}`,e)),!1===r)?n:{[r]:n}})};return o.propTypes={},o.filterProps=[t],o},r8={m:"margin",p:"padding"},r9={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},r7={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},ne=(l=e=>{if(e.length>2)if(!r7[e])return[e];else e=r7[e];let[t,r]=e.split(""),n=r8[t],i=r9[r]||"";return Array.isArray(i)?i.map(e=>n+e):[n+i]},n={},e=>(void 0===n[e]&&(n[e]=l(e)),n[e])),nt=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],nr=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],nn=[...nt,...nr];function ni(e,t,r,n){let i=r3(e,t,!0)??r;return"number"==typeof i||"string"==typeof i?e=>"string"==typeof e?e:"string"==typeof i?i.startsWith("var(")&&0===e?0:i.startsWith("var(")&&1===e?i:`calc(${e} * ${i})`:i*e:Array.isArray(i)?e=>{if("string"==typeof e)return e;let t=i[Math.abs(e)];return e>=0?t:"number"==typeof t?-t:"string"==typeof t&&t.startsWith("var(")?`calc(-1 * ${t})`:`-${t}`}:"function"==typeof i?i:()=>void 0}function no(e){return ni(e,"spacing",8,"spacing")}function ns(e,t){return"string"==typeof t||null==t?t:e(t)}function na(e,t){let r=no(e.theme);return Object.keys(e).map(n=>(function(e,t,r,n){var i;if(!t.includes(r))return null;let o=(i=ne(r),e=>i.reduce((t,r)=>(t[r]=ns(n,e),t),{})),s=e[r];return r0(e,s,o)})(e,t,n,r)).reduce(rX,{})}function nl(e){return na(e,nt)}function nu(e){return na(e,nr)}function nc(e){return na(e,nn)}function nh(e=8,t=no({spacing:e})){if(e.mui)return e;let r=(...e)=>(0===e.length?[1]:e).map(e=>{let r=t(e);return"number"==typeof r?`${r}px`:r}).join(" ");return r.mui=!0,r}nl.propTypes={},nl.filterProps=nt,nu.propTypes={},nu.filterProps=nr,nc.propTypes={},nc.filterProps=nn;let nd=function(...e){let t=e.reduce((e,t)=>(t.filterProps.forEach(r=>{e[r]=t}),e),{}),r=e=>Object.keys(e).reduce((r,n)=>t[n]?rX(r,t[n](e)):r,{});return r.propTypes={},r.filterProps=e.reduce((e,t)=>e.concat(t.filterProps),[]),r};function nf(e){return"number"!=typeof e?e:`${e}px solid`}function np(e,t){return r6({prop:e,themeKey:"borders",transform:t})}let ng=np("border",nf),nm=np("borderTop",nf),ny=np("borderRight",nf),nv=np("borderBottom",nf),nb=np("borderLeft",nf),nw=np("borderColor"),nx=np("borderTopColor"),nS=np("borderRightColor"),nC=np("borderBottomColor"),nk=np("borderLeftColor"),n_=np("outline",nf),nA=np("outlineColor"),nT=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){let t=ni(e.theme,"shape.borderRadius",4,"borderRadius");return r0(e,e.borderRadius,e=>({borderRadius:ns(t,e)}))}return null};nT.propTypes={},nT.filterProps=["borderRadius"],nd(ng,nm,ny,nv,nb,nw,nx,nS,nC,nk,nT,n_,nA);let nE=e=>{if(void 0!==e.gap&&null!==e.gap){let t=ni(e.theme,"spacing",8,"gap");return r0(e,e.gap,e=>({gap:ns(t,e)}))}return null};nE.propTypes={},nE.filterProps=["gap"];let nI=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){let t=ni(e.theme,"spacing",8,"columnGap");return r0(e,e.columnGap,e=>({columnGap:ns(t,e)}))}return null};nI.propTypes={},nI.filterProps=["columnGap"];let nD=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){let t=ni(e.theme,"spacing",8,"rowGap");return r0(e,e.rowGap,e=>({rowGap:ns(t,e)}))}return null};function nF(e,t){return"grey"===t?t:e}function nN(e){return e<=1&&0!==e?`${100*e}%`:e}nD.propTypes={},nD.filterProps=["rowGap"],nd(nE,nI,nD,r6({prop:"gridColumn"}),r6({prop:"gridRow"}),r6({prop:"gridAutoFlow"}),r6({prop:"gridAutoColumns"}),r6({prop:"gridAutoRows"}),r6({prop:"gridTemplateColumns"}),r6({prop:"gridTemplateRows"}),r6({prop:"gridTemplateAreas"}),r6({prop:"gridArea"})),nd(r6({prop:"color",themeKey:"palette",transform:nF}),r6({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:nF}),r6({prop:"backgroundColor",themeKey:"palette",transform:nF}));let nP=r6({prop:"width",transform:nN}),nR=e=>void 0!==e.maxWidth&&null!==e.maxWidth?r0(e,e.maxWidth,t=>{let r=e.theme?.breakpoints?.values?.[t]||rJ[t];return r?e.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:nN(t)}}):null;nR.filterProps=["maxWidth"];let nO=r6({prop:"minWidth",transform:nN}),nM=r6({prop:"height",transform:nN}),nB=r6({prop:"maxHeight",transform:nN}),nL=r6({prop:"minHeight",transform:nN});r6({prop:"size",cssProperty:"width",transform:nN}),r6({prop:"size",cssProperty:"height",transform:nN}),nd(nP,nR,nO,nM,nB,nL,r6({prop:"boxSizing"}));let nj={border:{themeKey:"borders",transform:nf},borderTop:{themeKey:"borders",transform:nf},borderRight:{themeKey:"borders",transform:nf},borderBottom:{themeKey:"borders",transform:nf},borderLeft:{themeKey:"borders",transform:nf},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:nf},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:nT},color:{themeKey:"palette",transform:nF},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:nF},backgroundColor:{themeKey:"palette",transform:nF},p:{style:nu},pt:{style:nu},pr:{style:nu},pb:{style:nu},pl:{style:nu},px:{style:nu},py:{style:nu},padding:{style:nu},paddingTop:{style:nu},paddingRight:{style:nu},paddingBottom:{style:nu},paddingLeft:{style:nu},paddingX:{style:nu},paddingY:{style:nu},paddingInline:{style:nu},paddingInlineStart:{style:nu},paddingInlineEnd:{style:nu},paddingBlock:{style:nu},paddingBlockStart:{style:nu},paddingBlockEnd:{style:nu},m:{style:nl},mt:{style:nl},mr:{style:nl},mb:{style:nl},ml:{style:nl},mx:{style:nl},my:{style:nl},margin:{style:nl},marginTop:{style:nl},marginRight:{style:nl},marginBottom:{style:nl},marginLeft:{style:nl},marginX:{style:nl},marginY:{style:nl},marginInline:{style:nl},marginInlineStart:{style:nl},marginInlineEnd:{style:nl},marginBlock:{style:nl},marginBlockStart:{style:nl},marginBlockEnd:{style:nl},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:nE},rowGap:{style:nD},columnGap:{style:nI},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:nN},maxWidth:{style:nR},minWidth:{transform:nN},height:{transform:nN},maxHeight:{transform:nN},minHeight:{transform:nN},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},nz=function(){function e(e,t,r,n){let i={[e]:t,theme:r},o=n[e];if(!o)return{[e]:t};let{cssProperty:s=e,themeKey:a,transform:l,style:u}=o;if(null==t)return null;if("typography"===a&&"inherit"===t)return{[e]:t};let c=r3(r,a)||{};return u?u(i):r0(i,t,t=>{let r=r4(c,l,t);return(t===r&&"string"==typeof t&&(r=r4(c,l,`${e}${"default"===t?"":rG(t)}`,t)),!1===s)?r:{[s]:r}})}return function t(r){let{sx:n,theme:i={},nested:o}=r||{};if(!n)return null;let s=i.unstable_sxConfig??nj;function a(r){let n=r;if("function"==typeof r)n=r(i);else if("object"!=typeof r)return r;if(!n)return null;let a=r1(i.breakpoints),l=Object.keys(a),u=a;return(Object.keys(n).forEach(r=>{var o;let a=(o=n[r],"function"==typeof o?o(i):o);if(null!=a)if("object"==typeof a)if(s[r])u=rX(u,e(r,a,i,s));else{let e=r0({theme:i},a,e=>({[r]:e}));!function(...e){let t=new Set(e.reduce((e,t)=>e.concat(Object.keys(t)),[]));return e.every(e=>t.size===Object.keys(e).length)}(e,a)?u=rX(u,e):u[r]=t({sx:a,theme:i,nested:!0})}else u=rX(u,e(r,a,i,s))}),!o&&i.modularCssLayers)?{"@layer sx":rH(i,r2(l,u))}:rH(i,r2(l,u))}return Array.isArray(n)?n.map(a):a(n)}}();function nV(e,t){if(this.vars){if(!this.colorSchemes?.[e]||"function"!=typeof this.getColorSchemeSelector)return{};let r=this.getColorSchemeSelector(e);return"&"===r?t:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:t})}return this.palette.mode===e?t:{}}nz.filterProps=["sx"];let nU=function(e={},...t){let{breakpoints:r={},palette:n={},spacing:i,shape:o={},...s}=e,a=function(e){let t,{values:r={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:i=5,...o}=e,s=((t=Object.keys(r).map(e=>({key:e,val:r[e]}))||[]).sort((e,t)=>e.val-t.val),t.reduce((e,t)=>({...e,[t.key]:t.val}),{})),a=Object.keys(s);function l(e){let t="number"==typeof r[e]?r[e]:e;return`@media (min-width:${t}${n})`}function u(e){let t="number"==typeof r[e]?r[e]:e;return`@media (max-width:${t-i/100}${n})`}function c(e,t){let o=a.indexOf(t);return`@media (min-width:${"number"==typeof r[e]?r[e]:e}${n}) and (max-width:${(-1!==o&&"number"==typeof r[a[o]]?r[a[o]]:t)-i/100}${n})`}return{keys:a,values:s,up:l,down:u,between:c,only:function(e){return a.indexOf(e)+1<a.length?c(e,a[a.indexOf(e)+1]):l(e)},not:function(e){let t=a.indexOf(e);return 0===t?l(a[1]):t===a.length-1?u(a[t]):c(e,a[a.indexOf(e)+1]).replace("@media","@media not all and")},unit:n,...o}}(r),l=nh(i),u=rq({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:l,shape:{...rQ,...o}},s);return(u=function(e){let t=(e,t)=>e.replace("@media",t?`@container ${t}`:"@container");function r(r,n){r.up=(...r)=>t(e.breakpoints.up(...r),n),r.down=(...r)=>t(e.breakpoints.down(...r),n),r.between=(...r)=>t(e.breakpoints.between(...r),n),r.only=(...r)=>t(e.breakpoints.only(...r),n),r.not=(...r)=>{let i=t(e.breakpoints.not(...r),n);return i.includes("not all and")?i.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):i}}let n={},i=e=>(r(n,e),n);return r(i),{...e,containerQueries:i}}(u)).applyStyles=nV,(u=t.reduce((e,t)=>rq(e,t),u)).unstable_sxConfig={...nj,...s?.unstable_sxConfig},u.unstable_sx=function(e){return nz({sx:e,theme:this})},u};function n$(e){let{variants:t,...r}=e,n={variants:t,style:rU(r),isProcessed:!0};return n.style===r||t&&t.forEach(e=>{"function"!=typeof e.style&&(e.style=rU(e.style))}),n}let nW=nU();function nq(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function nK(e,t){return t&&e&&"object"==typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}function nG(e,t,r){let n="function"==typeof t?t(e):t;if(Array.isArray(n))return n.flatMap(t=>nG(e,t,r));if(Array.isArray(n?.variants)){let t;if(n.isProcessed)t=r?nK(n.style,r):n.style;else{let{variants:e,...i}=n;t=r?nK(rU(i),r):i}return nH(e,n.variants,[t],r)}return n?.isProcessed?r?nK(rU(n.style),r):n.style:r?nK(rU(n),r):n}function nH(e,t,r=[],n){let i;r:for(let o=0;o<t.length;o+=1){let s=t[o];if("function"==typeof s.props){if(i??={...e,...e.ownerState,ownerState:e.ownerState},!s.props(i))continue}else for(let t in s.props)if(e[t]!==s.props[t]&&e.ownerState?.[t]!==s.props[t])continue r;"function"==typeof s.style?(i??={...e,...e.ownerState,ownerState:e.ownerState},r.push(n?nK(rU(s.style(i)),n):s.style(i))):r.push(n?nK(rU(s.style),n):s.style)}return r}function nQ(e={}){let{themeId:t,defaultTheme:r=nW,rootShouldForwardProp:n=nq,slotShouldForwardProp:i=nq}=e;function o(e){e.theme=!function(e){for(let t in e)return!1;return!0}(e.theme)?e.theme[t]||e.theme:r}return(e,t={})=>{var r,s,a;Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=(e=>e.filter(e=>e!==nz))(e.__emotion_styles));let{name:l,slot:u,skipVariantsResolver:c,skipSx:h,overridesResolver:d=!(r=(s=u)?s.charAt(0).toLowerCase()+s.slice(1):s)?null:(e,t)=>t[r],...f}=t,p=l&&l.startsWith("Mui")||u?"components":"custom",g=void 0!==c?c:u&&"Root"!==u&&"root"!==u||!1,m=h||!1,y=nq;"Root"===u||"root"===u?y=n:u?y=i:"string"==typeof(a=e)&&a.charCodeAt(0)>96&&(y=void 0);let v=rz(e,{shouldForwardProp:y,label:void 0,...f}),b=e=>{if(e.__emotion_real===e)return e;if("function"==typeof e)return function(t){return nG(t,e,t.theme.modularCssLayers?p:void 0)};if(rW(e)){let t=n$(e);return function(e){return t.variants?nG(e,t,e.theme.modularCssLayers?p:void 0):e.theme.modularCssLayers?nK(t.style,p):t.style}}return e},w=(...t)=>{let r=[],n=t.map(b),i=[];if(r.push(o),l&&d&&i.push(function(e){let t=e.theme,r=t.components?.[l]?.styleOverrides;if(!r)return null;let n={};for(let t in r)n[t]=nG(e,r[t],e.theme.modularCssLayers?"theme":void 0);return d(e,n)}),l&&!g&&i.push(function(e){let t=e.theme,r=t?.components?.[l]?.variants;return r?nH(e,r,[],e.theme.modularCssLayers?"theme":void 0):null}),m||i.push(nz),Array.isArray(n[0])){let e,t=n.shift(),o=Array(r.length).fill(""),s=Array(i.length).fill("");(e=[...o,...t,...s]).raw=[...o,...t.raw,...s],r.unshift(e)}let s=v(...r,...n,...i);return e.muiName&&(s.muiName=e.muiName),s};return v.withConfig&&(w.withConfig=v.withConfig),w}}function nX(e,t=0,r=1){return function(e,t=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,r))}(e,t,r)}function nJ(e){let t;if(e.type)return e;if("#"===e.charAt(0)){var r;let t,n;return nJ((r=(r=e).slice(1),t=RegExp(`.{1,${r.length>=6?2:1}}`,"g"),(n=r.match(t))&&1===n[0].length&&(n=n.map(e=>e+e)),n?`rgb${4===n.length?"a":""}(${n.map((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", ")})`:""))}let n=e.indexOf("("),i=e.substring(0,n);if(!["rgb","rgba","hsl","hsla","color"].includes(i))throw Error(rK(9,e));let o=e.substring(n+1,e.length-1);if("color"===i){if(t=(o=o.split(" ")).shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(t))throw Error(rK(10,t))}else o=o.split(",");return{type:i,values:o=o.map(e=>parseFloat(e)),colorSpace:t}}let nY=(e,t)=>{try{let t;return(t=nJ(e)).values.slice(0,3).map((e,r)=>t.type.includes("hsl")&&0!==r?`${e}%`:e).join(" ")}catch(t){return e}};function nZ(e){let{type:t,colorSpace:r}=e,{values:n}=e;return t.includes("rgb")?n=n.map((e,t)=>t<3?parseInt(e,10):e):t.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),n=t.includes("color")?`${r} ${n.join(" ")}`:`${n.join(", ")}`,`${t}(${n})`}function n0(e){let{values:t}=e=nJ(e),r=t[0],n=t[1]/100,i=t[2]/100,o=n*Math.min(i,1-i),s=(e,t=(e+r/30)%12)=>i-o*Math.max(Math.min(t-3,9-t,1),-1),a="rgb",l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",l.push(t[3])),nZ({type:a,values:l})}function n1(e){let t="hsl"===(e=nJ(e)).type||"hsla"===e.type?nJ(n0(e)).values:e.values;return Number((.2126*(t=t.map(t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)))[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function n2(e,t){return e=nJ(e),t=nX(t),("rgb"===e.type||"hsl"===e.type)&&(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,nZ(e)}function n5(e,t,r){try{return n2(e,t)}catch(t){return e}}function n3(e,t){if(e=nJ(e),t=nX(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]*=1-t;return nZ(e)}function n4(e,t,r){try{return n3(e,t)}catch(t){return e}}function n6(e,t){if(e=nJ(e),t=nX(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return nZ(e)}function n8(e,t,r){try{return n6(e,t)}catch(t){return e}}function n9(e,t,r){try{return function(e,t=.15){return n1(e)>.5?n3(e,t):n6(e,t)}(e,t)}catch(t){return e}}let n7={black:"#000",white:"#fff"},ie={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},it={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ir={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},ii={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},io={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},is={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ia={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function il(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:n7.white,default:n7.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}let iu=il();function ic(){return{text:{primary:n7.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:n7.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}let ih=ic();function id(e,t,r,n){let i=n.light||n,o=n.dark||1.5*n;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:"light"===t?e.light=n6(e.main,i):"dark"===t&&(e.dark=n3(e.main,o)))}function ip(e,t,r,n,i){let o=i.light||i,s=i.dark||1.5*i;t[r]||(t.hasOwnProperty(n)?t[r]=t[n]:"light"===r?t.light=`color-mix(in ${e}, ${t.main}, #fff ${(100*o).toFixed(0)}%)`:"dark"===r&&(t.dark=`color-mix(in ${e}, ${t.main}, #000 ${(100*s).toFixed(0)}%)`))}function ig(e){let t,{mode:r="light",contrastThreshold:n=3,tonalOffset:i=.2,colorSpace:o,...s}=e,a=e.primary||function(e="light"){return"dark"===e?{main:io[200],light:io[50],dark:io[400]}:{main:io[700],light:io[400],dark:io[800]}}(r),l=e.secondary||function(e="light"){return"dark"===e?{main:it[200],light:it[50],dark:it[400]}:{main:it[500],light:it[300],dark:it[700]}}(r),u=e.error||function(e="light"){return"dark"===e?{main:ir[500],light:ir[300],dark:ir[700]}:{main:ir[700],light:ir[400],dark:ir[800]}}(r),c=e.info||function(e="light"){return"dark"===e?{main:is[400],light:is[300],dark:is[700]}:{main:is[700],light:is[500],dark:is[900]}}(r),h=e.success||function(e="light"){return"dark"===e?{main:ia[400],light:ia[300],dark:ia[700]}:{main:ia[800],light:ia[500],dark:ia[900]}}(r),d=e.warning||function(e="light"){return"dark"===e?{main:ii[400],light:ii[300],dark:ii[700]}:{main:"#ed6c02",light:ii[500],dark:ii[900]}}(r);function f(e){var t;let r,i;return o?`oklch(from ${e} var(--__l) 0 h / var(--__a))`:(t=ih.text.primary,r=n1(e),(Math.max(r,i=n1(t))+.05)/(Math.min(r,i)+.05)>=n)?ih.text.primary:iu.text.primary}let p=({color:e,name:t,mainShade:r=500,lightShade:n=300,darkShade:s=700})=>{if(!(e={...e}).main&&e[r]&&(e.main=e[r]),!e.hasOwnProperty("main"))throw Error(rK(11,t?` (${t})`:"",r));if("string"!=typeof e.main)throw Error(rK(12,t?` (${t})`:"",JSON.stringify(e.main)));return o?(ip(o,e,"light",n,i),ip(o,e,"dark",s,i)):(id(e,"light",n,i),id(e,"dark",s,i)),e.contrastText||(e.contrastText=f(e.main)),e};return"light"===r?t=il():"dark"===r&&(t=ic()),rq({common:{...n7},mode:r,primary:p({color:a,name:"primary"}),secondary:p({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:u,name:"error"}),warning:p({color:d,name:"warning"}),info:p({color:c,name:"info"}),success:p({color:h,name:"success"}),grey:ie,contrastThreshold:n,getContrastText:f,augmentColor:p,tonalOffset:i,...t},s)}let im=(e,t,r,n=[])=>{let i=e;t.forEach((e,o)=>{o===t.length-1?Array.isArray(i)?i[Number(e)]=r:i&&"object"==typeof i&&(i[e]=r):i&&"object"==typeof i&&(i[e]||(i[e]=n.includes(e)?[]:{}),i=i[e])})};function iy(e,t){var r,n;let{prefix:i,shouldSkipGeneratingVar:o}=t||{},s={},a={},l={};return r=(e,t,r)=>{if(("string"==typeof t||"number"==typeof t)&&(!o||!o(e,t))){var n,u;let o=`--${i?`${i}-`:""}${e.join("-")}`,c=(n=e,"number"==typeof(u=t)?["lineHeight","fontWeight","opacity","zIndex"].some(e=>n.includes(e))||n[n.length-1].toLowerCase().includes("opacity")?u:`${u}px`:u);Object.assign(s,{[o]:c}),im(a,e,`var(${o})`,r),im(l,e,`var(${o}, ${c})`,r)}},n=e=>"vars"===e[0],function e(t,i=[],o=[]){Object.entries(t).forEach(([t,s])=>{n&&(!n||n([...i,t]))||null==s||("object"==typeof s&&Object.keys(s).length>0?e(s,[...i,t],Array.isArray(s)?[...o,t]:o):r([...i,t],s,o))})}(e),{css:s,vars:a,varsWithDefaults:l}}let iv=function(e,t={}){let{getSelector:r=function(t,r){let n=i;if("class"===i&&(n=".%s"),"data"===i&&(n="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(n=`[${i}="%s"]`),t){if("media"===n){if(e.defaultColorScheme===t)return":root";let n=s[t]?.palette?.mode||t;return{[`@media (prefers-color-scheme: ${n})`]:{":root":r}}}if(n)return e.defaultColorScheme===t?`:root, ${n.replace("%s",String(t))}`:n.replace("%s",String(t))}return":root"},disableCssColorScheme:n,colorSchemeSelector:i,enableContrastVars:o}=t,{colorSchemes:s={},components:a,defaultColorScheme:l="light",...u}=e,{vars:c,css:h,varsWithDefaults:d}=iy(u,t),f=d,p={},{[l]:g,...m}=s;if(Object.entries(m||{}).forEach(([e,r])=>{let{vars:n,css:i,varsWithDefaults:o}=iy(r,t);f=rq(f,o),p[e]={css:i,vars:n}}),g){let{css:e,vars:r,varsWithDefaults:n}=iy(g,t);f=rq(f,n),p[l]={css:e,vars:r}}return{vars:f,generateThemeVars:()=>{let e={...c};return Object.entries(p).forEach(([,{vars:t}])=>{e=rq(e,t)}),e},generateStyleSheets:()=>{let t=[],i=e.defaultColorScheme||"light";function a(e,r){Object.keys(r).length&&t.push("string"==typeof e?{[e]:{...r}}:e)}a(r(void 0,{...h}),h);let{[i]:l,...u}=p;if(l){let{css:e}=l,t=s[i]?.palette?.mode,o=!n&&t?{colorScheme:t,...e}:{...e};a(r(i,{...o}),o)}return Object.entries(u).forEach(([e,{css:t}])=>{let i=s[e]?.palette?.mode,o=!n&&i?{colorScheme:i,...t}:{...t};a(r(e,{...o}),o)}),o&&t.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),t}}},ib={textTransform:"uppercase"},iw='"Roboto", "Helvetica", "Arial", sans-serif';function ix(...e){return`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,0.2),${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,0.14),${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,0.12)`}let iS=["none",ix(0,2,1,-1,0,1,1,0,0,1,3,0),ix(0,3,1,-2,0,2,2,0,0,1,5,0),ix(0,3,3,-2,0,3,4,0,0,1,8,0),ix(0,2,4,-1,0,4,5,0,0,1,10,0),ix(0,3,5,-1,0,5,8,0,0,1,14,0),ix(0,3,5,-1,0,6,10,0,0,1,18,0),ix(0,4,5,-2,0,7,10,1,0,2,16,1),ix(0,5,5,-3,0,8,10,1,0,3,14,2),ix(0,5,6,-3,0,9,12,1,0,3,16,2),ix(0,6,6,-3,0,10,14,1,0,4,18,3),ix(0,6,7,-4,0,11,15,1,0,4,20,3),ix(0,7,8,-4,0,12,17,2,0,5,22,4),ix(0,7,8,-4,0,13,19,2,0,5,24,4),ix(0,7,9,-4,0,14,21,2,0,5,26,4),ix(0,8,9,-5,0,15,22,2,0,6,28,5),ix(0,8,10,-5,0,16,24,2,0,6,30,5),ix(0,8,11,-5,0,17,26,2,0,6,32,5),ix(0,9,11,-5,0,18,28,2,0,7,34,6),ix(0,9,12,-6,0,19,29,2,0,7,36,6),ix(0,10,13,-6,0,20,31,3,0,8,38,7),ix(0,10,13,-6,0,21,33,3,0,8,40,7),ix(0,10,14,-6,0,22,35,3,0,8,42,7),ix(0,11,14,-7,0,23,36,3,0,9,44,8),ix(0,11,15,-7,0,24,38,3,0,9,46,8)],iC={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ik={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function i_(e){return`${Math.round(e)}ms`}function iA(e){if(!e)return 0;let t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}let iT={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function iE(e={}){let t={...e};return!function e(t){let r=Object.entries(t);for(let n=0;n<r.length;n++){let[i,o]=r[n];!(rW(o)||void 0===o||"string"==typeof o||"boolean"==typeof o||"number"==typeof o||Array.isArray(o))||i.startsWith("unstable_")?delete t[i]:rW(o)&&(t[i]={...o},e(t[i]))}}(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function iI(e){return"number"==typeof e?`${(100*e).toFixed(0)}%`:`calc((${e}) * 100%)`}let iD=function(e={},...t){var r,n;let i,o,{breakpoints:s,mixins:a={},spacing:l,palette:u={},transitions:c={},typography:h={},shape:d,colorSpace:f,...p}=e;if(e.vars&&void 0===e.generateThemeVars)throw Error(rK(20));let g=ig({...u,colorSpace:f}),m=nU(e),y=rq(m,{mixins:(r=m.breakpoints,{toolbar:{minHeight:56,[r.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[r.up("sm")]:{minHeight:64}},...a}),palette:g,shadows:iS.slice(),typography:function(e,t){let{fontFamily:r=iw,fontSize:n=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:s=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:u,pxToRem:c,...h}="function"==typeof t?t(e):t,d=n/14,f=c||(e=>`${e/l*d}rem`),p=(e,t,n,i,o)=>({fontFamily:r,fontWeight:e,fontSize:f(t),lineHeight:n,...r===iw?{letterSpacing:`${Math.round(i/t*1e5)/1e5}em`}:{},...o,...u}),g={h1:p(i,96,1.167,-1.5),h2:p(i,60,1.2,-.5),h3:p(o,48,1.167,0),h4:p(o,34,1.235,.25),h5:p(o,24,1.334,0),h6:p(s,20,1.6,.15),subtitle1:p(o,16,1.75,.15),subtitle2:p(s,14,1.57,.1),body1:p(o,16,1.5,.15),body2:p(o,14,1.43,.15),button:p(s,14,1.75,.4,ib),caption:p(o,12,1.66,.4),overline:p(o,12,2.66,1,ib),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return rq({htmlFontSize:l,pxToRem:f,fontFamily:r,fontSize:n,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:s,fontWeightBold:a,...g},h,{clone:!1})}(g,h),transitions:(i={...iC,...c.easing},o={...ik,...c.duration},{getAutoHeightDuration:iA,create:(e=["all"],t={})=>{let{duration:r=o.standard,easing:n=i.easeInOut,delay:s=0,...a}=t;return(Array.isArray(e)?e:[e]).map(e=>`${e} ${"string"==typeof r?r:i_(r)} ${n} ${"string"==typeof s?s:i_(s)}`).join(",")},...c,easing:i,duration:o}),zIndex:{...iT}});return y=rq(y,p),(y=t.reduce((e,t)=>rq(e,t),y)).unstable_sxConfig={...nj,...p?.unstable_sxConfig},y.unstable_sx=function(e){return nz({sx:e,theme:this})},y.toRuntimeSource=iE,Object.assign(n=y,{alpha(e,t){let r=this||n;return r.colorSpace?`oklch(from ${e} l c h / ${"string"==typeof t?`calc(${t})`:t})`:r.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${"string"==typeof t?`calc(${t})`:t})`:n2(e,(e=>{if(!Number.isNaN(+e))return+e;let t=e.match(/\d*\.?\d+/g);if(!t)return 0;let r=0;for(let e=0;e<t.length;e+=1)r+=+t[e];return r})(t))},lighten(e,t){let r=this||n;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #fff ${iI(t)})`:n6(e,t)},darken(e,t){let r=this||n;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #000 ${iI(t)})`:n3(e,t)}}),y};function iF(e){return Math.round(10*(e<1?5.11916*e**2:4.5*Math.log(e+1)+2))/1e3}let iN=[...Array(25)].map((e,t)=>{if(0===t)return"none";let r=iF(t);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function iP(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function iR(e){return"dark"===e?iN:[]}function iO(e){return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!!e[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}function iM(e,t,r){!e[t]&&r&&(e[t]=r)}function iB(e){return"string"==typeof e&&e.startsWith("hsl")?n0(e):e}function iL(e,t){`${t}Channel`in e||(e[`${t}Channel`]=nY(iB(e[t]),`MUI: Can't create \`palette.${t}Channel\` because \`palette.${t}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${t}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}let ij=e=>{try{return e()}catch(e){}};function iz(e,t,r,n,i){if(!r)return;r=!0===r?{}:r;let o="dark"===i?"dark":"light";if(!n){t[i]=function(e){let{palette:t={mode:"light"},opacity:r,overlays:n,colorSpace:i,...o}=e,s=ig({...t,colorSpace:i});return{palette:s,opacity:{...iP(s.mode),...r},overlays:n||iR(s.mode),...o}}({...r,palette:{mode:o,...r?.palette},colorSpace:e});return}let{palette:s,...a}=iD({...n,palette:{mode:o,...r?.palette},colorSpace:e});return t[i]={...r,palette:s,opacity:{...iP(o),...r?.opacity},overlays:r?.overlays||iR(o)},a}function iV(e,t,r){e.colorSchemes&&r&&(e.colorSchemes[t]={...!0!==r&&r,palette:ig({...!0===r?{}:r.palette,mode:t})})}function iU(e={},...t){let{palette:r,cssVariables:n=!1,colorSchemes:i=!r?{light:!0}:void 0,defaultColorScheme:o=r?.mode,...s}=e,a=o||"light",l=i?.[a],u={...i,...r?{[a]:{..."boolean"!=typeof l&&l,palette:r}}:void 0};if(!1===n){if(!("colorSchemes"in e))return iD(e,...t);let n=r;"palette"in e||!u[a]||(!0!==u[a]?n=u[a].palette:"dark"===a&&(n={mode:"dark"}));let i=iD({...e,palette:n},...t);return i.defaultColorScheme=a,i.colorSchemes=u,"light"===i.palette.mode&&(i.colorSchemes.light={...!0!==u.light&&u.light,palette:i.palette},iV(i,"dark",u.dark)),"dark"===i.palette.mode&&(i.colorSchemes.dark={...!0!==u.dark&&u.dark,palette:i.palette},iV(i,"light",u.light)),i}return r||"light"in u||"light"!==a||(u.light=!0),function(e={},...t){var r,n;let i,o,s,{colorSchemes:a={light:!0},defaultColorScheme:l,disableCssColorScheme:u=!1,cssVarPrefix:c="mui",nativeColor:h=!1,shouldSkipGeneratingVar:d=iO,colorSchemeSelector:f=a.light&&a.dark?"media":void 0,rootSelector:p=":root",...g}=e,m=Object.keys(a)[0],y=l||(a.light&&"light"!==m?"light":m),v=((e="mui")=>(function(e=""){return(t,...r)=>`var(--${e?`${e}-`:""}${t}${function t(...r){if(!r.length)return"";let n=r[0];return"string"!=typeof n||n.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, ${n}`:`, var(--${e?`${e}-`:""}${n}${t(...r.slice(1))})`}(...r)})`})(e))(c),{[y]:b,light:w,dark:x,...S}=a,C={...S},k=b;if(("dark"!==y||"dark"in a)&&("light"!==y||"light"in a)||(k=!0),!k)throw Error(rK(21,y));h&&(i="oklch");let _=iz(i,C,k,g,y);w&&!C.light&&iz(i,C,w,void 0,"light"),x&&!C.dark&&iz(i,C,x,void 0,"dark");let A={defaultColorScheme:y,..._,cssVarPrefix:c,colorSchemeSelector:f,rootSelector:p,getCssVar:v,colorSchemes:C,font:{...(r=_.typography,o={},Object.entries(r).forEach(e=>{let[t,r]=e;"object"==typeof r&&(o[t]=`${r.fontStyle?`${r.fontStyle} `:""}${r.fontVariant?`${r.fontVariant} `:""}${r.fontWeight?`${r.fontWeight} `:""}${r.fontStretch?`${r.fontStretch} `:""}${r.fontSize||""}${r.lineHeight?`/${r.lineHeight} `:""}${r.fontFamily||""}`)}),o),..._.font},spacing:"number"==typeof(n=g.spacing)?`${n}px`:"string"==typeof n||"function"==typeof n||Array.isArray(n)?n:"8px"};Object.keys(A.colorSchemes).forEach(e=>{let t=A.colorSchemes[e].palette,r=e=>{let r=e.split("-"),n=r[1],i=r[2];return v(e,t[n][i])};function n(e,t,r){if(i){let n;return e===n5&&(n=`transparent ${((1-r)*100).toFixed(0)}%`),e===n4&&(n=`#000 ${(100*r).toFixed(0)}%`),e===n8&&(n=`#fff ${(100*r).toFixed(0)}%`),`color-mix(in ${i}, ${t}, ${n})`}return e(t,r)}if("light"===t.mode&&(iM(t.common,"background","#fff"),iM(t.common,"onBackground","#000")),"dark"===t.mode&&(iM(t.common,"background","#000"),iM(t.common,"onBackground","#fff")),["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"].forEach(e=>{t[e]||(t[e]={})}),"light"===t.mode){iM(t.Alert,"errorColor",n(n4,t.error.light,.6)),iM(t.Alert,"infoColor",n(n4,t.info.light,.6)),iM(t.Alert,"successColor",n(n4,t.success.light,.6)),iM(t.Alert,"warningColor",n(n4,t.warning.light,.6)),iM(t.Alert,"errorFilledBg",r("palette-error-main")),iM(t.Alert,"infoFilledBg",r("palette-info-main")),iM(t.Alert,"successFilledBg",r("palette-success-main")),iM(t.Alert,"warningFilledBg",r("palette-warning-main")),iM(t.Alert,"errorFilledColor",ij(()=>t.getContrastText(t.error.main))),iM(t.Alert,"infoFilledColor",ij(()=>t.getContrastText(t.info.main))),iM(t.Alert,"successFilledColor",ij(()=>t.getContrastText(t.success.main))),iM(t.Alert,"warningFilledColor",ij(()=>t.getContrastText(t.warning.main))),iM(t.Alert,"errorStandardBg",n(n8,t.error.light,.9)),iM(t.Alert,"infoStandardBg",n(n8,t.info.light,.9)),iM(t.Alert,"successStandardBg",n(n8,t.success.light,.9)),iM(t.Alert,"warningStandardBg",n(n8,t.warning.light,.9)),iM(t.Alert,"errorIconColor",r("palette-error-main")),iM(t.Alert,"infoIconColor",r("palette-info-main")),iM(t.Alert,"successIconColor",r("palette-success-main")),iM(t.Alert,"warningIconColor",r("palette-warning-main")),iM(t.AppBar,"defaultBg",r("palette-grey-100")),iM(t.Avatar,"defaultBg",r("palette-grey-400")),iM(t.Button,"inheritContainedBg",r("palette-grey-300")),iM(t.Button,"inheritContainedHoverBg",r("palette-grey-A100")),iM(t.Chip,"defaultBorder",r("palette-grey-400")),iM(t.Chip,"defaultAvatarColor",r("palette-grey-700")),iM(t.Chip,"defaultIconColor",r("palette-grey-700")),iM(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),iM(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),iM(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),iM(t.LinearProgress,"primaryBg",n(n8,t.primary.main,.62)),iM(t.LinearProgress,"secondaryBg",n(n8,t.secondary.main,.62)),iM(t.LinearProgress,"errorBg",n(n8,t.error.main,.62)),iM(t.LinearProgress,"infoBg",n(n8,t.info.main,.62)),iM(t.LinearProgress,"successBg",n(n8,t.success.main,.62)),iM(t.LinearProgress,"warningBg",n(n8,t.warning.main,.62)),iM(t.Skeleton,"bg",i?n(n5,t.text.primary,.11):`rgba(${r("palette-text-primaryChannel")} / 0.11)`),iM(t.Slider,"primaryTrack",n(n8,t.primary.main,.62)),iM(t.Slider,"secondaryTrack",n(n8,t.secondary.main,.62)),iM(t.Slider,"errorTrack",n(n8,t.error.main,.62)),iM(t.Slider,"infoTrack",n(n8,t.info.main,.62)),iM(t.Slider,"successTrack",n(n8,t.success.main,.62)),iM(t.Slider,"warningTrack",n(n8,t.warning.main,.62));let e=i?n(n4,t.background.default,.6825):n9(t.background.default,.8);iM(t.SnackbarContent,"bg",e),iM(t.SnackbarContent,"color",ij(()=>i?ih.text.primary:t.getContrastText(e))),iM(t.SpeedDialAction,"fabHoverBg",n9(t.background.paper,.15)),iM(t.StepConnector,"border",r("palette-grey-400")),iM(t.StepContent,"border",r("palette-grey-400")),iM(t.Switch,"defaultColor",r("palette-common-white")),iM(t.Switch,"defaultDisabledColor",r("palette-grey-100")),iM(t.Switch,"primaryDisabledColor",n(n8,t.primary.main,.62)),iM(t.Switch,"secondaryDisabledColor",n(n8,t.secondary.main,.62)),iM(t.Switch,"errorDisabledColor",n(n8,t.error.main,.62)),iM(t.Switch,"infoDisabledColor",n(n8,t.info.main,.62)),iM(t.Switch,"successDisabledColor",n(n8,t.success.main,.62)),iM(t.Switch,"warningDisabledColor",n(n8,t.warning.main,.62)),iM(t.TableCell,"border",n(n8,n(n5,t.divider,1),.88)),iM(t.Tooltip,"bg",n(n5,t.grey[700],.92))}if("dark"===t.mode){iM(t.Alert,"errorColor",n(n8,t.error.light,.6)),iM(t.Alert,"infoColor",n(n8,t.info.light,.6)),iM(t.Alert,"successColor",n(n8,t.success.light,.6)),iM(t.Alert,"warningColor",n(n8,t.warning.light,.6)),iM(t.Alert,"errorFilledBg",r("palette-error-dark")),iM(t.Alert,"infoFilledBg",r("palette-info-dark")),iM(t.Alert,"successFilledBg",r("palette-success-dark")),iM(t.Alert,"warningFilledBg",r("palette-warning-dark")),iM(t.Alert,"errorFilledColor",ij(()=>t.getContrastText(t.error.dark))),iM(t.Alert,"infoFilledColor",ij(()=>t.getContrastText(t.info.dark))),iM(t.Alert,"successFilledColor",ij(()=>t.getContrastText(t.success.dark))),iM(t.Alert,"warningFilledColor",ij(()=>t.getContrastText(t.warning.dark))),iM(t.Alert,"errorStandardBg",n(n4,t.error.light,.9)),iM(t.Alert,"infoStandardBg",n(n4,t.info.light,.9)),iM(t.Alert,"successStandardBg",n(n4,t.success.light,.9)),iM(t.Alert,"warningStandardBg",n(n4,t.warning.light,.9)),iM(t.Alert,"errorIconColor",r("palette-error-main")),iM(t.Alert,"infoIconColor",r("palette-info-main")),iM(t.Alert,"successIconColor",r("palette-success-main")),iM(t.Alert,"warningIconColor",r("palette-warning-main")),iM(t.AppBar,"defaultBg",r("palette-grey-900")),iM(t.AppBar,"darkBg",r("palette-background-paper")),iM(t.AppBar,"darkColor",r("palette-text-primary")),iM(t.Avatar,"defaultBg",r("palette-grey-600")),iM(t.Button,"inheritContainedBg",r("palette-grey-800")),iM(t.Button,"inheritContainedHoverBg",r("palette-grey-700")),iM(t.Chip,"defaultBorder",r("palette-grey-700")),iM(t.Chip,"defaultAvatarColor",r("palette-grey-300")),iM(t.Chip,"defaultIconColor",r("palette-grey-300")),iM(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),iM(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),iM(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),iM(t.LinearProgress,"primaryBg",n(n4,t.primary.main,.5)),iM(t.LinearProgress,"secondaryBg",n(n4,t.secondary.main,.5)),iM(t.LinearProgress,"errorBg",n(n4,t.error.main,.5)),iM(t.LinearProgress,"infoBg",n(n4,t.info.main,.5)),iM(t.LinearProgress,"successBg",n(n4,t.success.main,.5)),iM(t.LinearProgress,"warningBg",n(n4,t.warning.main,.5)),iM(t.Skeleton,"bg",i?n(n5,t.text.primary,.13):`rgba(${r("palette-text-primaryChannel")} / 0.13)`),iM(t.Slider,"primaryTrack",n(n4,t.primary.main,.5)),iM(t.Slider,"secondaryTrack",n(n4,t.secondary.main,.5)),iM(t.Slider,"errorTrack",n(n4,t.error.main,.5)),iM(t.Slider,"infoTrack",n(n4,t.info.main,.5)),iM(t.Slider,"successTrack",n(n4,t.success.main,.5)),iM(t.Slider,"warningTrack",n(n4,t.warning.main,.5));let e=i?n(n8,t.background.default,.985):n9(t.background.default,.98);iM(t.SnackbarContent,"bg",e),iM(t.SnackbarContent,"color",ij(()=>i?iu.text.primary:t.getContrastText(e))),iM(t.SpeedDialAction,"fabHoverBg",n9(t.background.paper,.15)),iM(t.StepConnector,"border",r("palette-grey-600")),iM(t.StepContent,"border",r("palette-grey-600")),iM(t.Switch,"defaultColor",r("palette-grey-300")),iM(t.Switch,"defaultDisabledColor",r("palette-grey-600")),iM(t.Switch,"primaryDisabledColor",n(n4,t.primary.main,.55)),iM(t.Switch,"secondaryDisabledColor",n(n4,t.secondary.main,.55)),iM(t.Switch,"errorDisabledColor",n(n4,t.error.main,.55)),iM(t.Switch,"infoDisabledColor",n(n4,t.info.main,.55)),iM(t.Switch,"successDisabledColor",n(n4,t.success.main,.55)),iM(t.Switch,"warningDisabledColor",n(n4,t.warning.main,.55)),iM(t.TableCell,"border",n(n4,n(n5,t.divider,1),.68)),iM(t.Tooltip,"bg",n(n5,t.grey[700],.92))}iL(t.background,"default"),iL(t.background,"paper"),iL(t.common,"background"),iL(t.common,"onBackground"),iL(t,"divider"),Object.keys(t).forEach(e=>{let r=t[e];"tonalOffset"!==e&&r&&"object"==typeof r&&(r.main&&iM(t[e],"mainChannel",nY(iB(r.main))),r.light&&iM(t[e],"lightChannel",nY(iB(r.light))),r.dark&&iM(t[e],"darkChannel",nY(iB(r.dark))),r.contrastText&&iM(t[e],"contrastTextChannel",nY(iB(r.contrastText))),"text"===e&&(iL(t[e],"primary"),iL(t[e],"secondary")),"action"===e&&(r.active&&iL(t[e],"active"),r.selected&&iL(t[e],"selected")))})});let T={prefix:c,disableCssColorScheme:u,shouldSkipGeneratingVar:d,getSelector:(s=A=t.reduce((e,t)=>rq(e,t),A),(e,t)=>{let r=s.rootSelector||":root",n=s.colorSchemeSelector,i=n;if("class"===n&&(i=".%s"),"data"===n&&(i="[data-%s]"),n?.startsWith("data-")&&!n.includes("%s")&&(i=`[${n}="%s"]`),s.defaultColorScheme===e){if("dark"===e){let n,o={};return((n=s.cssVarPrefix,[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`]).forEach(e=>{o[e]=t[e],delete t[e]}),"media"===i)?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:o}}:i?{[i.replace("%s",e)]:o,[`${r}, ${i.replace("%s",e)}`]:t}:{[r]:{...t,...o}}}if(i&&"media"!==i)return`${r}, ${i.replace("%s",String(e))}`}else if(e){if("media"===i)return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(i)return i.replace("%s",String(e))}return r}),enableContrastVars:h},{vars:E,generateThemeVars:I,generateStyleSheets:D}=iv(A,T);return A.vars=E,Object.entries(A.colorSchemes[A.defaultColorScheme]).forEach(([e,t])=>{A[e]=t}),A.generateThemeVars=I,A.generateStyleSheets=D,A.generateSpacing=function(){return nh(g.spacing,no(this))},A.getColorSchemeSelector=function(e){return"media"===f?`@media (prefers-color-scheme: ${e})`:f?f.startsWith("data-")&&!f.includes("%s")?`[${f}="${e}"] &`:"class"===f?`.${e} &`:"data"===f?`[data-${e}] &`:`${f.replace("%s",e)} &`:"&"},A.spacing=A.generateSpacing(),A.shouldSkipGeneratingVar=d,A.unstable_sxConfig={...nj,...g?.unstable_sxConfig},A.unstable_sx=function(e){return nz({sx:e,theme:this})},A.toRuntimeSource=iE,A}({...s,colorSchemes:u,defaultColorScheme:a,..."boolean"!=typeof n&&n},...t)}let i$=iU(),iW="$$material",iq=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},iK=e=>iq(e)&&"classes"!==e,iG=nQ({themeId:iW,defaultTheme:i$,rootShouldForwardProp:iK});function iH(e,t,r=!1){let n={...t};for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i))if("components"===i||"slots"===i)n[i]={...e[i],...n[i]};else if("componentsProps"===i||"slotProps"===i){let o=e[i],s=t[i];if(s)if(o)for(let e in n[i]={...s},o)Object.prototype.hasOwnProperty.call(o,e)&&(n[i][e]=iH(o[e],s[e],r));else n[i]=s;else n[i]=o||{}}else"className"===i&&r&&t.className?n.className=(0,tA.default)(e?.className,t?.className):"style"===i&&r&&t.style?n.style={...e?.style,...t?.style}:void 0===n[i]&&(n[i]=e[i]);return n}let iQ=eL.createContext(void 0);function iX(e){return function({props:e,name:t}){return function(e){let{theme:t,name:r,props:n}=e;if(!t||!t.components||!t.components[r])return n;let i=t.components[r];return i.defaultProps?iH(i.defaultProps,n,t.components.mergeClassNameAndStyle):i.styleOverrides||i.variants?n:iH(i,n,t.components.mergeClassNameAndStyle)}({props:e,name:t,theme:{components:eL.useContext(iQ)}})}(e)}let iJ=function(e){return"string"==typeof e};function iY(e,t=166){let r;function n(...i){let o=()=>{e.apply(this,i)};clearTimeout(r),r=setTimeout(o,t)}return n.clear=()=>{clearTimeout(r)},n}function iZ(...e){let t=eL.useRef(void 0),r=eL.useCallback(t=>{let r=e.map(e=>{if(null==e)return null;if("function"==typeof e){let r=e(t);return"function"==typeof r?r:()=>{e(null)}}return e.current=t,()=>{e.current=null}});return()=>{r.forEach(e=>e?.())}},e);return eL.useMemo(()=>e.every(e=>null==e)?null:e=>{t.current&&(t.current(),t.current=void 0),null!=e&&(t.current=r(e))},e)}let i0="u">typeof window?eL.useLayoutEffect:eL.useEffect,i1=function(e){let t=eL.useRef(e);return i0(()=>{t.current=e}),eL.useRef((...e)=>(0,t.current)(...e)).current};function i2(e){return e&&e.ownerDocument||document}function i5(e){return i2(e).defaultView||window}function i3(e){return parseInt(e,10)||0}let i4={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function i6(e){return function(e){for(let t in e)return!1;return!0}(e)||0===e.outerHeightStyle&&!e.overflowing}let i8=eL.forwardRef(function(e,t){let{onChange:r,maxRows:n,minRows:i=1,style:o,value:s,...a}=e,{current:l}=eL.useRef(null!=s),u=eL.useRef(null),c=iZ(t,u),h=eL.useRef(null),d=eL.useRef(null),f=eL.useCallback(()=>{let t=u.current,r=d.current;if(!t||!r)return;let o=i5(t).getComputedStyle(t);if("0px"===o.width)return{outerHeightStyle:0,overflowing:!1};r.style.width=o.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");let s=o.boxSizing,a=i3(o.paddingBottom)+i3(o.paddingTop),l=i3(o.borderBottomWidth)+i3(o.borderTopWidth),c=r.scrollHeight;r.value="x";let h=r.scrollHeight,f=c;return i&&(f=Math.max(Number(i)*h,f)),n&&(f=Math.min(Number(n)*h,f)),{outerHeightStyle:(f=Math.max(f,h))+("border-box"===s?a+l:0),overflowing:1>=Math.abs(f-c)}},[n,i,e.placeholder]),p=i1(()=>{let e=u.current,t=f();if(!e||!t||i6(t))return!1;let r=t.outerHeightStyle;return null!=h.current&&h.current!==r}),g=eL.useCallback(()=>{let e=u.current,t=f();if(!e||!t||i6(t))return;let r=t.outerHeightStyle;h.current!==r&&(h.current=r,e.style.height=`${r}px`),e.style.overflow=t.overflowing?"hidden":""},[f]),m=eL.useRef(-1);return i0(()=>{let e,t=iY(g),r=u?.current;if(!r)return;let n=i5(r);return n.addEventListener("resize",t),"u">typeof ResizeObserver&&(e=new ResizeObserver(()=>{p()&&(e.unobserve(r),cancelAnimationFrame(m.current),g(),m.current=requestAnimationFrame(()=>{e.observe(r)}))})).observe(r),()=>{t.clear(),cancelAnimationFrame(m.current),n.removeEventListener("resize",t),e&&e.disconnect()}},[f,g,p]),i0(()=>{g()}),(0,eB.jsxs)(eL.Fragment,{children:[(0,eB.jsx)("textarea",{value:s,onChange:e=>{l||g();let t=e.target,n=t.value.length,i=t.value.endsWith("\n"),o=t.selectionStart===n;i&&o&&t.setSelectionRange(n,n),r&&r(e)},ref:c,rows:i,style:o,...a}),(0,eB.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:d,tabIndex:-1,style:{...i4,...o,paddingTop:0,paddingBottom:0}})]})});function i9({props:e,states:t,muiFormControl:r}){return t.reduce((t,n)=>(t[n]=e[n],r&&void 0===e[n]&&(t[n]=r[n]),t),{})}let i7=eL.createContext(void 0);function oe(){return eL.useContext(i7)}function ot(e){let t,r,n,{sx:i,...o}=e,{systemProps:s,otherProps:a}=(r={systemProps:{},otherProps:{}},n=o?.theme?.unstable_sxConfig??nj,Object.keys(o).forEach(e=>{n[e]?r.systemProps[e]=o[e]:r.otherProps[e]=o[e]}),r);return t=Array.isArray(i)?[s,...i]:"function"==typeof i?(...e)=>{let t=i(...e);return rW(t)?{...s,...t}:s}:{...s,...i},{...a,sx:t}}let or=function(e=null){let t=eL.useContext(rE);return t&&0!==Object.keys(t).length?t:e},on=nU(),oi=function(e=on){return or(e)};function oo(){let e=oi(i$);return e[iW]||e}var os=function(e,t){var r=arguments;if(null==t||!rI.call(t,"css"))return eL.createElement.apply(void 0,r);var n=r.length,i=Array(n);i[0]=rP,i[1]=rF(e,t);for(var o=2;o<n;o++)i[o]=r[o];return eL.createElement.apply(null,i)};u=os||(os={}),c||(c=u.JSX||(u.JSX={}));var oa=rT(function(e,t){var r=rS([e.styles],void 0,eL.useContext(rE)),n=eL.useRef();return r_(function(){var e=t.key+"-global",i=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),o=!1,s=document.querySelector('style[data-emotion="'+e+" "+r.name+'"]');return t.sheet.tags.length&&(i.before=t.sheet.tags[0]),null!==s&&(o=!0,s.setAttribute("data-emotion",e),i.hydrate([s])),n.current=[i,o],function(){i.flush()}},[t]),r_(function(){var e=n.current,i=e[0];if(e[1]){e[1]=!1;return}if(void 0!==r.next&&rd(t,r.next,!0),i.tags.length){var o=i.tags[i.tags.length-1].nextElementSibling;i.before=o,i.flush()}t.insert("",r,i,!1)},[t,r.name]),null});function ol(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return rS(t)}function ou(){var e=ol.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function oc(e){let{styles:t,defaultTheme:r={}}=e,n="function"==typeof t?e=>t(null==e||0===Object.keys(e).length?r:e):t;return(0,eB.jsx)(oa,{styles:n})}function oh(e){let t=rU(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles=`@layer global{${t.styles}}`),t):e}let od=function({styles:e,themeId:t,defaultTheme:r={}}){let n=oi(r),i=t&&n[t]||n,o="function"==typeof e?e(i):e;return i.modularCssLayers&&(o=Array.isArray(o)?o.map(e=>"function"==typeof e?oh(e(i)):oh(e)):oh(o)),(0,eB.jsx)(oc,{styles:o})},of=function(e){return(0,eB.jsx)(od,{...e,defaultTheme:i$,themeId:iW})},op={theme:void 0},og=function(e){let t,r;return function(n){let i=t;return(void 0===i||n.theme!==r)&&(op.theme=n.theme,t=i=n$(e(op)),r=n.theme),i}};function om(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function oy(e,t=!1){return e&&(om(e.value)&&""!==e.value||t&&om(e.defaultValue)&&""!==e.defaultValue)}let ov=e=>e,ob=(i=ov,{configure(e){i=e},generate:e=>i(e),reset(){i=ov}}),ow={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ox(e,t,r="Mui"){let n=ow[t];return n?`${r}-${n}`:`${ob.generate(e)}-${t}`}function oS(e,t,r="Mui"){let n={};return t.forEach(t=>{n[t]=ox(e,t,r)}),n}function oC(e){return ox("MuiInputBase",e)}let ok=oS("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),o_=(e,t)=>{let{ownerState:r}=e;return[t.root,r.formControl&&t.formControl,r.startAdornment&&t.adornedStart,r.endAdornment&&t.adornedEnd,r.error&&t.error,"small"===r.size&&t.sizeSmall,r.multiline&&t.multiline,r.color&&t[`color${rG(r.color)}`],r.fullWidth&&t.fullWidth,r.hiddenLabel&&t.hiddenLabel]},oA=(e,t)=>{let{ownerState:r}=e;return[t.input,"small"===r.size&&t.inputSizeSmall,r.multiline&&t.inputMultiline,"search"===r.type&&t.inputTypeSearch,r.startAdornment&&t.inputAdornedStart,r.endAdornment&&t.inputAdornedEnd,r.hiddenLabel&&t.inputHiddenLabel]},oT=iG("div",{name:"MuiInputBase",slot:"Root",overridesResolver:o_})(og(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ok.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:t})=>e.multiline&&"small"===t,style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),oE=iG("input",{name:"MuiInputBase",slot:"Input",overridesResolver:oA})(og(({theme:e})=>{let t="light"===e.palette.mode,r={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},n={opacity:"0 !important"},i=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ok.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${ok.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:e})=>!e.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:e})=>e.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),oI=(h={"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}},function(e){return(0,eB.jsx)(of,{styles:"function"==typeof h?t=>h({theme:t,...e}):h})}),oD=eL.forwardRef(function(e,t){let r=iX({props:e,name:"MuiInputBase"}),{"aria-describedby":n,autoComplete:i,autoFocus:o,className:s,color:a,components:l={},componentsProps:u={},defaultValue:c,disabled:h,disableInjectingGlobalStyles:d,endAdornment:f,error:p,fullWidth:g=!1,id:m,inputComponent:y="input",inputProps:v={},inputRef:b,margin:w,maxRows:x,minRows:S,multiline:C=!1,name:k,onBlur:_,onChange:A,onClick:T,onFocus:E,onKeyDown:I,onKeyUp:D,placeholder:F,readOnly:N,renderSuffix:P,rows:R,size:O,slotProps:M={},slots:B={},startAdornment:L,type:j="text",value:z,...V}=r,U=null!=v.value?v.value:z,{current:$}=eL.useRef(null!=U),W=eL.useRef(),K=eL.useCallback(e=>{},[]),G=iZ(W,b,v.ref,K),[H,Q]=eL.useState(!1),X=oe(),J=i9({props:r,muiFormControl:X,states:["color","disabled","error","hiddenLabel","size","required","filled"]});J.focused=X?X.focused:H,eL.useEffect(()=>{!X&&h&&H&&(Q(!1),_&&_())},[X,h,H,_]);let Y=X&&X.onFilled,Z=X&&X.onEmpty,ee=eL.useCallback(e=>{oy(e)?Y&&Y():Z&&Z()},[Y,Z]);i0(()=>{$&&ee({value:U})},[U,ee,$]),eL.useEffect(()=>{ee(W.current)},[]);let et=y,er=v;C&&"input"===et&&(er=R?{type:void 0,minRows:R,maxRows:R,...er}:{type:void 0,maxRows:x,minRows:S,...er},et=i8),eL.useEffect(()=>{X&&X.setAdornedStart(!!L)},[X,L]);let en={...r,color:J.color||"primary",disabled:J.disabled,endAdornment:f,error:J.error,focused:J.focused,formControl:X,fullWidth:g,hiddenLabel:J.hiddenLabel,multiline:C,size:J.size,startAdornment:L,type:j},ei=(e=>{let{classes:t,color:r,disabled:n,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:h,size:d,startAdornment:f,type:p}=e;return tT({root:["root",`color${rG(r)}`,n&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",d&&"medium"!==d&&`size${rG(d)}`,c&&"multiline",f&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel",h&&"readOnly"],input:["input",n&&"disabled","search"===p&&"inputTypeSearch",c&&"inputMultiline","small"===d&&"inputSizeSmall",u&&"inputHiddenLabel",f&&"inputAdornedStart",o&&"inputAdornedEnd",h&&"readOnly"]},oC,t)})(en),eo=B.root||l.Root||oT,es=M.root||u.root||{},ea=B.input||l.Input||oE;return er={...er,...M.input??u.input},(0,eB.jsxs)(eL.Fragment,{children:[!d&&"function"==typeof oI&&(q||(q=(0,eB.jsx)(oI,{}))),(0,eB.jsxs)(eo,{...es,ref:t,onClick:e=>{W.current&&e.currentTarget===e.target&&W.current.focus(),T&&T(e)},...V,...!iJ(eo)&&{ownerState:{...en,...es.ownerState}},className:(0,tA.default)(ei.root,es.className,s,N&&"MuiInputBase-readOnly"),children:[L,(0,eB.jsx)(i7.Provider,{value:null,children:(0,eB.jsx)(ea,{"aria-invalid":J.error,"aria-describedby":n,autoComplete:i,autoFocus:o,defaultValue:c,disabled:J.disabled,id:m,onAnimationStart:e=>{ee("mui-auto-fill-cancel"===e.animationName?W.current:{value:"x"})},name:k,placeholder:F,readOnly:N,required:J.required,rows:R,value:U,onKeyDown:I,onKeyUp:D,type:j,...er,...!iJ(ea)&&{as:et,ownerState:{...en,...er.ownerState}},ref:G,className:(0,tA.default)(ei.input,er.className,N&&"MuiInputBase-readOnly"),onBlur:e=>{_&&_(e),v.onBlur&&v.onBlur(e),X&&X.onBlur?X.onBlur(e):Q(!1)},onChange:(e,...t)=>{if(!$){let t=e.target||W.current;if(null==t)throw Error(rK(1));ee({value:t.value})}v.onChange&&v.onChange(e,...t),A&&A(e,...t)},onFocus:e=>{E&&E(e),v.onFocus&&v.onFocus(e),X&&X.onFocus?X.onFocus(e):Q(!0)}})}),f,P?P({...J,startAdornment:L}):null]})]})});function oF(e=[]){return([,t])=>t&&function(e,t=[]){if("string"!=typeof e.main)return!1;for(let r of t)if(!e.hasOwnProperty(r)||"string"!=typeof e[r])return!1;return!0}(t,e)}function oN(e){return ox("MuiInput",e)}let oP={...ok,...oS("MuiInput",["root","underline","input"])},oR=iG(oT,{shouldForwardProp:e=>iK(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[...o_(e,t),!r.disableUnderline&&t.underline]}})(og(({theme:e})=>{let t="light"===e.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(t=e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:e})=>e.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:e})=>!e.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${oP.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${oP.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${oP.disabled}, .${oP.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${oP.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(oF()).map(([t])=>({props:{color:t,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t].main}`}}}))]}})),oO=iG(oE,{name:"MuiInput",slot:"Input",overridesResolver:oA})({}),oM=eL.forwardRef(function(e,t){let r=iX({props:e,name:"MuiInput"}),{disableUnderline:n=!1,components:i={},componentsProps:o,fullWidth:s=!1,inputComponent:a="input",multiline:l=!1,slotProps:u,slots:c={},type:h="text",...d}=r,f=(e=>{let{classes:t,disableUnderline:r}=e,n=tT({root:["root",!r&&"underline"],input:["input"]},oN,t);return{...t,...n}})(r),p={root:{ownerState:{disableUnderline:n}}},g=u??o?rq(u??o,p):p,m=c.root??i.Root??oR,y=c.input??i.Input??oO;return(0,eB.jsx)(oD,{slots:{root:m,input:y},slotProps:g,fullWidth:s,inputComponent:a,multiline:l,ref:t,type:h,...d,classes:f})});function oB(e){return ox("MuiFilledInput",e)}oM.muiName="Input";let oL={...ok,...oS("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},oj=iG(oT,{shouldForwardProp:e=>iK(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[...o_(e,t),!r.disableUnderline&&t.underline]}})(og(({theme:e})=>{let t="light"===e.palette.mode,r=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r}},[`&.${oL.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r},[`&.${oL.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"},variants:[{props:({ownerState:e})=>!e.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${oL.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${oL.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline):t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)"}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${oL.disabled}, .${oL.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${oL.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(oF()).map(([t])=>({props:{disableUnderline:!1,color:t},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t]?.main}`}}})),{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:12}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:12}},{props:({ownerState:e})=>e.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:e,size:t})=>e.multiline&&"small"===t,style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.multiline&&e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.multiline&&e.hiddenLabel&&"small"===e.size,style:{paddingTop:8,paddingBottom:9}}]}})),oz=iG(oE,{name:"MuiFilledInput",slot:"Input",overridesResolver:oA})(og(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&"small"===e.size,style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),oV=eL.forwardRef(function(e,t){let r=iX({props:e,name:"MuiFilledInput"}),{disableUnderline:n=!1,components:i={},componentsProps:o,fullWidth:s=!1,hiddenLabel:a,inputComponent:l="input",multiline:u=!1,slotProps:c,slots:h={},type:d="text",...f}=r,p={...r,disableUnderline:n,fullWidth:s,inputComponent:l,multiline:u,type:d},g=(e=>{let{classes:t,disableUnderline:r,startAdornment:n,endAdornment:i,size:o,hiddenLabel:s,multiline:a}=e,l=tT({root:["root",!r&&"underline",n&&"adornedStart",i&&"adornedEnd","small"===o&&`size${rG(o)}`,s&&"hiddenLabel",a&&"multiline"],input:["input"]},oB,t);return{...t,...l}})(r),m={root:{ownerState:p},input:{ownerState:p}},y=c??o?rq(m,c??o):m,v=h.root??i.Root??oj,b=h.input??i.Input??oz;return(0,eB.jsx)(oD,{slots:{root:v,input:b},slotProps:y,fullWidth:s,inputComponent:l,multiline:u,ref:t,type:d,...f,classes:g})});oV.muiName="Input";let oU=iG("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:iK})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),o$=iG("legend",{name:"MuiNotchedOutlined",shouldForwardProp:iK})(og(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function oW(e){return ox("MuiOutlinedInput",e)}let oq={...ok,...oS("MuiOutlinedInput",["root","notchedOutline","input"])},oK=function(e,t,r){return void 0===e||iJ(e)?t:{...t,ownerState:{...t.ownerState,...r}}},oG=function(e,t,r){return"function"==typeof e?e(t,r):e},oH=function(e,t=[]){if(void 0===e)return{};let r={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&"function"==typeof e[r]&&!t.includes(r)).forEach(t=>{r[t]=e[t]}),r},oQ=function(e){if(void 0===e)return{};let t={};return Object.keys(e).filter(t=>!(t.match(/^on[A-Z]/)&&"function"==typeof e[t])).forEach(r=>{t[r]=e[r]}),t},oX=function(e){let{getSlotProps:t,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:o}=e;if(!t){let e=(0,tA.default)(r?.className,o,i?.className,n?.className),t={...r?.style,...i?.style,...n?.style},s={...r,...i,...n};return e.length>0&&(s.className=e),Object.keys(t).length>0&&(s.style=t),{props:s,internalRef:void 0}}let s=oH({...i,...n}),a=oQ(n),l=oQ(i),u=t(s),c=(0,tA.default)(u?.className,r?.className,o,i?.className,n?.className),h={...u?.style,...r?.style,...i?.style,...n?.style},d={...u,...r,...l,...a};return c.length>0&&(d.className=c),Object.keys(h).length>0&&(d.style=h),{props:d,internalRef:u.ref}};function oJ(e,t){let{className:r,elementType:n,ownerState:i,externalForwardedProps:o,internalForwardedProps:s,shouldForwardComponentProp:a=!1,...l}=t,{component:u,slots:c={[e]:void 0},slotProps:h={[e]:void 0},...d}=o,f=c[e]||n,p=oG(h[e],i),{props:{component:g,...m},internalRef:y}=oX({className:r,...l,externalForwardedProps:"root"===e?d:void 0,externalSlotProps:p}),v=iZ(y,p?.ref,t.ref),b="root"===e?g||u:g,w=oK(f,{..."root"===e&&!u&&!c[e]&&s,..."root"!==e&&!c[e]&&s,...m,...b&&!a&&{as:b},...b&&a&&{component:b},ref:v},i);return[f,w]}let oY=iG(oT,{shouldForwardProp:e=>iK(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:o_})(og(({theme:e})=>{let t="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${oq.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${oq.notchedOutline}`]:{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):t}},[`&.${oq.focused} .${oq.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(oF()).map(([t])=>({props:{color:t},style:{[`&.${oq.focused} .${oq.notchedOutline}`]:{borderColor:(e.vars||e).palette[t].main}}})),{props:{},style:{[`&.${oq.error} .${oq.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${oq.disabled} .${oq.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:14}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:14}},{props:({ownerState:e})=>e.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:e,size:t})=>e.multiline&&"small"===t,style:{padding:"8.5px 14px"}}]}})),oZ=iG(function(e){let{children:t,classes:r,className:n,label:i,notched:o,...s}=e,a=null!=i&&""!==i,l={...e,notched:o,withLabel:a};return(0,eB.jsx)(oU,{"aria-hidden":!0,className:n,ownerState:l,...s,children:(0,eB.jsx)(o$,{ownerState:l,children:a?(0,eB.jsx)("span",{children:i}):K||(K=(0,eB.jsx)("span",{className:"notranslate","aria-hidden":!0,children:""}))})})},{name:"MuiOutlinedInput",slot:"NotchedOutline"})(og(({theme:e})=>{let t="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):t}})),o0=iG(oE,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:oA})(og(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),o1=eL.forwardRef(function(e,t){let r=iX({props:e,name:"MuiOutlinedInput"}),{components:n={},fullWidth:i=!1,inputComponent:o="input",label:s,multiline:a=!1,notched:l,slots:u={},slotProps:c={},type:h="text",...d}=r,f=(e=>{let{classes:t}=e,r=tT({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},oW,t);return{...t,...r}})(r),p=oe(),g=i9({props:r,muiFormControl:p,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),m={...r,color:g.color||"primary",disabled:g.disabled,error:g.error,focused:g.focused,formControl:p,fullWidth:i,hiddenLabel:g.hiddenLabel,multiline:a,size:g.size,type:h},y=u.root??n.Root??oY,v=u.input??n.Input??o0,[b,w]=oJ("notchedOutline",{elementType:oZ,className:f.notchedOutline,shouldForwardComponentProp:!0,ownerState:m,externalForwardedProps:{slots:u,slotProps:c},additionalProps:{label:null!=s&&""!==s&&g.required?(0,eB.jsxs)(eL.Fragment,{children:[s,"","*"]}):s}});return(0,eB.jsx)(oD,{slots:{root:y,input:v},slotProps:c,renderSuffix:e=>(0,eB.jsx)(b,{...w,notched:void 0!==l?l:!!(e.startAdornment||e.filled||e.focused)}),fullWidth:i,inputComponent:o,multiline:a,ref:t,type:h,...d,classes:{...f,notchedOutline:null}})});function o2(e){return ox("MuiFormLabel",e)}o1.muiName="Input";let o5=oS("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),o3=iG("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,"secondary"===r.color&&t.colorSecondary,r.filled&&t.filled]}})(og(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(oF()).map(([t])=>({props:{color:t},style:{[`&.${o5.focused}`]:{color:(e.vars||e).palette[t].main}}})),{props:{},style:{[`&.${o5.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${o5.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),o4=iG("span",{name:"MuiFormLabel",slot:"Asterisk"})(og(({theme:e})=>({[`&.${o5.error}`]:{color:(e.vars||e).palette.error.main}}))),o6=eL.forwardRef(function(e,t){let r=iX({props:e,name:"MuiFormLabel"}),{children:n,className:i,color:o,component:s="label",disabled:a,error:l,filled:u,focused:c,required:h,...d}=r,f=i9({props:r,muiFormControl:oe(),states:["color","required","focused","disabled","error","filled"]}),p={...r,color:f.color||"primary",component:s,disabled:f.disabled,error:f.error,filled:f.filled,focused:f.focused,required:f.required},g=(e=>{let{classes:t,color:r,focused:n,disabled:i,error:o,filled:s,required:a}=e;return tT({root:["root",`color${rG(r)}`,i&&"disabled",o&&"error",s&&"filled",n&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]},o2,t)})(p);return(0,eB.jsxs)(o3,{as:s,ownerState:p,className:(0,tA.default)(g.root,i),ref:t,...d,children:[n,f.required&&(0,eB.jsxs)(o4,{ownerState:p,"aria-hidden":!0,className:g.asterisk,children:["","*"]})]})});function o8(e){return ox("MuiInputLabel",e)}oS("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);let o9=iG(o6,{shouldForwardProp:e=>iK(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[{[`& .${o5.asterisk}`]:t.asterisk},t.root,r.formControl&&t.formControl,"small"===r.size&&t.sizeSmall,r.shrink&&t.shrink,!r.disableAnimation&&t.animated,r.focused&&t.focused,t[r.variant]]}})(og(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:t})=>"filled"===e&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:t,size:r})=>"filled"===e&&t.shrink&&"small"===r,style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:t})=>"outlined"===e&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),o7=eL.forwardRef(function(e,t){let r=iX({name:"MuiInputLabel",props:e}),{disableAnimation:n=!1,margin:i,shrink:o,variant:s,className:a,...l}=r,u=oe(),c=o;void 0===c&&u&&(c=u.filled||u.focused||u.adornedStart);let h=i9({props:r,muiFormControl:u,states:["size","variant","required","focused"]}),d={...r,disableAnimation:n,formControl:u,shrink:c,size:h.size,variant:h.variant,required:h.required,focused:h.focused},f=(e=>{let{classes:t,formControl:r,size:n,shrink:i,disableAnimation:o,variant:s,required:a}=e,l=tT({root:["root",r&&"formControl",!o&&"animated",i&&"shrink",n&&"medium"!==n&&`size${rG(n)}`,s],asterisk:[a&&"asterisk"]},o8,t);return{...t,...l}})(d);return(0,eB.jsx)(o9,{"data-shrink":c,ref:t,className:(0,tA.default)(f.root,a),...l,ownerState:d,classes:f})}),se=function(e,t){return eL.isValidElement(e)&&-1!==t.indexOf(e.type.muiName??e.type?._payload?.value?.muiName)};function st(e){return ox("MuiFormControl",e)}oS("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);let sr=iG("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[`margin${rG(r.margin)}`],r.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),sn=eL.forwardRef(function(e,t){let r,n=iX({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:h=!1,hiddenLabel:d=!1,margin:f="none",required:p=!1,size:g="medium",variant:m="outlined",...y}=n,v={...n,color:s,component:a,disabled:l,error:u,fullWidth:h,hiddenLabel:d,margin:f,required:p,size:g,variant:m},b=(e=>{let{classes:t,margin:r,fullWidth:n}=e;return tT({root:["root","none"!==r&&`margin${rG(r)}`,n&&"fullWidth"]},st,t)})(v),[w,x]=eL.useState(()=>{let e=!1;return i&&eL.Children.forEach(i,t=>{if(!se(t,["Input","Select"]))return;let r=se(t,["Select"])?t.props.input:t;r&&r.props.startAdornment&&(e=!0)}),e}),[S,C]=eL.useState(()=>{let e=!1;return i&&eL.Children.forEach(i,t=>{se(t,["Input","Select"])&&(oy(t.props,!0)||oy(t.props.inputProps,!0))&&(e=!0)}),e}),[k,_]=eL.useState(!1);l&&k&&_(!1);let A=void 0===c||l?k:c;eL.useRef(!1);let T=eL.useCallback(()=>{C(!0)},[]),E=eL.useCallback(()=>{C(!1)},[]),I=eL.useMemo(()=>({adornedStart:w,setAdornedStart:x,color:s,disabled:l,error:u,filled:S,focused:A,fullWidth:h,hiddenLabel:d,size:g,onBlur:()=>{_(!1)},onFocus:()=>{_(!0)},onEmpty:E,onFilled:T,registerEffect:r,required:p,variant:m}),[w,s,l,u,S,A,h,d,r,E,T,p,g,m]);return(0,eB.jsx)(i7.Provider,{value:I,children:(0,eB.jsx)(sr,{as:a,ownerState:v,className:(0,tA.default)(b.root,o),ref:t,...y,children:i})})});function si(e){return ox("MuiFormHelperText",e)}let so=oS("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),ss=iG("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.size&&t[`size${rG(r.size)}`],r.contained&&t.contained,r.filled&&t.filled]}})(og(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${so.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${so.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),sa=eL.forwardRef(function(e,t){let r=iX({props:e,name:"MuiFormHelperText"}),{children:n,className:i,component:o="p",disabled:s,error:a,filled:l,focused:u,margin:c,required:h,variant:d,...f}=r,p=i9({props:r,muiFormControl:oe(),states:["variant","size","disabled","error","filled","focused","required"]}),g={...r,component:o,contained:"filled"===p.variant||"outlined"===p.variant,variant:p.variant,size:p.size,disabled:p.disabled,error:p.error,filled:p.filled,focused:p.focused,required:p.required};delete g.ownerState;let m=(e=>{let{classes:t,contained:r,size:n,disabled:i,error:o,filled:s,focused:a,required:l}=e;return tT({root:["root",i&&"disabled",o&&"error",n&&`size${rG(n)}`,r&&"contained",a&&"focused",s&&"filled",l&&"required"]},si,t)})(g);return(0,eB.jsx)(ss,{as:o,className:(0,tA.default)(m.root,i),ref:t,...f,ownerState:g,children:" "===n?G||(G=(0,eB.jsx)("span",{className:"notranslate","aria-hidden":!0,children:""})):n})});function sl(e){return parseInt(eL.version,10)>=19?e?.props?.ref||null:e?.ref||null}let su=eL.createContext(),sc=function(e){let{elementType:t,externalSlotProps:r,ownerState:n,skipResolvingSlotProps:i=!1,...o}=e,s=i?{}:oG(r,n),{props:a,internalRef:l}=oX({...o,externalSlotProps:s}),u=iZ(l,s?.ref,e.additionalProps?.ref);return oK(t,{...a,ref:u},n)},sh=eL.createContext({});function sd(e){return ox("MuiList",e)}oS("MuiList",["root","padding","dense","subheader"]);let sf=iG("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,!r.disablePadding&&t.padding,r.dense&&t.dense,r.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),sp=eL.forwardRef(function(e,t){let r=iX({props:e,name:"MuiList"}),{children:n,className:i,component:o="ul",dense:s=!1,disablePadding:a=!1,subheader:l,...u}=r,c=eL.useMemo(()=>({dense:s}),[s]),h={...r,component:o,dense:s,disablePadding:a},d=(e=>{let{classes:t,disablePadding:r,dense:n,subheader:i}=e;return tT({root:["root",!r&&"padding",n&&"dense",i&&"subheader"]},sd,t)})(h);return(0,eB.jsx)(sh.Provider,{value:c,children:(0,eB.jsxs)(sf,{as:o,className:(0,tA.default)(d.root,i),ref:t,ownerState:h,...u,children:[l,n]})})}),sg=function(e){let t=e.activeElement;for(;t?.shadowRoot?.activeElement!=null;)t=t.shadowRoot.activeElement;return t};function sm(e=window){let t=e.document.documentElement.clientWidth;return e.innerWidth-t}function sy(e,t,r){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r?null:e.firstChild}function sv(e,t,r){return e===t?r?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r?null:e.lastChild}function sb(e,t){if(void 0===t)return!0;let r=e.innerText;return void 0===r&&(r=e.textContent),0!==(r=r.trim().toLowerCase()).length&&(t.repeating?r[0]===t.keys[0]:r.startsWith(t.keys.join("")))}function sw(e,t,r,n,i,o){let s=!1,a=i(e,t,!!t&&r);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}let t=!n&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&sb(a,o)&&!t)return a.focus(),!0;a=i(e,a,r)}return!1}let sx=eL.forwardRef(function(e,t){let{actions:r,autoFocus:n=!1,autoFocusItem:i=!1,children:o,className:s,disabledItemsFocusable:a=!1,disableListWrap:l=!1,onKeyDown:u,variant:c="selectedMenu",...h}=e,d=eL.useRef(null),f=eL.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});i0(()=>{n&&d.current.focus()},[n]),eL.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(e,{direction:t})=>{let r=!d.current.style.width;if(e.clientHeight<d.current.clientHeight&&r){let r=`${sm(i5(e))}px`;d.current.style["rtl"===t?"paddingLeft":"paddingRight"]=r,d.current.style.width=`calc(100% + ${r})`}return d.current}}),[]);let p=iZ(d,t),g=-1;eL.Children.forEach(o,(e,t)=>{if(!eL.isValidElement(e)){g===t&&(g+=1)>=o.length&&(g=-1);return}e.props.disabled||("selectedMenu"===c&&e.props.selected?g=t:-1===g&&(g=t)),g===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(g+=1)>=o.length&&(g=-1)});let m=eL.Children.map(o,(e,t)=>{if(t===g){let t={};return i&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===c&&(t.tabIndex=0),eL.cloneElement(e,t)}return e});return(0,eB.jsx)(sp,{role:"menu",ref:p,className:s,onKeyDown:e=>{let t=d.current,r=e.key;if(e.ctrlKey||e.metaKey||e.altKey){u&&u(e);return}let n=sg(i2(t));if("ArrowDown"===r)e.preventDefault(),sw(t,n,l,a,sy);else if("ArrowUp"===r)e.preventDefault(),sw(t,n,l,a,sv);else if("Home"===r)e.preventDefault(),sw(t,null,l,a,sy);else if("End"===r)e.preventDefault(),sw(t,null,l,a,sv);else if(1===r.length){let i=f.current,o=r.toLowerCase(),s=performance.now();i.keys.length>0&&(s-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=s,i.keys.push(o);let l=n&&!i.repeating&&sb(n,i);i.previousKeyMatched&&(l||sw(t,n,!1,a,sy,i))?e.preventDefault():i.previousKeyMatched=!1}u&&u(e)},tabIndex:n?0:-1,...h,children:m})}),sS={};function sC(e,t){let r=eL.useRef(sS);return r.current===sS&&(r.current=e(t)),r}let sk=[];class s_{static create(){return new s_}currentId=null;start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function sA(){var e;let t=sC(s_.create).current;return e=t.disposeEffect,eL.useEffect(e,sk),t}function sT(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}function sE(e,t){return(sE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function sI(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,sE(e,t)}var sD=e.i(74080);let sF=eL.default.createContext(null);var sN="unmounted",sP="exited",sR="entering",sO="entered",sM="exiting",sB=function(e){function t(t,r){var n,i=e.call(this,t,r)||this,o=r&&!r.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?o?(n=sP,i.appearStatus=sR):n=sO:n=t.unmountOnExit||t.mountOnEnter?sN:sP,i.state={status:n},i.nextCallback=null,i}sI(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===sN?{status:sP}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==sR&&r!==sO&&(t=sR):(r===sR||r===sO)&&(t=sM)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===sR){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:sD.default.findDOMNode(this);r&&r.scrollTop}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===sP&&this.setState({status:sN})},r.performEnter=function(e){var t=this,r=this.props.enter,n=this.context?this.context.isMounting:e,i=this.props.nodeRef?[n]:[sD.default.findDOMNode(this),n],o=i[0],s=i[1],a=this.getTimeouts(),l=n?a.appear:a.enter;(e||r)&&1?(this.props.onEnter(o,s),this.safeSetState({status:sR},function(){t.props.onEntering(o,s),t.onTransitionEnd(l,function(){t.safeSetState({status:sO},function(){t.props.onEntered(o,s)})})})):this.safeSetState({status:sO},function(){t.props.onEntered(o)})},r.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),n=this.props.nodeRef?void 0:sD.default.findDOMNode(this);t?(this.props.onExit(n),this.safeSetState({status:sM},function(){e.props.onExiting(n),e.onTransitionEnd(r.exit,function(){e.safeSetState({status:sP},function(){e.props.onExited(n)})})})):this.safeSetState({status:sP},function(){e.props.onExited(n)})},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:sD.default.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(!r||n)return void setTimeout(this.nextCallback,0);if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)},r.render=function(){var e=this.state.status;if(e===sN)return null;var t=this.props,r=t.children,n=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,sT(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return eL.default.createElement(sF.Provider,{value:null},"function"==typeof r?r(e,n):eL.default.cloneElement(eL.default.Children.only(r),n))},t}(eL.default.Component);function sL(){}function sj(e,t){let{timeout:r,easing:n,style:i={}}=e;return{duration:i.transitionDuration??("number"==typeof r?r:r[t.mode]||0),easing:i.transitionTimingFunction??("object"==typeof n?n[t.mode]:n),delay:i.transitionDelay}}function sz(e){return`scale(${e}, ${e**2})`}sB.contextType=sF,sB.propTypes={},sB.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:sL,onEntering:sL,onEntered:sL,onExit:sL,onExiting:sL,onExited:sL},sB.UNMOUNTED=sN,sB.EXITED=sP,sB.ENTERING=sR,sB.ENTERED=sO,sB.EXITING=sM;let sV={entering:{opacity:1,transform:sz(1)},entered:{opacity:1,transform:"none"}},sU="u">typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),s$=eL.forwardRef(function(e,t){let{addEndListener:r,appear:n=!0,children:i,easing:o,in:s,onEnter:a,onEntered:l,onEntering:u,onExit:c,onExited:h,onExiting:d,style:f,timeout:p="auto",TransitionComponent:g=sB,...m}=e,y=sA(),v=eL.useRef(),b=oo(),w=eL.useRef(null),x=iZ(w,sl(i),t),S=e=>t=>{if(e){let r=w.current;void 0===t?e(r):e(r,t)}},C=S(u),k=S((e,t)=>{let r;e.scrollTop;let{duration:n,delay:i,easing:s}=sj({style:f,timeout:p,easing:o},{mode:"enter"});"auto"===p?v.current=r=b.transitions.getAutoHeightDuration(e.clientHeight):r=n,e.style.transition=[b.transitions.create("opacity",{duration:r,delay:i}),b.transitions.create("transform",{duration:sU?r:.666*r,delay:i,easing:s})].join(","),a&&a(e,t)}),_=S(l),A=S(d),T=S(e=>{let t,{duration:r,delay:n,easing:i}=sj({style:f,timeout:p,easing:o},{mode:"exit"});"auto"===p?v.current=t=b.transitions.getAutoHeightDuration(e.clientHeight):t=r,e.style.transition=[b.transitions.create("opacity",{duration:t,delay:n}),b.transitions.create("transform",{duration:sU?t:.666*t,delay:sU?n:n||.333*t,easing:i})].join(","),e.style.opacity=0,e.style.transform=sz(.75),c&&c(e)}),E=S(h);return(0,eB.jsx)(g,{appear:n,in:s,nodeRef:w,onEnter:k,onEntered:_,onEntering:C,onExit:T,onExited:E,onExiting:A,addEndListener:e=>{"auto"===p&&y.start(v.current||0,e),r&&r(w.current,e)},timeout:"auto"===p?null:p,...m,children:(e,{ownerState:t,...r})=>eL.cloneElement(i,{style:{opacity:0,transform:sz(.75),visibility:"exited"!==e||s?void 0:"hidden",...sV[e],...f,...i.props.style},ref:x,...r})})});function sW(e){let t=[],r=[];return Array.from(e.querySelectorAll('input,select,textarea,a[href],button,[tabindex],audio[controls],video[controls],[contenteditable]:not([contenteditable="false"])')).forEach((e,n)=>{let i,o=Number.isNaN(i=parseInt(e.getAttribute("tabindex")||"",10))?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:i;-1===o||e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type||!e.name)return!1;let t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`),r=t(`[name="${e.name}"]:checked`);return r||(r=t(`[name="${e.name}"]`)),r!==e}(e)||(0===o?t.push(e):r.push({documentOrder:n,tabIndex:o,node:e}))}),r.sort((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex).map(e=>e.node).concat(t)}function sq(){return!0}s$&&(s$.muiSupportAuto=!0);let sK=function(e){let{children:t,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:o=sW,isEnabled:s=sq,open:a}=e,l=eL.useRef(!1),u=eL.useRef(null),c=eL.useRef(null),h=eL.useRef(null),d=eL.useRef(null),f=eL.useRef(!1),p=eL.useRef(null),g=iZ(sl(t),p),m=eL.useRef(null);eL.useEffect(()=>{a&&p.current&&(f.current=!r)},[r,a]),eL.useEffect(()=>{if(!a||!p.current)return;let e=sg(i2(p.current));return!p.current.contains(e)&&(p.current.hasAttribute("tabIndex")||p.current.setAttribute("tabIndex","-1"),f.current&&p.current.focus()),()=>{i||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}},[a]),eL.useEffect(()=>{if(!a||!p.current)return;let e=i2(p.current),t=t=>{m.current=t,n||!s()||"Tab"!==t.key||sg(e)===p.current&&t.shiftKey&&(l.current=!0,c.current&&c.current.focus())},r=()=>{let t=p.current;if(null===t)return;let r=sg(e);if(!e.hasFocus()||!s()||l.current){l.current=!1;return}if(t.contains(r)||n&&r!==u.current&&r!==c.current)return;if(r!==d.current)d.current=null;else if(null!==d.current)return;if(!f.current)return;let i=[];if((r===u.current||r===c.current)&&(i=o(p.current)),i.length>0){let e=!!(m.current?.shiftKey&&m.current?.key==="Tab"),t=i[0],r=i[i.length-1];"string"!=typeof t&&"string"!=typeof r&&(e?r.focus():t.focus())}else t.focus()};e.addEventListener("focusin",r),e.addEventListener("keydown",t,!0);let i=setInterval(()=>{let t=sg(e);t&&"BODY"===t.tagName&&r()},50);return()=>{clearInterval(i),e.removeEventListener("focusin",r),e.removeEventListener("keydown",t,!0)}},[r,n,i,s,a,o]);let y=e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0};return(0,eB.jsxs)(eL.Fragment,{children:[(0,eB.jsx)("div",{tabIndex:a?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),eL.cloneElement(t,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0,d.current=e.target;let r=t.props.onFocus;r&&r(e)}}),(0,eB.jsx)("div",{tabIndex:a?0:-1,onFocus:y,ref:c,"data-testid":"sentinelEnd"})]})};function sG(e,t){"function"==typeof e?e(t):e&&(e.current=t)}let sH=eL.forwardRef(function(e,t){let{children:r,container:n,disablePortal:i=!1}=e,[o,s]=eL.useState(null),a=iZ(eL.isValidElement(r)?sl(r):null,t);return(i0(()=>{i||s(("function"==typeof n?n():n)||document.body)},[n,i]),i0(()=>{if(o&&!i)return sG(t,o),()=>{sG(t,null)}},[t,o,i]),i)?eL.isValidElement(r)?eL.cloneElement(r,{ref:a}):r:o?sD.createPortal(r,o):o}),sQ={entering:{opacity:1},entered:{opacity:1}},sX=eL.forwardRef(function(e,t){let r=oo(),n={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:o=!0,children:s,easing:a,in:l,onEnter:u,onEntered:c,onEntering:h,onExit:d,onExited:f,onExiting:p,style:g,timeout:m=n,TransitionComponent:y=sB,...v}=e,b=eL.useRef(null),w=iZ(b,sl(s),t),x=e=>t=>{if(e){let r=b.current;void 0===t?e(r):e(r,t)}},S=x(h),C=x((e,t)=>{e.scrollTop;let n=sj({style:g,timeout:m,easing:a},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),u&&u(e,t)}),k=x(c),_=x(p),A=x(e=>{let t=sj({style:g,timeout:m,easing:a},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),d&&d(e)}),T=x(f);return(0,eB.jsx)(y,{appear:o,in:l,nodeRef:b,onEnter:C,onEntered:k,onEntering:S,onExit:A,onExited:T,onExiting:_,addEndListener:e=>{i&&i(b.current,e)},timeout:m,...v,children:(e,{ownerState:t,...r})=>eL.cloneElement(s,{style:{opacity:0,visibility:"exited"!==e||l?void 0:"hidden",...sQ[e],...g,...s.props.style},ref:w,...r})})});function sJ(e){return ox("MuiBackdrop",e)}oS("MuiBackdrop",["root","invisible"]);let sY=iG("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),sZ=eL.forwardRef(function(e,t){let r=iX({props:e,name:"MuiBackdrop"}),{children:n,className:i,component:o="div",invisible:s=!1,open:a,components:l={},componentsProps:u={},slotProps:c={},slots:h={},TransitionComponent:d,transitionDuration:f,...p}=r,g={...r,component:o,invisible:s},m=(e=>{let{classes:t,invisible:r}=e;return tT({root:["root",r&&"invisible"]},sJ,t)})(g),y={component:o,slots:{transition:d,root:l.Root,...h},slotProps:{...u,...c}},[v,b]=oJ("root",{elementType:sY,externalForwardedProps:y,className:(0,tA.default)(m.root,i),ownerState:g}),[w,x]=oJ("transition",{elementType:sX,externalForwardedProps:y,ownerState:g});return(0,eB.jsx)(w,{in:a,timeout:f,...p,...x,children:(0,eB.jsx)(v,{"aria-hidden":!0,...b,ref:t,children:n})})});function s0(...e){return e.reduce((e,t)=>null==t?e:function(...r){e.apply(this,r),t.apply(this,r)},()=>{})}function s1(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function s2(e){return parseFloat(i5(e).getComputedStyle(e).paddingRight)||0}function s5(e,t,r,n,i){let o=[t,r,...n];[].forEach.call(e.children,e=>{let t,r,n=!o.includes(e),s=(t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),r="INPUT"===e.tagName&&"hidden"===e.getAttribute("type"),!t&&!r);n&&s&&s1(e,i)})}function s3(e,t){let r=-1;return e.some((e,n)=>!!t(e)&&(r=n,!0)),r}let s4=()=>{},s6=new class{constructor(){this.modals=[],this.containers=[]}add(e,t){let r,n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&s1(e.modalRef,!1);let i=(r=[],[].forEach.call(t.children,e=>{"true"===e.getAttribute("aria-hidden")&&r.push(e)}),r);s5(t,e.mount,e.modalRef,i,!0);let o=s3(this.containers,e=>e.container===t);return -1!==o?this.containers[o].modals.push(e):this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:i}),n}mount(e,t){let r=s3(this.containers,t=>t.modals.includes(e)),n=this.containers[r];n.restore||(n.restore=function(e,t){let r=[],n=e.container;if(!t.disableScrollLock){let e,t;if((t=i2(n)).body===n?i5(n).innerWidth>t.documentElement.clientWidth:n.scrollHeight>n.clientHeight){let e=sm(i5(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${s2(n)+e}px`;let t=i2(n).querySelectorAll(".mui-fixed");[].forEach.call(t,t=>{r.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${s2(t)+e}px`})}if(n.parentNode instanceof DocumentFragment)e=i2(n).body;else{let t=n.parentElement,r=i5(n);e=t?.nodeName==="HTML"&&"scroll"===r.getComputedStyle(t).overflowY?t:n}r.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{r.forEach(({value:e,el:t,property:r})=>{e?t.style.setProperty(r,e):t.style.removeProperty(r)})}}(n,t))}remove(e,t=!0){let r=this.modals.indexOf(e);if(-1===r)return r;let n=s3(this.containers,t=>t.modals.includes(e)),i=this.containers[n];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(r,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&s1(e.modalRef,t),s5(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(n,1);else{let e=i.modals[i.modals.length-1];e.modalRef&&s1(e.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}},s8=function(e){let{container:t,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:s,children:a,onClose:l,open:u,rootRef:c}=e,h=eL.useRef({}),d=eL.useRef(null),f=eL.useRef(null),p=iZ(f,c),[g,m]=eL.useState(!u),y=!!a&&a.props.hasOwnProperty("in"),v=!0;("false"===e["aria-hidden"]||!1===e["aria-hidden"])&&(v=!1);let b=()=>(h.current.modalRef=f.current,h.current.mount=d.current,h.current),w=()=>{s6.mount(b(),{disableScrollLock:n}),f.current&&(f.current.scrollTop=0)},x=i1(()=>{let e=("function"==typeof t?t():t)||i2(d.current).body;s6.add(b(),e),f.current&&w()}),S=()=>s6.isTopModal(b()),C=i1(e=>{d.current=e,e&&(u&&S()?w():f.current&&s1(f.current,v))}),k=eL.useCallback(()=>{s6.remove(b(),v)},[v]);return eL.useEffect(()=>()=>{k()},[k]),eL.useEffect(()=>{u?x():y&&i||k()},[u,k,y,i,x]),{getRootProps:(t={})=>{let n=oH(e);delete n.onTransitionEnter,delete n.onTransitionExited;let i={...n,...t};return{role:"presentation",...i,onKeyDown:e=>{i.onKeyDown?.(e),"Escape"===e.key&&229!==e.which&&S()&&!r&&(e.stopPropagation(),l&&l(e,"escapeKeyDown"))},ref:p}},getBackdropProps:(e={})=>({"aria-hidden":!0,...e,onClick:t=>{e.onClick?.(t),t.target===t.currentTarget&&l&&l(t,"backdropClick")},open:u}),getTransitionProps:()=>({onEnter:s0(()=>{m(!1),o&&o()},a?.props.onEnter??s4),onExited:s0(()=>{m(!0),s&&s(),i&&k()},a?.props.onExited??s4)}),rootRef:p,portalRef:C,isTopModal:S,exited:g,hasTransition:y}};function s9(e){return ox("MuiModal",e)}oS("MuiModal",["root","hidden","backdrop"]);let s7=iG("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,!r.open&&r.exited&&t.hidden]}})(og(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),ae=iG(sZ,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),at=eL.forwardRef(function(e,t){let r=iX({name:"MuiModal",props:e}),{BackdropComponent:n=ae,BackdropProps:i,classes:o,className:s,closeAfterTransition:a=!1,children:l,container:u,component:c,components:h={},componentsProps:d={},disableAutoFocus:f=!1,disableEnforceFocus:p=!1,disableEscapeKeyDown:g=!1,disablePortal:m=!1,disableRestoreFocus:y=!1,disableScrollLock:v=!1,hideBackdrop:b=!1,keepMounted:w=!1,onClose:x,onTransitionEnter:S,onTransitionExited:C,open:k,slotProps:_={},slots:A={},theme:T,...E}=r,I={...r,closeAfterTransition:a,disableAutoFocus:f,disableEnforceFocus:p,disableEscapeKeyDown:g,disablePortal:m,disableRestoreFocus:y,disableScrollLock:v,hideBackdrop:b,keepMounted:w},{getRootProps:D,getBackdropProps:F,getTransitionProps:N,portalRef:P,isTopModal:R,exited:O,hasTransition:M}=s8({...I,rootRef:t}),B={...I,exited:O},L=(e=>{let{open:t,exited:r,classes:n}=e;return tT({root:["root",!t&&r&&"hidden"],backdrop:["backdrop"]},s9,n)})(B),j={};if(void 0===l.props.tabIndex&&(j.tabIndex="-1"),M){let{onEnter:e,onExited:t}=N();j.onEnter=e,j.onExited=t}let z={slots:{root:h.Root,backdrop:h.Backdrop,...A},slotProps:{...d,..._}},[V,U]=oJ("root",{ref:t,elementType:s7,externalForwardedProps:{...z,...E,component:c},getSlotProps:D,ownerState:B,className:(0,tA.default)(s,L?.root,!B.open&&B.exited&&L?.hidden)}),[$,W]=oJ("backdrop",{ref:i?.ref,elementType:n,externalForwardedProps:z,shouldForwardComponentProp:!0,additionalProps:i,getSlotProps:e=>F({...e,onClick:t=>{e?.onClick&&e.onClick(t)}}),className:(0,tA.default)(i?.className,L?.backdrop),ownerState:B});return w||k||M&&!O?(0,eB.jsx)(sH,{ref:P,container:u,disablePortal:m,children:(0,eB.jsxs)(V,{...U,children:[!b&&n?(0,eB.jsx)($,{...W}):null,(0,eB.jsx)(sK,{disableEnforceFocus:p,disableAutoFocus:f,disableRestoreFocus:y,isEnabled:R,open:k,children:eL.cloneElement(l,j)})]})}):null});function ar(e){return ox("MuiPaper",e)}oS("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);let an=iG("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,"elevation"===r.variant&&t[`elevation${r.elevation}`]]}})(og(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),ai=eL.forwardRef(function(e,t){let r=iX({props:e,name:"MuiPaper"}),n=oo(),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:l="elevation",...u}=r,c={...r,component:o,elevation:s,square:a,variant:l},h=(e=>{let{square:t,elevation:r,variant:n,classes:i}=e;return tT({root:["root",n,!t&&"rounded","elevation"===n&&`elevation${r}`]},ar,i)})(c);return(0,eB.jsx)(an,{as:o,ownerState:c,className:(0,tA.default)(h.root,i),ref:t,...u,style:{..."elevation"===l&&{"--Paper-shadow":(n.vars||n).shadows[s],...n.vars&&{"--Paper-overlay":n.vars.overlays?.[s]},...!n.vars&&"dark"===n.palette.mode&&{"--Paper-overlay":`linear-gradient(${n2("#fff",iF(s))}, ${n2("#fff",iF(s))})`}},...u.style}})});function ao(e){return ox("MuiPopover",e)}function as(e,t){let r=0;return"number"==typeof t?r=t:"center"===t?r=e.height/2:"bottom"===t&&(r=e.height),r}function aa(e,t){let r=0;return"number"==typeof t?r=t:"center"===t?r=e.width/2:"right"===t&&(r=e.width),r}function al(e){return[e.horizontal,e.vertical].map(e=>"number"==typeof e?`${e}px`:e).join(" ")}function au(e){return"function"==typeof e?e():e}oS("MuiPopover",["root","paper"]);let ac=iG(at,{name:"MuiPopover",slot:"Root"})({}),ah=iG(ai,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),ad=eL.forwardRef(function(e,t){let r=iX({props:e,name:"MuiPopover"}),{action:n,anchorEl:i,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:s,anchorReference:a="anchorEl",children:l,className:u,container:c,elevation:h=8,marginThreshold:d=16,open:f,PaperProps:p={},slots:g={},slotProps:m={},transformOrigin:y={vertical:"top",horizontal:"left"},TransitionComponent:v,transitionDuration:b="auto",TransitionProps:w={},disableScrollLock:x=!1,...S}=r,C=eL.useRef(),k={...r,anchorOrigin:o,anchorReference:a,elevation:h,marginThreshold:d,transformOrigin:y,TransitionComponent:v,transitionDuration:b,TransitionProps:w},_=(e=>{let{classes:t}=e;return tT({root:["root"],paper:["paper"]},ao,t)})(k),A=eL.useCallback(()=>{if("anchorPosition"===a)return s;let e=au(i),t=(e&&1===e.nodeType?e:i2(C.current).body).getBoundingClientRect();return{top:t.top+as(t,o.vertical),left:t.left+aa(t,o.horizontal)}},[i,o.horizontal,o.vertical,s,a]),T=eL.useCallback(e=>({vertical:as(e,y.vertical),horizontal:aa(e,y.horizontal)}),[y.horizontal,y.vertical]),E=eL.useCallback(e=>{let t={width:e.offsetWidth,height:e.offsetHeight},r=T(t);if("none"===a)return{top:null,left:null,transformOrigin:al(r)};let n=A(),o=n.top-r.vertical,s=n.left-r.horizontal,l=o+t.height,u=s+t.width,c=i5(au(i)),h=c.innerHeight-d,f=c.innerWidth-d;if(null!==d&&o<d){let e=o-d;o-=e,r.vertical+=e}else if(null!==d&&l>h){let e=l-h;o-=e,r.vertical+=e}if(null!==d&&s<d){let e=s-d;s-=e,r.horizontal+=e}else if(u>f){let e=u-f;s-=e,r.horizontal+=e}return{top:`${Math.round(o)}px`,left:`${Math.round(s)}px`,transformOrigin:al(r)}},[i,a,A,T,d]),[I,D]=eL.useState(f),F=eL.useCallback(()=>{let e=C.current;if(!e)return;let t=E(e);null!==t.top&&e.style.setProperty("top",t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,D(!0)},[E]);eL.useEffect(()=>(x&&window.addEventListener("scroll",F),()=>window.removeEventListener("scroll",F)),[i,x,F]),eL.useEffect(()=>{f&&F()}),eL.useImperativeHandle(n,()=>f?{updatePosition:()=>{F()}}:null,[f,F]),eL.useEffect(()=>{if(!f)return;let e=iY(()=>{F()}),t=i5(au(i));return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[i,f,F]);let N=b,P={slots:{transition:v,...g},slotProps:{transition:w,paper:p,...m}},[R,O]=oJ("transition",{elementType:s$,externalForwardedProps:P,ownerState:k,getSlotProps:e=>({...e,onEntering:(t,r)=>{e.onEntering?.(t,r),F()},onExited:t=>{e.onExited?.(t),D(!1)}}),additionalProps:{appear:!0,in:f}});"auto"!==b||R.muiSupportAuto||(N=void 0);let M=c||(i?i2(au(i)).body:void 0),[B,{slots:L,slotProps:j,...z}]=oJ("root",{ref:t,elementType:ac,externalForwardedProps:{...P,...S},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:g.backdrop},slotProps:{backdrop:function(e,t){if(!e)return t;function r(e,t){let r={};return Object.keys(t).forEach(n=>{var i;let o;i=t[n],o=n.charCodeAt(2),"o"===n[0]&&"n"===n[1]&&o>=65&&o<=90&&"function"==typeof i&&"function"==typeof e[n]&&(r[n]=(...r)=>{e[n](...r),t[n](...r)})}),r}if("function"==typeof e||"function"==typeof t)return n=>{let i="function"==typeof t?t(n):t,o="function"==typeof e?e({...n,...i}):e,s=(0,tA.default)(n?.className,i?.className,o?.className),a=r(o,i);return{...i,...o,...a,...!!s&&{className:s},...i?.style&&o?.style&&{style:{...i.style,...o.style}},...i?.sx&&o?.sx&&{sx:[...Array.isArray(i.sx)?i.sx:[i.sx],...Array.isArray(o.sx)?o.sx:[o.sx]]}}};let n=r(e,t),i=(0,tA.default)(t?.className,e?.className);return{...t,...e,...n,...!!i&&{className:i},...t?.style&&e?.style&&{style:{...t.style,...e.style}},...t?.sx&&e?.sx&&{sx:[...Array.isArray(t.sx)?t.sx:[t.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}("function"==typeof m.backdrop?m.backdrop(k):m.backdrop,{invisible:!0})},container:M,open:f},ownerState:k,className:(0,tA.default)(_.root,u)}),[V,U]=oJ("paper",{ref:C,className:_.paper,elementType:ah,externalForwardedProps:P,shouldForwardComponentProp:!0,additionalProps:{elevation:h,style:I?void 0:{opacity:0}},ownerState:k});return(0,eB.jsx)(B,{...z,...!iJ(B)&&{slots:L,slotProps:j,disableScrollLock:x},children:(0,eB.jsx)(R,{...O,timeout:N,children:(0,eB.jsx)(V,{...U,children:l})})})});function af(e){return ox("MuiMenu",e)}oS("MuiMenu",["root","paper","list"]);let ap={vertical:"top",horizontal:"right"},ag={vertical:"top",horizontal:"left"},am=iG(ad,{shouldForwardProp:e=>iK(e)||"classes"===e,name:"MuiMenu",slot:"Root"})({}),ay=iG(ah,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),av=iG(sx,{name:"MuiMenu",slot:"List"})({outline:0}),ab=eL.forwardRef(function(e,t){let r=iX({props:e,name:"MuiMenu"}),{autoFocus:n=!0,children:i,className:o,disableAutoFocusItem:s=!1,MenuListProps:a={},onClose:l,open:u,PaperProps:c={},PopoverClasses:h,transitionDuration:d="auto",TransitionProps:{onEntering:f,...p}={},variant:g="selectedMenu",slots:m={},slotProps:y={},...v}=r,b=eL.useContext(su)??!1,w={...r,autoFocus:n,disableAutoFocusItem:s,MenuListProps:a,onEntering:f,PaperProps:c,transitionDuration:d,TransitionProps:p,variant:g},x=(e=>{let{classes:t}=e;return tT({root:["root"],paper:["paper"],list:["list"]},af,t)})(w),S=n&&!s&&u,C=eL.useRef(null),k=-1;eL.Children.map(i,(e,t)=>{eL.isValidElement(e)&&(e.props.disabled||("selectedMenu"===g&&e.props.selected?k=t:-1===k&&(k=t)))});let _={slots:m,slotProps:{list:a,transition:p,paper:c,...y}},A=sc({elementType:m.root,externalSlotProps:y.root,ownerState:w,className:[x.root,o]}),[T,E]=oJ("paper",{className:x.paper,elementType:ay,externalForwardedProps:_,shouldForwardComponentProp:!0,ownerState:w}),[I,D]=oJ("list",{className:(0,tA.default)(x.list,a.className),elementType:av,shouldForwardComponentProp:!0,externalForwardedProps:_,getSlotProps:e=>({...e,onKeyDown:t=>{"Tab"===t.key&&(t.preventDefault(),l&&l(t,"tabKeyDown")),e.onKeyDown?.(t)}}),ownerState:w}),F="function"==typeof _.slotProps.transition?_.slotProps.transition(w):_.slotProps.transition;return(0,eB.jsx)(am,{onClose:l,anchorOrigin:{vertical:"bottom",horizontal:b?"right":"left"},transformOrigin:b?ap:ag,slots:{root:m.root,paper:T,backdrop:m.backdrop,...m.transition&&{transition:m.transition}},slotProps:{root:A,paper:E,backdrop:"function"==typeof y.backdrop?y.backdrop(w):y.backdrop,transition:{...F,onEntering:(...e)=>{((e,t)=>{C.current&&C.current.adjustStyleForScrollbar(e,{direction:b?"rtl":"ltr"}),f&&f(e,t)})(...e),F?.onEntering?.(...e)}}},open:u,ref:t,transitionDuration:d,ownerState:w,...v,classes:h,children:(0,eB.jsx)(I,{actions:C,autoFocus:n&&(-1===k||s),autoFocusItem:S,variant:g,...D,children:i})})});function aw(e){return ox("MuiNativeSelect",e)}let ax=oS("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),aS=iG("select",{name:"MuiNativeSelect"})(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${ax.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:e})=>"filled"!==e.variant&&"outlined"!==e.variant,style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),aC=iG(aS,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:iK,overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.select,t[r.variant],r.error&&t.error,{[`&.${ax.multiple}`]:t.multiple}]}})({}),ak=iG("svg",{name:"MuiNativeSelect"})(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${ax.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),a_=iG(ak,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${rG(r.variant)}`],r.open&&t.iconOpen]}})({}),aA=eL.forwardRef(function(e,t){let{className:r,disabled:n,error:i,IconComponent:o,inputRef:s,variant:a="standard",...l}=e,u={...e,disabled:n,variant:a,error:i},c=(e=>{let{classes:t,variant:r,disabled:n,multiple:i,open:o,error:s}=e;return tT({select:["select",r,n&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${rG(r)}`,o&&"iconOpen",n&&"disabled"]},aw,t)})(u);return(0,eB.jsxs)(eL.Fragment,{children:[(0,eB.jsx)(aC,{ownerState:u,className:(0,tA.default)(c.select,r),disabled:n,ref:s||t,...l}),e.multiple?null:(0,eB.jsx)(a_,{as:o,ownerState:u,className:c.icon})]})}),aT=function(e){let{controlled:t,default:r,name:n,state:i="value"}=e,{current:o}=eL.useRef(void 0!==t),[s,a]=eL.useState(r),l=eL.useCallback(e=>{o||a(e)},[]);return[o?t:s,l]};function aE(e){return ox("MuiSelect",e)}let aI=oS("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),aD=iG(aS,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[{[`&.${aI.select}`]:t.select},{[`&.${aI.select}`]:t[r.variant]},{[`&.${aI.error}`]:t.error},{[`&.${aI.multiple}`]:t.multiple}]}})({[`&.${aI.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),aF=iG(ak,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${rG(r.variant)}`],r.open&&t.iconOpen]}})({}),aN=iG("input",{shouldForwardProp:e=>iq(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function aP(e,t){return"object"==typeof t&&null!==t?e===t:String(e)===String(t)}let aR=eL.forwardRef(function(e,t){var r;let n,i,{"aria-describedby":o,"aria-label":s,autoFocus:a,autoWidth:l,children:u,className:c,defaultOpen:h,defaultValue:d,disabled:f,displayEmpty:p,error:g=!1,IconComponent:m,inputRef:y,labelId:v,MenuProps:b={},multiple:w,name:x,onBlur:S,onChange:C,onClose:k,onFocus:_,onKeyDown:A,onMouseDown:T,onOpen:E,open:I,readOnly:D,renderValue:F,required:N,SelectDisplayProps:P={},tabIndex:R,type:O,value:M,variant:B="standard",...L}=e,[j,z]=aT({controlled:M,default:d,name:"Select"}),[V,U]=aT({controlled:I,default:h,name:"Select"}),$=eL.useRef(null),W=eL.useRef(null),[q,K]=eL.useState(null),{current:G}=eL.useRef(null!=I),[Q,X]=eL.useState(),J=iZ(t,y),Y=eL.useCallback(e=>{W.current=e,e&&K(e)},[]),Z=q?.parentNode;eL.useImperativeHandle(J,()=>({focus:()=>{W.current.focus()},node:$.current,value:j}),[j]);let ee=null!==q&&V;eL.useEffect(()=>{if(!ee||!Z||l||"u"<typeof ResizeObserver)return;let e=new ResizeObserver(()=>{X(Z.clientWidth)});return e.observe(Z),()=>{e.disconnect()}},[ee,Z,l]),eL.useEffect(()=>{h&&V&&q&&!G&&(X(l?null:Z.clientWidth),W.current.focus())},[q,l]),eL.useEffect(()=>{a&&W.current.focus()},[a]),eL.useEffect(()=>{if(!v)return;let e=i2(W.current).getElementById(v);if(e){let t=()=>{getSelection().isCollapsed&&W.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}},[v]);let et=(e,t)=>{e?E&&E(t):k&&k(t),G||(X(l?null:Z.clientWidth),U(e))},er=eL.Children.toArray(u);delete L["aria-invalid"];let en=[],ei=!1;(oy({value:j})||p)&&(F?n=F(j):ei=!0);let eo=er.map(e=>{let t;if(!eL.isValidElement(e))return null;if(w){if(!Array.isArray(j))throw Error(rK(2));(t=j.some(t=>aP(t,e.props.value)))&&ei&&en.push(e.props.children)}else(t=aP(j,e.props.value))&&ei&&(i=e.props.children);return eL.cloneElement(e,{"aria-selected":t?"true":"false",onClick:t=>{let r;if(t.currentTarget.hasAttribute("tabindex")){if(w){r=Array.isArray(j)?j.slice():[];let t=j.indexOf(e.props.value);-1===t?r.push(e.props.value):r.splice(t,1)}else r=e.props.value;if(e.props.onClick&&e.props.onClick(t),j!==r&&(z(r),C)){let n=t.nativeEvent||t,i=new n.constructor(n.type,n);Object.defineProperty(i,"target",{writable:!0,value:{value:r,name:x}}),C(i,e)}w||et(!1,t)}},onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})});ei&&(n=w?0===en.length?null:en.reduce((e,t,r)=>(e.push(t),r<en.length-1&&e.push(", "),e),[]):i);let es=Q;!l&&G&&q&&(es=Z.clientWidth);let ea=P.id||(x?`mui-component-select-${x}`:void 0),el={...e,variant:B,value:j,open:ee,error:g},eu=(e=>{let{classes:t,variant:r,disabled:n,multiple:i,open:o,error:s}=e;return tT({select:["select",r,n&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${rG(r)}`,o&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]},aE,t)})(el),ec={...b.PaperProps,..."function"==typeof b.slotProps?.paper?b.slotProps.paper(el):b.slotProps?.paper},eh={...b.MenuListProps,..."function"==typeof b.slotProps?.list?b.slotProps.list(el):b.slotProps?.list},ed=tD();return(0,eB.jsxs)(eL.Fragment,{children:[(0,eB.jsx)(aD,{as:"div",ref:Y,tabIndex:void 0!==R?R:f?null:0,role:"combobox","aria-controls":ee?ed:void 0,"aria-disabled":f?"true":void 0,"aria-expanded":ee?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[v,ea].filter(Boolean).join(" ")||void 0,"aria-describedby":o,"aria-required":N?"true":void 0,"aria-invalid":g?"true":void 0,onKeyDown:e=>{D||([" ","ArrowUp","ArrowDown","Enter"].includes(e.key)&&(e.preventDefault(),et(!0,e)),A?.(e))},onMouseDown:f||D?null:e=>{T?.(e),0===e.button&&(e.preventDefault(),W.current.focus(),et(!0,e))},onBlur:e=>{!ee&&S&&(Object.defineProperty(e,"target",{writable:!0,value:{value:j,name:x}}),S(e))},onFocus:_,...P,ownerState:el,className:(0,tA.default)(P.className,eu.select,c),id:ea,children:null!=(r=n)&&("string"!=typeof r||r.trim())?n:H||(H=(0,eB.jsx)("span",{className:"notranslate","aria-hidden":!0,children:""}))}),(0,eB.jsx)(aN,{"aria-invalid":g,value:Array.isArray(j)?j.join(","):j,name:x,ref:$,"aria-hidden":!0,onChange:e=>{let t=er.find(t=>t.props.value===e.target.value);void 0!==t&&(z(t.props.value),C&&C(e,t))},tabIndex:-1,disabled:f,className:eu.nativeInput,autoFocus:a,required:N,...L,ownerState:el}),(0,eB.jsx)(aF,{as:m,className:eu.icon,ownerState:el}),(0,eB.jsx)(ab,{id:`menu-${x||""}`,anchorEl:Z,open:ee,onClose:e=>{et(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...b,slotProps:{...b.slotProps,list:{"aria-labelledby":v,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:ed,...eh},paper:{...ec,style:{minWidth:es,...null!=ec?ec.style:null}}},children:eo})]})});function aO(e){return ox("MuiSvgIcon",e)}oS("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);let aM=iG("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,"inherit"!==r.color&&t[`color${rG(r.color)}`],t[`fontSize${rG(r.fontSize)}`]]}})(og(({theme:e})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:e.transitions?.create?.("fill",{duration:(e.vars??e).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:e.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:e.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:e.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,e])=>e&&e.main).map(([t])=>({props:{color:t},style:{color:(e.vars??e).palette?.[t]?.main}})),{props:{color:"action"},style:{color:(e.vars??e).palette?.action?.active}},{props:{color:"disabled"},style:{color:(e.vars??e).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),aB=eL.forwardRef(function(e,t){let r=iX({props:e,name:"MuiSvgIcon"}),{children:n,className:i,color:o="inherit",component:s="svg",fontSize:a="medium",htmlColor:l,inheritViewBox:u=!1,titleAccess:c,viewBox:h="0 0 24 24",...d}=r,f=eL.isValidElement(n)&&"svg"===n.type,p={...r,color:o,component:s,fontSize:a,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:f},g={};u||(g.viewBox=h);let m=(e=>{let{color:t,fontSize:r,classes:n}=e;return tT({root:["root","inherit"!==t&&`color${rG(t)}`,`fontSize${rG(r)}`]},aO,n)})(p);return(0,eB.jsxs)(aM,{as:s,className:(0,tA.default)(m.root,i),focusable:"false",color:l,"aria-hidden":!c||void 0,role:c?"img":void 0,ref:t,...g,...d,...f&&n.props,ownerState:p,children:[f?n.props.children:n,c?(0,eB.jsx)("title",{children:c}):null]})});aB.muiName="SvgIcon";let aL=function(e,t){function r(t,r){return(0,eB.jsx)(aB,{"data-testid":void 0,ref:r,...t,children:e})}return r.muiName=aB.muiName,eL.memo(eL.forwardRef(r))}((0,eB.jsx)("path",{d:"M7 10l5 5 5-5z"}),0),aj={name:"MuiSelect",slot:"Root",shouldForwardProp:e=>iK(e)&&"variant"!==e},az=iG(oM,aj)(""),aV=iG(o1,aj)(""),aU=iG(oV,aj)(""),a$=eL.forwardRef(function(e,t){let r=iX({name:"MuiSelect",props:e}),{autoWidth:n=!1,children:i,classes:o={},className:s,defaultOpen:a=!1,displayEmpty:l=!1,IconComponent:u=aL,id:c,input:h,inputProps:d,label:f,labelId:p,MenuProps:g,multiple:m=!1,native:y=!1,onClose:v,onOpen:b,open:w,renderValue:x,SelectDisplayProps:S,variant:C="outlined",...k}=r,_=i9({props:r,muiFormControl:oe(),states:["variant","error"]}),A=_.variant||C,T={...r,variant:A,classes:o},E=(e=>{let{classes:t}=e,r=tT({root:["root"]},aE,t);return{...t,...r}})(T),{root:I,...D}=E,F=h||({standard:(0,eB.jsx)(az,{ownerState:T}),outlined:(0,eB.jsx)(aV,{label:f,ownerState:T}),filled:(0,eB.jsx)(aU,{ownerState:T})})[A],N=iZ(t,sl(F));return(0,eB.jsx)(eL.Fragment,{children:eL.cloneElement(F,{inputComponent:y?aA:aR,inputProps:{children:i,error:_.error,IconComponent:u,variant:A,type:void 0,multiple:m,...y?{id:c}:{autoWidth:n,defaultOpen:a,displayEmpty:l,labelId:p,MenuProps:g,onClose:v,onOpen:b,open:w,renderValue:x,SelectDisplayProps:{id:c,...S}},...d,classes:d?rq(D,d.classes):D,...h?h.props.inputProps:{}},...(m&&y||l)&&"outlined"===A?{notched:!0}:{},ref:N,className:(0,tA.default)(F.props.className,s,E.root),...!h&&{variant:A},...k})})});function aW(e){return ox("MuiTextField",e)}a$.muiName="Select",oS("MuiTextField",["root"]);let aq={standard:oM,filled:oV,outlined:o1},aK=iG(sn,{name:"MuiTextField",slot:"Root"})({}),aG=eL.forwardRef(function(e,t){let r=iX({props:e,name:"MuiTextField"}),{autoComplete:n,autoFocus:i=!1,children:o,className:s,color:a="primary",defaultValue:l,disabled:u=!1,error:c=!1,FormHelperTextProps:h,fullWidth:d=!1,helperText:f,id:p,InputLabelProps:g,inputProps:m,InputProps:y,inputRef:v,label:b,maxRows:w,minRows:x,multiline:S=!1,name:C,onBlur:k,onChange:_,onFocus:A,placeholder:T,required:E=!1,rows:I,select:D=!1,SelectProps:F,slots:N={},slotProps:P={},type:R,value:O,variant:M="outlined",...B}=r,L={...r,autoFocus:i,color:a,disabled:u,error:c,fullWidth:d,multiline:S,required:E,select:D,variant:M},j=(e=>{let{classes:t}=e;return tT({root:["root"]},aW,t)})(L),z=tD(p),V=f&&z?`${z}-helper-text`:void 0,U=b&&z?`${z}-label`:void 0,$=aq[M],W={slots:N,slotProps:{input:y,inputLabel:g,htmlInput:m,formHelperText:h,select:F,...P}},q={},K=W.slotProps.inputLabel;"outlined"===M&&(K&&void 0!==K.shrink&&(q.notched=K.shrink),q.label=b),D&&(F&&F.native||(q.id=void 0),q["aria-describedby"]=void 0);let[G,H]=oJ("root",{elementType:aK,shouldForwardComponentProp:!0,externalForwardedProps:{...W,...B},ownerState:L,className:(0,tA.default)(j.root,s),ref:t,additionalProps:{disabled:u,error:c,fullWidth:d,required:E,color:a,variant:M}}),[Q,X]=oJ("input",{elementType:$,externalForwardedProps:W,additionalProps:q,ownerState:L}),[J,Y]=oJ("inputLabel",{elementType:o7,externalForwardedProps:W,ownerState:L}),[Z,ee]=oJ("htmlInput",{elementType:"input",externalForwardedProps:W,ownerState:L}),[et,er]=oJ("formHelperText",{elementType:sa,externalForwardedProps:W,ownerState:L}),[en,ei]=oJ("select",{elementType:a$,externalForwardedProps:W,ownerState:L}),eo=(0,eB.jsx)(Q,{"aria-describedby":V,autoComplete:n,autoFocus:i,defaultValue:l,fullWidth:d,multiline:S,name:C,rows:I,maxRows:w,minRows:x,type:R,value:O,id:z,inputRef:v,onBlur:k,onChange:_,onFocus:A,placeholder:T,inputProps:ee,slots:{input:N.htmlInput?Z:void 0},...X});return(0,eB.jsxs)(G,{...H,children:[null!=b&&""!==b&&(0,eB.jsx)(J,{htmlFor:z,id:U,...Y,children:b}),D?(0,eB.jsx)(en,{"aria-describedby":V,id:z,labelId:U,value:O,input:eo,...ei,children:o}):eo,f&&(0,eB.jsx)(et,{id:V,...er,children:f})]})});function aH(e){try{return e.matches(":focus-visible")}catch(e){}return!1}class aQ{static create(){return new aQ}static use(){let e=sC(aQ.create).current,[t,r]=eL.useState(!1);return e.shouldMount=t,e.setShouldMount=r,eL.useEffect(e.mountEffect,[t]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){let e,t,r;return this.mounted||(this.mounted=((r=new Promise((r,n)=>{e=r,t=n})).resolve=e,r.reject=t,r),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&null!==this.ref.current&&(this.didMount=!0,this.mounted.resolve())};start(...e){this.mount().then(()=>this.ref.current?.start(...e))}stop(...e){this.mount().then(()=>this.ref.current?.stop(...e))}pulsate(...e){this.mount().then(()=>this.ref.current?.pulsate(...e))}}function aX(e,t){var r=Object.create(null);return e&&eL.Children.map(e,function(e){return e}).forEach(function(e){r[e.key]=t&&(0,eL.isValidElement)(e)?t(e):e}),r}function aJ(e,t,r){return null!=r[t]?r[t]:e.props[t]}var aY=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},aZ=function(e){function t(t,r){var n=e.call(this,t,r)||this,i=n.handleExited.bind(function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n));return n.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},n}sI(t,e);var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var r,n,i=t.children,o=t.handleExited;return{children:t.firstRender?aX(e.children,function(t){return(0,eL.cloneElement)(t,{onExited:o.bind(null,t),in:!0,appear:aJ(t,"appear",e),enter:aJ(t,"enter",e),exit:aJ(t,"exit",e)})}):(Object.keys(n=function(e,t){function r(r){return r in t?t[r]:e[r]}e=e||{},t=t||{};var n,i=Object.create(null),o=[];for(var s in e)s in t?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var l in t){if(i[l])for(n=0;n<i[l].length;n++){var u=i[l][n];a[i[l][n]]=r(u)}a[l]=r(l)}for(n=0;n<o.length;n++)a[o[n]]=r(o[n]);return a}(i,r=aX(e.children))).forEach(function(t){var s=n[t];if((0,eL.isValidElement)(s)){var a=t in i,l=t in r,u=i[t],c=(0,eL.isValidElement)(u)&&!u.props.in;l&&(!a||c)?n[t]=(0,eL.cloneElement)(s,{onExited:o.bind(null,s),in:!0,exit:aJ(s,"exit",e),enter:aJ(s,"enter",e)}):l||!a||c?l&&a&&(0,eL.isValidElement)(u)&&(n[t]=(0,eL.cloneElement)(s,{onExited:o.bind(null,s),in:u.props.in,exit:aJ(s,"exit",e),enter:aJ(s,"enter",e)})):n[t]=(0,eL.cloneElement)(s,{in:!1})}}),n),firstRender:!1}},r.handleExited=function(e,t){var r=aX(this.props.children);e.key in r||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var r=tF({},t.children);return delete r[e.key],{children:r}}))},r.render=function(){var e=this.props,t=e.component,r=e.childFactory,n=sT(e,["component","childFactory"]),i=this.state.contextValue,o=aY(this.state.children).map(r);return(delete n.appear,delete n.enter,delete n.exit,null===t)?eL.default.createElement(sF.Provider,{value:i},o):eL.default.createElement(sF.Provider,{value:i},eL.default.createElement(t,n,o))},t}(eL.default.Component);aZ.propTypes={},aZ.defaultProps={component:"div",childFactory:function(e){return e}};let a0=oS("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),a1=ou`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,a2=ou`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,a5=ou`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,a3=iG("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),a4=iG(function(e){let{className:t,classes:r,pulsate:n=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:u}=e,[c,h]=eL.useState(!1),d=(0,tA.default)(t,r.ripple,r.rippleVisible,n&&r.ripplePulsate),f=(0,tA.default)(r.child,c&&r.childLeaving,n&&r.childPulsate);return a||c||h(!0),eL.useEffect(()=>{if(!a&&null!=l){let e=setTimeout(l,u);return()=>{clearTimeout(e)}}},[l,a,u]),(0,eB.jsx)("span",{className:d,style:{width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},children:(0,eB.jsx)("span",{className:f})})},{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${a0.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${a1};
    animation-duration: ${550}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${a0.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${a0.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${a0.childLeaving} {
    opacity: 0;
    animation-name: ${a2};
    animation-duration: ${550}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${a0.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${a5};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,a6=eL.forwardRef(function(e,t){let{center:r=!1,classes:n={},className:i,...o}=iX({props:e,name:"MuiTouchRipple"}),[s,a]=eL.useState([]),l=eL.useRef(0),u=eL.useRef(null);eL.useEffect(()=>{u.current&&(u.current(),u.current=null)},[s]);let c=eL.useRef(!1),h=sA(),d=eL.useRef(null),f=eL.useRef(null),p=eL.useCallback(e=>{let{pulsate:t,rippleX:r,rippleY:i,rippleSize:o,cb:s}=e;a(e=>[...e,(0,eB.jsx)(a4,{classes:{ripple:(0,tA.default)(n.ripple,a0.ripple),rippleVisible:(0,tA.default)(n.rippleVisible,a0.rippleVisible),ripplePulsate:(0,tA.default)(n.ripplePulsate,a0.ripplePulsate),child:(0,tA.default)(n.child,a0.child),childLeaving:(0,tA.default)(n.childLeaving,a0.childLeaving),childPulsate:(0,tA.default)(n.childPulsate,a0.childPulsate)},timeout:550,pulsate:t,rippleX:r,rippleY:i,rippleSize:o},l.current)]),l.current+=1,u.current=s},[n]),g=eL.useCallback((e={},t={},n=()=>{})=>{let i,o,s,{pulsate:a=!1,center:l=r||t.pulsate,fakeElement:u=!1}=t;if(e?.type==="mousedown"&&c.current){c.current=!1;return}e?.type==="touchstart"&&(c.current=!0);let g=u?null:f.current,m=g?g.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(!l&&void 0!==e&&(0!==e.clientX||0!==e.clientY)&&(e.clientX||e.touches)){let{clientX:t,clientY:r}=e.touches&&e.touches.length>0?e.touches[0]:e;i=Math.round(t-m.left),o=Math.round(r-m.top)}else i=Math.round(m.width/2),o=Math.round(m.height/2);l?(s=Math.sqrt((2*m.width**2+m.height**2)/3))%2==0&&(s+=1):s=Math.sqrt((2*Math.max(Math.abs((g?g.clientWidth:0)-i),i)+2)**2+(2*Math.max(Math.abs((g?g.clientHeight:0)-o),o)+2)**2),e?.touches?null===d.current&&(d.current=()=>{p({pulsate:a,rippleX:i,rippleY:o,rippleSize:s,cb:n})},h.start(80,()=>{d.current&&(d.current(),d.current=null)})):p({pulsate:a,rippleX:i,rippleY:o,rippleSize:s,cb:n})},[r,p,h]),m=eL.useCallback(()=>{g({},{pulsate:!0})},[g]),y=eL.useCallback((e,t)=>{if(h.clear(),e?.type==="touchend"&&d.current){d.current(),d.current=null,h.start(0,()=>{y(e,t)});return}d.current=null,a(e=>e.length>0?e.slice(1):e),u.current=t},[h]);return eL.useImperativeHandle(t,()=>({pulsate:m,start:g,stop:y}),[m,g,y]),(0,eB.jsx)(a3,{className:(0,tA.default)(a0.root,n.root,i),ref:f,...o,children:(0,eB.jsx)(aZ,{component:null,exit:!0,children:s})})});function a8(e){return ox("MuiButtonBase",e)}let a9=oS("MuiButtonBase",["root","disabled","focusVisible"]),a7=iG("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${a9.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),le=eL.forwardRef(function(e,t){let r=iX({props:e,name:"MuiButtonBase"}),{action:n,centerRipple:i=!1,children:o,className:s,component:a="button",disabled:l=!1,disableRipple:u=!1,disableTouchRipple:c=!1,focusRipple:h=!1,focusVisibleClassName:d,LinkComponent:f="a",onBlur:p,onClick:g,onContextMenu:m,onDragLeave:y,onFocus:v,onFocusVisible:b,onKeyDown:w,onKeyUp:x,onMouseDown:S,onMouseLeave:C,onMouseUp:k,onTouchEnd:_,onTouchMove:A,onTouchStart:T,tabIndex:E=0,TouchRippleProps:I,touchRippleRef:D,type:F,...N}=r,P=eL.useRef(null),R=aQ.use(),O=iZ(R.ref,D),[M,B]=eL.useState(!1);l&&M&&B(!1),eL.useImperativeHandle(n,()=>({focusVisible:()=>{B(!0),P.current.focus()}}),[]);let L=R.shouldMount&&!u&&!l;eL.useEffect(()=>{M&&h&&!u&&R.pulsate()},[u,h,M,R]);let j=lt(R,"start",S,c),z=lt(R,"stop",m,c),V=lt(R,"stop",y,c),U=lt(R,"stop",k,c),$=lt(R,"stop",e=>{M&&e.preventDefault(),C&&C(e)},c),W=lt(R,"start",T,c),q=lt(R,"stop",_,c),K=lt(R,"stop",A,c),G=lt(R,"stop",e=>{aH(e.target)||B(!1),p&&p(e)},!1),H=i1(e=>{P.current||(P.current=e.currentTarget),aH(e.target)&&(B(!0),b&&b(e)),v&&v(e)}),Q=()=>{let e=P.current;return a&&"button"!==a&&!("A"===e.tagName&&e.href)},X=i1(e=>{h&&!e.repeat&&M&&" "===e.key&&R.stop(e,()=>{R.start(e)}),e.target===e.currentTarget&&Q()&&" "===e.key&&e.preventDefault(),w&&w(e),e.target===e.currentTarget&&Q()&&"Enter"===e.key&&!l&&(e.preventDefault(),g&&g(e))}),J=i1(e=>{h&&" "===e.key&&M&&!e.defaultPrevented&&R.stop(e,()=>{R.pulsate(e)}),x&&x(e),g&&e.target===e.currentTarget&&Q()&&" "===e.key&&!e.defaultPrevented&&g(e)}),Y=a;"button"===Y&&(N.href||N.to)&&(Y=f);let Z={};if("button"===Y){let e=!!N.formAction;Z.type=void 0!==F||e?F:"button",Z.disabled=l}else N.href||N.to||(Z.role="button"),l&&(Z["aria-disabled"]=l);let ee=iZ(t,P),et={...r,centerRipple:i,component:a,disabled:l,disableRipple:u,disableTouchRipple:c,focusRipple:h,tabIndex:E,focusVisible:M},er=(e=>{let{disabled:t,focusVisible:r,focusVisibleClassName:n,classes:i}=e,o=tT({root:["root",t&&"disabled",r&&"focusVisible"]},a8,i);return r&&n&&(o.root+=` ${n}`),o})(et);return(0,eB.jsxs)(a7,{as:Y,className:(0,tA.default)(er.root,s),ownerState:et,onBlur:G,onClick:g,onContextMenu:z,onFocus:H,onKeyDown:X,onKeyUp:J,onMouseDown:j,onMouseLeave:$,onMouseUp:U,onDragLeave:V,onTouchEnd:q,onTouchMove:K,onTouchStart:W,ref:ee,tabIndex:l?-1:E,type:F,...Z,...N,children:[o,L?(0,eB.jsx)(a6,{ref:O,center:i,...I}):null]})});function lt(e,t,r,n=!1){return i1(i=>(r&&r(i),n||e[t](i),!0))}function lr(e){return ox("MuiCircularProgress",e)}oS("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);let ln=ou`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,li=ou`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,lo="string"!=typeof ln?ol`
        animation: ${ln} 1.4s linear infinite;
      `:null,ls="string"!=typeof li?ol`
        animation: ${li} 1.4s ease-in-out infinite;
      `:null,la=iG("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[r.variant],t[`color${rG(r.color)}`]]}})(og(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:lo||{animation:`${ln} 1.4s linear infinite`}},...Object.entries(e.palette).filter(oF()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),ll=iG("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),lu=iG("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.circle,t[`circle${rG(r.variant)}`],r.disableShrink&&t.circleDisableShrink]}})(og(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink,style:ls||{animation:`${li} 1.4s ease-in-out infinite`}}]}))),lc=iG("circle",{name:"MuiCircularProgress",slot:"Track"})(og(({theme:e})=>({stroke:"currentColor",opacity:(e.vars||e).palette.action.activatedOpacity}))),lh=eL.forwardRef(function(e,t){let r=iX({props:e,name:"MuiCircularProgress"}),{className:n,color:i="primary",disableShrink:o=!1,enableTrackSlot:s=!1,size:a=40,style:l,thickness:u=3.6,value:c=0,variant:h="indeterminate",...d}=r,f={...r,color:i,disableShrink:o,size:a,thickness:u,value:c,variant:h,enableTrackSlot:s},p=(e=>{let{classes:t,variant:r,color:n,disableShrink:i}=e;return tT({root:["root",r,`color${rG(n)}`],svg:["svg"],track:["track"],circle:["circle",`circle${rG(r)}`,i&&"circleDisableShrink"]},lr,t)})(f),g={},m={},y={};if("determinate"===h){let e=2*Math.PI*((44-u)/2);g.strokeDasharray=e.toFixed(3),y["aria-valuenow"]=Math.round(c),g.strokeDashoffset=`${((100-c)/100*e).toFixed(3)}px`,m.transform="rotate(-90deg)"}return(0,eB.jsx)(la,{className:(0,tA.default)(p.root,n),style:{width:a,height:a,...m,...l},ownerState:f,ref:t,role:"progressbar",...y,...d,children:(0,eB.jsxs)(ll,{className:p.svg,ownerState:f,viewBox:"22 22 44 44",children:[s?(0,eB.jsx)(lc,{className:p.track,ownerState:f,cx:44,cy:44,r:(44-u)/2,fill:"none",strokeWidth:u,"aria-hidden":"true"}):null,(0,eB.jsx)(lu,{className:p.circle,style:g,ownerState:f,cx:44,cy:44,r:(44-u)/2,fill:"none",strokeWidth:u})]})})});function ld(e){return ox("MuiButton",e)}let lf=oS("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),lp=eL.createContext({}),lg=eL.createContext(void 0),lm=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],ly=iG(le,{shouldForwardProp:e=>iK(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${rG(r.color)}`],t[`size${rG(r.size)}`],t[`${r.variant}Size${rG(r.size)}`],"inherit"===r.color&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth,r.loading&&t.loading]}})(og(({theme:e})=>{let t="light"===e.palette.mode?e.palette.grey[300]:e.palette.grey[800],r="light"===e.palette.mode?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${lf.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${lf.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${lf.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${lf.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(oF()).map(([t])=>({props:{color:t},style:{"--variant-textColor":(e.vars||e).palette[t].main,"--variant-outlinedColor":(e.vars||e).palette[t].main,"--variant-outlinedBorder":e.alpha((e.vars||e).palette[t].main,.5),"--variant-containedColor":(e.vars||e).palette[t].contrastText,"--variant-containedBg":(e.vars||e).palette[t].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[t].dark,"--variant-textBg":e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[t].main,"--variant-outlinedBg":e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${lf.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${lf.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${lf.loading}`]:{color:"transparent"}}}]}})),lv=iG("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.startIcon,r.loading&&t.startIconLoadingStart,t[`iconSize${rG(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...lm]})),lb=iG("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.endIcon,r.loading&&t.endIconLoadingEnd,t[`iconSize${rG(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...lm]})),lw=iG("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),lx=iG("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),lS=eL.forwardRef(function(e,t){let r=eL.useContext(lp),n=eL.useContext(lg),i=iX({props:iH(r,e),name:"MuiButton"}),{children:o,color:s="primary",component:a="button",className:l,disabled:u=!1,disableElevation:c=!1,disableFocusRipple:h=!1,endIcon:d,focusVisibleClassName:f,fullWidth:p=!1,id:g,loading:m=null,loadingIndicator:y,loadingPosition:v="center",size:b="medium",startIcon:w,type:x,variant:S="text",...C}=i,k=tD(g),_=y??(0,eB.jsx)(lh,{"aria-labelledby":k,color:"inherit",size:16}),A={...i,color:s,component:a,disabled:u,disableElevation:c,disableFocusRipple:h,fullWidth:p,loading:m,loadingIndicator:_,loadingPosition:v,size:b,type:x,variant:S},T=(e=>{let{color:t,disableElevation:r,fullWidth:n,size:i,variant:o,loading:s,loadingPosition:a,classes:l}=e,u=tT({root:["root",s&&"loading",o,`${o}${rG(t)}`,`size${rG(i)}`,`${o}Size${rG(i)}`,`color${rG(t)}`,r&&"disableElevation",n&&"fullWidth",s&&`loadingPosition${rG(a)}`],startIcon:["icon","startIcon",`iconSize${rG(i)}`],endIcon:["icon","endIcon",`iconSize${rG(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},ld,l);return{...l,...u}})(A),E=(w||m&&"start"===v)&&(0,eB.jsx)(lv,{className:T.startIcon,ownerState:A,children:w||(0,eB.jsx)(lx,{className:T.loadingIconPlaceholder,ownerState:A})}),I=(d||m&&"end"===v)&&(0,eB.jsx)(lb,{className:T.endIcon,ownerState:A,children:d||(0,eB.jsx)(lx,{className:T.loadingIconPlaceholder,ownerState:A})}),D="boolean"==typeof m?(0,eB.jsx)("span",{className:T.loadingWrapper,style:{display:"contents"},children:m&&(0,eB.jsx)(lw,{className:T.loadingIndicator,ownerState:A,children:_})}):null;return(0,eB.jsxs)(ly,{ownerState:A,className:(0,tA.default)(r.className,T.root,l,n||""),component:a,disabled:u||m,focusRipple:!h,focusVisibleClassName:(0,tA.default)(T.focusVisible,f),ref:t,type:x,id:m?k:g,...C,classes:T,children:[E,"end"!==v&&D,o,"end"===v&&D,I]})});function lC(e){return ox("MuiTypography",e)}oS("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);let lk={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},l_=iG("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],"inherit"!==r.align&&t[`align${rG(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(og(({theme:e})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([e,t])=>"inherit"!==e&&t&&"object"==typeof t).map(([e,t])=>({props:{variant:e},style:t})),...Object.entries(e.palette).filter(oF()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette?.text||{}).filter(([,e])=>"string"==typeof e).map(([t])=>({props:{color:`text${rG(t)}`},style:{color:(e.vars||e).palette.text[t]}})),{props:({ownerState:e})=>"inherit"!==e.align,style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),lA={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},lT=eL.forwardRef(function(e,t){let{color:r,...n}=iX({props:e,name:"MuiTypography"}),i=!lk[r],o=ot({...n,...i&&{color:r}}),{align:s="inherit",className:a,component:l,gutterBottom:u=!1,noWrap:c=!1,paragraph:h=!1,variant:d="body1",variantMapping:f=lA,...p}=o,g={...o,align:s,color:r,className:a,component:l,gutterBottom:u,noWrap:c,paragraph:h,variant:d,variantMapping:f},m=l||(h?"p":f[d]||lA[d])||"span",y=(e=>{let{align:t,gutterBottom:r,noWrap:n,paragraph:i,variant:o,classes:s}=e;return tT({root:["root",o,"inherit"!==e.align&&`align${rG(t)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]},lC,s)})(g);return(0,eB.jsx)(l_,{as:m,ref:t,className:(0,tA.default)(y.root,a),...p,ownerState:g,style:{..."inherit"!==s&&{"--Typography-textAlign":s},...p.style}})}),lE=oS("MuiBox",["root"]),lI=function(e={}){var t;let{themeId:r,defaultTheme:n,defaultClassName:i="MuiBox-root",generateClassName:o}=e,s=(t="div",rz("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e}))(nz);return eL.forwardRef(function(e,t){let a=oi(n),{className:l,component:u="div",...c}=ot(e);return(0,eB.jsx)(s,{as:u,ref:t,className:(0,tA.default)(l,o?o(i):i),theme:r&&a[r]||a,...c})})}({themeId:iW,defaultTheme:iU(),defaultClassName:lE.root,generateClassName:ob.generate}),lD=nQ(),lF=nU(),lN=lD("div",{name:"MuiStack",slot:"Root"});function lP(e){return function({props:e,name:t,defaultTheme:r,themeId:n}){let i=oi(r);return n&&(i=i[n]||i),function(e){let{theme:t,name:r,props:n}=e;return t&&t.components&&t.components[r]&&t.components[r].defaultProps?iH(t.components[r].defaultProps,n):n}({theme:i,name:t,props:e})}({props:e,name:"MuiStack",defaultTheme:lF})}let lR=({ownerState:e,theme:t})=>{let r={display:"flex",flexDirection:"column",...r0({theme:t},r5({values:e.direction,breakpoints:t.breakpoints.values}),e=>({flexDirection:e}))};if(e.spacing){let n=no(t),i=Object.keys(t.breakpoints.values).reduce((t,r)=>(("object"==typeof e.spacing&&null!=e.spacing[r]||"object"==typeof e.direction&&null!=e.direction[r])&&(t[r]=!0),t),{}),o=r5({values:e.direction,base:i}),s=r5({values:e.spacing,base:i});"object"==typeof o&&Object.keys(o).forEach((e,t,r)=>{if(!o[e]){let n=t>0?o[r[t-1]]:"column";o[e]=n}}),r=rq(r,r0({theme:t},s,(t,r)=>e.useFlexGap?{gap:ns(n,t)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[r?o[r]:e.direction]}`]:ns(n,t)}}))}return function(e,...t){let r=r1(e),n=[r,...t].reduce((e,t)=>rq(e,t),{});return r2(Object.keys(r),n)}(t.breakpoints,r)},lO=function(e={}){let{createStyledComponent:t=lN,useThemeProps:r=lP,componentName:n="MuiStack"}=e,i=t(lR);return eL.forwardRef(function(e,t){let o,{component:s="div",direction:a="column",spacing:l=0,divider:u,children:c,className:h,useFlexGap:d=!1,...f}=ot(r(e)),p=tT({root:["root"]},e=>ox(n,e),{});return(0,eB.jsx)(i,{as:s,ownerState:{direction:a,spacing:l,useFlexGap:d},ref:t,className:(0,tA.default)(p.root,h),...f,children:u?(o=eL.Children.toArray(c).filter(Boolean)).reduce((e,t,r)=>(e.push(t),r<o.length-1&&e.push(eL.cloneElement(u,{key:`separator-${r}`})),e),[]):c})})}({createStyledComponent:iG("div",{name:"MuiStack",slot:"Root"}),useThemeProps:e=>iX({props:e,name:"MuiStack"})});function lM(e){return ox("MuiDivider",e)}oS("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);let lB=iG("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,"vertical"===r.orientation&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&"vertical"===r.orientation&&t.withChildrenVertical,"right"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignRight,"left"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignLeft]}})(og(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.alpha((e.vars||e).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&"vertical"!==e.orientation,style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>"vertical"===e.orientation&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>"right"===e.textAlign&&"vertical"!==e.orientation,style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>"left"===e.textAlign&&"vertical"!==e.orientation,style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),lL=iG("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.wrapper,"vertical"===r.orientation&&t.wrapperVertical]}})(og(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),lj=eL.forwardRef(function(e,t){let r=iX({props:e,name:"MuiDivider"}),{absolute:n=!1,children:i,className:o,orientation:s="horizontal",component:a=i||"vertical"===s?"div":"hr",flexItem:l=!1,light:u=!1,role:c="hr"!==a?"separator":void 0,textAlign:h="center",variant:d="fullWidth",...f}=r,p={...r,absolute:n,component:a,flexItem:l,light:u,orientation:s,role:c,textAlign:h,variant:d},g=(e=>{let{absolute:t,children:r,classes:n,flexItem:i,light:o,orientation:s,textAlign:a,variant:l}=e;return tT({root:["root",t&&"absolute",l,o&&"light","vertical"===s&&"vertical",i&&"flexItem",r&&"withChildren",r&&"vertical"===s&&"withChildrenVertical","right"===a&&"vertical"!==s&&"textAlignRight","left"===a&&"vertical"!==s&&"textAlignLeft"],wrapper:["wrapper","vertical"===s&&"wrapperVertical"]},lM,n)})(p);return(0,eB.jsx)(lB,{as:a,className:(0,tA.default)(g.root,o),role:c,ref:t,ownerState:p,"aria-orientation":"separator"===c&&("hr"!==a||"vertical"===s)?s:void 0,...f,children:i?(0,eB.jsx)(lL,{className:g.wrapper,ownerState:p,children:i}):null})});lj&&(lj.muiSkipListHighlight=!0);var lz=function(e,t){return(lz=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function lV(e,t){function r(){this.constructor=e}lz(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var lU=function(){return(lU=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function l$(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})}function lW(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){var l=[o,a];if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&l[0]?n.return:l[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,l[1])).done)return i;switch(n=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,n=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===l[0]||2===l[0])){s=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){s.label=l[1];break}if(6===l[0]&&s.label<i[1]){s.label=i[1],i=l;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(l);break}i[2]&&s.ops.pop(),s.trys.pop();continue}l=t.call(e,s)}catch(e){l=[6,e],n=0}finally{r=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}function lq(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}for(var lK="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lG=new Uint8Array(256),lH=0;lH<lK.length;lH++)lG[lK.charCodeAt(lH)]=lH;var lQ=function(e){for(var t="",r=e.length,n=0;n<r;n+=3)t+=lK[e[n]>>2],t+=lK[(3&e[n])<<4|e[n+1]>>4],t+=lK[(15&e[n+1])<<2|e[n+2]>>6],t+=lK[63&e[n+2]];return r%3==2?t=t.substring(0,t.length-1)+"=":r%3==1&&(t=t.substring(0,t.length-2)+"=="),t},lX=function(e){var t,r,n,i,o,s=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var u=new Uint8Array(s);for(t=0;t<a;t+=4)r=lG[e.charCodeAt(t)],n=lG[e.charCodeAt(t+1)],i=lG[e.charCodeAt(t+2)],o=lG[e.charCodeAt(t+3)],u[l++]=r<<2|n>>4,u[l++]=(15&n)<<4|i>>2,u[l++]=(3&i)<<6|63&o;return u},lJ=/^(data)?:?([\w\/\+]+)?;?(charset=[\w-]+|base64)?.*,/i,lY=function(e){var t=e.trim(),r=t.substring(0,100).match(lJ);if(!r)return lX(t);var n=r[0];return lX(t.substring(n.length))},lZ=function(e){return e.charCodeAt(0)},l0=function(e,t){return l5(e.toString(16),t,"0").toUpperCase()},l1=function(e){return l0(e,2)},l2=function(e){return String.fromCharCode(e)},l5=function(e,t,r){for(var n="",i=0,o=t-e.length;i<o;i++)n+=r;return n+e},l3=function(e,t,r){for(var n=e.length,i=0;i<n;i++)t[r++]=e.charCodeAt(i);return n},l4=function(e){return e.replace(/\t|\u0085|\u2028|\u2029/g,"    ").replace(/[\b\v]/g,"")},l6=["\\n","\\f","\\r","\\u000B"],l8=function(e){return/^[\n\f\r\u000B]$/.test(e)},l9=function(e){return e.split(/[\n\f\r\u000B]/)},l7=function(e){return e.replace(/[\n\f\r\u000B]/g," ")},ue=function(e,t){var r,n=e.charCodeAt(t),i=t+1,o=1;return n>=55296&&n<=56319&&e.length>i&&(r=e.charCodeAt(i))>=56320&&r<=57343&&(o=2),[e.slice(t,t+o),o]},ut=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=ue(e,r),o=i[0],s=i[1];t.push(o),r+=s}return t},ur=function(e){for(var t=l6.join("|"),r=["$"],n=0,i=e.length;n<i;n++){var o=e[n];if(l8(o))throw TypeError("`wordBreak` must not include "+t);r.push(""===o?".":o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))}return RegExp("("+t+")|((.*?)("+r.join("|")+"))","gm")},un=function(e,t,r,n){for(var i=ur(t),o=l4(e).match(i),s="",a=0,l=[],u=function(){""!==s&&l.push(s),s="",a=0},c=0,h=o.length;c<h;c++){var d=o[c];if(l8(d))u();else{var f=n(d);a+f>r&&u(),s+=d,a+=f}}return u(),l},ui=/^D:(\d\d\d\d)(\d\d)?(\d\d)?(\d\d)?(\d\d)?(\d\d)?([+\-Z])?(\d\d)?'?(\d\d)?'?$/,uo=function(e){var t=e.match(ui);if(t){var r=t[1],n=t[2],i=t[3],o=t[4],s=t[5],a=t[6],l=t[7],u=void 0===l?"Z":l,c=t[8],h=t[9];return new Date(r+"-"+(void 0===n?"01":n)+"-"+(void 0===i?"01":i)+"T"+(void 0===o?"00":o)+":"+(void 0===s?"00":s)+":"+(void 0===a?"00":a)+("Z"===u?"Z":""+u+(void 0===c?"00":c)+":"+(void 0===h?"00":h)))}},us=function(e,t){for(var r,n,i=0;i<e.length;){var o=e.substring(i).match(t);if(!o)break;n=o,i+=(null!=(r=o.index)?r:0)+o[0].length}return{match:n,pos:i}},ua=function(e){return e[e.length-1]},ul=function(e){if(e instanceof Uint8Array)return e;for(var t=e.length,r=new Uint8Array(t),n=0;n<t;n++)r[n]=e.charCodeAt(n);return r},uu=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=e.length,n=[],i=0;i<r;i++){var o=e[i];n[i]=o instanceof Uint8Array?o:ul(o)}for(var s=0,i=0;i<r;i++)s+=e[i].length;for(var a=new Uint8Array(s),l=0,u=0;u<r;u++)for(var c=n[u],h=0,d=c.length;h<d;h++)a[l++]=c[h];return a},uc=function(e){for(var t=0,r=0,n=e.length;r<n;r++)t+=e[r].length;for(var i=new Uint8Array(t),o=0,r=0,n=e.length;r<n;r++){var s=e[r];i.set(s,o),o+=s.length}return i},uh=function(e){for(var t="",r=0,n=e.length;r<n;r++)t+=l2(e[r]);return t},ud=function(e,t){return e.id-t.id},uf=function(e,t){for(var r=[],n=0,i=e.length;n<i;n++){var o=e[n],s=e[n-1];(0===n||t(o)!==t(s))&&r.push(o)}return r},up=function(e){for(var t=e.length,r=0,n=Math.floor(t/2);r<n;r++){var i=r,o=t-r-1,s=e[r];e[i]=e[o],e[o]=s}return e},ug=function(e){for(var t=0,r=0,n=e.length;r<n;r++)t+=e[r];return t},um=function(e,t){for(var r=Array(t-e),n=0,i=r.length;n<i;n++)r[n]=e+n;return r},uy=function(e,t){for(var r=Array(t.length),n=0,i=t.length;n<i;n++)r[n]=e[t[n]];return r},uv=function(e){if("string"==typeof e)return lY(e);if(e instanceof ArrayBuffer)return new Uint8Array(e);if(e instanceof Uint8Array)return e;throw TypeError("`input` must be one of `string | ArrayBuffer | Uint8Array`")},ub=function(){return new Promise(function(e){setTimeout(function(){return e()},0)})},uw=function(e,t){void 0===t&&(t=!0);var r=[];t&&r.push(65279);for(var n=0,i=e.length;n<i;){var o=e.codePointAt(n);if(o<65536)r.push(o),n+=1;else if(o<1114112)r.push(ux(o),uS(o)),n+=2;else throw Error("Invalid code point: 0x"+l1(o))}return new Uint16Array(r)},ux=function(e){return Math.floor((e-65536)/1024)+55296},uS=function(e){return(e-65536)%1024+56320};(d=Q||(Q={})).BigEndian="BigEndian",d.LittleEndian="LittleEndian";for(var uC=function(e,t){if(void 0===t&&(t=!0),e.length<=1)return String.fromCodePoint(65533);for(var r=t?uT(e):Q.BigEndian,n=2*!!t,i=[];e.length-n>=2;){var o=uA(e[n++],e[n++],r);if(uk(o))if(e.length-n<2)i.push(65533);else{var s=uA(e[n++],e[n++],r);u_(s)?i.push(o,s):i.push(65533)}else u_(o)?(n+=2,i.push(65533)):i.push(o)}return n<e.length&&i.push(65533),String.fromCodePoint.apply(String,i)},uk=function(e){return e>=55296&&e<=56319},u_=function(e){return e>=56320&&e<=57343},uA=function(e,t,r){if(r===Q.LittleEndian)return t<<8|e;if(r===Q.BigEndian)return e<<8|t;throw Error("Invalid byteOrder: "+r)},uT=function(e){return uE(e)?Q.BigEndian:uI(e)?Q.LittleEndian:Q.BigEndian},uE=function(e){return 254===e[0]&&255===e[1]},uI=function(e){return 255===e[0]&&254===e[1]},uD=function(e){return uE(e)||uI(e)},uF=function(e){var t=String(e);if(1>Math.abs(e)){var r=parseInt(e.toString().split("e-")[1]);if(r){var n=e<0;n&&(e*=-1),e*=Math.pow(10,r-1),t="0."+Array(r).join("0")+e.toString().substring(2),n&&(t="-"+t)}}else{var r=parseInt(e.toString().split("+")[1]);r>20&&(r-=20,e/=Math.pow(10,r),t=e.toString()+Array(r+1).join("0"))}return t},uN=function(e){return Math.ceil(e.toString(2).length/8)},uP=function(e){for(var t=new Uint8Array(uN(e)),r=1;r<=t.length;r++)t[r-1]=e>>(t.length-r)*8;return t},uR=function(e){throw Error(e)},uO=e.i(9643),uM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uB=new Uint8Array(256),uL=0;uL<uM.length;uL++)uB[uM.charCodeAt(uL)]=uL;var uj=function(e){var t,r,n,i,o,s=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var u=new Uint8Array(s);for(t=0;t<a;t+=4)r=uB[e.charCodeAt(t)],n=uB[e.charCodeAt(t+1)],i=uB[e.charCodeAt(t+2)],o=uB[e.charCodeAt(t+3)],u[l++]=r<<2|n>>4,u[l++]=(15&n)<<4|i>>2,u[l++]=(3&i)<<6|63&o;return u},uz=function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},uV=function(e){return uz(uO.default.inflate(uj(e)))},uU=function(e,t,r){for(var n="",i=0,o=t-e.length;i<o;i++)n+=r;return n+e},u$=e.i(48322),uW=e.i(64216),uq=e.i(87591),uK=e.i(48353),uG=e.i(68564),uH=e.i(63566),uQ=e.i(18783),uX=e.i(56510),uJ=e.i(47934),uY=e.i(40501),uZ=e.i(99276),u0=e.i(56608),u1=e.i(74703),u2=e.i(1914),u5={Courier:uK.default,"Courier-Bold":u$.default,"Courier-Oblique":uq.default,"Courier-BoldOblique":uW.default,Helvetica:uX.default,"Helvetica-Bold":uG.default,"Helvetica-Oblique":uQ.default,"Helvetica-BoldOblique":uH.default,"Times-Roman":u0.default,"Times-Bold":uJ.default,"Times-Italic":uZ.default,"Times-BoldItalic":uY.default,Symbol:u1.default,ZapfDingbats:u2.default};(f=X||(X={})).Courier="Courier",f.CourierBold="Courier-Bold",f.CourierOblique="Courier-Oblique",f.CourierBoldOblique="Courier-BoldOblique",f.Helvetica="Helvetica",f.HelveticaBold="Helvetica-Bold",f.HelveticaOblique="Helvetica-Oblique",f.HelveticaBoldOblique="Helvetica-BoldOblique",f.TimesRoman="Times-Roman",f.TimesRomanBold="Times-Bold",f.TimesRomanItalic="Times-Italic",f.TimesRomanBoldItalic="Times-BoldItalic",f.Symbol="Symbol",f.ZapfDingbats="ZapfDingbats";for(var u3={},u4=function(){function e(){var e=this;this.getWidthOfGlyph=function(t){return e.CharWidths[t]},this.getXAxisKerningForPair=function(t,r){return(e.KernPairXAmounts[t]||{})[r]}}return e.load=function(t){var r=u3[t];if(r)return r;var n=uV(u5[t]),i=Object.assign(new e,JSON.parse(n));return i.CharWidths=i.CharMetrics.reduce(function(e,t){return e[t.N]=t.WX,e},{}),i.KernPairXAmounts=i.KernPairs.reduce(function(e,t){var r=t[0],n=t[1],i=t[2];return e[r]||(e[r]={}),e[r][n]=i,e},{}),u3[t]=i,i},e}(),u6=JSON.parse(uV(e.i(56707).default)),u8=function(e,t){var r=this;this.canEncodeUnicodeCodePoint=function(e){return e in r.unicodeMappings},this.encodeUnicodeCodePoint=function(e){var t=r.unicodeMappings[e];if(!t){var n=String.fromCharCode(e),i="0x"+uU(e.toString(16),4,"0");throw Error(r.name+' cannot encode "'+n+'" ('+i+")")}return{code:t[0],name:t[1]}},this.name=e,this.supportedCodePoints=Object.keys(t).map(Number).sort(function(e,t){return e-t}),this.unicodeMappings=t},u9={Symbol:new u8("Symbol",u6.symbol),ZapfDingbats:new u8("ZapfDingbats",u6.zapfdingbats),WinAnsi:new u8("WinAnsi",u6.win1252)},u7=function(e){return Object.keys(e).map(function(t){return e[t]})},ce=u7(X),ct=function(e){return ce.includes(e)},cr=function(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height},cn=function(e){return"`"+e+"`"},ci=function(e){var t=typeof e;return"string"===t?"'"+e+"'":"undefined"===t?cn(e):e},co=function(e,t,r){for(var n=Array(r.length),i=0,o=r.length;i<o;i++){var s=r[i];n[i]=ci(s)}var a=n.join(" or ");return cn(t)+" must be one of "+a+", but was actually "+ci(e)},cs=function(e,t,r){Array.isArray(r)||(r=u7(r));for(var n=0,i=r.length;n<i;n++)if(e===r[n])return;throw TypeError(co(e,t,r))},ca=function(e,t,r){Array.isArray(r)||(r=u7(r)),cs(e,t,r.concat(void 0))},cl=function(e,t,r){Array.isArray(r)||(r=u7(r));for(var n=0,i=e.length;n<i;n++)cs(e[n],t,r)},cu=function(e,t,r){for(var n=Array(r.length),i=0,o=r.length;i<o;i++){var s=r[i];"null"===s&&(n[i]=cn("null")),"undefined"===s&&(n[i]=cn("undefined")),"string"===s?n[i]=cn("string"):"number"===s?n[i]=cn("number"):"boolean"===s?n[i]=cn("boolean"):"symbol"===s?n[i]=cn("symbol"):"bigint"===s?n[i]=cn("bigint"):s===Array?n[i]=cn("Array"):s===Uint8Array?n[i]=cn("Uint8Array"):s===ArrayBuffer?n[i]=cn("ArrayBuffer"):n[i]=cn(s[1])}var a=n.join(" or ");return cn(t)+" must be of type "+a+", but was actually of type "+cn(null===e?"null":void 0===e?"undefined":"string"==typeof e?"string":isNaN(e)?"NaN":"number"==typeof e?"number":"boolean"==typeof e?"boolean":"symbol"==typeof e?"symbol":"bigint"==typeof e?"bigint":e.constructor&&e.constructor.name?e.constructor.name:e.name?e.name:e.constructor?String(e.constructor):String(e))},cc=function(e,t,r){for(var n,i=0,o=r.length;i<o;i++)if("null"===(n=r[i])?null===e:"undefined"===n?void 0===e:"string"===n?"string"==typeof e:"number"===n?"number"==typeof e&&!isNaN(e):"boolean"===n?"boolean"==typeof e:"symbol"===n?"symbol"==typeof e:"bigint"===n?"bigint"==typeof e:n===Date?e instanceof Date:n===Array?e instanceof Array:n===Uint8Array?e instanceof Uint8Array:n===ArrayBuffer?e instanceof ArrayBuffer:n===Function?e instanceof Function:e instanceof n[0])return;throw TypeError(cu(e,t,r))},ch=function(e,t,r){cc(e,t,r.concat("undefined"))},cd=function(e,t,r){for(var n=0,i=e.length;n<i;n++)cc(e[n],t,r)},cf=function(e,t,r,n){if(cc(e,t,["number"]),cc(r,"min",["number"]),cc(n,"max",["number"]),n=Math.max(r,n),e<r||e>n)throw Error(cn(t)+" must be at least "+r+" and at most "+n+", but was actually "+e)},cp=function(e,t,r,n){cc(e,t,["number","undefined"]),"number"==typeof e&&cf(e,t,r,n)},cg=function(e,t,r){if(cc(e,t,["number"]),e%r!=0)throw Error(cn(t)+" must be a multiple of "+r+", but was actually "+e)},cm=function(e,t){if(!Number.isInteger(e))throw Error(cn(t)+" must be an integer, but was actually "+e)},cy=function(e,t){if(![1,0].includes(Math.sign(e)))throw Error(cn(t)+" must be a positive number or 0, but was actually "+e)},cv=new Uint16Array(256),cb=0;cb<256;cb++)cv[cb]=cb;cv[22]=lZ("\x17"),cv[24]=lZ(""),cv[25]=lZ(""),cv[26]=lZ(""),cv[27]=lZ(""),cv[28]=lZ(""),cv[29]=lZ(""),cv[30]=lZ(""),cv[31]=lZ(""),cv[127]=lZ(""),cv[128]=lZ(""),cv[129]=lZ(""),cv[130]=lZ(""),cv[131]=lZ(""),cv[132]=lZ(""),cv[133]=lZ(""),cv[134]=lZ(""),cv[135]=lZ(""),cv[136]=lZ(""),cv[137]=lZ(""),cv[138]=lZ(""),cv[139]=lZ(""),cv[140]=lZ(""),cv[141]=lZ(""),cv[142]=lZ(""),cv[143]=lZ(""),cv[144]=lZ(""),cv[145]=lZ(""),cv[146]=lZ(""),cv[147]=lZ(""),cv[148]=lZ(""),cv[149]=lZ(""),cv[150]=lZ(""),cv[151]=lZ(""),cv[152]=lZ(""),cv[153]=lZ(""),cv[154]=lZ(""),cv[155]=lZ(""),cv[156]=lZ(""),cv[157]=lZ(""),cv[158]=lZ(""),cv[159]=lZ(""),cv[160]=lZ(""),cv[173]=lZ("");var cw=function(e){for(var t=Array(e.length),r=0,n=e.length;r<n;r++)t[r]=cv[e[r]];return String.fromCodePoint.apply(String,t)},cx=function(){function e(e){this.populate=e,this.value=void 0}return e.prototype.getValue=function(){return this.value},e.prototype.access=function(){return this.value||(this.value=this.populate()),this.value},e.prototype.invalidate=function(){this.value=void 0},e.populatedBy=function(t){return new e(t)},e}(),cS=function(e){function t(t,r){return e.call(this,"Method "+t+"."+r+"() not implemented")||this}return lV(t,e),t}(Error),cC=function(e){function t(t){return e.call(this,"Cannot construct "+t+" - it has a private constructor")||this}return lV(t,e),t}(Error),ck=function(e){function t(t,r){var n=function(e){var t,r;return null!=(t=null==e?void 0:e.name)?t:null==(r=null==e?void 0:e.constructor)?void 0:r.name},i="Expected instance of "+(Array.isArray(t)?t.map(n):[n(t)]).join(" or ")+", but got instance of "+(r?n(r):r);return e.call(this,i)||this}return lV(t,e),t}(Error),c_=function(e){function t(t){return e.call(this,t+" stream encoding not supported")||this}return lV(t,e),t}(Error),cA=function(e){function t(t,r){return e.call(this,"Cannot call "+t+"."+r+"() more than once")||this}return lV(t,e),t}(Error);lV(function(e){return p.call(this,"Missing catalog (ref="+e+")")||this},p=Error);var cT=function(e){function t(){return e.call(this,"Can't embed page with missing Contents")||this}return lV(t,e),t}(Error),cE=function(e){function t(t){var r,n,i,o=null!=(i=null!=(n=null==(r=null==t?void 0:t.contructor)?void 0:r.name)?n:null==t?void 0:t.name)?i:t;return e.call(this,"Unrecognized stream type: "+o)||this}return lV(t,e),t}(Error),cI=function(e){function t(){return e.call(this,"Found mismatched contexts while embedding pages. All pages in the array passed to `PDFDocument.embedPages()` must be from the same document.")||this}return lV(t,e),t}(Error),cD=function(e){function t(t){return e.call(this,"Attempted to convert PDFArray with "+t+" elements to rectangle, but must have exactly 4 elements.")||this}return lV(t,e),t}(Error),cF=function(e){function t(t){return e.call(this,'Attempted to convert "'+t+'" to a date, but it does not match the PDF date string format.')||this}return lV(t,e),t}(Error),cN=function(e){function t(t,r){return e.call(this,"Invalid targetIndex specified: targetIndex="+t+" must be less than Count="+r)||this}return lV(t,e),t}(Error),cP=function(e){function t(t,r){return e.call(this,"Failed to "+r+" at targetIndex="+t+" due to corrupt page tree: It is likely that one or more 'Count' entries are invalid")||this}return lV(t,e),t}(Error),cR=function(e){function t(t,r,n){return e.call(this,"index should be at least "+r+" and at most "+n+", but was actually "+t)||this}return lV(t,e),t}(Error),cO=function(e){function t(){return e.call(this,"Attempted to set invalid field value")||this}return lV(t,e),t}(Error),cM=function(e){function t(){return e.call(this,"Attempted to select multiple values for single-select field")||this}return lV(t,e),t}(Error),cB=function(e){function t(t){return e.call(this,"No /DA (default appearance) entry found for field: "+t)||this}return lV(t,e),t}(Error),cL=function(e){function t(t){return e.call(this,"No Tf operator found for DA of field: "+t)||this}return lV(t,e),t}(Error),cj=function(e){function t(t,r){var n="Failed to parse number "+("(line:"+t.line+" col:"+t.column+" offset="+t.offset+'): "')+r+'"';return e.call(this,n)||this}return lV(t,e),t}(Error),cz=function(e){function t(t,r){var n="Failed to parse PDF document "+("(line:"+t.line+" col:"+t.column+" offset="+t.offset)+"): "+r;return e.call(this,n)||this}return lV(t,e),t}(Error),cV=function(e){function t(t,r,n){return e.call(this,t,"Expected next byte to be "+r+" but it was actually "+n)||this}return lV(t,e),t}(cz),cU=function(e){function t(t,r){return e.call(this,t,"Failed to parse PDF object starting with the following byte: "+r)||this}return lV(t,e),t}(cz),c$=function(e){function t(t){return e.call(this,t,"Failed to parse invalid PDF object")||this}return lV(t,e),t}(cz),cW=function(e){function t(t){return e.call(this,t,"Failed to parse PDF stream")||this}return lV(t,e),t}(cz),cq=function(e){function t(t){return e.call(this,t,"Failed to parse PDF literal string due to unbalanced parenthesis")||this}return lV(t,e),t}(cz),cK=function(e){function t(t){return e.call(this,t,"Parser stalled")||this}return lV(t,e),t}(cz),cG=function(e){function t(t){return e.call(this,t,"No PDF header found")||this}return lV(t,e),t}(cz),cH=function(e){function t(t,r){var n="Did not find expected keyword '"+uh(r)+"'";return e.call(this,t,n)||this}return lV(t,e),t}(cz);(g=J||(J={}))[g.Null=0]="Null",g[g.Backspace=8]="Backspace",g[g.Tab=9]="Tab",g[g.Newline=10]="Newline",g[g.FormFeed=12]="FormFeed",g[g.CarriageReturn=13]="CarriageReturn",g[g.Space=32]="Space",g[g.ExclamationPoint=33]="ExclamationPoint",g[g.Hash=35]="Hash",g[g.Percent=37]="Percent",g[g.LeftParen=40]="LeftParen",g[g.RightParen=41]="RightParen",g[g.Plus=43]="Plus",g[g.Minus=45]="Minus",g[g.Dash=45]="Dash",g[g.Period=46]="Period",g[g.ForwardSlash=47]="ForwardSlash",g[g.Zero=48]="Zero",g[g.One=49]="One",g[g.Two=50]="Two",g[g.Three=51]="Three",g[g.Four=52]="Four",g[g.Five=53]="Five",g[g.Six=54]="Six",g[g.Seven=55]="Seven",g[g.Eight=56]="Eight",g[g.Nine=57]="Nine",g[g.LessThan=60]="LessThan",g[g.GreaterThan=62]="GreaterThan",g[g.A=65]="A",g[g.D=68]="D",g[g.E=69]="E",g[g.F=70]="F",g[g.O=79]="O",g[g.P=80]="P",g[g.R=82]="R",g[g.LeftSquareBracket=91]="LeftSquareBracket",g[g.BackSlash=92]="BackSlash",g[g.RightSquareBracket=93]="RightSquareBracket",g[g.a=97]="a",g[g.b=98]="b",g[g.d=100]="d",g[g.e=101]="e",g[g.f=102]="f",g[g.i=105]="i",g[g.j=106]="j",g[g.l=108]="l",g[g.m=109]="m",g[g.n=110]="n",g[g.o=111]="o",g[g.r=114]="r",g[g.s=115]="s",g[g.t=116]="t",g[g.u=117]="u",g[g.x=120]="x",g[g.LeftCurly=123]="LeftCurly",g[g.RightCurly=125]="RightCurly",g[g.Tilde=126]="Tilde";let cQ=J;var cX=function(){function e(e,t){this.major=String(e),this.minor=String(t)}return e.prototype.toString=function(){var e=l2(129);return"%PDF-"+this.major+"."+this.minor+"\n%"+e+e+e+e},e.prototype.sizeInBytes=function(){return 12+this.major.length+this.minor.length},e.prototype.copyBytesInto=function(e,t){var r=t;return e[t++]=cQ.Percent,e[t++]=cQ.P,e[t++]=cQ.D,e[t++]=cQ.F,e[t++]=cQ.Dash,t+=l3(this.major,e,t),e[t++]=cQ.Period,t+=l3(this.minor,e,t),e[t++]=cQ.Newline,e[t++]=cQ.Percent,e[t++]=129,e[t++]=129,e[t++]=129,e[t++]=129,t-r},e.forVersion=function(t,r){return new e(t,r)},e}(),cJ=function(){function e(){}return e.prototype.clone=function(e){throw new cS(this.constructor.name,"clone")},e.prototype.toString=function(){throw new cS(this.constructor.name,"toString")},e.prototype.sizeInBytes=function(){throw new cS(this.constructor.name,"sizeInBytes")},e.prototype.copyBytesInto=function(e,t){throw new cS(this.constructor.name,"copyBytesInto")},e}(),cY=function(e){function t(t){var r=e.call(this)||this;return r.numberValue=t,r.stringValue=uF(t),r}return lV(t,e),t.prototype.asNumber=function(){return this.numberValue},t.prototype.value=function(){return this.numberValue},t.prototype.clone=function(){return t.of(this.numberValue)},t.prototype.toString=function(){return this.stringValue},t.prototype.sizeInBytes=function(){return this.stringValue.length},t.prototype.copyBytesInto=function(e,t){return t+=l3(this.stringValue,e,t),this.stringValue.length},t.of=function(e){return new t(e)},t}(cJ),cZ=function(e){function t(t){var r=e.call(this)||this;return r.array=[],r.context=t,r}return lV(t,e),t.prototype.size=function(){return this.array.length},t.prototype.push=function(e){this.array.push(e)},t.prototype.insert=function(e,t){this.array.splice(e,0,t)},t.prototype.indexOf=function(e){var t=this.array.indexOf(e);return -1===t?void 0:t},t.prototype.remove=function(e){this.array.splice(e,1)},t.prototype.set=function(e,t){this.array[e]=t},t.prototype.get=function(e){return this.array[e]},t.prototype.lookupMaybe=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return(t=this.context).lookupMaybe.apply(t,lq([this.get(e)],r))},t.prototype.lookup=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return(t=this.context).lookup.apply(t,lq([this.get(e)],r))},t.prototype.asRectangle=function(){if(4!==this.size())throw new cD(this.size());var e=this.lookup(0,cY).asNumber(),t=this.lookup(1,cY).asNumber();return{x:e,y:t,width:this.lookup(2,cY).asNumber()-e,height:this.lookup(3,cY).asNumber()-t}},t.prototype.asArray=function(){return this.array.slice()},t.prototype.clone=function(e){for(var r=t.withContext(e||this.context),n=0,i=this.size();n<i;n++)r.push(this.array[n]);return r},t.prototype.toString=function(){for(var e="[ ",t=0,r=this.size();t<r;t++)e+=this.get(t).toString(),e+=" ";return e+"]"},t.prototype.sizeInBytes=function(){for(var e=3,t=0,r=this.size();t<r;t++)e+=this.get(t).sizeInBytes()+1;return e},t.prototype.copyBytesInto=function(e,t){var r=t;e[t++]=cQ.LeftSquareBracket,e[t++]=cQ.Space;for(var n=0,i=this.size();n<i;n++)t+=this.get(n).copyBytesInto(e,t),e[t++]=cQ.Space;return e[t++]=cQ.RightSquareBracket,t-r},t.prototype.scalePDFNumbers=function(e,t){for(var r=0,n=this.size();r<n;r++){var i=this.lookup(r);if(i instanceof cY){var o=r%2==0?e:t;this.set(r,cY.of(i.asNumber()*o))}}},t.withContext=function(e){return new t(e)},t}(cJ),c0={},c1=function(e){function t(t,r){var n=this;if(t!==c0)throw new cC("PDFBool");return(n=e.call(this)||this).value=r,n}return lV(t,e),t.prototype.asBoolean=function(){return this.value},t.prototype.clone=function(){return this},t.prototype.toString=function(){return String(this.value)},t.prototype.sizeInBytes=function(){return this.value?4:5},t.prototype.copyBytesInto=function(e,t){return this.value?(e[t++]=cQ.t,e[t++]=cQ.r,e[t++]=cQ.u,e[t++]=cQ.e,4):(e[t++]=cQ.f,e[t++]=cQ.a,e[t++]=cQ.l,e[t++]=cQ.s,e[t++]=cQ.e,5)},t.True=new t(c0,!0),t.False=new t(c0,!1),t}(cJ),c2=new Uint8Array(256);c2[cQ.LeftParen]=1,c2[cQ.RightParen]=1,c2[cQ.LessThan]=1,c2[cQ.GreaterThan]=1,c2[cQ.LeftSquareBracket]=1,c2[cQ.RightSquareBracket]=1,c2[cQ.LeftCurly]=1,c2[cQ.RightCurly]=1,c2[cQ.ForwardSlash]=1,c2[cQ.Percent]=1;var c5=new Uint8Array(256);c5[cQ.Null]=1,c5[cQ.Tab]=1,c5[cQ.Newline]=1,c5[cQ.FormFeed]=1,c5[cQ.CarriageReturn]=1,c5[cQ.Space]=1;for(var c3=new Uint8Array(256),c4=0;c4<256;c4++)c3[c4]=c5[c4]||c2[c4]?1:0;c3[cQ.Hash]=1;var c6={},c8=new Map,c9=function(e){function t(t,r){var n=this;if(t!==c6)throw new cC("PDFName");n=e.call(this)||this;for(var i="/",o=0,s=r.length;o<s;o++){var a=r[o],l=lZ(a);i+=l>=cQ.ExclamationPoint&&l<=cQ.Tilde&&!c3[l]?a:"#"+l1(l)}return n.encodedName=i,n}return lV(t,e),t.prototype.asBytes=function(){for(var e=[],t="",r=!1,n=function(t){void 0!==t&&e.push(t),r=!1},i=1,o=this.encodedName.length;i<o;i++){var s=this.encodedName[i],a=lZ(s),l=this.encodedName[i+1];r?a>=cQ.Zero&&a<=cQ.Nine||a>=cQ.a&&a<=cQ.f||a>=cQ.A&&a<=cQ.F?2!==(t+=s).length&&(l>="0"&&l<="9"||l>="a"&&l<="f"||l>="A"&&l<="F")||(n(parseInt(t,16)),t=""):n(a):a===cQ.Hash?r=!0:n(a)}return new Uint8Array(e)},t.prototype.decodeText=function(){var e=this.asBytes();return String.fromCharCode.apply(String,Array.from(e))},t.prototype.asString=function(){return this.encodedName},t.prototype.value=function(){return this.encodedName},t.prototype.clone=function(){return this},t.prototype.toString=function(){return this.encodedName},t.prototype.sizeInBytes=function(){return this.encodedName.length},t.prototype.copyBytesInto=function(e,t){return t+=l3(this.encodedName,e,t),this.encodedName.length},t.of=function(e){var r=e.replace(/#([\dABCDEF]{2})/g,function(e,t){return l2(parseInt(t,16))}),n=c8.get(r);return n||(n=new t(c6,r),c8.set(r,n)),n},t.Length=t.of("Length"),t.FlateDecode=t.of("FlateDecode"),t.Resources=t.of("Resources"),t.Font=t.of("Font"),t.XObject=t.of("XObject"),t.ExtGState=t.of("ExtGState"),t.Contents=t.of("Contents"),t.Type=t.of("Type"),t.Parent=t.of("Parent"),t.MediaBox=t.of("MediaBox"),t.Page=t.of("Page"),t.Annots=t.of("Annots"),t.TrimBox=t.of("TrimBox"),t.ArtBox=t.of("ArtBox"),t.BleedBox=t.of("BleedBox"),t.CropBox=t.of("CropBox"),t.Rotate=t.of("Rotate"),t.Title=t.of("Title"),t.Author=t.of("Author"),t.Subject=t.of("Subject"),t.Creator=t.of("Creator"),t.Keywords=t.of("Keywords"),t.Producer=t.of("Producer"),t.CreationDate=t.of("CreationDate"),t.ModDate=t.of("ModDate"),t}(cJ);let c7=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lV(t,e),t.prototype.asNull=function(){return null},t.prototype.clone=function(){return this},t.prototype.toString=function(){return"null"},t.prototype.sizeInBytes=function(){return 4},t.prototype.copyBytesInto=function(e,t){return e[t++]=cQ.n,e[t++]=cQ.u,e[t++]=cQ.l,e[t++]=cQ.l,4},t}(cJ));var he=function(e){function t(t,r){var n=e.call(this)||this;return n.dict=t,n.context=r,n}return lV(t,e),t.prototype.keys=function(){return Array.from(this.dict.keys())},t.prototype.values=function(){return Array.from(this.dict.values())},t.prototype.entries=function(){return Array.from(this.dict.entries())},t.prototype.set=function(e,t){this.dict.set(e,t)},t.prototype.get=function(e,t){void 0===t&&(t=!1);var r=this.dict.get(e);if(r!==c7||t)return r},t.prototype.has=function(e){var t=this.dict.get(e);return void 0!==t&&t!==c7},t.prototype.lookupMaybe=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=r.includes(c7),o=(t=this.context).lookupMaybe.apply(t,lq([this.get(e,i)],r));if(o!==c7||i)return o},t.prototype.lookup=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=r.includes(c7),o=(t=this.context).lookup.apply(t,lq([this.get(e,i)],r));if(o!==c7||i)return o},t.prototype.delete=function(e){return this.dict.delete(e)},t.prototype.asMap=function(){return new Map(this.dict)},t.prototype.uniqueKey=function(e){void 0===e&&(e="");for(var t=this.keys(),r=c9.of(this.context.addRandomSuffix(e,10));t.includes(r);)r=c9.of(this.context.addRandomSuffix(e,10));return r},t.prototype.clone=function(e){for(var r=t.withContext(e||this.context),n=this.entries(),i=0,o=n.length;i<o;i++){var s=n[i],a=s[0],l=s[1];r.set(a,l)}return r},t.prototype.toString=function(){for(var e="<<\n",t=this.entries(),r=0,n=t.length;r<n;r++){var i=t[r],o=i[0],s=i[1];e+=o.toString()+" "+s.toString()+"\n"}return e+">>"},t.prototype.sizeInBytes=function(){for(var e=5,t=this.entries(),r=0,n=t.length;r<n;r++){var i=t[r],o=i[0],s=i[1];e+=o.sizeInBytes()+s.sizeInBytes()+2}return e},t.prototype.copyBytesInto=function(e,t){var r=t;e[t++]=cQ.LessThan,e[t++]=cQ.LessThan,e[t++]=cQ.Newline;for(var n=this.entries(),i=0,o=n.length;i<o;i++){var s=n[i],a=s[0],l=s[1];t+=a.copyBytesInto(e,t),e[t++]=cQ.Space,t+=l.copyBytesInto(e,t),e[t++]=cQ.Newline}return e[t++]=cQ.GreaterThan,e[t++]=cQ.GreaterThan,t-r},t.withContext=function(e){return new t(new Map,e)},t.fromMapWithContext=function(e,r){return new t(e,r)},t}(cJ),ht=function(e){function t(t){var r=e.call(this)||this;return r.dict=t,r}return lV(t,e),t.prototype.clone=function(e){throw new cS(this.constructor.name,"clone")},t.prototype.getContentsString=function(){throw new cS(this.constructor.name,"getContentsString")},t.prototype.getContents=function(){throw new cS(this.constructor.name,"getContents")},t.prototype.getContentsSize=function(){throw new cS(this.constructor.name,"getContentsSize")},t.prototype.updateDict=function(){var e=this.getContentsSize();this.dict.set(c9.Length,cY.of(e))},t.prototype.sizeInBytes=function(){return this.updateDict(),this.dict.sizeInBytes()+this.getContentsSize()+18},t.prototype.toString=function(){this.updateDict();var e=this.dict.toString();return e+="\nstream\n",e+=this.getContentsString(),e+="\nendstream"},t.prototype.copyBytesInto=function(e,t){this.updateDict();var r=t;t+=this.dict.copyBytesInto(e,t),e[t++]=cQ.Newline,e[t++]=cQ.s,e[t++]=cQ.t,e[t++]=cQ.r,e[t++]=cQ.e,e[t++]=cQ.a,e[t++]=cQ.m,e[t++]=cQ.Newline;for(var n=this.getContents(),i=0,o=n.length;i<o;i++)e[t++]=n[i];return e[t++]=cQ.Newline,e[t++]=cQ.e,e[t++]=cQ.n,e[t++]=cQ.d,e[t++]=cQ.s,e[t++]=cQ.t,e[t++]=cQ.r,e[t++]=cQ.e,e[t++]=cQ.a,e[t++]=cQ.m,t-r},t}(cJ),hr=function(e){function t(t,r){var n=e.call(this,t)||this;return n.contents=r,n}return lV(t,e),t.prototype.asUint8Array=function(){return this.contents.slice()},t.prototype.clone=function(e){return t.of(this.dict.clone(e),this.contents.slice())},t.prototype.getContentsString=function(){return uh(this.contents)},t.prototype.getContents=function(){return this.contents},t.prototype.getContentsSize=function(){return this.contents.length},t.of=function(e,r){return new t(e,r)},t}(ht),hn={},hi=new Map,ho=function(e){function t(t,r,n){var i=this;if(t!==hn)throw new cC("PDFRef");return(i=e.call(this)||this).objectNumber=r,i.generationNumber=n,i.tag=r+" "+n+" R",i}return lV(t,e),t.prototype.clone=function(){return this},t.prototype.toString=function(){return this.tag},t.prototype.sizeInBytes=function(){return this.tag.length},t.prototype.copyBytesInto=function(e,t){return t+=l3(this.tag,e,t),this.tag.length},t.of=function(e,r){void 0===r&&(r=0);var n=e+" "+r+" R",i=hi.get(n);return i||(i=new t(hn,e,r),hi.set(n,i)),i},t}(cJ),hs=function(){function e(e,t){this.name=e,this.args=t||[]}return e.prototype.clone=function(t){for(var r=Array(this.args.length),n=0,i=r.length;n<i;n++){var o=this.args[n];r[n]=o instanceof cJ?o.clone(t):o}return e.of(this.name,r)},e.prototype.toString=function(){for(var e="",t=0,r=this.args.length;t<r;t++)e+=String(this.args[t])+" ";return e+this.name},e.prototype.sizeInBytes=function(){for(var e=0,t=0,r=this.args.length;t<r;t++){var n=this.args[t];e+=(n instanceof cJ?n.sizeInBytes():n.length)+1}return e+this.name.length},e.prototype.copyBytesInto=function(e,t){for(var r=t,n=0,i=this.args.length;n<i;n++){var o=this.args[n];o instanceof cJ?t+=o.copyBytesInto(e,t):t+=l3(o,e,t),e[t++]=cQ.Space}return(t+=l3(this.name,e,t))-r},e.of=function(t,r){return new e(t,r)},e}();(m=Y||(Y={})).NonStrokingColor="sc",m.NonStrokingColorN="scn",m.NonStrokingColorRgb="rg",m.NonStrokingColorGray="g",m.NonStrokingColorCmyk="k",m.NonStrokingColorspace="cs",m.StrokingColor="SC",m.StrokingColorN="SCN",m.StrokingColorRgb="RG",m.StrokingColorGray="G",m.StrokingColorCmyk="K",m.StrokingColorspace="CS",m.BeginMarkedContentSequence="BDC",m.BeginMarkedContent="BMC",m.EndMarkedContent="EMC",m.MarkedContentPointWithProps="DP",m.MarkedContentPoint="MP",m.DrawObject="Do",m.ConcatTransformationMatrix="cm",m.PopGraphicsState="Q",m.PushGraphicsState="q",m.SetFlatness="i",m.SetGraphicsStateParams="gs",m.SetLineCapStyle="J",m.SetLineDashPattern="d",m.SetLineJoinStyle="j",m.SetLineMiterLimit="M",m.SetLineWidth="w",m.SetTextMatrix="Tm",m.SetRenderingIntent="ri",m.AppendRectangle="re",m.BeginInlineImage="BI",m.BeginInlineImageData="ID",m.EndInlineImage="EI",m.ClipEvenOdd="W*",m.ClipNonZero="W",m.CloseAndStroke="s",m.CloseFillEvenOddAndStroke="b*",m.CloseFillNonZeroAndStroke="b",m.ClosePath="h",m.AppendBezierCurve="c",m.CurveToReplicateFinalPoint="y",m.CurveToReplicateInitialPoint="v",m.EndPath="n",m.FillEvenOddAndStroke="B*",m.FillEvenOdd="f*",m.FillNonZeroAndStroke="B",m.FillNonZero="f",m.LegacyFillNonZero="F",m.LineTo="l",m.MoveTo="m",m.ShadingFill="sh",m.StrokePath="S",m.BeginText="BT",m.EndText="ET",m.MoveText="Td",m.MoveTextSetLeading="TD",m.NextLine="T*",m.SetCharacterSpacing="Tc",m.SetFontAndSize="Tf",m.SetTextHorizontalScaling="Tz",m.SetTextLineHeight="TL",m.SetTextRenderingMode="Tr",m.SetTextRise="Ts",m.SetWordSpacing="Tw",m.ShowText="Tj",m.ShowTextAdjusted="TJ",m.ShowTextLine="'",m.ShowTextLineAndSpace='"',m.Type3D0="d0",m.Type3D1="d1",m.BeginCompatibilitySection="BX",m.EndCompatibilitySection="EX";let ha=Y;var hl=function(e){function t(t,r){var n=e.call(this,t)||this;return n.computeContents=function(){var e=n.getUnencodedContents();return n.encode?uO.default.deflate(e):e},n.encode=r,r&&t.set(c9.of("Filter"),c9.of("FlateDecode")),n.contentsCache=cx.populatedBy(n.computeContents),n}return lV(t,e),t.prototype.getContents=function(){return this.contentsCache.access()},t.prototype.getContentsSize=function(){return this.contentsCache.access().length},t.prototype.getUnencodedContents=function(){throw new cS(this.constructor.name,"getUnencodedContents")},t}(ht),hu=function(e){function t(t,r,n){void 0===n&&(n=!0);var i=e.call(this,t,n)||this;return i.operators=r,i}return lV(t,e),t.prototype.push=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];(e=this.operators).push.apply(e,t)},t.prototype.clone=function(e){for(var r=Array(this.operators.length),n=0,i=this.operators.length;n<i;n++)r[n]=this.operators[n].clone(e);var o=this.dict,s=this.encode;return t.of(o.clone(e),r,s)},t.prototype.getContentsString=function(){for(var e="",t=0,r=this.operators.length;t<r;t++)e+=this.operators[t]+"\n";return e},t.prototype.getUnencodedContents=function(){for(var e=new Uint8Array(this.getUnencodedContentsSize()),t=0,r=0,n=this.operators.length;r<n;r++)t+=this.operators[r].copyBytesInto(e,t),e[t++]=cQ.Newline;return e},t.prototype.getUnencodedContentsSize=function(){for(var e=0,t=0,r=this.operators.length;t<r;t++)e+=this.operators[t].sizeInBytes()+1;return e},t.of=function(e,r,n){return void 0===n&&(n=!0),new t(e,r,n)},t}(hl),hc=function(){function e(e){this.seed=e}return e.prototype.nextInt=function(){var e=1e4*Math.sin(this.seed++);return e-Math.floor(e)},e.withSeed=function(t){return new e(t)},e}(),hh=function(e,t){var r=e[0],n=t[0];return r.objectNumber-n.objectNumber},hd=function(){function e(){this.largestObjectNumber=0,this.header=cX.forVersion(1,7),this.trailerInfo={},this.indirectObjects=new Map,this.rng=hc.withSeed(1)}return e.prototype.assign=function(e,t){this.indirectObjects.set(e,t),e.objectNumber>this.largestObjectNumber&&(this.largestObjectNumber=e.objectNumber)},e.prototype.nextRef=function(){return this.largestObjectNumber+=1,ho.of(this.largestObjectNumber)},e.prototype.register=function(e){var t=this.nextRef();return this.assign(t,e),t},e.prototype.delete=function(e){return this.indirectObjects.delete(e)},e.prototype.lookupMaybe=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=t.includes(c7),i=e instanceof ho?this.indirectObjects.get(e):e;if(i&&(i!==c7||n)){for(var o=0,s=t.length;o<s;o++){var a=t[o];if(a===c7){if(i===c7)return i}else if(i instanceof a)return i}throw new ck(t,i)}},e.prototype.lookup=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=e instanceof ho?this.indirectObjects.get(e):e;if(0===t.length)return n;for(var i=0,o=t.length;i<o;i++){var s=t[i];if(s===c7){if(n===c7)return n}else if(n instanceof s)return n}throw new ck(t,n)},e.prototype.getObjectRef=function(e){for(var t=Array.from(this.indirectObjects.entries()),r=0,n=t.length;r<n;r++){var i=t[r],o=i[0];if(i[1]===e)return o}},e.prototype.enumerateIndirectObjects=function(){return Array.from(this.indirectObjects.entries()).sort(hh)},e.prototype.obj=function(e){if(e instanceof cJ)return e;if(null==e)return c7;if("string"==typeof e)return c9.of(e);if("number"==typeof e)return cY.of(e);if("boolean"==typeof e)return e?c1.True:c1.False;else if(Array.isArray(e)){for(var t=cZ.withContext(this),r=0,n=e.length;r<n;r++)t.push(this.obj(e[r]));return t}else{for(var i=he.withContext(this),o=Object.keys(e),r=0,n=o.length;r<n;r++){var s=o[r],a=e[s];void 0!==a&&i.set(c9.of(s),this.obj(a))}return i}},e.prototype.stream=function(e,t){return void 0===t&&(t={}),hr.of(this.obj(t),ul(e))},e.prototype.flateStream=function(e,t){return void 0===t&&(t={}),this.stream(uO.default.deflate(ul(e)),lU(lU({},t),{Filter:"FlateDecode"}))},e.prototype.contentStream=function(e,t){return void 0===t&&(t={}),hu.of(this.obj(t),e)},e.prototype.formXObject=function(e,t){return void 0===t&&(t={}),this.contentStream(e,lU(lU({BBox:this.obj([0,0,0,0]),Matrix:this.obj([1,0,0,1,0,0])},t),{Type:"XObject",Subtype:"Form"}))},e.prototype.getPushGraphicsStateContentStream=function(){if(this.pushGraphicsStateContentStreamRef)return this.pushGraphicsStateContentStreamRef;var e=this.obj({}),t=hs.of(ha.PushGraphicsState),r=hu.of(e,[t]);return this.pushGraphicsStateContentStreamRef=this.register(r),this.pushGraphicsStateContentStreamRef},e.prototype.getPopGraphicsStateContentStream=function(){if(this.popGraphicsStateContentStreamRef)return this.popGraphicsStateContentStreamRef;var e=this.obj({}),t=hs.of(ha.PopGraphicsState),r=hu.of(e,[t]);return this.popGraphicsStateContentStreamRef=this.register(r),this.popGraphicsStateContentStreamRef},e.prototype.addRandomSuffix=function(e,t){return void 0===t&&(t=4),e+"-"+Math.floor(this.rng.nextInt()*Math.pow(10,t))},e.create=function(){return new e},e}(),hf=function(e){function t(t,r,n){void 0===n&&(n=!0);var i=e.call(this,t,r)||this;return i.normalized=!1,i.autoNormalizeCTM=n,i}return lV(t,e),t.prototype.clone=function(e){for(var r=t.fromMapWithContext(new Map,e||this.context,this.autoNormalizeCTM),n=this.entries(),i=0,o=n.length;i<o;i++){var s=n[i],a=s[0],l=s[1];r.set(a,l)}return r},t.prototype.Parent=function(){return this.lookupMaybe(c9.Parent,he)},t.prototype.Contents=function(){return this.lookup(c9.of("Contents"))},t.prototype.Annots=function(){return this.lookupMaybe(c9.Annots,cZ)},t.prototype.BleedBox=function(){return this.lookupMaybe(c9.BleedBox,cZ)},t.prototype.TrimBox=function(){return this.lookupMaybe(c9.TrimBox,cZ)},t.prototype.ArtBox=function(){return this.lookupMaybe(c9.ArtBox,cZ)},t.prototype.Resources=function(){var e=this.getInheritableAttribute(c9.Resources);return this.context.lookupMaybe(e,he)},t.prototype.MediaBox=function(){var e=this.getInheritableAttribute(c9.MediaBox);return this.context.lookup(e,cZ)},t.prototype.CropBox=function(){var e=this.getInheritableAttribute(c9.CropBox);return this.context.lookupMaybe(e,cZ)},t.prototype.Rotate=function(){var e=this.getInheritableAttribute(c9.Rotate);return this.context.lookupMaybe(e,cY)},t.prototype.getInheritableAttribute=function(e){var t;return this.ascend(function(r){t||(t=r.get(e))}),t},t.prototype.setParent=function(e){this.set(c9.Parent,e)},t.prototype.addContentStream=function(e){var t=this.normalizedEntries().Contents||this.context.obj([]);this.set(c9.Contents,t),t.push(e)},t.prototype.wrapContentStreams=function(e,t){var r=this.Contents();return r instanceof cZ&&(r.insert(0,e),r.push(t),!0)},t.prototype.addAnnot=function(e){this.normalizedEntries().Annots.push(e)},t.prototype.removeAnnot=function(e){var t=this.normalizedEntries().Annots,r=t.indexOf(e);void 0!==r&&t.remove(r)},t.prototype.setFontDictionary=function(e,t){this.normalizedEntries().Font.set(e,t)},t.prototype.newFontDictionaryKey=function(e){return this.normalizedEntries().Font.uniqueKey(e)},t.prototype.newFontDictionary=function(e,t){var r=this.newFontDictionaryKey(e);return this.setFontDictionary(r,t),r},t.prototype.setXObject=function(e,t){this.normalizedEntries().XObject.set(e,t)},t.prototype.newXObjectKey=function(e){return this.normalizedEntries().XObject.uniqueKey(e)},t.prototype.newXObject=function(e,t){var r=this.newXObjectKey(e);return this.setXObject(r,t),r},t.prototype.setExtGState=function(e,t){this.normalizedEntries().ExtGState.set(e,t)},t.prototype.newExtGStateKey=function(e){return this.normalizedEntries().ExtGState.uniqueKey(e)},t.prototype.newExtGState=function(e,t){var r=this.newExtGStateKey(e);return this.setExtGState(r,t),r},t.prototype.ascend=function(e){e(this);var t=this.Parent();t&&t.ascend(e)},t.prototype.normalize=function(){if(!this.normalized){var e=this.context,t=this.get(c9.Contents);this.context.lookup(t)instanceof ht&&this.set(c9.Contents,e.obj([t])),this.autoNormalizeCTM&&this.wrapContentStreams(this.context.getPushGraphicsStateContentStream(),this.context.getPopGraphicsStateContentStream());var r=this.getInheritableAttribute(c9.Resources),n=e.lookupMaybe(r,he)||e.obj({});this.set(c9.Resources,n);var i=n.lookupMaybe(c9.Font,he)||e.obj({});n.set(c9.Font,i);var o=n.lookupMaybe(c9.XObject,he)||e.obj({});n.set(c9.XObject,o);var s=n.lookupMaybe(c9.ExtGState,he)||e.obj({});n.set(c9.ExtGState,s);var a=this.Annots()||e.obj([]);this.set(c9.Annots,a),this.normalized=!0}},t.prototype.normalizedEntries=function(){this.normalize();var e=this.Annots(),t=this.Resources();return{Annots:e,Resources:t,Contents:this.Contents(),Font:t.lookup(c9.Font,he),XObject:t.lookup(c9.XObject,he),ExtGState:t.lookup(c9.ExtGState,he)}},t.InheritableEntries=["Resources","MediaBox","CropBox","Rotate"],t.withContextAndParent=function(e,r){var n=new Map;return n.set(c9.Type,c9.Page),n.set(c9.Parent,r),n.set(c9.Resources,e.obj({})),n.set(c9.MediaBox,e.obj([0,0,612,792])),new t(n,e,!1)},t.fromMapWithContext=function(e,r,n){return void 0===n&&(n=!0),new t(e,r,n)},t}(he),hp=function(){function e(e,t){var r=this;this.traversedObjects=new Map,this.copy=function(e){return e instanceof hf?r.copyPDFPage(e):e instanceof he?r.copyPDFDict(e):e instanceof cZ?r.copyPDFArray(e):e instanceof ht?r.copyPDFStream(e):e instanceof ho?r.copyPDFIndirectObject(e):e.clone()},this.copyPDFPage=function(e){for(var t=e.clone(),n=hf.InheritableEntries,i=0,o=n.length;i<o;i++){var s=c9.of(n[i]),a=t.getInheritableAttribute(s);!t.get(s)&&a&&t.set(s,a)}return t.delete(c9.of("Parent")),r.copyPDFDict(t)},this.copyPDFDict=function(e){if(r.traversedObjects.has(e))return r.traversedObjects.get(e);var t=e.clone(r.dest);r.traversedObjects.set(e,t);for(var n=e.entries(),i=0,o=n.length;i<o;i++){var s=n[i],a=s[0],l=s[1];t.set(a,r.copy(l))}return t},this.copyPDFArray=function(e){if(r.traversedObjects.has(e))return r.traversedObjects.get(e);var t=e.clone(r.dest);r.traversedObjects.set(e,t);for(var n=0,i=e.size();n<i;n++){var o=e.get(n);t.set(n,r.copy(o))}return t},this.copyPDFStream=function(e){if(r.traversedObjects.has(e))return r.traversedObjects.get(e);var t=e.clone(r.dest);r.traversedObjects.set(e,t);for(var n=e.dict.entries(),i=0,o=n.length;i<o;i++){var s=n[i],a=s[0],l=s[1];t.dict.set(a,r.copy(l))}return t},this.copyPDFIndirectObject=function(e){if(!r.traversedObjects.has(e)){var t=r.dest.nextRef();r.traversedObjects.set(e,t);var n=r.src.lookup(e);if(n){var i=r.copy(n);r.dest.assign(t,i)}}return r.traversedObjects.get(e)},this.src=e,this.dest=t}return e.for=function(t,r){return new e(t,r)},e}(),hg=function(){function e(e){this.subsections=e?[[e]]:[],this.chunkIdx=0,this.chunkLength=+!!e}return e.prototype.addEntry=function(e,t){this.append({ref:e,offset:t,deleted:!1})},e.prototype.addDeletedEntry=function(e,t){this.append({ref:e,offset:t,deleted:!0})},e.prototype.toString=function(){for(var e="xref\n",t=0,r=this.subsections.length;t<r;t++){var n=this.subsections[t];e+=n[0].ref.objectNumber+" "+n.length+"\n";for(var i=0,o=n.length;i<o;i++){var s=n[i];e+=l5(String(s.offset),10,"0"),e+=" ",e+=l5(String(s.ref.generationNumber),5,"0"),e+=" ",e+=s.deleted?"f":"n",e+=" \n"}}return e},e.prototype.sizeInBytes=function(){for(var e=5,t=0,r=this.subsections.length;t<r;t++){var n=this.subsections[t],i=n.length;e+=2,e+=String(n[0].ref.objectNumber).length,e+=String(i).length,e+=20*i}return e},e.prototype.copyBytesInto=function(e,t){var r=t;return e[t++]=cQ.x,e[t++]=cQ.r,e[t++]=cQ.e,e[t++]=cQ.f,e[t++]=cQ.Newline,(t+=this.copySubsectionsIntoBuffer(this.subsections,e,t))-r},e.prototype.copySubsectionsIntoBuffer=function(e,t,r){for(var n=r,i=e.length,o=0;o<i;o++){var s=this.subsections[o],a=String(s[0].ref.objectNumber);r+=l3(a,t,r),t[r++]=cQ.Space;var l=String(s.length);r+=l3(l,t,r),t[r++]=cQ.Newline,r+=this.copyEntriesIntoBuffer(s,t,r)}return r-n},e.prototype.copyEntriesIntoBuffer=function(e,t,r){for(var n=e.length,i=0;i<n;i++){var o=e[i],s=l5(String(o.offset),10,"0");r+=l3(s,t,r),t[r++]=cQ.Space;var a=l5(String(o.ref.generationNumber),5,"0");r+=l3(a,t,r),t[r++]=cQ.Space,t[r++]=o.deleted?cQ.f:cQ.n,t[r++]=cQ.Space,t[r++]=cQ.Newline}return 20*n},e.prototype.append=function(e){if(0===this.chunkLength){this.subsections.push([e]),this.chunkIdx=0,this.chunkLength=1;return}var t=this.subsections[this.chunkIdx],r=t[this.chunkLength-1];e.ref.objectNumber-r.ref.objectNumber>1?(this.subsections.push([e]),this.chunkIdx+=1,this.chunkLength=1):(t.push(e),this.chunkLength+=1)},e.create=function(){return new e({ref:ho.of(0,65535),offset:0,deleted:!0})},e.createEmpty=function(){return new e},e}(),hm=function(){function e(e){this.lastXRefOffset=String(e)}return e.prototype.toString=function(){return"startxref\n"+this.lastXRefOffset+"\n%%EOF"},e.prototype.sizeInBytes=function(){return 16+this.lastXRefOffset.length},e.prototype.copyBytesInto=function(e,t){var r=t;return e[t++]=cQ.s,e[t++]=cQ.t,e[t++]=cQ.a,e[t++]=cQ.r,e[t++]=cQ.t,e[t++]=cQ.x,e[t++]=cQ.r,e[t++]=cQ.e,e[t++]=cQ.f,e[t++]=cQ.Newline,t+=l3(this.lastXRefOffset,e,t),e[t++]=cQ.Newline,e[t++]=cQ.Percent,e[t++]=cQ.Percent,e[t++]=cQ.E,e[t++]=cQ.O,e[t++]=cQ.F,t-r},e.forLastCrossRefSectionOffset=function(t){return new e(t)},e}(),hy=function(){function e(e){this.dict=e}return e.prototype.toString=function(){return"trailer\n"+this.dict.toString()},e.prototype.sizeInBytes=function(){return 8+this.dict.sizeInBytes()},e.prototype.copyBytesInto=function(e,t){var r=t;return e[t++]=cQ.t,e[t++]=cQ.r,e[t++]=cQ.a,e[t++]=cQ.i,e[t++]=cQ.l,e[t++]=cQ.e,e[t++]=cQ.r,e[t++]=cQ.Newline,(t+=this.dict.copyBytesInto(e,t))-r},e.of=function(t){return new e(t)},e}(),hv=function(e){function t(t,r,n){void 0===n&&(n=!0);var i=e.call(this,t.obj({}),n)||this;return i.objects=r,i.offsets=i.computeObjectOffsets(),i.offsetsString=i.computeOffsetsString(),i.dict.set(c9.of("Type"),c9.of("ObjStm")),i.dict.set(c9.of("N"),cY.of(i.objects.length)),i.dict.set(c9.of("First"),cY.of(i.offsetsString.length)),i}return lV(t,e),t.prototype.getObjectsCount=function(){return this.objects.length},t.prototype.clone=function(e){return t.withContextAndObjects(e||this.dict.context,this.objects.slice(),this.encode)},t.prototype.getContentsString=function(){for(var e=this.offsetsString,t=0,r=this.objects.length;t<r;t++)e+=this.objects[t][1]+"\n";return e},t.prototype.getUnencodedContents=function(){for(var e=new Uint8Array(this.getUnencodedContentsSize()),t=l3(this.offsetsString,e,0),r=0,n=this.objects.length;r<n;r++){var i=this.objects[r][1];t+=i.copyBytesInto(e,t),e[t++]=cQ.Newline}return e},t.prototype.getUnencodedContentsSize=function(){return this.offsetsString.length+ua(this.offsets)[1]+ua(this.objects)[1].sizeInBytes()+1},t.prototype.computeOffsetsString=function(){for(var e="",t=0,r=this.offsets.length;t<r;t++){var n=this.offsets[t];e+=n[0]+" "+n[1]+" "}return e},t.prototype.computeObjectOffsets=function(){for(var e=0,t=Array(this.objects.length),r=0,n=this.objects.length;r<n;r++){var i=this.objects[r],o=i[0],s=i[1];t[r]=[o.objectNumber,e],e+=s.sizeInBytes()+1}return t},t.withContextAndObjects=function(e,r,n){return void 0===n&&(n=!0),new t(e,r,n)},t}(hl),hb=function(){function e(e,t){var r=this;this.parsedObjects=0,this.shouldWaitForTick=function(e){return r.parsedObjects+=e,r.parsedObjects%r.objectsPerTick==0},this.context=e,this.objectsPerTick=t}return e.prototype.serializeToBuffer=function(){return l$(this,void 0,void 0,function(){var e,t,r,n,i,o,s,a,l,u,c,h,d,f,p,g,m;return lW(this,function(y){switch(y.label){case 0:return[4,this.computeBufferSize()];case 1:t=(e=y.sent()).size,r=e.header,n=e.indirectObjects,i=e.xref,o=e.trailerDict,s=e.trailer,a=0,l=new Uint8Array(t),a+=r.copyBytesInto(l,a),l[a++]=cQ.Newline,l[a++]=cQ.Newline,u=0,c=n.length,y.label=2;case 2:if(!(u<c))return[3,5];if(d=(h=n[u])[0],f=h[1],p=String(d.objectNumber),a+=l3(p,l,a),l[a++]=cQ.Space,g=String(d.generationNumber),a+=l3(g,l,a),l[a++]=cQ.Space,l[a++]=cQ.o,l[a++]=cQ.b,l[a++]=cQ.j,l[a++]=cQ.Newline,a+=f.copyBytesInto(l,a),l[a++]=cQ.Newline,l[a++]=cQ.e,l[a++]=cQ.n,l[a++]=cQ.d,l[a++]=cQ.o,l[a++]=cQ.b,l[a++]=cQ.j,l[a++]=cQ.Newline,l[a++]=cQ.Newline,m=f instanceof hv?f.getObjectsCount():1,!this.shouldWaitForTick(m))return[3,4];return[4,ub()];case 3:y.sent(),y.label=4;case 4:return u++,[3,2];case 5:return i&&(a+=i.copyBytesInto(l,a),l[a++]=cQ.Newline),o&&(a+=o.copyBytesInto(l,a),l[a++]=cQ.Newline,l[a++]=cQ.Newline),a+=s.copyBytesInto(l,a),[2,l]}})})},e.prototype.computeIndirectObjectSize=function(e){var t=e[0],r=e[1];return t.sizeInBytes()+3+(r.sizeInBytes()+9)},e.prototype.createTrailerDict=function(){return this.context.obj({Size:this.context.largestObjectNumber+1,Root:this.context.trailerInfo.Root,Encrypt:this.context.trailerInfo.Encrypt,Info:this.context.trailerInfo.Info,ID:this.context.trailerInfo.ID})},e.prototype.computeBufferSize=function(){return l$(this,void 0,void 0,function(){var e,t,r,n,i,o,s,a,l,u,c;return lW(this,function(h){switch(h.label){case 0:t=(e=cX.forVersion(1,7)).sizeInBytes()+2,r=hg.create(),n=this.context.enumerateIndirectObjects(),i=0,o=n.length,h.label=1;case 1:if(!(i<o))return[3,4];if(a=(s=n[i])[0],r.addEntry(a,t),t+=this.computeIndirectObjectSize(s),!this.shouldWaitForTick(1))return[3,3];return[4,ub()];case 2:h.sent(),h.label=3;case 3:return i++,[3,1];case 4:return l=t,t+=r.sizeInBytes()+1,u=hy.of(this.createTrailerDict()),t+=u.sizeInBytes()+2,c=hm.forLastCrossRefSectionOffset(l),[2,{size:t+=c.sizeInBytes(),header:e,indirectObjects:n,xref:r,trailerDict:u,trailer:c}]}})})},e.forContext=function(t,r){return new e(t,r)},e}(),hw=function(e){function t(t){var r=e.call(this)||this;return r.data=t,r}return lV(t,e),t.prototype.clone=function(){return t.of(this.data.slice())},t.prototype.toString=function(){return"PDFInvalidObject("+this.data.length+" bytes)"},t.prototype.sizeInBytes=function(){return this.data.length},t.prototype.copyBytesInto=function(e,t){for(var r=this.data.length,n=0;n<r;n++)e[t++]=this.data[n];return r},t.of=function(e){return new t(e)},t}(cJ);(y=Z||(Z={}))[y.Deleted=0]="Deleted",y[y.Uncompressed=1]="Uncompressed",y[y.Compressed=2]="Compressed";var hx=function(e){function t(t,r,n){void 0===n&&(n=!0);var i=e.call(this,t,n)||this;return i.computeIndex=function(){for(var e=[],t=0,r=0,n=i.entries.length;r<n;r++){var o=i.entries[r],s=i.entries[r-1];0===r?e.push(o.ref.objectNumber):o.ref.objectNumber-s.ref.objectNumber>1&&(e.push(t),e.push(o.ref.objectNumber),t=0),t+=1}return e.push(t),e},i.computeEntryTuples=function(){for(var e=Array(i.entries.length),t=0,r=i.entries.length;t<r;t++){var n=i.entries[t];if(n.type===Z.Deleted){var o=n.type,s=n.nextFreeObjectNumber,a=n.ref;e[t]=[o,s,a.generationNumber]}if(n.type===Z.Uncompressed){var o=n.type,l=n.offset,a=n.ref;e[t]=[o,l,a.generationNumber]}if(n.type===Z.Compressed){var o=n.type,u=n.objectStreamRef,c=n.index;e[t]=[o,u.objectNumber,c]}}return e},i.computeMaxEntryByteWidths=function(){for(var e=i.entryTuplesCache.access(),t=[0,0,0],r=0,n=e.length;r<n;r++){var o=e[r],s=o[0],a=o[1],l=o[2],u=uN(s),c=uN(a),h=uN(l);u>t[0]&&(t[0]=u),c>t[1]&&(t[1]=c),h>t[2]&&(t[2]=h)}return t},i.entries=r||[],i.entryTuplesCache=cx.populatedBy(i.computeEntryTuples),i.maxByteWidthsCache=cx.populatedBy(i.computeMaxEntryByteWidths),i.indexCache=cx.populatedBy(i.computeIndex),t.set(c9.of("Type"),c9.of("XRef")),i}return lV(t,e),t.prototype.addDeletedEntry=function(e,t){var r=Z.Deleted;this.entries.push({type:r,ref:e,nextFreeObjectNumber:t}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.addUncompressedEntry=function(e,t){var r=Z.Uncompressed;this.entries.push({type:r,ref:e,offset:t}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.addCompressedEntry=function(e,t,r){var n=Z.Compressed;this.entries.push({type:n,ref:e,objectStreamRef:t,index:r}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.clone=function(e){var r=this.dict,n=this.entries,i=this.encode;return t.of(r.clone(e),n.slice(),i)},t.prototype.getContentsString=function(){for(var e=this.entryTuplesCache.access(),t=this.maxByteWidthsCache.access(),r="",n=0,i=e.length;n<i;n++){for(var o=e[n],s=o[0],a=o[1],l=o[2],u=up(uP(s)),c=up(uP(a)),h=up(uP(l)),d=t[0]-1;d>=0;d--)r+=(u[d]||0).toString(2);for(var d=t[1]-1;d>=0;d--)r+=(c[d]||0).toString(2);for(var d=t[2]-1;d>=0;d--)r+=(h[d]||0).toString(2)}return r},t.prototype.getUnencodedContents=function(){for(var e=this.entryTuplesCache.access(),t=this.maxByteWidthsCache.access(),r=new Uint8Array(this.getUnencodedContentsSize()),n=0,i=0,o=e.length;i<o;i++){for(var s=e[i],a=s[0],l=s[1],u=s[2],c=up(uP(a)),h=up(uP(l)),d=up(uP(u)),f=t[0]-1;f>=0;f--)r[n++]=c[f]||0;for(var f=t[1]-1;f>=0;f--)r[n++]=h[f]||0;for(var f=t[2]-1;f>=0;f--)r[n++]=d[f]||0}return r},t.prototype.getUnencodedContentsSize=function(){return ug(this.maxByteWidthsCache.access())*this.entries.length},t.prototype.updateDict=function(){e.prototype.updateDict.call(this);var t=this.maxByteWidthsCache.access(),r=this.indexCache.access(),n=this.dict.context;this.dict.set(c9.of("W"),n.obj(t)),this.dict.set(c9.of("Index"),n.obj(r))},t.create=function(e,r){void 0===r&&(r=!0);var n=new t(e,[],r);return n.addDeletedEntry(ho.of(0,65535),0),n},t.of=function(e,r,n){return void 0===n&&(n=!0),new t(e,r,n)},t}(hl),hS=function(e){function t(t,r,n,i){var o=e.call(this,t,r)||this;return o.encodeStreams=n,o.objectsPerStream=i,o}return lV(t,e),t.prototype.computeBufferSize=function(){return l$(this,void 0,void 0,function(){var e,t,r,n,i,o,s,a,l,u,c,h,d,f,p,g,m,y,v;return lW(this,function(b){switch(b.label){case 0:e=this.context.largestObjectNumber+1,r=(t=cX.forVersion(1,7)).sizeInBytes()+2,n=hx.create(this.createTrailerDict(),this.encodeStreams),i=[],o=[],s=[],a=this.context.enumerateIndirectObjects(),l=0,u=a.length,b.label=1;case 1:if(!(l<u))return[3,6];if(h=(c=a[l])[0],d=c[1],!(h===this.context.trailerInfo.Encrypt||d instanceof ht||d instanceof hw||0!==h.generationNumber))return[3,4];if(i.push(c),n.addUncompressedEntry(h,r),r+=this.computeIndirectObjectSize(c),!this.shouldWaitForTick(1))return[3,3];return[4,ub()];case 2:b.sent(),b.label=3;case 3:return[3,5];case 4:f=ua(o),p=ua(s),f&&f.length%this.objectsPerStream!=0||(f=[],o.push(f),p=ho.of(e++),s.push(p)),n.addCompressedEntry(h,p,f.length),f.push(c),b.label=5;case 5:return l++,[3,1];case 6:l=0,u=o.length,b.label=7;case 7:if(!(l<u))return[3,10];if(f=o[l],h=s[l],g=hv.withContextAndObjects(this.context,f,this.encodeStreams),n.addUncompressedEntry(h,r),r+=this.computeIndirectObjectSize([h,g]),i.push([h,g]),!this.shouldWaitForTick(f.length))return[3,9];return[4,ub()];case 8:b.sent(),b.label=9;case 9:return l++,[3,7];case 10:return m=ho.of(e++),n.dict.set(c9.of("Size"),cY.of(e)),n.addUncompressedEntry(m,r),y=r,r+=this.computeIndirectObjectSize([m,n]),i.push([m,n]),v=hm.forLastCrossRefSectionOffset(y),[2,{size:r+=v.sizeInBytes(),header:t,indirectObjects:i,trailer:v}]}})})},t.forContext=function(e,r,n,i){return void 0===n&&(n=!0),void 0===i&&(i=50),new t(e,r,n,i)},t}(hb),hC=function(e){function t(t){var r=e.call(this)||this;return r.value=t,r}return lV(t,e),t.prototype.asBytes=function(){for(var e=this.value+(this.value.length%2==1?"0":""),t=e.length,r=new Uint8Array(e.length/2),n=0,i=0;n<t;){var o=parseInt(e.substring(n,n+2),16);r[i]=o,n+=2,i+=1}return r},t.prototype.decodeText=function(){var e=this.asBytes();return uD(e)?uC(e):cw(e)},t.prototype.decodeDate=function(){var e=this.decodeText(),t=uo(e);if(!t)throw new cF(e);return t},t.prototype.asString=function(){return this.value},t.prototype.clone=function(){return t.of(this.value)},t.prototype.toString=function(){return"<"+this.value+">"},t.prototype.sizeInBytes=function(){return this.value.length+2},t.prototype.copyBytesInto=function(e,t){return e[t++]=cQ.LessThan,t+=l3(this.value,e,t),e[t++]=cQ.GreaterThan,this.value.length+2},t.of=function(e){return new t(e)},t.fromText=function(e){for(var r=uw(e),n="",i=0,o=r.length;i<o;i++)n+=l0(r[i],4);return new t(n)},t}(cJ),hk=function(){function e(e,t){this.encoding=e===X.ZapfDingbats?u9.ZapfDingbats:e===X.Symbol?u9.Symbol:u9.WinAnsi,this.font=u4.load(e),this.fontName=this.font.FontName,this.customName=t}return e.prototype.encodeText=function(e){for(var t=this.encodeTextAsGlyphs(e),r=Array(t.length),n=0,i=t.length;n<i;n++)r[n]=l1(t[n].code);return hC.of(r.join(""))},e.prototype.widthOfTextAtSize=function(e,t){for(var r=this.encodeTextAsGlyphs(e),n=0,i=0,o=r.length;i<o;i++){var s=r[i].name,a=(r[i+1]||{}).name,l=this.font.getXAxisKerningForPair(s,a)||0;n+=this.widthOfGlyph(s)+l}return t/1e3*n},e.prototype.heightOfFontAtSize=function(e,t){void 0===t&&(t={});var r=t.descender,n=this.font,i=n.Ascender,o=n.Descender,s=n.FontBBox,a=(i||s[3])-(o||s[1]);return void 0===r||r||(a+=o||0),a/1e3*e},e.prototype.sizeOfFontAtHeight=function(e){var t=this.font,r=t.Ascender,n=t.Descender,i=t.FontBBox;return 1e3*e/((r||i[3])-(n||i[1]))},e.prototype.embedIntoContext=function(e,t){var r=e.obj({Type:"Font",Subtype:"Type1",BaseFont:this.customName||this.fontName,Encoding:this.encoding===u9.WinAnsi?"WinAnsiEncoding":void 0});return t?(e.assign(t,r),t):e.register(r)},e.prototype.widthOfGlyph=function(e){return this.font.getWidthOfGlyph(e)||250},e.prototype.encodeTextAsGlyphs=function(e){for(var t=Array.from(e),r=Array(t.length),n=0,i=t.length;n<i;n++){var o=t[n].codePointAt(0);r[n]=this.encoding.encodeUnicodeCodePoint(o)}return r},e.for=function(t,r){return new e(t,r)},e}(),h_=function(e,t){for(var r=Array(e.length),n=0,i=e.length;n<i;n++){var o=e[n],s=hT(hE(t(o))),a=hT.apply(void 0,o.codePoints.map(hI));r[n]=[s,a]}return hA(r)},hA=function(e){return"/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange\n"+e.length+" beginbfchar\n"+e.map(function(e){return e[0]+" "+e[1]}).join("\n")+"\nendbfchar\nendcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"},hT=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"<"+e.join("")+">"},hE=function(e){return l0(e,4)},hI=function(e){if(e>=0&&e<=65535)return hE(e);if(e>=65536&&e<=1114111){var t=ux(e),r=uS(e);return""+hE(t)+hE(r)}throw Error("0x"+l1(e)+" is not a valid UTF-8 or UTF-16 codepoint.")},hD=function(e){var t=0,r=function(e){t|=1<<e-1};return e.fixedPitch&&r(1),e.serif&&r(2),e.symbolic&&r(3),e.script&&r(4),e.nonsymbolic&&r(6),e.italic&&r(7),e.allCap&&r(17),e.smallCap&&r(18),e.forceBold&&r(19),t},hF=function(e){var t=e["OS/2"]?e["OS/2"].sFamilyClass:0;return hD({fixedPitch:e.post.isFixedPitch,serif:1<=t&&t<=7,symbolic:!0,script:10===t,italic:e.head.macStyle.italic})},hN=function(e){function t(t){var r=e.call(this)||this;return r.value=t,r}return lV(t,e),t.prototype.asBytes=function(){for(var e=[],t="",r=!1,n=function(t){void 0!==t&&e.push(t),r=!1},i=0,o=this.value.length;i<o;i++){var s=this.value[i],a=lZ(s),l=this.value[i+1];r?a===cQ.Newline||a===cQ.CarriageReturn?n():a===cQ.n?n(cQ.Newline):a===cQ.r?n(cQ.CarriageReturn):a===cQ.t?n(cQ.Tab):a===cQ.b?n(cQ.Backspace):a===cQ.f?n(cQ.FormFeed):a===cQ.LeftParen?n(cQ.LeftParen):a===cQ.RightParen?n(cQ.RightParen):a===cQ.Backspace?n(cQ.BackSlash):a>=cQ.Zero&&a<=cQ.Seven?3!==(t+=s).length&&l>="0"&&l<="7"||(n(parseInt(t,8)),t=""):n(a):a===cQ.BackSlash?r=!0:n(a)}return new Uint8Array(e)},t.prototype.decodeText=function(){var e=this.asBytes();return uD(e)?uC(e):cw(e)},t.prototype.decodeDate=function(){var e=this.decodeText(),t=uo(e);if(!t)throw new cF(e);return t},t.prototype.asString=function(){return this.value},t.prototype.clone=function(){return t.of(this.value)},t.prototype.toString=function(){return"("+this.value+")"},t.prototype.sizeInBytes=function(){return this.value.length+2},t.prototype.copyBytesInto=function(e,t){return e[t++]=cQ.LeftParen,t+=l3(this.value,e,t),e[t++]=cQ.RightParen,this.value.length+2},t.of=function(e){return new t(e)},t.fromDate=function(e){return new t("D:"+l5(String(e.getUTCFullYear()),4,"0")+l5(String(e.getUTCMonth()+1),2,"0")+l5(String(e.getUTCDate()),2,"0")+l5(String(e.getUTCHours()),2,"0")+l5(String(e.getUTCMinutes()),2,"0")+l5(String(e.getUTCSeconds()),2,"0")+"Z")},t}(cJ),hP=function(){function e(e,t,r,n){var i=this;this.allGlyphsInFontSortedById=function(){for(var e=Array(i.font.characterSet.length),t=0,r=e.length;t<r;t++){var n=i.font.characterSet[t];e[t]=i.font.glyphForCodePoint(n)}return uf(e.sort(ud),function(e){return e.id})},this.font=e,this.scale=1e3/this.font.unitsPerEm,this.fontData=t,this.fontName=this.font.postscriptName||"Font",this.customName=r,this.fontFeatures=n,this.baseFontName="",this.glyphCache=cx.populatedBy(this.allGlyphsInFontSortedById)}return e.for=function(t,r,n,i){return l$(this,void 0,void 0,function(){return lW(this,function(o){switch(o.label){case 0:return[4,t.create(r)];case 1:return[2,new e(o.sent(),r,n,i)]}})})},e.prototype.encodeText=function(e){for(var t=this.font.layout(e,this.fontFeatures).glyphs,r=Array(t.length),n=0,i=t.length;n<i;n++)r[n]=l0(t[n].id,4);return hC.of(r.join(""))},e.prototype.widthOfTextAtSize=function(e,t){for(var r=this.font.layout(e,this.fontFeatures).glyphs,n=0,i=0,o=r.length;i<o;i++)n+=r[i].advanceWidth*this.scale;return t/1e3*n},e.prototype.heightOfFontAtSize=function(e,t){void 0===t&&(t={});var r=t.descender,n=this.font,i=n.ascent,o=n.descent,s=n.bbox,a=(i||s.maxY)*this.scale-(o||s.minY)*this.scale;return void 0===r||r||(a-=Math.abs(o)||0),a/1e3*e},e.prototype.sizeOfFontAtHeight=function(e){var t=this.font,r=t.ascent,n=t.descent,i=t.bbox;return 1e3*e/((r||i.maxY)*this.scale-(n||i.minY)*this.scale)},e.prototype.embedIntoContext=function(e,t){return this.baseFontName=this.customName||e.addRandomSuffix(this.fontName),this.embedFontDict(e,t)},e.prototype.embedFontDict=function(e,t){return l$(this,void 0,void 0,function(){var r,n,i;return lW(this,function(o){switch(o.label){case 0:return[4,this.embedCIDFontDict(e)];case 1:if(r=o.sent(),n=this.embedUnicodeCmap(e),i=e.obj({Type:"Font",Subtype:"Type0",BaseFont:this.baseFontName,Encoding:"Identity-H",DescendantFonts:[r],ToUnicode:n}),t)return e.assign(t,i),[2,t];return[2,e.register(i)]}})})},e.prototype.isCFF=function(){return this.font.cff},e.prototype.embedCIDFontDict=function(e){return l$(this,void 0,void 0,function(){var t,r;return lW(this,function(n){switch(n.label){case 0:return[4,this.embedFontDescriptor(e)];case 1:return t=n.sent(),r=e.obj({Type:"Font",Subtype:this.isCFF()?"CIDFontType0":"CIDFontType2",CIDToGIDMap:"Identity",BaseFont:this.baseFontName,CIDSystemInfo:{Registry:hN.of("Adobe"),Ordering:hN.of("Identity"),Supplement:0},FontDescriptor:t,W:this.computeWidths()}),[2,e.register(r)]}})})},e.prototype.embedFontDescriptor=function(e){return l$(this,void 0,void 0,function(){var t,r,n,i,o,s,a,l,u,c,h,d,f,p,g;return lW(this,function(m){switch(m.label){case 0:return[4,this.embedFontStream(e)];case 1:return t=m.sent(),r=this.scale,i=(n=this.font).italicAngle,o=n.ascent,s=n.descent,a=n.capHeight,l=n.xHeight,c=(u=this.font.bbox).minX,h=u.minY,d=u.maxX,f=u.maxY,p=e.obj(((g={Type:"FontDescriptor",FontName:this.baseFontName,Flags:hF(this.font),FontBBox:[c*r,h*r,d*r,f*r],ItalicAngle:i,Ascent:o*r,Descent:s*r,CapHeight:(a||o)*r,XHeight:(l||0)*r,StemV:0})[this.isCFF()?"FontFile3":"FontFile2"]=t,g)),[2,e.register(p)]}})})},e.prototype.serializeFont=function(){return l$(this,void 0,void 0,function(){return lW(this,function(e){return[2,this.fontData]})})},e.prototype.embedFontStream=function(e){return l$(this,void 0,void 0,function(){var t,r,n;return lW(this,function(i){switch(i.label){case 0:return n=(r=e).flateStream,[4,this.serializeFont()];case 1:return t=n.apply(r,[i.sent(),{Subtype:this.isCFF()?"CIDFontType0C":void 0}]),[2,e.register(t)]}})})},e.prototype.embedUnicodeCmap=function(e){var t=h_(this.glyphCache.access(),this.glyphId.bind(this)),r=e.flateStream(t);return e.register(r)},e.prototype.glyphId=function(e){return e?e.id:-1},e.prototype.computeWidths=function(){for(var e=this.glyphCache.access(),t=[],r=[],n=0,i=e.length;n<i;n++){var o=e[n],s=e[n-1],a=this.glyphId(o),l=this.glyphId(s);0===n?t.push(a):a-l!=1&&(t.push(r),t.push(a),r=[]),r.push(o.advanceWidth*this.scale)}return t.push(r),t},e}(),hR=function(e){function t(t,r,n,i){var o=e.call(this,t,r,n,i)||this;return o.subset=o.font.createSubset(),o.glyphs=[],o.glyphCache=cx.populatedBy(function(){return o.glyphs}),o.glyphIdMap=new Map,o}return lV(t,e),t.for=function(e,r,n,i){return l$(this,void 0,void 0,function(){return lW(this,function(o){switch(o.label){case 0:return[4,e.create(r)];case 1:return[2,new t(o.sent(),r,n,i)]}})})},t.prototype.encodeText=function(e){for(var t=this.font.layout(e,this.fontFeatures).glyphs,r=Array(t.length),n=0,i=t.length;n<i;n++){var o=t[n],s=this.subset.includeGlyph(o);this.glyphs[s-1]=o,this.glyphIdMap.set(o.id,s),r[n]=l0(s,4)}return this.glyphCache.invalidate(),hC.of(r.join(""))},t.prototype.isCFF=function(){return this.subset.cff},t.prototype.glyphId=function(e){return e?this.glyphIdMap.get(e.id):-1},t.prototype.serializeFont=function(){var e=this;return new Promise(function(t,r){var n=[];e.subset.encodeStream().on("data",function(e){return n.push(e)}).on("end",function(){return t(uc(n))}).on("error",function(e){return r(e)})})},t}(hP);(v=ee||(ee={})).Source="Source",v.Data="Data",v.Alternative="Alternative",v.Supplement="Supplement",v.EncryptedPayload="EncryptedPayload",v.FormData="EncryptedPayload",v.Schema="Schema",v.Unspecified="Unspecified";var hO=function(){function e(e,t,r){void 0===r&&(r={}),this.fileData=e,this.fileName=t,this.options=r}return e.for=function(t,r,n){return void 0===n&&(n={}),new e(t,r,n)},e.prototype.embedIntoContext=function(e,t){return l$(this,void 0,void 0,function(){var r,n,i,o,s,a,l,u,c;return lW(this,function(h){return(n=(r=this.options).mimeType,i=r.description,o=r.creationDate,s=r.modificationDate,a=r.afRelationship,l=e.flateStream(this.fileData,{Type:"EmbeddedFile",Subtype:null!=n?n:void 0,Params:{Size:this.fileData.length,CreationDate:o?hN.fromDate(o):void 0,ModDate:s?hN.fromDate(s):void 0}}),u=e.register(l),c=e.obj({Type:"Filespec",F:hN.of(this.fileName),UF:hC.fromText(this.fileName),EF:{F:u},Desc:i?hC.fromText(i):void 0,AFRelationship:null!=a?a:void 0}),t)?(e.assign(t,c),[2,t]):[2,e.register(c)]})})},e}(),hM=[65472,65473,65474,65475,65477,65478,65479,65480,65481,65482,65483,65484,65485,65486,65487];(b=et||(et={})).DeviceGray="DeviceGray",b.DeviceRGB="DeviceRGB",b.DeviceCMYK="DeviceCMYK";var hB={1:et.DeviceGray,3:et.DeviceRGB,4:et.DeviceCMYK},hL=function(){function e(e,t,r,n,i){this.imageData=e,this.bitsPerComponent=t,this.width=r,this.height=n,this.colorSpace=i}return e.for=function(t){return l$(this,void 0,void 0,function(){var r,n,i,o,s,a,l;return lW(this,function(u){if(65496!==(r=new DataView(t.buffer)).getUint16(0))throw Error("SOI not found in JPEG");for(n=2;n<r.byteLength&&(i=r.getUint16(n),n+=2,!hM.includes(i));)n+=r.getUint16(n);if(!hM.includes(i))throw Error("Invalid JPEG");if(n+=2,o=r.getUint8(n++),s=r.getUint16(n),n+=2,a=r.getUint16(n),n+=2,!(l=hB[r.getUint8(n++)]))throw Error("Unknown JPEG channel.");return[2,new e(t,o,a,s,l)]})})},e.prototype.embedIntoContext=function(e,t){return l$(this,void 0,void 0,function(){var r;return lW(this,function(n){return(r=e.stream(this.imageData,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.bitsPerComponent,Width:this.width,Height:this.height,ColorSpace:this.colorSpace,Filter:"DCTDecode",Decode:this.colorSpace===et.DeviceCMYK?[1,0,1,0,1,0,1,0]:void 0}),t)?(e.assign(t,r),[2,t]):[2,e.register(r)]})})},e}(),hj={};hj.toRGBA8=function(e){var t=e.width,r=e.height;if(null==e.tabs.acTL)return[hj.toRGBA8.decodeImage(e.data,t,r,e).buffer];var n=[];null==e.frames[0].data&&(e.frames[0].data=e.data);for(var i=t*r*4,o=new Uint8Array(i),s=new Uint8Array(i),a=new Uint8Array(i),l=0;l<e.frames.length;l++){var u=e.frames[l],c=u.rect.x,h=u.rect.y,d=u.rect.width,f=u.rect.height,p=hj.toRGBA8.decodeImage(u.data,d,f,e);if(0!=l)for(var g=0;g<i;g++)a[g]=o[g];if(0==u.blend?hj._copyTile(p,d,f,o,t,r,c,h,0):1==u.blend&&hj._copyTile(p,d,f,o,t,r,c,h,1),n.push(o.buffer.slice(0)),0==u.dispose);else if(1==u.dispose)hj._copyTile(s,d,f,o,t,r,c,h,0);else if(2==u.dispose)for(var g=0;g<i;g++)o[g]=a[g]}return n},hj.toRGBA8.decodeImage=function(e,t,r,n){var i=t*r,o=Math.ceil(t*hj.decode._getBPP(n)/8),s=new Uint8Array(4*i),a=new Uint32Array(s.buffer),l=n.ctype,u=n.depth,c=hj._bin.readUshort;if(Date.now(),6==l){var h=i<<2;if(8==u)for(var d=0;d<h;d+=4)s[d]=e[d],s[d+1]=e[d+1],s[d+2]=e[d+2],s[d+3]=e[d+3];if(16==u)for(var d=0;d<h;d++)s[d]=e[d<<1]}else if(2==l){var f=n.tabs.tRNS;if(null==f){if(8==u)for(var d=0;d<i;d++){var p=3*d;a[d]=-0x1000000|e[p+2]<<16|e[p+1]<<8|e[p]}if(16==u)for(var d=0;d<i;d++){var p=6*d;a[d]=-0x1000000|e[p+4]<<16|e[p+2]<<8|e[p]}}else{var g=f[0],m=f[1],y=f[2];if(8==u)for(var d=0;d<i;d++){var v=d<<2,p=3*d;a[d]=-0x1000000|e[p+2]<<16|e[p+1]<<8|e[p],e[p]==g&&e[p+1]==m&&e[p+2]==y&&(s[v+3]=0)}if(16==u)for(var d=0;d<i;d++){var v=d<<2,p=6*d;a[d]=-0x1000000|e[p+4]<<16|e[p+2]<<8|e[p],c(e,p)==g&&c(e,p+2)==m&&c(e,p+4)==y&&(s[v+3]=0)}}}else if(3==l){var b=n.tabs.PLTE,w=n.tabs.tRNS,x=w?w.length:0;if(1==u)for(var S=0;S<r;S++)for(var C=S*o,k=S*t,d=0;d<t;d++){var v=k+d<<2,_=e[C+(d>>3)]>>7-(7&d)&1,A=3*_;s[v]=b[A],s[v+1]=b[A+1],s[v+2]=b[A+2],s[v+3]=_<x?w[_]:255}if(2==u)for(var S=0;S<r;S++)for(var C=S*o,k=S*t,d=0;d<t;d++){var v=k+d<<2,_=e[C+(d>>2)]>>6-((3&d)<<1)&3,A=3*_;s[v]=b[A],s[v+1]=b[A+1],s[v+2]=b[A+2],s[v+3]=_<x?w[_]:255}if(4==u)for(var S=0;S<r;S++)for(var C=S*o,k=S*t,d=0;d<t;d++){var v=k+d<<2,_=e[C+(d>>1)]>>4-((1&d)<<2)&15,A=3*_;s[v]=b[A],s[v+1]=b[A+1],s[v+2]=b[A+2],s[v+3]=_<x?w[_]:255}if(8==u)for(var d=0;d<i;d++){var v=d<<2,_=e[d],A=3*_;s[v]=b[A],s[v+1]=b[A+1],s[v+2]=b[A+2],s[v+3]=_<x?w[_]:255}}else if(4==l){if(8==u)for(var d=0;d<i;d++){var v=d<<2,T=d<<1,E=e[T];s[v]=E,s[v+1]=E,s[v+2]=E,s[v+3]=e[T+1]}if(16==u)for(var d=0;d<i;d++){var v=d<<2,T=d<<2,E=e[T];s[v]=E,s[v+1]=E,s[v+2]=E,s[v+3]=e[T+2]}}else if(0==l)for(var g=n.tabs.tRNS?n.tabs.tRNS:-1,S=0;S<r;S++){var I=S*o,D=S*t;if(1==u)for(var F=0;F<t;F++){var E=255*(e[I+(F>>>3)]>>>7-(7&F)&1),N=255*(E!=255*g);a[D+F]=N<<24|E<<16|E<<8|E}else if(2==u)for(var F=0;F<t;F++){var E=85*(e[I+(F>>>2)]>>>6-((3&F)<<1)&3),N=255*(E!=85*g);a[D+F]=N<<24|E<<16|E<<8|E}else if(4==u)for(var F=0;F<t;F++){var E=17*(e[I+(F>>>1)]>>>4-((1&F)<<2)&15),N=255*(E!=17*g);a[D+F]=N<<24|E<<16|E<<8|E}else if(8==u)for(var F=0;F<t;F++){var E=e[I+F],N=255*(E!=g);a[D+F]=N<<24|E<<16|E<<8|E}else if(16==u)for(var F=0;F<t;F++){var E=e[I+(F<<1)],N=255*(c(e,I+(F<<d))!=g);a[D+F]=N<<24|E<<16|E<<8|E}}return s},hj.decode=function(e){for(var t,r=new Uint8Array(e),n=8,i=hj._bin,o=i.readUshort,s=i.readUint,a={tabs:{},frames:[]},l=new Uint8Array(r.length),u=0,c=0,h=[137,80,78,71,13,10,26,10],d=0;d<8;d++)if(r[d]!=h[d])throw"The input is not a PNG file!";for(;n<r.length;){var f=i.readUint(r,n);n+=4;var p=i.readASCII(r,n,4);if(n+=4,"IHDR"==p)hj.decode._IHDR(r,n,a);else if("IDAT"==p){for(var d=0;d<f;d++)l[u+d]=r[n+d];u+=f}else if("acTL"==p)a.tabs[p]={num_frames:s(r,n),num_plays:s(r,n+4)},t=new Uint8Array(r.length);else if("fcTL"==p){if(0!=c){var g=a.frames[a.frames.length-1];g.data=hj.decode._decompress(a,t.slice(0,c),g.rect.width,g.rect.height),c=0}var m={x:s(r,n+12),y:s(r,n+16),width:s(r,n+4),height:s(r,n+8)},y=o(r,n+22),v={rect:m,delay:Math.round(1e3*(y=o(r,n+20)/(0==y?100:y))),dispose:r[n+24],blend:r[n+25]};a.frames.push(v)}else if("fdAT"==p){for(var d=0;d<f-4;d++)t[c+d]=r[n+d+4];c+=f-4}else if("pHYs"==p)a.tabs[p]=[i.readUint(r,n),i.readUint(r,n+4),r[n+8]];else if("cHRM"==p){a.tabs[p]=[];for(var d=0;d<8;d++)a.tabs[p].push(i.readUint(r,n+4*d))}else if("tEXt"==p){null==a.tabs[p]&&(a.tabs[p]={});var b=i.nextZero(r,n),w=i.readASCII(r,n,b-n),x=i.readASCII(r,b+1,n+f-b-1);a.tabs[p][w]=x}else if("iTXt"==p){null==a.tabs[p]&&(a.tabs[p]={});var b=0,S=n;b=i.nextZero(r,S);var w=i.readASCII(r,S,b-S);r[S=b+1],r[S+1],S+=2,b=i.nextZero(r,S),i.readASCII(r,S,b-S),S=b+1,b=i.nextZero(r,S),i.readUTF8(r,S,b-S),S=b+1;var x=i.readUTF8(r,S,f-(S-n));a.tabs[p][w]=x}else if("PLTE"==p)a.tabs[p]=i.readBytes(r,n,f);else if("hIST"==p){var C=a.tabs.PLTE.length/3;a.tabs[p]=[];for(var d=0;d<C;d++)a.tabs[p].push(o(r,n+2*d))}else if("tRNS"==p)3==a.ctype?a.tabs[p]=i.readBytes(r,n,f):0==a.ctype?a.tabs[p]=o(r,n):2==a.ctype&&(a.tabs[p]=[o(r,n),o(r,n+2),o(r,n+4)]);else if("gAMA"==p)a.tabs[p]=i.readUint(r,n)/1e5;else if("sRGB"==p)a.tabs[p]=r[n];else if("bKGD"==p)0==a.ctype||4==a.ctype?a.tabs[p]=[o(r,n)]:2==a.ctype||6==a.ctype?a.tabs[p]=[o(r,n),o(r,n+2),o(r,n+4)]:3==a.ctype&&(a.tabs[p]=r[n]);else if("IEND"==p)break;n+=f,i.readUint(r,n),n+=4}if(0!=c){var g=a.frames[a.frames.length-1];g.data=hj.decode._decompress(a,t.slice(0,c),g.rect.width,g.rect.height),c=0}return a.data=hj.decode._decompress(a,l,a.width,a.height),delete a.compress,delete a.interlace,delete a.filter,a},hj.decode._decompress=function(e,t,r,n){Date.now();var i=new Uint8Array((Math.ceil(r*hj.decode._getBPP(e)/8)+1+e.interlace)*n);return t=hj.decode._inflate(t,i),Date.now(),0==e.interlace?t=hj.decode._filterZero(t,e,0,r,n):1==e.interlace&&(t=hj.decode._readInterlace(t,e)),t},hj.decode._inflate=function(e,t){return hj.inflateRaw(new Uint8Array(e.buffer,2,e.length-6),t)},(w={}).H={},w.H.N=function(e,t){var r,n,i=Uint8Array,o=0,s=0,a=0,l=0,u=0,c=0,h=0,d=0,f=0;if(3==e[0]&&0==e[1])return t||new i(0);var p=w.H,g=p.b,m=p.e,y=p.R,v=p.n,b=p.A,x=p.Z,S=p.m,C=null==t;for(C&&(t=new i(e.length>>>2<<3));0==o;){if(o=g(e,f,1),s=g(e,f+1,2),f+=3,0==s){(7&f)!=0&&(f+=8-(7&f));var k=(f>>>3)+4,_=e[k-4]|e[k-3]<<8;C&&(t=w.H.W(t,d+_)),t.set(new i(e.buffer,e.byteOffset+k,_),d),f=k+_<<3,d+=_;continue}if(C&&(t=w.H.W(t,d+131072)),1==s&&(r=S.J,n=S.h,c=511,h=31),2==s){a=m(e,f,5)+257,l=m(e,f+5,5)+1,u=m(e,f+10,4)+4,f+=14;for(var A=1,T=0;T<38;T+=2)S.Q[T]=0,S.Q[T+1]=0;for(var T=0;T<u;T++){var E=m(e,f+3*T,3);S.Q[(S.X[T]<<1)+1]=E,E>A&&(A=E)}f+=3*u,v(S.Q,A),b(S.Q,A,S.u),r=S.w,n=S.d,f=y(S.u,(1<<A)-1,a+l,e,f,S.v);var I=p.V(S.v,0,a,S.C);c=(1<<I)-1;var D=p.V(S.v,a,l,S.D);h=(1<<D)-1,v(S.C,I),b(S.C,I,r),v(S.D,D),b(S.D,D,n)}for(;;){var F=r[x(e,f)&c];f+=15&F;var N=F>>>4;if(N>>>8==0)t[d++]=N;else if(256==N)break;else{var P=d+N-254;if(N>264){var R=S.q[N-257];P=d+(R>>>3)+m(e,f,7&R),f+=7&R}var O=n[x(e,f)&h];f+=15&O;var M=O>>>4,B=S.c[M],L=(B>>>4)+g(e,f,15&B);for(f+=15&B;d<P;)t[d]=t[d++-L],t[d]=t[d++-L],t[d]=t[d++-L],t[d]=t[d++-L];d=P}}}return t.length==d?t:t.slice(0,d)},w.H.W=function(e,t){var r=e.length;if(t<=r)return e;var n=new Uint8Array(r<<1);return n.set(e,0),n},w.H.R=function(e,t,r,n,i,o){for(var s=w.H.e,a=w.H.Z,l=0;l<r;){var u=e[a(n,i)&t];i+=15&u;var c=u>>>4;if(c<=15)o[l]=c,l++;else{var h=0,d=0;16==c?(d=3+s(n,i,2),i+=2,h=o[l-1]):17==c?(d=3+s(n,i,3),i+=3):18==c&&(d=11+s(n,i,7),i+=7);for(var f=l+d;l<f;)o[l]=h,l++}}return i},w.H.V=function(e,t,r,n){for(var i=0,o=0,s=n.length>>>1;o<r;){var a=e[o+t];n[o<<1]=0,n[(o<<1)+1]=a,a>i&&(i=a),o++}for(;o<s;)n[o<<1]=0,n[(o<<1)+1]=0,o++;return i},w.H.n=function(e,t){for(var r,n,i,o,s,a=w.H.m,l=e.length,u=a.j,o=0;o<=t;o++)u[o]=0;for(o=1;o<l;o+=2)u[e[o]]++;var c=a.K;for(n=1,r=0,u[0]=0;n<=t;n++)r=r+u[n-1]<<1,c[n]=r;for(i=0;i<l;i+=2)0!=(s=e[i+1])&&(e[i]=c[s],c[s]++)},w.H.A=function(e,t,r){for(var n=e.length,i=w.H.m.r,o=0;o<n;o+=2)if(0!=e[o+1])for(var s=o>>1,a=e[o+1],l=s<<4|a,u=t-a,c=e[o]<<u,h=c+(1<<u);c!=h;)r[i[c]>>>15-t]=l,c++},w.H.l=function(e,t){for(var r=w.H.m.r,n=15-t,i=0;i<e.length;i+=2){var o=e[i]<<t-e[i+1];e[i]=r[o]>>>n}},w.H.M=function(e,t,r){r<<=7&t;var n=t>>>3;e[n]|=r,e[n+1]|=r>>>8},w.H.I=function(e,t,r){r<<=7&t;var n=t>>>3;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},w.H.e=function(e,t,r){return(e[t>>>3]|e[(t>>>3)+1]<<8)>>>(7&t)&(1<<r)-1},w.H.b=function(e,t,r){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16)>>>(7&t)&(1<<r)-1},w.H.Z=function(e,t){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16)>>>(7&t)},w.H.i=function(e,t){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16|e[(t>>>3)+3]<<24)>>>(7&t)},w.H.m=(x=Uint16Array,S=Uint32Array,{K:new x(16),j:new x(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new x(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new S(32),J:new x(512),_:[],h:new x(32),$:[],w:new x(32768),C:[],v:[],d:new x(32768),D:[],u:new x(512),Q:[],r:new x(32768),s:new S(286),Y:new S(30),a:new S(19),t:new S(15e3),k:new x(65536),g:new x(32768)}),function(){for(var e=w.H.m,t=0;t<32768;t++){var r=t;r=(0xff00ff00&(r=(0xf0f0f0f0&(r=(0xcccccccc&(r=(0xaaaaaaaa&r)>>>1|(0x55555555&r)<<1))>>>2|(0x33333333&r)<<2))>>>4|(0xf0f0f0f&r)<<4))>>>8|(0xff00ff&r)<<8,e.r[t]=(r>>>16|r<<16)>>>17}function n(e,t,r){for(;0!=t--;)e.push(0,r)}for(var t=0;t<32;t++)e.q[t]=e.S[t]<<3|e.T[t],e.c[t]=e.p[t]<<4|e.z[t];n(e._,144,8),n(e._,112,9),n(e._,24,7),n(e._,8,8),w.H.n(e._,9),w.H.A(e._,9,e.J),w.H.l(e._,9),n(e.$,32,5),w.H.n(e.$,5),w.H.A(e.$,5,e.h),w.H.l(e.$,5),n(e.Q,19,0),n(e.C,286,0),n(e.D,30,0),n(e.v,320,0)}(),hj.inflateRaw=w.H.N,hj.decode._readInterlace=function(e,t){for(var r=t.width,n=t.height,i=hj.decode._getBPP(t),o=i>>3,s=Math.ceil(r*i/8),a=new Uint8Array(n*s),l=0,u=[0,0,4,0,2,0,1],c=[0,4,0,2,0,1,0],h=[8,8,8,4,4,2,2],d=[8,8,4,4,2,2,1],f=0;f<7;){for(var p=h[f],g=d[f],m=0,y=0,v=u[f];v<n;)v+=p,y++;for(var b=c[f];b<r;)b+=g,m++;var w=Math.ceil(m*i/8);hj.decode._filterZero(e,t,l,m,y);for(var x=0,S=u[f];S<n;){for(var C=c[f],k=l+x*w<<3;C<r;){if(1==i){var _=e[k>>3];_=_>>7-(7&k)&1,a[S*s+(C>>3)]|=_<<7-(7&C)}if(2==i){var _=e[k>>3];_=_>>6-(7&k)&3,a[S*s+(C>>2)]|=_<<6-((3&C)<<1)}if(4==i){var _=e[k>>3];_=_>>4-(7&k)&15,a[S*s+(C>>1)]|=_<<4-((1&C)<<2)}if(i>=8)for(var A=S*s+C*o,T=0;T<o;T++)a[A+T]=e[(k>>3)+T];k+=i,C+=g}x++,S+=p}m*y!=0&&(l+=y*(1+w)),f+=1}return a},hj.decode._getBPP=function(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth},hj.decode._filterZero=function(e,t,r,n,i){var o=hj.decode._getBPP(t),s=Math.ceil(n*o/8),a=hj.decode._paeth;o=Math.ceil(o/8);var l=0,u=1,c=e[r],h=0;if(c>1&&(e[r]=[0,0,1][c-2]),3==c)for(h=o;h<s;h++)e[h+1]=e[h+1]+(e[h+1-o]>>>1)&255;for(var d=0;d<i;d++)if(c=e[(u=(l=r+d*s)+d+1)-1],h=0,0==c)for(;h<s;h++)e[l+h]=e[u+h];else if(1==c){for(;h<o;h++)e[l+h]=e[u+h];for(;h<s;h++)e[l+h]=e[u+h]+e[l+h-o]}else if(2==c)for(;h<s;h++)e[l+h]=e[u+h]+e[l+h-s];else if(3==c){for(;h<o;h++)e[l+h]=e[u+h]+(e[l+h-s]>>>1);for(;h<s;h++)e[l+h]=e[u+h]+(e[l+h-s]+e[l+h-o]>>>1)}else{for(;h<o;h++)e[l+h]=e[u+h]+a(0,e[l+h-s],0);for(;h<s;h++)e[l+h]=e[u+h]+a(e[l+h-o],e[l+h-s],e[l+h-o-s])}return e},hj.decode._paeth=function(e,t,r){var n=e+t-r,i=n-e,o=n-t,s=n-r;return i*i<=o*o&&i*i<=s*s?e:o*o<=s*s?t:r},hj.decode._IHDR=function(e,t,r){var n=hj._bin;r.width=n.readUint(e,t),t+=4,r.height=n.readUint(e,t),r.depth=e[t+=4],r.ctype=e[++t],r.compress=e[++t],r.filter=e[++t],r.interlace=e[++t],t++},hj._bin={nextZero:function(e,t){for(;0!=e[t];)t++;return t},readUshort:function(e,t){return e[t]<<8|e[t+1]},writeUshort:function(e,t,r){e[t]=r>>8&255,e[t+1]=255&r},readUint:function(e,t){return 0x1000000*e[t]+(e[t+1]<<16|e[t+2]<<8|e[t+3])},writeUint:function(e,t,r){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r},readASCII:function(e,t,r){for(var n="",i=0;i<r;i++)n+=String.fromCharCode(e[t+i]);return n},writeASCII:function(e,t,r){for(var n=0;n<r.length;n++)e[t+n]=r.charCodeAt(n)},readBytes:function(e,t,r){for(var n=[],i=0;i<r;i++)n.push(e[t+i]);return n},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,r){for(var n,i="",o=0;o<r;o++)i+="%"+hj._bin.pad(e[t+o].toString(16));try{n=decodeURIComponent(i)}catch(n){return hj._bin.readASCII(e,t,r)}return n}},hj._copyTile=function(e,t,r,n,i,o,s,a,l){for(var u=Math.min(t,i),c=Math.min(r,o),h=0,d=0,f=0;f<c;f++)for(var p=0;p<u;p++)if(s>=0&&a>=0?(h=f*t+p<<2,d=(a+f)*i+s+p<<2):(h=(-a+f)*t-s+p<<2,d=f*i+p<<2),0==l)n[d]=e[h],n[d+1]=e[h+1],n[d+2]=e[h+2],n[d+3]=e[h+3];else if(1==l){var g=e[h+3]*(1/255),m=e[h]*g,y=e[h+1]*g,v=e[h+2]*g,b=n[d+3]*(1/255),w=n[d]*b,x=n[d+1]*b,S=n[d+2]*b,C=1-g,k=g+b*C,_=0==k?0:1/k;n[d+3]=255*k,n[d+0]=(m+w*C)*_,n[d+1]=(y+x*C)*_,n[d+2]=(v+S*C)*_}else if(2==l){var g=e[h+3],m=e[h],y=e[h+1],v=e[h+2],b=n[d+3],w=n[d],x=n[d+1],S=n[d+2];g==b&&m==w&&y==x&&v==S?(n[d]=0,n[d+1]=0,n[d+2]=0,n[d+3]=0):(n[d]=m,n[d+1]=y,n[d+2]=v,n[d+3]=g)}else if(3==l){var g=e[h+3],m=e[h],y=e[h+1],v=e[h+2],b=n[d+3],w=n[d],x=n[d+1],S=n[d+2];if(g==b&&m==w&&y==x&&v==S)continue;if(g<220&&b>20)return!1}return!0},hj.encode=function(e,t,r,n,i,o,s){null==n&&(n=0),null==s&&(s=!1);var a=hj.encode.compress(e,t,r,n,[!1,!1,!1,0,s]);return hj.encode.compressPNG(a,-1),hj.encode._main(a,t,r,i,o)},hj.encodeLL=function(e,t,r,n,i,o,s,a){var l={ctype:0+2*(1!=n)+4*(0!=i),depth:o,frames:[]};Date.now();for(var u=(n+i)*o,c=u*t,h=0;h<e.length;h++)l.frames.push({rect:{x:0,y:0,width:t,height:r},img:new Uint8Array(e[h]),blend:0,dispose:1,bpp:Math.ceil(u/8),bpl:Math.ceil(c/8)});return hj.encode.compressPNG(l,0,!0),hj.encode._main(l,t,r,s,a)},hj.encode._main=function(e,t,r,n,i){null==i&&(i={});var o=hj.crc.crc,s=hj._bin.writeUint,a=hj._bin.writeUshort,l=hj._bin.writeASCII,u=8,c=e.frames.length>1,h=!1,d=33+20*!!c;if(null!=i.sRGB&&(d+=13),null!=i.pHYs&&(d+=21),3==e.ctype){for(var f=e.plte.length,p=0;p<f;p++)e.plte[p]>>>24!=255&&(h=!0);d+=8+3*f+4+(h?8+ +f+4:0)}for(var g=0;g<e.frames.length;g++){var m=e.frames[g];c&&(d+=38),d+=m.cimg.length+12,0!=g&&(d+=4)}for(var y=new Uint8Array(d+=12),v=[137,80,78,71,13,10,26,10],p=0;p<8;p++)y[p]=v[p];if(s(y,u,13),l(y,u+=4,"IHDR"),s(y,u+=4,t),s(y,u+=4,r),y[u+=4]=e.depth,y[++u]=e.ctype,y[++u]=0,y[++u]=0,y[++u]=0,s(y,++u,o(y,u-17,17)),u+=4,null!=i.sRGB&&(s(y,u,1),l(y,u+=4,"sRGB"),y[u+=4]=i.sRGB,s(y,++u,o(y,u-5,5)),u+=4),null!=i.pHYs&&(s(y,u,9),l(y,u+=4,"pHYs"),s(y,u+=4,i.pHYs[0]),s(y,u+=4,i.pHYs[1]),y[u+=4]=i.pHYs[2],s(y,++u,o(y,u-13,13)),u+=4),c&&(s(y,u,8),l(y,u+=4,"acTL"),s(y,u+=4,e.frames.length),s(y,u+=4,null!=i.loop?i.loop:0),s(y,u+=4,o(y,u-12,12)),u+=4),3==e.ctype){var f=e.plte.length;s(y,u,3*f),l(y,u+=4,"PLTE"),u+=4;for(var p=0;p<f;p++){var b=3*p,w=e.plte[p],x=255&w,S=w>>>8&255,C=w>>>16&255;y[u+b+0]=x,y[u+b+1]=S,y[u+b+2]=C}if(s(y,u+=3*f,o(y,u-3*f-4,3*f+4)),u+=4,h){s(y,u,f),l(y,u+=4,"tRNS"),u+=4;for(var p=0;p<f;p++)y[u+p]=e.plte[p]>>>24&255;s(y,u+=f,o(y,u-f-4,f+4)),u+=4}}for(var k=0,g=0;g<e.frames.length;g++){var m=e.frames[g];c&&(s(y,u,26),l(y,u+=4,"fcTL"),s(y,u+=4,k++),s(y,u+=4,m.rect.width),s(y,u+=4,m.rect.height),s(y,u+=4,m.rect.x),s(y,u+=4,m.rect.y),a(y,u+=4,n[g]),a(y,u+=2,1e3),y[u+=2]=m.dispose,y[++u]=m.blend,s(y,++u,o(y,u-30,30)),u+=4);var _=m.cimg,f=_.length;s(y,u,f+4*(0!=g));var A=u+=4;l(y,u,0==g?"IDAT":"fdAT"),u+=4,0!=g&&(s(y,u,k++),u+=4),y.set(_,u),s(y,u+=f,o(y,A,u-A)),u+=4}return s(y,u,0),l(y,u+=4,"IEND"),s(y,u+=4,o(y,u-4,4)),u+=4,y.buffer},hj.encode.compressPNG=function(e,t,r){for(var n=0;n<e.frames.length;n++){var i=e.frames[n],o=(i.rect.width,i.rect.height),s=new Uint8Array(o*i.bpl+o);i.cimg=hj.encode._filterZero(i.img,o,i.bpp,i.bpl,s,t,r)}},hj.encode.compress=function(e,t,r,n,i){for(var o=i[0],s=i[1],a=i[2],l=i[3],u=i[4],c=6,h=8,d=255,f=0;f<e.length;f++)for(var p=new Uint8Array(e[f]),g=p.length,m=0;m<g;m+=4)d&=p[m+3];var y=255!=d,v=hj.encode.framize(e,t,r,o,s,a),b={},w=[],x=[];if(0!=n){for(var S=[],m=0;m<v.length;m++)S.push(v[m].img.buffer);for(var C=hj.encode.concatRGBA(S),k=hj.quantize(C,n),_=0,A=new Uint8Array(k.abuf),m=0;m<v.length;m++){var T=v[m].img,E=T.length;x.push(new Uint8Array(k.inds.buffer,_>>2,E>>2));for(var f=0;f<E;f+=4)T[f]=A[_+f],T[f+1]=A[_+f+1],T[f+2]=A[_+f+2],T[f+3]=A[_+f+3];_+=E}for(var m=0;m<k.plte.length;m++)w.push(k.plte[m].est.rgba)}else for(var f=0;f<v.length;f++){var I=v[f],D=new Uint32Array(I.img.buffer),F=I.rect.width,g=D.length,N=new Uint8Array(g);x.push(N);for(var m=0;m<g;m++){var P=D[m];if(0!=m&&P==D[m-1])N[m]=N[m-1];else if(m>F&&P==D[m-F])N[m]=N[m-F];else{var R=b[P];if(null==R&&(b[P]=R=w.length,w.push(P),w.length>=300))break;N[m]=R}}}var O=w.length;O<=256&&!1==u&&(h=Math.max(h=O<=2?1:O<=4?2:O<=16?4:8,l));for(var f=0;f<v.length;f++){var I=v[f],F=(I.rect.x,I.rect.y,I.rect.width),M=I.rect.height,B=I.img;new Uint32Array(B.buffer);var L=4*F,j=4;if(O<=256&&!1==u){for(var z=new Uint8Array((L=Math.ceil(h*F/8))*M),V=x[f],U=0;U<M;U++){var m=U*L,$=U*F;if(8==h)for(var W=0;W<F;W++)z[m+W]=V[$+W];else if(4==h)for(var W=0;W<F;W++)z[m+(W>>1)]|=V[$+W]<<4-(1&W)*4;else if(2==h)for(var W=0;W<F;W++)z[m+(W>>2)]|=V[$+W]<<6-(3&W)*2;else if(1==h)for(var W=0;W<F;W++)z[m+(W>>3)]|=V[$+W]<<7-(7&W)*1}B=z,c=3,j=1}else if(!1==y&&1==v.length){for(var z=new Uint8Array(F*M*3),q=F*M,m=0;m<q;m++){var T=3*m,K=4*m;z[T]=B[K],z[T+1]=B[K+1],z[T+2]=B[K+2]}B=z,c=2,j=3,L=3*F}I.img=B,I.bpl=L,I.bpp=j}return{ctype:c,depth:h,plte:w,frames:v}},hj.encode.framize=function(e,t,r,n,i,o){for(var s=[],a=0;a<e.length;a++){var l,u=new Uint8Array(e[a]),c=new Uint32Array(u.buffer),h=0,d=0,f=t,p=r,g=+!!n;if(0!=a){for(var m=o||n||1==a||0!=s[a-2].dispose?1:2,y=0,v=1e9,b=0;b<m;b++){for(var w=new Uint8Array(e[a-1-b]),x=new Uint32Array(e[a-1-b]),S=t,C=r,k=-1,_=-1,A=0;A<r;A++)for(var T=0;T<t;T++){var E=A*t+T;c[E]!=x[E]&&(T<S&&(S=T),T>k&&(k=T),A<C&&(C=A),A>_&&(_=A))}-1==k&&(S=C=k=_=0),i&&((1&S)==1&&S--,(1&C)==1&&C--);var I=(k-S+1)*(_-C+1);I<v&&(v=I,y=b,h=S,d=C,f=k-S+1,p=_-C+1)}var w=new Uint8Array(e[a-1-y]);1==y&&(s[a-1].dispose=2),l=new Uint8Array(f*p*4),hj._copyTile(w,t,r,l,f,p,-h,-d,0),1==(g=+!!hj._copyTile(u,t,r,l,f,p,-h,-d,3))?hj.encode._prepareDiff(u,t,r,l,{x:h,y:d,width:f,height:p}):hj._copyTile(u,t,r,l,f,p,-h,-d,0)}else l=u.slice(0);s.push({rect:{x:h,y:d,width:f,height:p},img:l,blend:g,dispose:0})}if(n)for(var a=0;a<s.length;a++){var D=s[a];if(1!=D.blend){var F=D.rect,N=s[a-1].rect,P=Math.min(F.x,N.x),R=Math.min(F.y,N.y),O={x:P,y:R,width:Math.max(F.x+F.width,N.x+N.width)-P,height:Math.max(F.y+F.height,N.y+N.height)-R};s[a-1].dispose=1,a-1!=0&&hj.encode._updateFrame(e,t,r,s,a-1,O,i),hj.encode._updateFrame(e,t,r,s,a,O,i)}}if(1!=e.length)for(var E=0;E<s.length;E++){var D=s[E];D.rect.width,D.rect.height}return s},hj.encode._updateFrame=function(e,t,r,n,i,o,s){for(var a=Uint8Array,l=Uint32Array,u=new a(e[i-1]),c=new l(e[i-1]),h=i+1<e.length?new a(e[i+1]):null,d=new a(e[i]),f=new l(d.buffer),p=t,g=r,m=-1,y=-1,v=0;v<o.height;v++)for(var b=0;b<o.width;b++){var w=o.x+b,x=o.y+v,S=x*t+w,C=f[S];0==C||0==n[i-1].dispose&&c[S]==C&&(null==h||0!=h[4*S+3])||(w<p&&(p=w),w>m&&(m=w),x<g&&(g=x),x>y&&(y=x))}-1==m&&(p=g=m=y=0),s&&((1&p)==1&&p--,(1&g)==1&&g--),o={x:p,y:g,width:m-p+1,height:y-g+1};var k=n[i];k.rect=o,k.blend=1,k.img=new Uint8Array(o.width*o.height*4),0==n[i-1].dispose?(hj._copyTile(u,t,r,k.img,o.width,o.height,-o.x,-o.y,0),hj.encode._prepareDiff(d,t,r,k.img,o)):hj._copyTile(d,t,r,k.img,o.width,o.height,-o.x,-o.y,0)},hj.encode._prepareDiff=function(e,t,r,n,i){hj._copyTile(e,t,r,n,i.width,i.height,-i.x,-i.y,2)},hj.encode._filterZero=function(e,t,r,n,i,o,s){var a=[],l=[0,1,2,3,4];-1!=o?l=[o]:(t*n>5e5||1==r)&&(l=[0]),s&&(d={level:0});for(var u=s&&null!=UZIP?UZIP:uO.default,c=0;c<l.length;c++){for(var h=0;h<t;h++)hj.encode._filterLine(i,e,h,n,r,l[c]);a.push(u.deflate(i,d))}for(var d,f,p=1e9,c=0;c<a.length;c++)a[c].length<p&&(f=c,p=a[c].length);return a[f]},hj.encode._filterLine=function(e,t,r,n,i,o){var s=r*n,a=s+r,l=hj.decode._paeth;if(e[a]=o,a++,0==o)if(n<500)for(var u=0;u<n;u++)e[a+u]=t[s+u];else e.set(new Uint8Array(t.buffer,s,n),a);else if(1==o){for(var u=0;u<i;u++)e[a+u]=t[s+u];for(var u=i;u<n;u++)e[a+u]=t[s+u]-t[s+u-i]+256&255}else if(0==r){for(var u=0;u<i;u++)e[a+u]=t[s+u];if(2==o)for(var u=i;u<n;u++)e[a+u]=t[s+u];if(3==o)for(var u=i;u<n;u++)e[a+u]=t[s+u]-(t[s+u-i]>>1)+256&255;if(4==o)for(var u=i;u<n;u++)e[a+u]=t[s+u]-l(t[s+u-i],0,0)+256&255}else{if(2==o)for(var u=0;u<n;u++)e[a+u]=t[s+u]+256-t[s+u-n]&255;if(3==o){for(var u=0;u<i;u++)e[a+u]=t[s+u]+256-(t[s+u-n]>>1)&255;for(var u=i;u<n;u++)e[a+u]=t[s+u]+256-(t[s+u-n]+t[s+u-i]>>1)&255}if(4==o){for(var u=0;u<i;u++)e[a+u]=t[s+u]+256-l(0,t[s+u-n],0)&255;for(var u=i;u<n;u++)e[a+u]=t[s+u]+256-l(t[s+u-i],t[s+u-n],t[s+u-i-n])&255}}},hj.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var r=t,n=0;n<8;n++)1&r?r=0xedb88320^r>>>1:r>>>=1;e[t]=r}return e}(),update:function(e,t,r,n){for(var i=0;i<n;i++)e=hj.crc.table[(e^t[r+i])&255]^e>>>8;return e},crc:function(e,t,r){return 0xffffffff^hj.crc.update(0xffffffff,e,t,r)}},hj.quantize=function(e,t){var r=new Uint8Array(e),n=r.slice(0),i=new Uint32Array(n.buffer),o=hj.quantize.getKDtree(n,t),s=o[0],a=o[1];hj.quantize.planeDst;for(var l=r.length,u=new Uint8Array(r.length>>2),c=0;c<l;c+=4){var h=r[c]*(1/255),d=r[c+1]*(1/255),f=r[c+2]*(1/255),p=r[c+3]*(1/255),g=hj.quantize.getNearest(s,h,d,f,p);u[c>>2]=g.ind,i[c>>2]=g.est.rgba}return{abuf:n.buffer,inds:u,plte:a}},hj.quantize.getKDtree=function(e,t,r){null==r&&(r=1e-4);var n=new Uint32Array(e.buffer),i={i0:0,i1:e.length,bst:null,est:null,tdst:0,left:null,right:null};i.bst=hj.quantize.stats(e,i.i0,i.i1),i.est=hj.quantize.estats(i.bst);for(var o=[i];o.length<t;){for(var s=0,a=0,l=0;l<o.length;l++)o[l].est.L>s&&(s=o[l].est.L,a=l);if(s<r)break;var u=o[a],c=hj.quantize.splitPixels(e,n,u.i0,u.i1,u.est.e,u.est.eMq255);if(u.i0>=c||u.i1<=c){u.est.L=0;continue}var h={i0:u.i0,i1:c,bst:null,est:null,tdst:0,left:null,right:null};h.bst=hj.quantize.stats(e,h.i0,h.i1),h.est=hj.quantize.estats(h.bst);var d={i0:c,i1:u.i1,bst:null,est:null,tdst:0,left:null,right:null};d.bst={R:[],m:[],N:u.bst.N-h.bst.N};for(var l=0;l<16;l++)d.bst.R[l]=u.bst.R[l]-h.bst.R[l];for(var l=0;l<4;l++)d.bst.m[l]=u.bst.m[l]-h.bst.m[l];d.est=hj.quantize.estats(d.bst),u.left=h,u.right=d,o[a]=h,o.push(d)}o.sort(function(e,t){return t.bst.N-e.bst.N});for(var l=0;l<o.length;l++)o[l].ind=l;return[i,o]},hj.quantize.getNearest=function(e,t,r,n,i){if(null==e.left)return e.tdst=hj.quantize.dist(e.est.q,t,r,n,i),e;var o=hj.quantize.planeDst(e.est,t,r,n,i),s=e.left,a=e.right;o>0&&(s=e.right,a=e.left);var l=hj.quantize.getNearest(s,t,r,n,i);if(l.tdst<=o*o)return l;var u=hj.quantize.getNearest(a,t,r,n,i);return u.tdst<l.tdst?u:l},hj.quantize.planeDst=function(e,t,r,n,i){var o=e.e;return o[0]*t+o[1]*r+o[2]*n+o[3]*i-e.eMq},hj.quantize.dist=function(e,t,r,n,i){var o=t-e[0],s=r-e[1],a=n-e[2],l=i-e[3];return o*o+s*s+a*a+l*l},hj.quantize.splitPixels=function(e,t,r,n,i,o){var s=hj.quantize.vecDot;for(n-=4;r<n;){for(;s(e,r,i)<=o;)r+=4;for(;s(e,n,i)>o;)n-=4;if(r>=n)break;var a=t[r>>2];t[r>>2]=t[n>>2],t[n>>2]=a,r+=4,n-=4}for(;s(e,r,i)>o;)r-=4;return r+4},hj.quantize.vecDot=function(e,t,r){return e[t]*r[0]+e[t+1]*r[1]+e[t+2]*r[2]+e[t+3]*r[3]},hj.quantize.stats=function(e,t,r){for(var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[0,0,0,0],o=t;o<r;o+=4){var s=e[o]*(1/255),a=e[o+1]*(1/255),l=e[o+2]*(1/255),u=e[o+3]*(1/255);i[0]+=s,i[1]+=a,i[2]+=l,i[3]+=u,n[0]+=s*s,n[1]+=s*a,n[2]+=s*l,n[3]+=s*u,n[5]+=a*a,n[6]+=a*l,n[7]+=a*u,n[10]+=l*l,n[11]+=l*u,n[15]+=u*u}return n[4]=n[1],n[8]=n[2],n[9]=n[6],n[12]=n[3],n[13]=n[7],n[14]=n[11],{R:n,m:i,N:r-t>>2}},hj.quantize.estats=function(e){var t=e.R,r=e.m,n=e.N,i=r[0],o=r[1],s=r[2],a=r[3],l=0==n?0:1/n,u=[t[0]-i*i*l,t[1]-i*o*l,t[2]-i*s*l,t[3]-i*a*l,t[4]-o*i*l,t[5]-o*o*l,t[6]-o*s*l,t[7]-o*a*l,t[8]-s*i*l,t[9]-s*o*l,t[10]-s*s*l,t[11]-s*a*l,t[12]-a*i*l,t[13]-a*o*l,t[14]-a*s*l,t[15]-a*a*l],c=hj.M4,h=[.5,.5,.5,.5],d=0,f=0;if(0!=n)for(var p=0;p<10&&(h=c.multVec(u,h),f=Math.sqrt(c.dot(h,h)),h=c.sml(1/f,h),!(1e-9>Math.abs(f-d)));p++)d=f;var g=[i*l,o*l,s*l,a*l],m=c.dot(c.sml(255,g),h);return{Cov:u,q:g,e:h,L:d,eMq255:m,eMq:c.dot(h,g),rgba:(Math.round(255*g[3])<<24|Math.round(255*g[2])<<16|Math.round(255*g[1])<<8|(0|Math.round(255*g[0])))>>>0}},hj.M4={multVec:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],e[4]*t[0]+e[5]*t[1]+e[6]*t[2]+e[7]*t[3],e[8]*t[0]+e[9]*t[1]+e[10]*t[2]+e[11]*t[3],e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15]*t[3]]},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},sml:function(e,t){return[e*t[0],e*t[1],e*t[2],e*t[3]]}},hj.encode.concatRGBA=function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r].byteLength;for(var n=new Uint8Array(t),i=0,r=0;r<e.length;r++){for(var o=new Uint8Array(e[r]),s=o.length,a=0;a<s;a+=4){var l=o[a],u=o[a+1],c=o[a+2],h=o[a+3];0==h&&(l=u=c=0),n[i+a]=l,n[i+a+1]=u,n[i+a+2]=c,n[i+a+3]=h}i+=s}return n.buffer};var hz=function(e){if(0===e)return er.Greyscale;if(2===e)return er.Truecolour;if(3===e)return er.IndexedColour;if(4===e)return er.GreyscaleWithAlpha;if(6===e)return er.TruecolourWithAlpha;throw Error("Unknown color type: "+e)},hV=function(e){for(var t=Math.floor(e.length/4),r=new Uint8Array(3*t),n=new Uint8Array(+t),i=0,o=0,s=0;i<e.length;)r[o++]=e[i++],r[o++]=e[i++],r[o++]=e[i++],n[s++]=e[i++];return{rgbChannel:r,alphaChannel:n}};(C=er||(er={})).Greyscale="Greyscale",C.Truecolour="Truecolour",C.IndexedColour="IndexedColour",C.GreyscaleWithAlpha="GreyscaleWithAlpha",C.TruecolourWithAlpha="TruecolourWithAlpha";var hU=function(){function e(e){var t=hj.decode(e),r=hj.toRGBA8(t);if(r.length>1)throw Error("Animated PNGs are not supported");var n=hV(new Uint8Array(r[0])),i=n.rgbChannel,o=n.alphaChannel;this.rgbChannel=i,o.some(function(e){return e<255})&&(this.alphaChannel=o),this.type=hz(t.ctype),this.width=t.width,this.height=t.height,this.bitsPerComponent=8}return e.load=function(t){return new e(t)},e}(),h$=function(){function e(e){this.image=e,this.bitsPerComponent=e.bitsPerComponent,this.width=e.width,this.height=e.height,this.colorSpace="DeviceRGB"}return e.for=function(t){return l$(this,void 0,void 0,function(){return lW(this,function(r){return[2,new e(hU.load(t))]})})},e.prototype.embedIntoContext=function(e,t){return l$(this,void 0,void 0,function(){var r,n;return lW(this,function(i){return(r=this.embedAlphaChannel(e),n=e.flateStream(this.image.rgbChannel,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.image.bitsPerComponent,Width:this.image.width,Height:this.image.height,ColorSpace:this.colorSpace,SMask:r}),t)?(e.assign(t,n),[2,t]):[2,e.register(n)]})})},e.prototype.embedAlphaChannel=function(e){if(this.image.alphaChannel){var t=e.flateStream(this.image.alphaChannel,{Type:"XObject",Subtype:"Image",Height:this.image.height,Width:this.image.width,BitsPerComponent:this.image.bitsPerComponent,ColorSpace:"DeviceGray",Decode:[0,1]});return e.register(t)}},e}(),hW=function(){function e(e,t,r){this.bytes=e,this.start=t||0,this.pos=this.start,this.end=t&&r?t+r:this.bytes.length}return Object.defineProperty(e.prototype,"length",{get:function(){return this.end-this.start},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.length},enumerable:!1,configurable:!0}),e.prototype.getByte=function(){return this.pos>=this.end?-1:this.bytes[this.pos++]},e.prototype.getUint16=function(){var e=this.getByte(),t=this.getByte();return -1===e||-1===t?-1:(e<<8)+t},e.prototype.getInt32=function(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()},e.prototype.getBytes=function(e,t){void 0===t&&(t=!1);var r=this.bytes,n=this.pos,i=this.end;if(e){var o=n+e;o>i&&(o=i),this.pos=o;var s=r.subarray(n,o);return t?new Uint8ClampedArray(s):s}var s=r.subarray(n,i);return t?new Uint8ClampedArray(s):s},e.prototype.peekByte=function(){var e=this.getByte();return this.pos--,e},e.prototype.peekBytes=function(e,t){void 0===t&&(t=!1);var r=this.getBytes(e,t);return this.pos-=r.length,r},e.prototype.skip=function(e){e||(e=1),this.pos+=e},e.prototype.reset=function(){this.pos=this.start},e.prototype.moveStart=function(){this.start=this.pos},e.prototype.makeSubStream=function(t,r){return new e(this.bytes,t,r)},e.prototype.decode=function(){return this.bytes},e}(),hq=new Uint8Array(0),hK=function(){function e(e){if(this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=hq,this.minBufferLength=512,e)for(;this.minBufferLength<e;)this.minBufferLength*=2}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){for(;!this.eof&&0===this.bufferLength;)this.readBlock();return 0===this.bufferLength},enumerable:!1,configurable:!0}),e.prototype.getByte=function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return -1;this.readBlock()}return this.buffer[this.pos++]},e.prototype.getUint16=function(){var e=this.getByte(),t=this.getByte();return -1===e||-1===t?-1:(e<<8)+t},e.prototype.getInt32=function(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()},e.prototype.getBytes=function(e,t){void 0===t&&(t=!1);var r,n=this.pos;if(e){for(this.ensureBuffer(n+e),r=n+e;!this.eof&&this.bufferLength<r;)this.readBlock();var i=this.bufferLength;r>i&&(r=i)}else{for(;!this.eof;)this.readBlock();r=this.bufferLength}this.pos=r;var o=this.buffer.subarray(n,r);return!t||o instanceof Uint8ClampedArray?o:new Uint8ClampedArray(o)},e.prototype.peekByte=function(){var e=this.getByte();return this.pos--,e},e.prototype.peekBytes=function(e,t){void 0===t&&(t=!1);var r=this.getBytes(e,t);return this.pos-=r.length,r},e.prototype.skip=function(e){e||(e=1),this.pos+=e},e.prototype.reset=function(){this.pos=0},e.prototype.makeSubStream=function(e,t){for(var r=e+t;this.bufferLength<=r&&!this.eof;)this.readBlock();return new hW(this.buffer,e,t)},e.prototype.decode=function(){for(;!this.eof;)this.readBlock();return this.buffer.subarray(0,this.bufferLength)},e.prototype.readBlock=function(){throw new cS(this.constructor.name,"readBlock")},e.prototype.ensureBuffer=function(e){var t=this.buffer;if(e<=t.byteLength)return t;for(var r=this.minBufferLength;r<e;)r*=2;var n=new Uint8Array(r);return n.set(t),this.buffer=n},e}(),hG=function(e){return 32===e||9===e||13===e||10===e},hH=function(e){function t(t,r){var n=e.call(this,r)||this;return n.stream=t,n.input=new Uint8Array(5),r&&(r*=.8),n}return lV(t,e),t.prototype.readBlock=function(){for(var e,t,r=this.stream,n=r.getByte();hG(n);)n=r.getByte();if(-1===n||126===n){this.eof=!0;return}var i=this.bufferLength;if(122===n){for(t=0,e=this.ensureBuffer(i+4);t<4;++t)e[i+t]=0;this.bufferLength+=4}else{var o=this.input;for(t=1,o[0]=n;t<5;++t){for(n=r.getByte();hG(n);)n=r.getByte();if(o[t]=n,-1===n||126===n)break}if(e=this.ensureBuffer(i+t-1),this.bufferLength+=t-1,t<5){for(;t<5;++t)o[t]=117;this.eof=!0}var s=0;for(t=0;t<5;++t)s=85*s+(o[t]-33);for(t=3;t>=0;--t)e[i+t]=255&s,s>>=8}},t}(hK),hQ=function(e){function t(t,r){var n=e.call(this,r)||this;return n.stream=t,n.firstDigit=-1,r&&(r*=.5),n}return lV(t,e),t.prototype.readBlock=function(){var e=this.stream.getBytes(8e3);if(!e.length){this.eof=!0;return}for(var t=e.length+1>>1,r=this.ensureBuffer(this.bufferLength+t),n=this.bufferLength,i=this.firstDigit,o=0,s=e.length;o<s;o++){var a=e[o],l=void 0;if(a>=48&&a<=57)l=15&a;else if(a>=65&&a<=70||a>=97&&a<=102)l=(15&a)+9;else{if(62!==a)continue;this.eof=!0;break}i<0?i=l:(r[n++]=i<<4|l,i=-1)}i>=0&&this.eof&&(r[n++]=i<<4,i=-1),this.firstDigit=i,this.bufferLength=n},t}(hK),hX=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),hJ=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),hY=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),hZ=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],h0=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],h1=function(e){function t(t,r){var n=e.call(this,r)||this;n.stream=t;var i=t.getByte(),o=t.getByte();if(-1===i||-1===o)throw Error("Invalid header in flate stream: "+i+", "+o);if((15&i)!=8)throw Error("Unknown compression method in flate stream: "+i+", "+o);if(((i<<8)+o)%31!=0)throw Error("Bad FCHECK in flate stream: "+i+", "+o);if(32&o)throw Error("FDICT bit set in flate stream: "+i+", "+o);return n.codeSize=0,n.codeBuf=0,n}return lV(t,e),t.prototype.readBlock=function(){var e,t,r,n,i=this.stream,o=this.getBits(3);if(1&o&&(this.eof=!0),0==(o>>=1)){var s=void 0;if(-1===(s=i.getByte()))throw Error("Bad block header in flate stream");var a=s;if(-1===(s=i.getByte())||(a|=s<<8,-1===(s=i.getByte())))throw Error("Bad block header in flate stream");var l=s;if(-1===(s=i.getByte()))throw Error("Bad block header in flate stream");if((l|=s<<8)!=(65535&~a)&&(0!==a||0!==l))throw Error("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;var u=this.bufferLength;e=this.ensureBuffer(u+a);var c=u+a;if(this.bufferLength=c,0===a)-1===i.peekByte()&&(this.eof=!0);else for(var h=u;h<c;++h){if(-1===(s=i.getByte())){this.eof=!0;break}e[h]=s}return}if(1===o)r=hZ,n=h0;else if(2===o){var d=this.getBits(5)+257,f=this.getBits(5)+1,p=this.getBits(4)+4,g=new Uint8Array(hX.length),m=void 0;for(m=0;m<p;++m)g[hX[m]]=this.getBits(3);var y=this.generateHuffmanTable(g);t=0,m=0;for(var v=d+f,b=new Uint8Array(v),w=void 0,x=void 0,S=void 0;m<v;){var C=this.getCode(y);if(16===C)w=2,x=3,S=t;else if(17===C)w=3,x=3,S=t=0;else if(18===C)w=7,x=11,S=t=0;else{b[m++]=t=C;continue}for(var k=this.getBits(w)+x;k-- >0;)b[m++]=S}r=this.generateHuffmanTable(b.subarray(0,d)),n=this.generateHuffmanTable(b.subarray(d,v))}else throw Error("Unknown block type in flate stream");for(var _=(e=this.buffer)?e.length:0,A=this.bufferLength;;){var T=this.getCode(r);if(T<256){A+1>=_&&(_=(e=this.ensureBuffer(A+1)).length),e[A++]=T;continue}if(256===T){this.bufferLength=A;return}T-=257;var E=(T=hJ[T])>>16;E>0&&(E=this.getBits(E)),t=(65535&T)+E,(E=(T=hY[T=this.getCode(n)])>>16)>0&&(E=this.getBits(E));var I=(65535&T)+E;A+t>=_&&(_=(e=this.ensureBuffer(A+t)).length);for(var D=0;D<t;++D,++A)e[A]=e[A-I]}},t.prototype.getBits=function(e){for(var t,r=this.stream,n=this.codeSize,i=this.codeBuf;n<e;){if(-1===(t=r.getByte()))throw Error("Bad encoding in flate stream");i|=t<<n,n+=8}return t=i&(1<<e)-1,this.codeBuf=i>>e,this.codeSize=n-=e,t},t.prototype.getCode=function(e){for(var t,r=this.stream,n=e[0],i=e[1],o=this.codeSize,s=this.codeBuf;o<i&&-1!==(t=r.getByte());)s|=t<<o,o+=8;var a=n[s&(1<<i)-1];"number"==typeof n&&console.log("FLATE:",a);var l=a>>16;if(l<1||o<l)throw Error("Bad encoding in flate stream");return this.codeBuf=s>>l,this.codeSize=o-l,65535&a},t.prototype.generateHuffmanTable=function(e){var t,r=e.length,n=0;for(t=0;t<r;++t)e[t]>n&&(n=e[t]);for(var i=1<<n,o=new Int32Array(i),s=1,a=0,l=2;s<=n;++s,a<<=1,l<<=1)for(var u=0;u<r;++u)if(e[u]===s){var c=0,h=a;for(t=0;t<s;++t)c=c<<1|1&h,h>>=1;for(t=c;t<i;t+=l)o[t]=s<<16|u;++a}return[o,n]},t}(hK),h2=function(e){function t(t,r,n){var i=e.call(this,r)||this;i.stream=t,i.cachedData=0,i.bitsCached=0;for(var o={earlyChange:n,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(4096),dictionaryLengths:new Uint16Array(4096),dictionaryPrevCodes:new Uint16Array(4096),currentSequence:new Uint8Array(4096),currentSequenceLength:0},s=0;s<256;++s)o.dictionaryValues[s]=s,o.dictionaryLengths[s]=1;return i.lzwState=o,i}return lV(t,e),t.prototype.readBlock=function(){var e,t,r,n=1024,i=this.lzwState;if(i){var o=i.earlyChange,s=i.nextCode,a=i.dictionaryValues,l=i.dictionaryLengths,u=i.dictionaryPrevCodes,c=i.codeLength,h=i.prevCode,d=i.currentSequence,f=i.currentSequenceLength,p=0,g=this.bufferLength,m=this.ensureBuffer(this.bufferLength+n);for(e=0;e<512;e++){var y=this.readBits(c),v=f>0;if(!y||y<256)d[0]=y,f=1;else if(y>=258)if(y<s)for(t=(f=l[y])-1,r=y;t>=0;t--)d[t]=a[r],r=u[r];else d[f++]=d[0];else if(256===y){c=9,s=258,f=0;continue}else{this.eof=!0,delete this.lzwState;break}if(v&&(u[s]=h,l[s]=l[h]+1,a[s]=d[0],c=++s+o&s+o-1?c:0|Math.min(Math.log(s+o)/.6931471805599453+1,12)),h=y,n<(p+=f)){do n+=512;while(n<p)m=this.ensureBuffer(this.bufferLength+n)}for(t=0;t<f;t++)m[g++]=d[t]}i.nextCode=s,i.codeLength=c,i.prevCode=h,i.currentSequenceLength=f,this.bufferLength=g}},t.prototype.readBits=function(e){for(var t=this.bitsCached,r=this.cachedData;t<e;){var n=this.stream.getByte();if(-1===n)return this.eof=!0,null;r=r<<8|n,t+=8}return this.bitsCached=t-=e,this.cachedData=r,r>>>t&(1<<e)-1},t}(hK),h5=function(e){function t(t,r){var n=e.call(this,r)||this;return n.stream=t,n}return lV(t,e),t.prototype.readBlock=function(){var e,t=this.stream.getBytes(2);if(!t||t.length<2||128===t[0]){this.eof=!0;return}var r=this.bufferLength,n=t[0];if(n<128){if((e=this.ensureBuffer(r+n+1))[r++]=t[1],n>0){var i=this.stream.getBytes(n);e.set(i,r),r+=n}}else{n=257-n;var o=t[1];e=this.ensureBuffer(r+n+1);for(var s=0;s<n;s++)e[r++]=o}this.bufferLength=r},t}(hK),h3=function(e,t,r){if(t===c9.of("FlateDecode"))return new h1(e);if(t===c9.of("LZWDecode")){var n=1;if(r instanceof he){var i=r.lookup(c9.of("EarlyChange"));i instanceof cY&&(n=i.asNumber())}return new h2(e,void 0,n)}if(t===c9.of("ASCII85Decode"))return new hH(e);if(t===c9.of("ASCIIHexDecode"))return new hQ(e);if(t===c9.of("RunLengthDecode"))return new h5(e);throw new c_(t.asString())},h4=function(e){var t=e.dict,r=new hW(e.contents),n=t.lookup(c9.of("Filter")),i=t.lookup(c9.of("DecodeParms"));if(n instanceof c9)r=h3(r,n,i);else if(n instanceof cZ)for(var o=0,s=n.size();o<s;o++)r=h3(r,n.lookup(o,c9),i&&i.lookupMaybe(o,he));else if(n)throw new ck([c9,cZ],n);return r},h6=function(e){var t=e.MediaBox();return{left:0,bottom:0,right:t.lookup(2,cY).asNumber()-t.lookup(0,cY).asNumber(),top:t.lookup(3,cY).asNumber()-t.lookup(1,cY).asNumber()}},h8=function(){function e(e,t,r){this.page=e;var n=null!=t?t:h6(e);this.width=n.right-n.left,this.height=n.top-n.bottom,this.boundingBox=n,this.transformationMatrix=null!=r?r:[1,0,0,1,-n.left,-n.bottom]}return e.for=function(t,r,n){return l$(this,void 0,void 0,function(){return lW(this,function(i){return[2,new e(t,r,n)]})})},e.prototype.embedIntoContext=function(e,t){return l$(this,void 0,void 0,function(){var r,n,i,o,s,a,l,u,c,h;return lW(this,function(d){if(n=(r=this.page.normalizedEntries()).Contents,i=r.Resources,!n)throw new cT;return(o=this.decodeContents(n),a=(s=this.boundingBox).left,l=s.bottom,u=s.right,c=s.top,h=e.flateStream(o,{Type:"XObject",Subtype:"Form",FormType:1,BBox:[a,l,u,c],Matrix:this.transformationMatrix,Resources:i}),t)?(e.assign(t,h),[2,t]):[2,e.register(h)]})})},e.prototype.decodeContents=function(e){for(var t=Uint8Array.of(cQ.Newline),r=[],n=0,i=e.size();n<i;n++){var o=e.lookup(n,ht),s=void 0;if(o instanceof hr)s=h4(o).decode();else if(o instanceof hu)s=o.getUnencodedContents();else throw new cE(o);r.push(s,t)}return uu.apply(void 0,r)},e}(),h9=function(e,t){if(void 0!==e)return t[e]};(k=en||(en={})).UseNone="UseNone",k.UseOutlines="UseOutlines",k.UseThumbs="UseThumbs",k.UseOC="UseOC",(_=ei||(ei={})).L2R="L2R",_.R2L="R2L",(A=eo||(eo={})).None="None",A.AppDefault="AppDefault",(T=es||(es={})).Simplex="Simplex",T.DuplexFlipShortEdge="DuplexFlipShortEdge",T.DuplexFlipLongEdge="DuplexFlipLongEdge";var h7=function(){function e(e){this.dict=e}return e.prototype.lookupBool=function(e){var t=this.dict.lookup(c9.of(e));if(t instanceof c1)return t},e.prototype.lookupName=function(e){var t=this.dict.lookup(c9.of(e));if(t instanceof c9)return t},e.prototype.HideToolbar=function(){return this.lookupBool("HideToolbar")},e.prototype.HideMenubar=function(){return this.lookupBool("HideMenubar")},e.prototype.HideWindowUI=function(){return this.lookupBool("HideWindowUI")},e.prototype.FitWindow=function(){return this.lookupBool("FitWindow")},e.prototype.CenterWindow=function(){return this.lookupBool("CenterWindow")},e.prototype.DisplayDocTitle=function(){return this.lookupBool("DisplayDocTitle")},e.prototype.NonFullScreenPageMode=function(){return this.lookupName("NonFullScreenPageMode")},e.prototype.Direction=function(){return this.lookupName("Direction")},e.prototype.PrintScaling=function(){return this.lookupName("PrintScaling")},e.prototype.Duplex=function(){return this.lookupName("Duplex")},e.prototype.PickTrayByPDFSize=function(){return this.lookupBool("PickTrayByPDFSize")},e.prototype.PrintPageRange=function(){var e=this.dict.lookup(c9.of("PrintPageRange"));if(e instanceof cZ)return e},e.prototype.NumCopies=function(){var e=this.dict.lookup(c9.of("NumCopies"));if(e instanceof cY)return e},e.prototype.getHideToolbar=function(){var e,t;return null!=(t=null==(e=this.HideToolbar())?void 0:e.asBoolean())&&t},e.prototype.getHideMenubar=function(){var e,t;return null!=(t=null==(e=this.HideMenubar())?void 0:e.asBoolean())&&t},e.prototype.getHideWindowUI=function(){var e,t;return null!=(t=null==(e=this.HideWindowUI())?void 0:e.asBoolean())&&t},e.prototype.getFitWindow=function(){var e,t;return null!=(t=null==(e=this.FitWindow())?void 0:e.asBoolean())&&t},e.prototype.getCenterWindow=function(){var e,t;return null!=(t=null==(e=this.CenterWindow())?void 0:e.asBoolean())&&t},e.prototype.getDisplayDocTitle=function(){var e,t;return null!=(t=null==(e=this.DisplayDocTitle())?void 0:e.asBoolean())&&t},e.prototype.getNonFullScreenPageMode=function(){var e,t;return null!=(t=h9(null==(e=this.NonFullScreenPageMode())?void 0:e.decodeText(),en))?t:en.UseNone},e.prototype.getReadingDirection=function(){var e,t;return null!=(t=h9(null==(e=this.Direction())?void 0:e.decodeText(),ei))?t:ei.L2R},e.prototype.getPrintScaling=function(){var e,t;return null!=(t=h9(null==(e=this.PrintScaling())?void 0:e.decodeText(),eo))?t:eo.AppDefault},e.prototype.getDuplex=function(){var e;return h9(null==(e=this.Duplex())?void 0:e.decodeText(),es)},e.prototype.getPickTrayByPDFSize=function(){var e;return null==(e=this.PickTrayByPDFSize())?void 0:e.asBoolean()},e.prototype.getPrintPageRange=function(){var e=this.PrintPageRange();if(!e)return[];for(var t=[],r=0;r<e.size();r+=2){var n=e.lookup(r,cY).asNumber(),i=e.lookup(r+1,cY).asNumber();t.push({start:n,end:i})}return t},e.prototype.getNumCopies=function(){var e,t;return null!=(t=null==(e=this.NumCopies())?void 0:e.asNumber())?t:1},e.prototype.setHideToolbar=function(e){var t=this.dict.context.obj(e);this.dict.set(c9.of("HideToolbar"),t)},e.prototype.setHideMenubar=function(e){var t=this.dict.context.obj(e);this.dict.set(c9.of("HideMenubar"),t)},e.prototype.setHideWindowUI=function(e){var t=this.dict.context.obj(e);this.dict.set(c9.of("HideWindowUI"),t)},e.prototype.setFitWindow=function(e){var t=this.dict.context.obj(e);this.dict.set(c9.of("FitWindow"),t)},e.prototype.setCenterWindow=function(e){var t=this.dict.context.obj(e);this.dict.set(c9.of("CenterWindow"),t)},e.prototype.setDisplayDocTitle=function(e){var t=this.dict.context.obj(e);this.dict.set(c9.of("DisplayDocTitle"),t)},e.prototype.setNonFullScreenPageMode=function(e){cs(e,"nonFullScreenPageMode",en);var t=c9.of(e);this.dict.set(c9.of("NonFullScreenPageMode"),t)},e.prototype.setReadingDirection=function(e){cs(e,"readingDirection",ei);var t=c9.of(e);this.dict.set(c9.of("Direction"),t)},e.prototype.setPrintScaling=function(e){cs(e,"printScaling",eo);var t=c9.of(e);this.dict.set(c9.of("PrintScaling"),t)},e.prototype.setDuplex=function(e){cs(e,"duplex",es);var t=c9.of(e);this.dict.set(c9.of("Duplex"),t)},e.prototype.setPickTrayByPDFSize=function(e){var t=this.dict.context.obj(e);this.dict.set(c9.of("PickTrayByPDFSize"),t)},e.prototype.setPrintPageRange=function(e){Array.isArray(e)||(e=[e]);for(var t=[],r=0,n=e.length;r<n;r++)t.push(e[r].start),t.push(e[r].end);cd(t,"printPageRange",["number"]);var i=this.dict.context.obj(t);this.dict.set(c9.of("PrintPageRange"),i)},e.prototype.setNumCopies=function(e){cf(e,"numCopies",1,Number.MAX_VALUE),cm(e,"numCopies");var t=this.dict.context.obj(e);this.dict.set(c9.of("NumCopies"),t)},e.fromDict=function(t){return new e(t)},e.create=function(t){return new e(t.obj({}))},e}(),de=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+Tf/,dt=function(){function e(e,t){this.dict=e,this.ref=t}return e.prototype.T=function(){return this.dict.lookupMaybe(c9.of("T"),hN,hC)},e.prototype.Ff=function(){var e=this.getInheritableAttribute(c9.of("Ff"));return this.dict.context.lookupMaybe(e,cY)},e.prototype.V=function(){var e=this.getInheritableAttribute(c9.of("V"));return this.dict.context.lookup(e)},e.prototype.Kids=function(){return this.dict.lookupMaybe(c9.of("Kids"),cZ)},e.prototype.DA=function(){var e=this.dict.lookup(c9.of("DA"));if(e instanceof hN||e instanceof hC)return e},e.prototype.setKids=function(e){this.dict.set(c9.of("Kids"),this.dict.context.obj(e))},e.prototype.getParent=function(){var t=this.dict.get(c9.of("Parent"));if(t instanceof ho)return new e(this.dict.lookup(c9.of("Parent"),he),t)},e.prototype.setParent=function(e){e?this.dict.set(c9.of("Parent"),e):this.dict.delete(c9.of("Parent"))},e.prototype.getFullyQualifiedName=function(){var e=this.getParent();return e?e.getFullyQualifiedName()+"."+this.getPartialName():this.getPartialName()},e.prototype.getPartialName=function(){var e;return null==(e=this.T())?void 0:e.decodeText()},e.prototype.setPartialName=function(e){e?this.dict.set(c9.of("T"),hC.fromText(e)):this.dict.delete(c9.of("T"))},e.prototype.setDefaultAppearance=function(e){this.dict.set(c9.of("DA"),hN.of(e))},e.prototype.getDefaultAppearance=function(){var e=this.DA();return e instanceof hC?e.decodeText():null==e?void 0:e.asString()},e.prototype.setFontSize=function(e){var t,r=null!=(t=this.getFullyQualifiedName())?t:"",n=this.getDefaultAppearance();if(!n)throw new cB(r);var i=us(n,de);if(!i.match)throw new cL(r);var o=n.slice(0,i.pos-i.match[0].length),s=i.pos<=n.length?n.slice(i.pos):"",a=o+" /"+i.match[1]+" "+e+" Tf "+s;this.setDefaultAppearance(a)},e.prototype.getFlags=function(){var e,t;return null!=(t=null==(e=this.Ff())?void 0:e.asNumber())?t:0},e.prototype.setFlags=function(e){this.dict.set(c9.of("Ff"),cY.of(e))},e.prototype.hasFlag=function(e){return(this.getFlags()&e)!=0},e.prototype.setFlag=function(e){var t=this.getFlags();this.setFlags(t|e)},e.prototype.clearFlag=function(e){var t=this.getFlags();this.setFlags(t&~e)},e.prototype.setFlagTo=function(e,t){t?this.setFlag(e):this.clearFlag(e)},e.prototype.getInheritableAttribute=function(e){var t;return this.ascend(function(r){t||(t=r.dict.get(e))}),t},e.prototype.ascend=function(e){e(this);var t=this.getParent();t&&t.ascend(e)},e}(),dr=function(){function e(e){this.dict=e}return e.prototype.W=function(){var e=this.dict.lookup(c9.of("W"));if(e instanceof cY)return e},e.prototype.getWidth=function(){var e,t;return null!=(t=null==(e=this.W())?void 0:e.asNumber())?t:1},e.prototype.setWidth=function(e){var t=this.dict.context.obj(e);this.dict.set(c9.of("W"),t)},e.fromDict=function(t){return new e(t)},e}(),dn=function(){function e(e){this.dict=e}return e.prototype.Rect=function(){return this.dict.lookup(c9.of("Rect"),cZ)},e.prototype.AP=function(){return this.dict.lookupMaybe(c9.of("AP"),he)},e.prototype.F=function(){var e=this.dict.lookup(c9.of("F"));return this.dict.context.lookupMaybe(e,cY)},e.prototype.getRectangle=function(){var e,t=this.Rect();return null!=(e=null==t?void 0:t.asRectangle())?e:{x:0,y:0,width:0,height:0}},e.prototype.setRectangle=function(e){var t=e.x,r=e.y,n=e.width,i=e.height,o=this.dict.context.obj([t,r,t+n,r+i]);this.dict.set(c9.of("Rect"),o)},e.prototype.getAppearanceState=function(){var e=this.dict.lookup(c9.of("AS"));if(e instanceof c9)return e},e.prototype.setAppearanceState=function(e){this.dict.set(c9.of("AS"),e)},e.prototype.setAppearances=function(e){this.dict.set(c9.of("AP"),e)},e.prototype.ensureAP=function(){var e=this.AP();return e||(e=this.dict.context.obj({}),this.dict.set(c9.of("AP"),e)),e},e.prototype.getNormalAppearance=function(){var e=this.ensureAP().get(c9.of("N"));if(e instanceof ho||e instanceof he)return e;throw Error("Unexpected N type: "+(null==e?void 0:e.constructor.name))},e.prototype.setNormalAppearance=function(e){this.ensureAP().set(c9.of("N"),e)},e.prototype.setRolloverAppearance=function(e){this.ensureAP().set(c9.of("R"),e)},e.prototype.setDownAppearance=function(e){this.ensureAP().set(c9.of("D"),e)},e.prototype.removeRolloverAppearance=function(){var e=this.AP();null==e||e.delete(c9.of("R"))},e.prototype.removeDownAppearance=function(){var e=this.AP();null==e||e.delete(c9.of("D"))},e.prototype.getAppearances=function(){var e=this.AP();if(e)return{normal:e.lookup(c9.of("N"),he,ht),rollover:e.lookupMaybe(c9.of("R"),he,ht),down:e.lookupMaybe(c9.of("D"),he,ht)}},e.prototype.getFlags=function(){var e,t;return null!=(t=null==(e=this.F())?void 0:e.asNumber())?t:0},e.prototype.setFlags=function(e){this.dict.set(c9.of("F"),cY.of(e))},e.prototype.hasFlag=function(e){return(this.getFlags()&e)!=0},e.prototype.setFlag=function(e){var t=this.getFlags();this.setFlags(t|e)},e.prototype.clearFlag=function(e){var t=this.getFlags();this.setFlags(t&~e)},e.prototype.setFlagTo=function(e,t){t?this.setFlag(e):this.clearFlag(e)},e.fromDict=function(t){return new e(t)},e}(),di=function(){function e(e){this.dict=e}return e.prototype.R=function(){var e=this.dict.lookup(c9.of("R"));if(e instanceof cY)return e},e.prototype.BC=function(){var e=this.dict.lookup(c9.of("BC"));if(e instanceof cZ)return e},e.prototype.BG=function(){var e=this.dict.lookup(c9.of("BG"));if(e instanceof cZ)return e},e.prototype.CA=function(){var e=this.dict.lookup(c9.of("CA"));if(e instanceof hC||e instanceof hN)return e},e.prototype.RC=function(){var e=this.dict.lookup(c9.of("RC"));if(e instanceof hC||e instanceof hN)return e},e.prototype.AC=function(){var e=this.dict.lookup(c9.of("AC"));if(e instanceof hC||e instanceof hN)return e},e.prototype.getRotation=function(){var e;return null==(e=this.R())?void 0:e.asNumber()},e.prototype.getBorderColor=function(){var e=this.BC();if(e){for(var t=[],r=0,n=null==e?void 0:e.size();r<n;r++){var i=e.get(r);i instanceof cY&&t.push(i.asNumber())}return t}},e.prototype.getBackgroundColor=function(){var e=this.BG();if(e){for(var t=[],r=0,n=null==e?void 0:e.size();r<n;r++){var i=e.get(r);i instanceof cY&&t.push(i.asNumber())}return t}},e.prototype.getCaptions=function(){var e=this.CA(),t=this.RC(),r=this.AC();return{normal:null==e?void 0:e.decodeText(),rollover:null==t?void 0:t.decodeText(),down:null==r?void 0:r.decodeText()}},e.prototype.setRotation=function(e){var t=this.dict.context.obj(e);this.dict.set(c9.of("R"),t)},e.prototype.setBorderColor=function(e){var t=this.dict.context.obj(e);this.dict.set(c9.of("BC"),t)},e.prototype.setBackgroundColor=function(e){var t=this.dict.context.obj(e);this.dict.set(c9.of("BG"),t)},e.prototype.setCaptions=function(e){var t=hC.fromText(e.normal);if(this.dict.set(c9.of("CA"),t),e.rollover){var r=hC.fromText(e.rollover);this.dict.set(c9.of("RC"),r)}else this.dict.delete(c9.of("RC"));if(e.down){var n=hC.fromText(e.down);this.dict.set(c9.of("AC"),n)}else this.dict.delete(c9.of("AC"))},e.fromDict=function(t){return new e(t)},e}(),ds=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lV(t,e),t.prototype.MK=function(){var e=this.dict.lookup(c9.of("MK"));if(e instanceof he)return e},t.prototype.BS=function(){var e=this.dict.lookup(c9.of("BS"));if(e instanceof he)return e},t.prototype.DA=function(){var e=this.dict.lookup(c9.of("DA"));if(e instanceof hN||e instanceof hC)return e},t.prototype.P=function(){var e=this.dict.get(c9.of("P"));if(e instanceof ho)return e},t.prototype.setP=function(e){this.dict.set(c9.of("P"),e)},t.prototype.setDefaultAppearance=function(e){this.dict.set(c9.of("DA"),hN.of(e))},t.prototype.getDefaultAppearance=function(){var e=this.DA();return e instanceof hC?e.decodeText():null==e?void 0:e.asString()},t.prototype.getAppearanceCharacteristics=function(){var e=this.MK();if(e)return di.fromDict(e)},t.prototype.getOrCreateAppearanceCharacteristics=function(){var e=this.MK();if(e)return di.fromDict(e);var t=di.fromDict(this.dict.context.obj({}));return this.dict.set(c9.of("MK"),t.dict),t},t.prototype.getBorderStyle=function(){var e=this.BS();if(e)return dr.fromDict(e)},t.prototype.getOrCreateBorderStyle=function(){var e=this.BS();if(e)return dr.fromDict(e);var t=dr.fromDict(this.dict.context.obj({}));return this.dict.set(c9.of("BS"),t.dict),t},t.prototype.getOnValue=function(){var e,t=null==(e=this.getAppearances())?void 0:e.normal;if(t instanceof he)for(var r=t.keys(),n=0,i=r.length;n<i;n++){var o=r[n];if(o!==c9.of("Off"))return o}},t.fromDict=function(e){return new t(e)},t.create=function(e,r){return new t(e.obj({Type:"Annot",Subtype:"Widget",Rect:[0,0,0,0],Parent:r}))},t}(dn),da=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lV(t,e),t.prototype.FT=function(){var e=this.getInheritableAttribute(c9.of("FT"));return this.dict.context.lookup(e,c9)},t.prototype.getWidgets=function(){var e=this.Kids();if(!e)return[ds.fromDict(this.dict)];for(var t=Array(e.size()),r=0,n=e.size();r<n;r++){var i=e.lookup(r,he);t[r]=ds.fromDict(i)}return t},t.prototype.addWidget=function(e){this.normalizedEntries().Kids.push(e)},t.prototype.removeWidget=function(e){var t=this.Kids();if(t){if(e<0||e>t.size())throw new cR(e,0,t.size());t.remove(e)}else{if(0!==e)throw new cR(e,0,0);this.setKids([])}},t.prototype.normalizedEntries=function(){var e=this.Kids();return e||(e=this.dict.context.obj([this.ref]),this.dict.set(c9.of("Kids"),e)),{Kids:e}},t.fromDict=function(e,r){return new t(e,r)},t}(dt),dl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lV(t,e),t.prototype.Opt=function(){return this.dict.lookupMaybe(c9.of("Opt"),hN,hC,cZ)},t.prototype.setOpt=function(e){this.dict.set(c9.of("Opt"),this.dict.context.obj(e))},t.prototype.getExportValues=function(){var e=this.Opt();if(e){if(e instanceof hN||e instanceof hC)return[e];for(var t=[],r=0,n=e.size();r<n;r++){var i=e.lookup(r);(i instanceof hN||i instanceof hC)&&t.push(i)}return t}},t.prototype.removeExportValue=function(e){var t=this.Opt();if(t)if(t instanceof hN||t instanceof hC){if(0!==e)throw new cR(e,0,0);this.setOpt([])}else{if(e<0||e>t.size())throw new cR(e,0,t.size());t.remove(e)}},t.prototype.normalizeExportValues=function(){for(var e,t,r,n,i=null!=(e=this.getExportValues())?e:[],o=[],s=this.getWidgets(),a=0,l=s.length;a<l;a++){var u=s[a],c=null!=(t=i[a])?t:hC.fromText(null!=(n=null==(r=u.getOnValue())?void 0:r.decodeText())?n:"");o.push(c)}this.setOpt(o)},t.prototype.addOpt=function(e,t){this.normalizeExportValues();var r,n,i=e.decodeText();if(t)for(var o=null!=(r=this.getExportValues())?r:[],s=0,a=o.length;s<a;s++)o[s].decodeText()===i&&(n=s);var l=this.Opt();return l.push(e),null!=n?n:l.size()-1},t.prototype.addWidgetWithOpt=function(e,t,r){var n=this.addOpt(t,r),i=c9.of(String(n));return this.addWidget(e),i},t}(da),du=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lV(t,e),t.prototype.setValue=function(e){if(e!==(null!=(t=this.getOnValue())?t:c9.of("Yes"))&&e!==c9.of("Off"))throw new cO;this.dict.set(c9.of("V"),e);for(var t,r=this.getWidgets(),n=0,i=r.length;n<i;n++){var o=r[n],s=o.getOnValue()===e?e:c9.of("Off");o.setAppearanceState(s)}},t.prototype.getValue=function(){var e=this.V();return e instanceof c9?e:c9.of("Off")},t.prototype.getOnValue=function(){var e=this.getWidgets()[0];return null==e?void 0:e.getOnValue()},t.fromDict=function(e,r){return new t(e,r)},t.create=function(e){var r=e.obj({FT:"Btn",Kids:[]}),n=e.register(r);return new t(r,n)},t}(dl),dc=function(e){return 1<<e};(E=ea||(ea={}))[E.ReadOnly=dc(0)]="ReadOnly",E[E.Required=dc(1)]="Required",E[E.NoExport=dc(2)]="NoExport",(I=el||(el={}))[I.NoToggleToOff=dc(14)]="NoToggleToOff",I[I.Radio=dc(15)]="Radio",I[I.PushButton=dc(16)]="PushButton",I[I.RadiosInUnison=dc(25)]="RadiosInUnison",(D=eu||(eu={}))[D.Multiline=dc(12)]="Multiline",D[D.Password=dc(13)]="Password",D[D.FileSelect=dc(20)]="FileSelect",D[D.DoNotSpellCheck=dc(22)]="DoNotSpellCheck",D[D.DoNotScroll=dc(23)]="DoNotScroll",D[D.Comb=dc(24)]="Comb",D[D.RichText=dc(25)]="RichText",(F=ec||(ec={}))[F.Combo=dc(17)]="Combo",F[F.Edit=dc(18)]="Edit",F[F.Sort=dc(19)]="Sort",F[F.MultiSelect=dc(21)]="MultiSelect",F[F.DoNotSpellCheck=dc(22)]="DoNotSpellCheck",F[F.CommitOnSelChange=dc(26)]="CommitOnSelChange",e.s(["AcroButtonFlags",()=>el,"AcroChoiceFlags",()=>ec,"AcroFieldFlags",()=>ea,"AcroTextFlags",()=>eu],76336);var dh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lV(t,e),t.prototype.setValues=function(e){if(this.hasFlag(ec.Combo)&&!this.hasFlag(ec.Edit)&&!this.valuesAreValid(e))throw new cO;if(0===e.length&&this.dict.delete(c9.of("V")),1===e.length&&this.dict.set(c9.of("V"),e[0]),e.length>1){if(!this.hasFlag(ec.MultiSelect))throw new cM;this.dict.set(c9.of("V"),this.dict.context.obj(e))}this.updateSelectedIndices(e)},t.prototype.valuesAreValid=function(e){for(var t=this.getOptions(),r=0,n=e.length;r<n;r++){var i=function(r,n){var i=e[r].decodeText();if(!t.find(function(e){return i===(e.display||e.value).decodeText()}))return{value:!1}}(r,0);if("object"==typeof i)return i.value}return!0},t.prototype.updateSelectedIndices=function(e){if(e.length>1){for(var t=Array(e.length),r=this.getOptions(),n=0,i=e.length;n<i;n++)!function(n,i){var o=e[n].decodeText();t[n]=r.findIndex(function(e){return o===(e.display||e.value).decodeText()})}(n,0);this.dict.set(c9.of("I"),this.dict.context.obj(t.sort()))}else this.dict.delete(c9.of("I"))},t.prototype.getValues=function(){var e=this.V();if(e instanceof hN||e instanceof hC)return[e];if(e instanceof cZ){for(var t=[],r=0,n=e.size();r<n;r++){var i=e.lookup(r);(i instanceof hN||i instanceof hC)&&t.push(i)}return t}return[]},t.prototype.Opt=function(){return this.dict.lookupMaybe(c9.of("Opt"),hN,hC,cZ)},t.prototype.setOptions=function(e){for(var t=Array(e.length),r=0,n=e.length;r<n;r++){var i=e[r],o=i.value,s=i.display;t[r]=this.dict.context.obj([o,s||o])}this.dict.set(c9.of("Opt"),this.dict.context.obj(t))},t.prototype.getOptions=function(){var e=this.Opt();if(e instanceof hN||e instanceof hC)return[{value:e,display:e}];if(e instanceof cZ){for(var t=[],r=0,n=e.size();r<n;r++){var i=e.lookup(r);if((i instanceof hN||i instanceof hC)&&t.push({value:i,display:i}),i instanceof cZ&&i.size()>0){var o=i.lookup(0,hN,hC),s=i.lookupMaybe(1,hN,hC);t.push({value:o,display:s||o})}}return t}return[]},t}(da),dd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lV(t,e),t.fromDict=function(e,r){return new t(e,r)},t.create=function(e){var r=e.obj({FT:"Ch",Ff:ec.Combo,Kids:[]}),n=e.register(r);return new t(r,n)},t}(dh),df=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lV(t,e),t.prototype.addField=function(e){var t=this.normalizedEntries().Kids;null==t||t.push(e)},t.prototype.normalizedEntries=function(){var e=this.Kids();return e||(e=this.dict.context.obj([]),this.dict.set(c9.of("Kids"),e)),{Kids:e}},t.fromDict=function(e,r){return new t(e,r)},t.create=function(e){var r=e.obj({}),n=e.register(r);return new t(r,n)},t}(dt),dp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lV(t,e),t.fromDict=function(e,r){return new t(e,r)},t}(da),dg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lV(t,e),t.prototype.MaxLen=function(){var e=this.dict.lookup(c9.of("MaxLen"));if(e instanceof cY)return e},t.prototype.Q=function(){var e=this.dict.lookup(c9.of("Q"));if(e instanceof cY)return e},t.prototype.setMaxLength=function(e){this.dict.set(c9.of("MaxLen"),cY.of(e))},t.prototype.removeMaxLength=function(){this.dict.delete(c9.of("MaxLen"))},t.prototype.getMaxLength=function(){var e;return null==(e=this.MaxLen())?void 0:e.asNumber()},t.prototype.setQuadding=function(e){this.dict.set(c9.of("Q"),cY.of(e))},t.prototype.getQuadding=function(){var e;return null==(e=this.Q())?void 0:e.asNumber()},t.prototype.setValue=function(e){this.dict.set(c9.of("V"),e)},t.prototype.removeValue=function(){this.dict.delete(c9.of("V"))},t.prototype.getValue=function(){var e=this.V();if(e instanceof hN||e instanceof hC)return e},t.fromDict=function(e,r){return new t(e,r)},t.create=function(e){var r=e.obj({FT:"Tx",Kids:[]}),n=e.register(r);return new t(r,n)},t}(da),dm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lV(t,e),t.fromDict=function(e,r){return new t(e,r)},t.create=function(e){var r=e.obj({FT:"Btn",Ff:el.PushButton,Kids:[]}),n=e.register(r);return new t(r,n)},t}(dl),dy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lV(t,e),t.prototype.setValue=function(e){if(!this.getOnValues().includes(e)&&e!==c9.of("Off"))throw new cO;this.dict.set(c9.of("V"),e);for(var t=this.getWidgets(),r=0,n=t.length;r<n;r++){var i=t[r],o=i.getOnValue()===e?e:c9.of("Off");i.setAppearanceState(o)}},t.prototype.getValue=function(){var e=this.V();return e instanceof c9?e:c9.of("Off")},t.prototype.getOnValues=function(){for(var e=this.getWidgets(),t=[],r=0,n=e.length;r<n;r++){var i=e[r].getOnValue();i&&t.push(i)}return t},t.fromDict=function(e,r){return new t(e,r)},t.create=function(e){var r=e.obj({FT:"Btn",Ff:el.Radio,Kids:[]}),n=e.register(r);return new t(r,n)},t}(dl),dv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lV(t,e),t.fromDict=function(e,r){return new t(e,r)},t.create=function(e){var r=e.obj({FT:"Ch",Kids:[]}),n=e.register(r);return new t(r,n)},t}(dh),db=function(e){if(!e)return[];for(var t=[],r=0,n=e.size();r<n;r++){var i=e.get(r),o=e.lookup(r);i instanceof ho&&o instanceof he&&t.push([dw(o,i),i])}return t},dw=function(e,t){return dx(e)?df.fromDict(e,t):dS(e,t)},dx=function(e){var t=e.lookup(c9.of("Kids"));if(t instanceof cZ)for(var r=0,n=t.size();r<n;r++){var i=t.lookup(r);if(i instanceof he&&i.has(c9.of("T")))return!0}return!1},dS=function(e,t){var r=dA(e,c9.of("FT")),n=e.context.lookup(r,c9);return n===c9.of("Btn")?dC(e,t):n===c9.of("Ch")?dk(e,t):n===c9.of("Tx")?dg.fromDict(e,t):n===c9.of("Sig")?dp.fromDict(e,t):da.fromDict(e,t)},dC=function(e,t){var r,n=dA(e,c9.of("Ff")),i=e.context.lookupMaybe(n,cY),o=null!=(r=null==i?void 0:i.asNumber())?r:0;return d_(o,el.PushButton)?dm.fromDict(e,t):d_(o,el.Radio)?dy.fromDict(e,t):du.fromDict(e,t)},dk=function(e,t){var r,n=dA(e,c9.of("Ff")),i=e.context.lookupMaybe(n,cY);return d_(null!=(r=null==i?void 0:i.asNumber())?r:0,ec.Combo)?dd.fromDict(e,t):dv.fromDict(e,t)},d_=function(e,t){return(e&t)!=0},dA=function(e,t){var r;return dT(e,function(e){r||(r=e.get(t))}),r},dT=function(e,t){t(e);var r=e.lookupMaybe(c9.of("Parent"),he);r&&dT(r,t)};e.s(["createPDFAcroField",()=>dw,"createPDFAcroFields",()=>db],49551);var dE=function(){function e(e){this.dict=e}return e.prototype.Fields=function(){var e=this.dict.lookup(c9.of("Fields"));if(e instanceof cZ)return e},e.prototype.getFields=function(){for(var e=this.normalizedEntries().Fields,t=Array(e.size()),r=0,n=e.size();r<n;r++){var i=e.get(r),o=e.lookup(r,he);t[r]=[dw(o,i),i]}return t},e.prototype.getAllFields=function(){var e=[],t=function(r){if(r)for(var n=0,i=r.length;n<i;n++){var o=r[n];e.push(o);var s=o[0];s instanceof df&&t(db(s.Kids()))}};return t(this.getFields()),e},e.prototype.addField=function(e){var t=this.normalizedEntries().Fields;null==t||t.push(e)},e.prototype.removeField=function(e){var t=e.getParent(),r=void 0===t?this.normalizedEntries().Fields:t.Kids(),n=null==r?void 0:r.indexOf(e.ref);if(void 0===r||void 0===n)throw Error("Tried to remove inexistent field "+e.getFullyQualifiedName());r.remove(n),void 0!==t&&0===r.size()&&this.removeField(t)},e.prototype.normalizedEntries=function(){var e=this.Fields();return e||(e=this.dict.context.obj([]),this.dict.set(c9.of("Fields"),e)),{Fields:e}},e.fromDict=function(t){return new e(t)},e.create=function(t){return new e(t.obj({Fields:[]}))},e}();e.s([],79900);var dI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lV(t,e),t.prototype.Pages=function(){return this.lookup(c9.of("Pages"),he)},t.prototype.AcroForm=function(){return this.lookupMaybe(c9.of("AcroForm"),he)},t.prototype.getAcroForm=function(){var e=this.AcroForm();if(e)return dE.fromDict(e)},t.prototype.getOrCreateAcroForm=function(){var e=this.getAcroForm();if(!e){e=dE.create(this.context);var t=this.context.register(e.dict);this.set(c9.of("AcroForm"),t)}return e},t.prototype.ViewerPreferences=function(){return this.lookupMaybe(c9.of("ViewerPreferences"),he)},t.prototype.getViewerPreferences=function(){var e=this.ViewerPreferences();if(e)return h7.fromDict(e)},t.prototype.getOrCreateViewerPreferences=function(){var e=this.getViewerPreferences();if(!e){e=h7.create(this.context);var t=this.context.register(e.dict);this.set(c9.of("ViewerPreferences"),t)}return e},t.prototype.insertLeafNode=function(e,t){var r=this.get(c9.of("Pages"));return this.Pages().insertLeafNode(e,t)||r},t.prototype.removeLeafNode=function(e){this.Pages().removeLeafNode(e)},t.withContextAndPages=function(e,r){var n=new Map;return n.set(c9.of("Type"),c9.of("Catalog")),n.set(c9.of("Pages"),r),new t(n,e)},t.fromMapWithContext=function(e,r){return new t(e,r)},t}(he),dD=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lV(t,e),t.prototype.Parent=function(){return this.lookup(c9.of("Parent"))},t.prototype.Kids=function(){return this.lookup(c9.of("Kids"),cZ)},t.prototype.Count=function(){return this.lookup(c9.of("Count"),cY)},t.prototype.pushTreeNode=function(e){this.Kids().push(e)},t.prototype.pushLeafNode=function(e){var t=this.Kids();this.insertLeafKid(t.size(),e)},t.prototype.insertLeafNode=function(e,r){var n=this.Kids(),i=this.Count().asNumber();if(r>i)throw new cN(r,i);for(var o=r,s=0,a=n.size();s<a;s++){if(0===o)return void this.insertLeafKid(s,e);var l=n.get(s),u=this.context.lookup(l);if(u instanceof t)if(u.Count().asNumber()>o)return u.insertLeafNode(e,o)||l;else o-=u.Count().asNumber();u instanceof hf&&(o-=1)}if(0===o)return void this.insertLeafKid(n.size(),e);throw new cP(r,"insertLeafNode")},t.prototype.removeLeafNode=function(e,r){void 0===r&&(r=!0);var n=this.Kids(),i=this.Count().asNumber();if(e>=i)throw new cN(e,i);for(var o=e,s=0,a=n.size();s<a;s++){var l=n.get(s),u=this.context.lookup(l);if(u instanceof t)if(u.Count().asNumber()>o){u.removeLeafNode(o,r),r&&0===u.Kids().size()&&n.remove(s);return}else o-=u.Count().asNumber();if(u instanceof hf)if(0===o)return void this.removeKid(s);else o-=1}throw new cP(e,"removeLeafNode")},t.prototype.ascend=function(e){e(this);var t=this.Parent();t&&t.ascend(e)},t.prototype.traverse=function(e){for(var r=this.Kids(),n=0,i=r.size();n<i;n++){var o=r.get(n),s=this.context.lookup(o);s instanceof t&&s.traverse(e),e(s,o)}},t.prototype.insertLeafKid=function(e,t){var r=this.Kids();this.ascend(function(e){var t=e.Count().asNumber()+1;e.set(c9.of("Count"),cY.of(t))}),r.insert(e,t)},t.prototype.removeKid=function(e){var t=this.Kids();t.lookup(e)instanceof hf&&this.ascend(function(e){var t=e.Count().asNumber()-1;e.set(c9.of("Count"),cY.of(t))}),t.remove(e)},t.withContext=function(e,r){var n=new Map;return n.set(c9.of("Type"),c9.of("Pages")),n.set(c9.of("Kids"),e.obj([])),n.set(c9.of("Count"),e.obj(0)),r&&n.set(c9.of("Parent"),r),new t(n,e)},t.fromMapWithContext=function(e,r){return new t(e,r)},t}(he),dF=new Uint8Array(256);dF[cQ.Zero]=1,dF[cQ.One]=1,dF[cQ.Two]=1,dF[cQ.Three]=1,dF[cQ.Four]=1,dF[cQ.Five]=1,dF[cQ.Six]=1,dF[cQ.Seven]=1,dF[cQ.Eight]=1,dF[cQ.Nine]=1;var dN=new Uint8Array(256);dN[cQ.Period]=1,dN[cQ.Plus]=1,dN[cQ.Minus]=1;for(var dP=new Uint8Array(256),dR=0;dR<256;dR++)dP[dR]=dF[dR]||dN[dR]?1:0;var dO=cQ.Newline,dM=cQ.CarriageReturn,dB=function(){function e(e,t){void 0===t&&(t=!1),this.bytes=e,this.capNumbers=t}return e.prototype.parseRawInt=function(){for(var e="";!this.bytes.done()&&dF[this.bytes.peek()];)e+=l2(this.bytes.next());var t=Number(e);if(!e||!isFinite(t))throw new cj(this.bytes.position(),e);return t},e.prototype.parseRawNumber=function(){for(var e="";!this.bytes.done();){var t=this.bytes.peek();if(!dP[t]||(e+=l2(this.bytes.next()),t===cQ.Period))break}for(;!this.bytes.done();){var t=this.bytes.peek();if(!dF[t])break;e+=l2(this.bytes.next())}var r=Number(e);if(!e||!isFinite(r))throw new cj(this.bytes.position(),e);if(r>Number.MAX_SAFE_INTEGER)if(this.capNumbers){var n="Parsed number that is too large for some PDF readers: "+e+", using Number.MAX_SAFE_INTEGER instead.";return console.warn(n),Number.MAX_SAFE_INTEGER}else{var n="Parsed number that is too large for some PDF readers: "+e+", not capping.";console.warn(n)}return r},e.prototype.skipWhitespace=function(){for(;!this.bytes.done()&&c5[this.bytes.peek()];)this.bytes.next()},e.prototype.skipLine=function(){for(;!this.bytes.done();){var e=this.bytes.peek();if(e===dO||e===dM)return;this.bytes.next()}},e.prototype.skipComment=function(){if(this.bytes.peek()!==cQ.Percent)return!1;for(;!this.bytes.done();){var e=this.bytes.peek();if(e===dO||e===dM)break;this.bytes.next()}return!0},e.prototype.skipWhitespaceAndComments=function(){for(this.skipWhitespace();this.skipComment();)this.skipWhitespace()},e.prototype.matchKeyword=function(e){for(var t=this.bytes.offset(),r=0,n=e.length;r<n;r++)if(this.bytes.done()||this.bytes.next()!==e[r])return this.bytes.moveTo(t),!1;return!0},e}(),dL=function(){function e(e){this.idx=0,this.line=0,this.column=0,this.bytes=e,this.length=this.bytes.length}return e.prototype.moveTo=function(e){this.idx=e},e.prototype.next=function(){var e=this.bytes[this.idx++];return e===cQ.Newline?(this.line+=1,this.column=0):this.column+=1,e},e.prototype.assertNext=function(e){if(this.peek()!==e)throw new cV(this.position(),e,this.peek());return this.next()},e.prototype.peek=function(){return this.bytes[this.idx]},e.prototype.peekAhead=function(e){return this.bytes[this.idx+e]},e.prototype.peekAt=function(e){return this.bytes[e]},e.prototype.done=function(){return this.idx>=this.length},e.prototype.offset=function(){return this.idx},e.prototype.slice=function(e,t){return this.bytes.slice(e,t)},e.prototype.position=function(){return{line:this.line,column:this.column,offset:this.idx}},e.of=function(t){return new e(t)},e.fromPDFRawStream=function(t){return e.of(h4(t).decode())},e}(),dj=cQ.Space,dz=cQ.CarriageReturn,dV=cQ.Newline,dU=[cQ.s,cQ.t,cQ.r,cQ.e,cQ.a,cQ.m],d$=[cQ.e,cQ.n,cQ.d,cQ.s,cQ.t,cQ.r,cQ.e,cQ.a,cQ.m],dW={header:[cQ.Percent,cQ.P,cQ.D,cQ.F,cQ.Dash],eof:[cQ.Percent,cQ.Percent,cQ.E,cQ.O,cQ.F],obj:[cQ.o,cQ.b,cQ.j],endobj:[cQ.e,cQ.n,cQ.d,cQ.o,cQ.b,cQ.j],xref:[cQ.x,cQ.r,cQ.e,cQ.f],trailer:[cQ.t,cQ.r,cQ.a,cQ.i,cQ.l,cQ.e,cQ.r],startxref:[cQ.s,cQ.t,cQ.a,cQ.r,cQ.t,cQ.x,cQ.r,cQ.e,cQ.f],true:[cQ.t,cQ.r,cQ.u,cQ.e],false:[cQ.f,cQ.a,cQ.l,cQ.s,cQ.e],null:[cQ.n,cQ.u,cQ.l,cQ.l],stream:dU,streamEOF1:lq(dU,[dj,dz,dV]),streamEOF2:lq(dU,[dz,dV]),streamEOF3:lq(dU,[dz]),streamEOF4:lq(dU,[dV]),endstream:d$,EOF1endstream:lq([dz,dV],d$),EOF2endstream:lq([dz],d$),EOF3endstream:lq([dV],d$)},dq=function(e){function t(t,r,n){void 0===n&&(n=!1);var i=e.call(this,t,n)||this;return i.context=r,i}return lV(t,e),t.prototype.parseObject=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(dW.true))return c1.True;if(this.matchKeyword(dW.false))return c1.False;if(this.matchKeyword(dW.null))return c7;var e=this.bytes.peek();if(e===cQ.LessThan&&this.bytes.peekAhead(1)===cQ.LessThan)return this.parseDictOrStream();if(e===cQ.LessThan)return this.parseHexString();if(e===cQ.LeftParen)return this.parseString();if(e===cQ.ForwardSlash)return this.parseName();if(e===cQ.LeftSquareBracket)return this.parseArray();if(dP[e])return this.parseNumberOrRef();throw new cU(this.bytes.position(),e)},t.prototype.parseNumberOrRef=function(){var e=this.parseRawNumber();this.skipWhitespaceAndComments();var t=this.bytes.offset();if(dF[this.bytes.peek()]){var r=this.parseRawNumber();if(this.skipWhitespaceAndComments(),this.bytes.peek()===cQ.R)return this.bytes.assertNext(cQ.R),ho.of(e,r)}return this.bytes.moveTo(t),cY.of(e)},t.prototype.parseHexString=function(){var e="";for(this.bytes.assertNext(cQ.LessThan);!this.bytes.done()&&this.bytes.peek()!==cQ.GreaterThan;)e+=l2(this.bytes.next());return this.bytes.assertNext(cQ.GreaterThan),hC.of(e)},t.prototype.parseString=function(){for(var e=0,t=!1,r="";!this.bytes.done();){var n=this.bytes.next();if(r+=l2(n),t||(n===cQ.LeftParen&&(e+=1),n===cQ.RightParen&&(e-=1)),n===cQ.BackSlash?t=!t:t&&(t=!1),0===e)return hN.of(r.substring(1,r.length-1))}throw new cq(this.bytes.position())},t.prototype.parseName=function(){this.bytes.assertNext(cQ.ForwardSlash);for(var e="";!this.bytes.done();){var t=this.bytes.peek();if(c5[t]||c2[t])break;e+=l2(t),this.bytes.next()}return c9.of(e)},t.prototype.parseArray=function(){this.bytes.assertNext(cQ.LeftSquareBracket),this.skipWhitespaceAndComments();for(var e=cZ.withContext(this.context);this.bytes.peek()!==cQ.RightSquareBracket;){var t=this.parseObject();e.push(t),this.skipWhitespaceAndComments()}return this.bytes.assertNext(cQ.RightSquareBracket),e},t.prototype.parseDict=function(){this.bytes.assertNext(cQ.LessThan),this.bytes.assertNext(cQ.LessThan),this.skipWhitespaceAndComments();for(var e=new Map;!this.bytes.done()&&this.bytes.peek()!==cQ.GreaterThan&&this.bytes.peekAhead(1)!==cQ.GreaterThan;){var t=this.parseName(),r=this.parseObject();e.set(t,r),this.skipWhitespaceAndComments()}this.skipWhitespaceAndComments(),this.bytes.assertNext(cQ.GreaterThan),this.bytes.assertNext(cQ.GreaterThan);var n=e.get(c9.of("Type"));return n===c9.of("Catalog")?dI.fromMapWithContext(e,this.context):n===c9.of("Pages")?dD.fromMapWithContext(e,this.context):n===c9.of("Page")?hf.fromMapWithContext(e,this.context):he.fromMapWithContext(e,this.context)},t.prototype.parseDictOrStream=function(){var e,t=this.bytes.position(),r=this.parseDict();if(this.skipWhitespaceAndComments(),!this.matchKeyword(dW.streamEOF1)&&!this.matchKeyword(dW.streamEOF2)&&!this.matchKeyword(dW.streamEOF3)&&!this.matchKeyword(dW.streamEOF4)&&!this.matchKeyword(dW.stream))return r;var n=this.bytes.offset(),i=r.get(c9.of("Length"));i instanceof cY?(e=n+i.asNumber(),this.bytes.moveTo(e),this.skipWhitespaceAndComments(),this.matchKeyword(dW.endstream)||(this.bytes.moveTo(n),e=this.findEndOfStreamFallback(t))):e=this.findEndOfStreamFallback(t);var o=this.bytes.slice(n,e);return hr.of(r,o)},t.prototype.findEndOfStreamFallback=function(e){for(var t=1,r=this.bytes.offset();!this.bytes.done()&&(r=this.bytes.offset(),this.matchKeyword(dW.stream)?t+=1:this.matchKeyword(dW.EOF1endstream)||this.matchKeyword(dW.EOF2endstream)||this.matchKeyword(dW.EOF3endstream)||this.matchKeyword(dW.endstream)?t-=1:this.bytes.next(),0!==t););if(0!==t)throw new cW(e);return r},t.forBytes=function(e,r,n){return new t(dL.of(e),r,n)},t.forByteStream=function(e,r,n){return void 0===n&&(n=!1),new t(e,r,n)},t}(dB),dK=function(e){function t(t,r){var n=e.call(this,dL.fromPDFRawStream(t),t.dict.context)||this,i=t.dict;return n.alreadyParsed=!1,n.shouldWaitForTick=r||function(){return!1},n.firstOffset=i.lookup(c9.of("First"),cY).asNumber(),n.objectCount=i.lookup(c9.of("N"),cY).asNumber(),n}return lV(t,e),t.prototype.parseIntoContext=function(){return l$(this,void 0,void 0,function(){var e,t,r,n,i,o,s,a;return lW(this,function(l){switch(l.label){case 0:if(this.alreadyParsed)throw new cA("PDFObjectStreamParser","parseIntoContext");this.alreadyParsed=!0,e=this.parseOffsetsAndObjectNumbers(),t=0,r=e.length,l.label=1;case 1:if(!(t<r))return[3,4];if(i=(n=e[t]).objectNumber,o=n.offset,this.bytes.moveTo(this.firstOffset+o),s=this.parseObject(),a=ho.of(i,0),this.context.assign(a,s),!this.shouldWaitForTick())return[3,3];return[4,ub()];case 2:l.sent(),l.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},t.prototype.parseOffsetsAndObjectNumbers=function(){for(var e=[],t=0,r=this.objectCount;t<r;t++){this.skipWhitespaceAndComments();var n=this.parseRawInt();this.skipWhitespaceAndComments();var i=this.parseRawInt();e.push({objectNumber:n,offset:i})}return e},t.forStream=function(e,r){return new t(e,r)},t}(dq),dG=function(){function e(e){this.alreadyParsed=!1,this.dict=e.dict,this.bytes=dL.fromPDFRawStream(e),this.context=this.dict.context;var t=this.dict.lookup(c9.of("Size"),cY),r=this.dict.lookup(c9.of("Index"));if(r instanceof cZ){this.subsections=[];for(var n=0,i=r.size();n<i;n+=2){var o=r.lookup(n+0,cY).asNumber(),s=r.lookup(n+1,cY).asNumber();this.subsections.push({firstObjectNumber:o,length:s})}}else this.subsections=[{firstObjectNumber:0,length:t.asNumber()}];var a=this.dict.lookup(c9.of("W"),cZ);this.byteWidths=[-1,-1,-1];for(var n=0,i=a.size();n<i;n++)this.byteWidths[n]=a.lookup(n,cY).asNumber()}return e.prototype.parseIntoContext=function(){if(this.alreadyParsed)throw new cA("PDFXRefStreamParser","parseIntoContext");return this.alreadyParsed=!0,this.context.trailerInfo={Root:this.dict.get(c9.of("Root")),Encrypt:this.dict.get(c9.of("Encrypt")),Info:this.dict.get(c9.of("Info")),ID:this.dict.get(c9.of("ID"))},this.parseEntries()},e.prototype.parseEntries=function(){for(var e=[],t=this.byteWidths,r=t[0],n=t[1],i=t[2],o=0,s=this.subsections.length;o<s;o++)for(var a=this.subsections[o],l=a.firstObjectNumber,u=a.length,c=0;c<u;c++){for(var h=0,d=0,f=r;d<f;d++)h=h<<8|this.bytes.next();for(var p=0,d=0,f=n;d<f;d++)p=p<<8|this.bytes.next();for(var g=0,d=0,f=i;d<f;d++)g=g<<8|this.bytes.next();0===r&&(h=1);var m=l+c,y={ref:ho.of(m,g),offset:p,deleted:0===h,inObjectStream:2===h};e.push(y)}return e},e.forStream=function(t){return new e(t)},e}(),dH=function(e){function t(t,r,n,i){void 0===r&&(r=1/0),void 0===n&&(n=!1),void 0===i&&(i=!1);var o=e.call(this,dL.of(t),hd.create(),i)||this;return o.alreadyParsed=!1,o.parsedObjects=0,o.shouldWaitForTick=function(){return o.parsedObjects+=1,o.parsedObjects%o.objectsPerTick==0},o.objectsPerTick=r,o.throwOnInvalidObject=n,o}return lV(t,e),t.prototype.parseDocument=function(){return l$(this,void 0,void 0,function(){var e,t;return lW(this,function(r){switch(r.label){case 0:if(this.alreadyParsed)throw new cA("PDFParser","parseDocument");this.alreadyParsed=!0,this.context.header=this.parseHeader(),r.label=1;case 1:if(this.bytes.done())return[3,3];return[4,this.parseDocumentSection()];case 2:if(r.sent(),(t=this.bytes.offset())===e)throw new cK(this.bytes.position());return e=t,[3,1];case 3:return this.maybeRecoverRoot(),this.context.lookup(ho.of(0))&&(console.warn("Removing parsed object: 0 0 R"),this.context.delete(ho.of(0))),[2,this.context]}})})},t.prototype.maybeRecoverRoot=function(){var e=function(e){return e instanceof he&&e.lookup(c9.of("Type"))===c9.of("Catalog")};if(!e(this.context.lookup(this.context.trailerInfo.Root)))for(var t=this.context.enumerateIndirectObjects(),r=0,n=t.length;r<n;r++){var i=t[r],o=i[0];e(i[1])&&(this.context.trailerInfo.Root=o)}},t.prototype.parseHeader=function(){for(;!this.bytes.done();){if(this.matchKeyword(dW.header)){var e=this.parseRawInt();this.bytes.assertNext(cQ.Period);var t=this.parseRawInt(),r=cX.forVersion(e,t);return this.skipBinaryHeaderComment(),r}this.bytes.next()}throw new cG(this.bytes.position())},t.prototype.parseIndirectObjectHeader=function(){this.skipWhitespaceAndComments();var e=this.parseRawInt();this.skipWhitespaceAndComments();var t=this.parseRawInt();if(this.skipWhitespaceAndComments(),!this.matchKeyword(dW.obj))throw new cH(this.bytes.position(),dW.obj);return ho.of(e,t)},t.prototype.matchIndirectObjectHeader=function(){var e=this.bytes.offset();try{return this.parseIndirectObjectHeader(),!0}catch(t){return this.bytes.moveTo(e),!1}},t.prototype.parseIndirectObject=function(){return l$(this,void 0,void 0,function(){var e,t;return lW(this,function(r){switch(r.label){case 0:if(e=this.parseIndirectObjectHeader(),this.skipWhitespaceAndComments(),t=this.parseObject(),this.skipWhitespaceAndComments(),this.matchKeyword(dW.endobj),!(t instanceof hr&&t.dict.lookup(c9.of("Type"))===c9.of("ObjStm")))return[3,2];return[4,dK.forStream(t,this.shouldWaitForTick).parseIntoContext()];case 1:return r.sent(),[3,3];case 2:t instanceof hr&&t.dict.lookup(c9.of("Type"))===c9.of("XRef")?dG.forStream(t).parseIntoContext():this.context.assign(e,t),r.label=3;case 3:return[2,e]}})})},t.prototype.tryToParseInvalidIndirectObject=function(){var e=this.bytes.position(),t="Trying to parse invalid object: "+JSON.stringify(e)+")";if(this.throwOnInvalidObject)throw Error(t);console.warn(t);var r=this.parseIndirectObjectHeader();console.warn("Invalid object ref: "+r),this.skipWhitespaceAndComments();for(var n=this.bytes.offset(),i=!0;!this.bytes.done()&&(this.matchKeyword(dW.endobj)&&(i=!1),i);)this.bytes.next();if(i)throw new c$(e);var o=this.bytes.offset()-dW.endobj.length,s=hw.of(this.bytes.slice(n,o));return this.context.assign(r,s),r},t.prototype.parseIndirectObjects=function(){return l$(this,void 0,void 0,function(){var e;return lW(this,function(t){switch(t.label){case 0:this.skipWhitespaceAndComments(),t.label=1;case 1:if(!(!this.bytes.done()&&dF[this.bytes.peek()]))return[3,8];e=this.bytes.offset(),t.label=2;case 2:return t.trys.push([2,4,,5]),[4,this.parseIndirectObject()];case 3:return t.sent(),[3,5];case 4:return t.sent(),this.bytes.moveTo(e),this.tryToParseInvalidIndirectObject(),[3,5];case 5:if(this.skipWhitespaceAndComments(),this.skipJibberish(),!this.shouldWaitForTick())return[3,7];return[4,ub()];case 6:t.sent(),t.label=7;case 7:return[3,1];case 8:return[2]}})})},t.prototype.maybeParseCrossRefSection=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(dW.xref)){this.skipWhitespaceAndComments();for(var e=-1,t=hg.createEmpty();!this.bytes.done()&&dF[this.bytes.peek()];){var r=this.parseRawInt();this.skipWhitespaceAndComments();var n=this.parseRawInt();this.skipWhitespaceAndComments();var i=this.bytes.peek();if(i===cQ.n||i===cQ.f){var o=ho.of(e,n);this.bytes.next()===cQ.n?t.addEntry(o,r):t.addDeletedEntry(o,r),e+=1}else e=r;this.skipWhitespaceAndComments()}return t}},t.prototype.maybeParseTrailerDict=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(dW.trailer)){this.skipWhitespaceAndComments();var e=this.parseDict(),t=this.context;t.trailerInfo={Root:e.get(c9.of("Root"))||t.trailerInfo.Root,Encrypt:e.get(c9.of("Encrypt"))||t.trailerInfo.Encrypt,Info:e.get(c9.of("Info"))||t.trailerInfo.Info,ID:e.get(c9.of("ID"))||t.trailerInfo.ID}}},t.prototype.maybeParseTrailer=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(dW.startxref)){this.skipWhitespaceAndComments();var e=this.parseRawInt();return this.skipWhitespace(),this.matchKeyword(dW.eof),this.skipWhitespaceAndComments(),this.matchKeyword(dW.eof),this.skipWhitespaceAndComments(),hm.forLastCrossRefSectionOffset(e)}},t.prototype.parseDocumentSection=function(){return l$(this,void 0,void 0,function(){return lW(this,function(e){switch(e.label){case 0:return[4,this.parseIndirectObjects()];case 1:return e.sent(),this.maybeParseCrossRefSection(),this.maybeParseTrailerDict(),this.maybeParseTrailer(),this.skipJibberish(),[2]}})})},t.prototype.skipJibberish=function(){for(this.skipWhitespaceAndComments();!this.bytes.done();){var e=this.bytes.offset(),t=this.bytes.peek();if(t>=cQ.Space&&t<=cQ.Tilde&&(this.matchKeyword(dW.xref)||this.matchKeyword(dW.trailer)||this.matchKeyword(dW.startxref)||this.matchIndirectObjectHeader())){this.bytes.moveTo(e);break}this.bytes.next()}},t.prototype.skipBinaryHeaderComment=function(){this.skipWhitespaceAndComments();try{var e=this.bytes.offset();this.parseIndirectObjectHeader(),this.bytes.moveTo(e)}catch(e){this.bytes.next(),this.skipWhitespaceAndComments()}},t.forBytesWithOptions=function(e,r,n,i){return new t(e,r,n,i)},t}(dq),dQ=function(e){return 1<<e};(N=eh||(eh={}))[N.Invisible=dQ(0)]="Invisible",N[N.Hidden=dQ(1)]="Hidden",N[N.Print=dQ(2)]="Print",N[N.NoZoom=dQ(3)]="NoZoom",N[N.NoRotate=dQ(4)]="NoRotate",N[N.NoView=dQ(5)]="NoView",N[N.ReadOnly=dQ(6)]="ReadOnly",N[N.Locked=dQ(7)]="Locked",N[N.ToggleNoView=dQ(8)]="ToggleNoView",N[N.LockedContents=dQ(9)]="LockedContents",e.s(["AnnotationFlags",()=>eh],51721),e.s([],82958);var dX=function(e){return e instanceof c9?e:c9.of(e)},dJ=function(e){return e instanceof cY?e:cY.of(e)},dY=function(e){return e instanceof cY?e.asNumber():e};e.s(["asNumber",()=>dY,"asPDFName",()=>dX,"asPDFNumber",()=>dJ],38109),(P=ed||(ed={})).Degrees="degrees",P.Radians="radians";var dZ=function(e){return cc(e,"radianAngle",["number"]),{type:ed.Radians,angle:e}},d0=function(e){return cc(e,"degreeAngle",["number"]),{type:ed.Degrees,angle:e}},d1=ed.Radians,d2=ed.Degrees,d5=function(e){return e*Math.PI/180},d3=function(e){return 180*e/Math.PI},d4=function(e){return e.type===d1?e.angle:e.type===d2?d5(e.angle):uR("Invalid rotation: "+JSON.stringify(e))},d6=function(e){return e.type===d1?d3(e.angle):e.type===d2?e.angle:uR("Invalid rotation: "+JSON.stringify(e))},d8=function(e){void 0===e&&(e=0);var t=e/90%4;return 0===t?0:1===t?90:2===t?180:270*(3===t)},d9=function(e,t){void 0===t&&(t=0);var r=d8(t);return 90===r||270===r?{width:e.height,height:e.width}:{width:e.width,height:e.height}},d7=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=0);var n=e.x,i=e.y,o=e.width,s=e.height,a=d8(r),l=t/2;return 0===a?{x:n-l,y:i-l,width:o,height:s}:90===a?{x:n-s+l,y:i-l,width:s,height:o}:180===a?{x:n-o+l,y:i-s+l,width:o,height:s}:270===a?{x:n-l,y:i-o+l,width:s,height:o}:{x:n-l,y:i-l,width:o,height:s}};e.s(["RotationTypes",()=>ed,"adjustDimsForRotation",()=>d9,"degrees",()=>d0,"degreesToRadians",()=>d5,"radians",()=>dZ,"radiansToDegrees",()=>d3,"reduceRotation",()=>d8,"rotateRectangle",()=>d7,"toDegrees",()=>d6,"toRadians",()=>d4],88477);var fe=function(){return hs.of(ha.ClipNonZero)},ft=function(){return hs.of(ha.ClipEvenOdd)},fr=Math.cos,fn=Math.sin,fi=Math.tan,fo=function(e,t,r,n,i,o){return hs.of(ha.ConcatTransformationMatrix,[dJ(e),dJ(t),dJ(r),dJ(n),dJ(i),dJ(o)])},fs=function(e,t){return fo(1,0,0,1,e,t)},fa=function(e,t){return fo(e,0,0,t,0,0)},fl=function(e){return fo(fr(dY(e)),fn(dY(e)),-fn(dY(e)),fr(dY(e)),0,0)},fu=function(e){return fl(d5(dY(e)))},fc=function(e,t){return fo(1,fi(dY(e)),fi(dY(t)),1,0,0)},fh=function(e,t){return fc(d5(dY(e)),d5(dY(t)))},fd=function(e,t){return hs.of(ha.SetLineDashPattern,["["+e.map(dJ).join(" ")+"]",dJ(t)])},ff=function(){return fd([],0)};(R=ef||(ef={}))[R.Butt=0]="Butt",R[R.Round=1]="Round",R[R.Projecting=2]="Projecting";var fp=function(e){return hs.of(ha.SetLineCapStyle,[dJ(e)])};(O=ep||(ep={}))[O.Miter=0]="Miter",O[O.Round=1]="Round",O[O.Bevel=2]="Bevel";var fg=function(e){return hs.of(ha.SetLineJoinStyle,[dJ(e)])},fm=function(e){return hs.of(ha.SetGraphicsStateParams,[dX(e)])},fy=function(){return hs.of(ha.PushGraphicsState)},fv=function(){return hs.of(ha.PopGraphicsState)},fb=function(e){return hs.of(ha.SetLineWidth,[dJ(e)])},fw=function(e,t,r,n,i,o){return hs.of(ha.AppendBezierCurve,[dJ(e),dJ(t),dJ(r),dJ(n),dJ(i),dJ(o)])},fx=function(e,t,r,n){return hs.of(ha.CurveToReplicateInitialPoint,[dJ(e),dJ(t),dJ(r),dJ(n)])},fS=function(){return hs.of(ha.ClosePath)},fC=function(e,t){return hs.of(ha.MoveTo,[dJ(e),dJ(t)])},fk=function(e,t){return hs.of(ha.LineTo,[dJ(e),dJ(t)])},f_=function(e,t,r,n){return hs.of(ha.AppendRectangle,[dJ(e),dJ(t),dJ(r),dJ(n)])},fA=function(e,t,r){return f_(e,t,r,r)},fT=function(){return hs.of(ha.StrokePath)},fE=function(){return hs.of(ha.FillNonZero)},fI=function(){return hs.of(ha.FillNonZeroAndStroke)},fD=function(){return hs.of(ha.EndPath)},fF=function(){return hs.of(ha.NextLine)},fN=function(e,t){return hs.of(ha.MoveText,[dJ(e),dJ(t)])},fP=function(e){return hs.of(ha.ShowText,[e])},fR=function(){return hs.of(ha.BeginText)},fO=function(){return hs.of(ha.EndText)},fM=function(e,t){return hs.of(ha.SetFontAndSize,[dX(e),dJ(t)])},fB=function(e){return hs.of(ha.SetCharacterSpacing,[dJ(e)])},fL=function(e){return hs.of(ha.SetWordSpacing,[dJ(e)])},fj=function(e){return hs.of(ha.SetTextHorizontalScaling,[dJ(e)])},fz=function(e){return hs.of(ha.SetTextLineHeight,[dJ(e)])},fV=function(e){return hs.of(ha.SetTextRise,[dJ(e)])};(M=eg||(eg={}))[M.Fill=0]="Fill",M[M.Outline=1]="Outline",M[M.FillAndOutline=2]="FillAndOutline",M[M.Invisible=3]="Invisible",M[M.FillAndClip=4]="FillAndClip",M[M.OutlineAndClip=5]="OutlineAndClip",M[M.FillAndOutlineAndClip=6]="FillAndOutlineAndClip",M[M.Clip=7]="Clip";var fU=function(e){return hs.of(ha.SetTextRenderingMode,[dJ(e)])},f$=function(e,t,r,n,i,o){return hs.of(ha.SetTextMatrix,[dJ(e),dJ(t),dJ(r),dJ(n),dJ(i),dJ(o)])},fW=function(e,t,r,n,i){return f$(fr(dY(e)),fn(dY(e))+fi(dY(t)),-fn(dY(e))+fi(dY(r)),fr(dY(e)),n,i)},fq=function(e,t,r,n,i){return fW(d5(dY(e)),d5(dY(t)),d5(dY(r)),n,i)},fK=function(e){return hs.of(ha.DrawObject,[dX(e)])},fG=function(e){return hs.of(ha.NonStrokingColorGray,[dJ(e)])},fH=function(e){return hs.of(ha.StrokingColorGray,[dJ(e)])},fQ=function(e,t,r){return hs.of(ha.NonStrokingColorRgb,[dJ(e),dJ(t),dJ(r)])},fX=function(e,t,r){return hs.of(ha.StrokingColorRgb,[dJ(e),dJ(t),dJ(r)])},fJ=function(e,t,r,n){return hs.of(ha.NonStrokingColorCmyk,[dJ(e),dJ(t),dJ(r),dJ(n)])},fY=function(e,t,r,n){return hs.of(ha.StrokingColorCmyk,[dJ(e),dJ(t),dJ(r),dJ(n)])},fZ=function(e){return hs.of(ha.BeginMarkedContent,[dX(e)])},f0=function(){return hs.of(ha.EndMarkedContent)};e.s(["LineCapStyle",()=>ef,"LineJoinStyle",()=>ep,"TextRenderingMode",()=>eg,"appendBezierCurve",()=>fw,"appendQuadraticCurve",()=>fx,"beginMarkedContent",()=>fZ,"beginText",()=>fR,"clip",()=>fe,"clipEvenOdd",()=>ft,"closePath",()=>fS,"concatTransformationMatrix",()=>fo,"drawObject",()=>fK,"endMarkedContent",()=>f0,"endPath",()=>fD,"endText",()=>fO,"fill",()=>fE,"fillAndStroke",()=>fI,"lineTo",()=>fk,"moveText",()=>fN,"moveTo",()=>fC,"nextLine",()=>fF,"popGraphicsState",()=>fv,"pushGraphicsState",()=>fy,"rectangle",()=>f_,"restoreDashPattern",()=>ff,"rotateAndSkewTextDegreesAndTranslate",()=>fq,"rotateAndSkewTextRadiansAndTranslate",()=>fW,"rotateDegrees",()=>fu,"rotateRadians",()=>fl,"scale",()=>fa,"setCharacterSpacing",()=>fB,"setCharacterSqueeze",()=>fj,"setDashPattern",()=>fd,"setFillingCmykColor",()=>fJ,"setFillingGrayscaleColor",()=>fG,"setFillingRgbColor",()=>fQ,"setFontAndSize",()=>fM,"setGraphicsState",()=>fm,"setLineCap",()=>fp,"setLineHeight",()=>fz,"setLineJoin",()=>fg,"setLineWidth",()=>fb,"setStrokingCmykColor",()=>fY,"setStrokingGrayscaleColor",()=>fH,"setStrokingRgbColor",()=>fX,"setTextMatrix",()=>f$,"setTextRenderingMode",()=>fU,"setTextRise",()=>fV,"setWordSpacing",()=>fL,"showText",()=>fP,"skewDegrees",()=>fh,"skewRadians",()=>fc,"square",()=>fA,"stroke",()=>fT,"translate",()=>fs],64406),(B=em||(em={})).Grayscale="Grayscale",B.RGB="RGB",B.CMYK="CMYK";var f1=function(e){return cf(e,"gray",0,1),{type:em.Grayscale,gray:e}},f2=function(e,t,r){return cf(e,"red",0,1),cf(t,"green",0,1),cf(r,"blue",0,1),{type:em.RGB,red:e,green:t,blue:r}},f5=function(e,t,r,n){return cf(e,"cyan",0,1),cf(t,"magenta",0,1),cf(r,"yellow",0,1),cf(n,"key",0,1),{type:em.CMYK,cyan:e,magenta:t,yellow:r,key:n}},f3=em.Grayscale,f4=em.RGB,f6=em.CMYK,f8=function(e){return e.type===f3?fG(e.gray):e.type===f4?fQ(e.red,e.green,e.blue):e.type===f6?fJ(e.cyan,e.magenta,e.yellow,e.key):uR("Invalid color: "+JSON.stringify(e))},f9=function(e){return e.type===f3?fH(e.gray):e.type===f4?fX(e.red,e.green,e.blue):e.type===f6?fY(e.cyan,e.magenta,e.yellow,e.key):uR("Invalid color: "+JSON.stringify(e))},f7=function(e,t){return void 0===t&&(t=1),(null==e?void 0:e.length)===1?f1(e[0]*t):(null==e?void 0:e.length)===3?f2(e[0]*t,e[1]*t,e[2]*t):(null==e?void 0:e.length)===4?f5(e[0]*t,e[1]*t,e[2]*t,e[3]*t):void 0},pe=function(e){return e.type===f3?[e.gray]:e.type===f4?[e.red,e.green,e.blue]:e.type===f6?[e.cyan,e.magenta,e.yellow,e.key]:uR("Invalid color: "+JSON.stringify(e))};e.s(["ColorTypes",()=>em,"cmyk",()=>f5,"colorToComponents",()=>pe,"componentsToColor",()=>f7,"grayscale",()=>f1,"rgb",()=>f2,"setFillingColor",()=>f8,"setStrokingColor",()=>f9],27003);var pt=0,pr=0,pn=0,pi=0,po=0,ps=0,pa=new Map([["A",7],["a",7],["C",6],["c",6],["H",1],["h",1],["L",2],["l",2],["M",2],["m",2],["Q",4],["q",4],["S",4],["s",4],["T",2],["t",2],["V",1],["v",1],["Z",0],["z",0]]),pl=function(e){for(var t,r=[],n=[],i="",o=!1,s=0,a=0;a<e.length;a++){var l=e[a];if(pa.has(l))s=pa.get(l),t&&(i.length>0&&(n[n.length]=+i),r[r.length]={cmd:t,args:n},n=[],i="",o=!1),t=l;else if([" ",","].includes(l)||"-"===l&&i.length>0&&"e"!==i[i.length-1]||"."===l&&o){if(0===i.length)continue;n.length===s?(r[r.length]={cmd:t,args:n},n=[+i],"M"===t&&(t="L"),"m"===t&&(t="l")):n[n.length]=+i,o="."===l,i=["-","."].includes(l)?l:""}else i+=l,"."===l&&(o=!0)}return i.length>0&&(n.length===s?(r[r.length]={cmd:t,args:n},n=[+i],"M"===t&&(t="L"),"m"===t&&(t="l")):n[n.length]=+i),r[r.length]={cmd:t,args:n},r},pu=function(e){pt=pr=pn=pi=po=ps=0;for(var t=[],r=0;r<e.length;r++){var n=e[r];if(n.cmd&&"function"==typeof pc[n.cmd]){var i=pc[n.cmd](n.args);Array.isArray(i)?t=t.concat(i):t.push(i)}}return t},pc={M:function(e){return pt=e[0],pr=e[1],pn=pi=null,po=pt,ps=pr,fC(pt,pr)},m:function(e){return pt+=e[0],pr+=e[1],pn=pi=null,po=pt,ps=pr,fC(pt,pr)},C:function(e){return pt=e[4],pr=e[5],pn=e[2],pi=e[3],fw(e[0],e[1],e[2],e[3],e[4],e[5])},c:function(e){var t=fw(e[0]+pt,e[1]+pr,e[2]+pt,e[3]+pr,e[4]+pt,e[5]+pr);return pn=pt+e[2],pi=pr+e[3],pt+=e[4],pr+=e[5],t},S:function(e){(null===pn||null===pi)&&(pn=pt,pi=pr);var t=fw(pt-(pn-pt),pr-(pi-pr),e[0],e[1],e[2],e[3]);return pn=e[0],pi=e[1],pt=e[2],pr=e[3],t},s:function(e){(null===pn||null===pi)&&(pn=pt,pi=pr);var t=fw(pt-(pn-pt),pr-(pi-pr),pt+e[0],pr+e[1],pt+e[2],pr+e[3]);return pn=pt+e[0],pi=pr+e[1],pt+=e[2],pr+=e[3],t},Q:function(e){return pn=e[0],pi=e[1],pt=e[2],pr=e[3],fx(e[0],e[1],pt,pr)},q:function(e){var t=fx(e[0]+pt,e[1]+pr,e[2]+pt,e[3]+pr);return pn=pt+e[0],pi=pr+e[1],pt+=e[2],pr+=e[3],t},T:function(e){null===pn||null===pi?(pn=pt,pi=pr):(pn=pt-(pn-pt),pi=pr-(pi-pr));var t=fx(pn,pi,e[0],e[1]);return pn=pt-(pn-pt),pi=pr-(pi-pr),pt=e[0],pr=e[1],t},t:function(e){null===pn||null===pi?(pn=pt,pi=pr):(pn=pt-(pn-pt),pi=pr-(pi-pr));var t=fx(pn,pi,pt+e[0],pr+e[1]);return pt+=e[0],pr+=e[1],t},A:function(e){var t=ph(pt,pr,e);return pt=e[5],pr=e[6],t},a:function(e){e[5]+=pt,e[6]+=pr;var t=ph(pt,pr,e);return pt=e[5],pr=e[6],t},L:function(e){return pt=e[0],pr=e[1],pn=pi=null,fk(pt,pr)},l:function(e){return pt+=e[0],pr+=e[1],pn=pi=null,fk(pt,pr)},H:function(e){return pt=e[0],pn=pi=null,fk(pt,pr)},h:function(e){return pt+=e[0],pn=pi=null,fk(pt,pr)},V:function(e){return pr=e[0],pn=pi=null,fk(pt,pr)},v:function(e){return pr+=e[0],pn=pi=null,fk(pt,pr)},Z:function(){var e=fS();return pt=po,pr=ps,e},z:function(){var e=fS();return pt=po,pr=ps,e}},ph=function(e,t,r){for(var n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],l=pd(r[5],r[6],n,i,s,a,o,e,t),u=[],c=0;c<l.length;c++){var h=pf.apply(void 0,l[c]);u.push(fw.apply(void 0,h))}return u},pd=function(e,t,r,n,i,o,s,a,l){var u=Math.PI/180*s,c=Math.sin(u),h=Math.cos(u);r=Math.abs(r),n=Math.abs(n);var d=(pn=h*(a-e)*.5+c*(l-t)*.5)*pn/(r*r)+(pi=h*(l-t)*.5-c*(a-e)*.5)*pi/(n*n);d>1&&(r*=d=Math.sqrt(d),n*=d);var f=h/r,p=c/r,g=-c/n,m=h/n,y=f*a+p*l,v=g*a+m*l,b=f*e+p*t,w=g*e+m*t,x=1/((b-y)*(b-y)+(w-v)*(w-v))-.25;x<0&&(x=0);var S=Math.sqrt(x);o===i&&(S=-S);var C=.5*(y+b)-S*(w-v),k=.5*(v+w)+S*(b-y),_=Math.atan2(v-k,y-C),A=Math.atan2(w-k,b-C)-_;A<0&&1===o?A+=2*Math.PI:A>0&&0===o&&(A-=2*Math.PI);for(var T=Math.ceil(Math.abs(A/(.5*Math.PI+.001))),E=[],I=0;I<T;I++){var D=_+I*A/T,F=_+(I+1)*A/T;E[I]=[C,k,D,F,r,n,c,h]}return E},pf=function(e,t,r,n,i,o,s,a){var l=a*i,u=-s*o,c=s*i,h=a*o,d=.5*(n-r),f=8/3*Math.sin(.5*d)*Math.sin(.5*d)/Math.sin(d),p=e+Math.cos(r)-f*Math.sin(r),g=t+Math.sin(r)+f*Math.cos(r),m=e+Math.cos(n),y=t+Math.sin(n),v=m+f*Math.sin(n),b=y-f*Math.cos(n);return[l*p+u*g,c*p+h*g,l*v+u*b,c*v+h*b,l*m+u*y,c*m+h*y]},pp=function(e,t){return[fy(),t.graphicsState&&fm(t.graphicsState),fR(),f8(t.color),fM(t.font,t.size),fW(d4(t.rotate),d4(t.xSkew),d4(t.ySkew),t.x,t.y),fP(e),fO(),fv()].filter(Boolean)},pg=function(e,t){for(var r=[fy(),t.graphicsState&&fm(t.graphicsState),fR(),f8(t.color),fM(t.font,t.size),fz(t.lineHeight),fW(d4(t.rotate),d4(t.xSkew),d4(t.ySkew),t.x,t.y)].filter(Boolean),n=0,i=e.length;n<i;n++)r.push(fP(e[n]),fF());return r.push(fO(),fv()),r},pm=function(e,t){return[fy(),t.graphicsState&&fm(t.graphicsState),fs(t.x,t.y),fl(d4(t.rotate)),fa(t.width,t.height),fc(d4(t.xSkew),d4(t.ySkew)),fK(e),fv()].filter(Boolean)},py=function(e,t){return[fy(),t.graphicsState&&fm(t.graphicsState),fs(t.x,t.y),fl(d4(t.rotate)),fa(t.xScale,t.yScale),fc(d4(t.xSkew),d4(t.ySkew)),fK(e),fv()].filter(Boolean)},pv=function(e){var t,r;return[fy(),e.graphicsState&&fm(e.graphicsState),e.color&&f9(e.color),fb(e.thickness),fd(null!=(t=e.dashArray)?t:[],null!=(r=e.dashPhase)?r:0),fC(e.start.x,e.start.y),e.lineCap&&fp(e.lineCap),fC(e.start.x,e.start.y),fk(e.end.x,e.end.y),fT(),fv()].filter(Boolean)},pb=function(e){var t,r;return[fy(),e.graphicsState&&fm(e.graphicsState),e.color&&f8(e.color),e.borderColor&&f9(e.borderColor),fb(e.borderWidth),e.borderLineCap&&fp(e.borderLineCap),fd(null!=(t=e.borderDashArray)?t:[],null!=(r=e.borderDashPhase)?r:0),fs(e.x,e.y),fl(d4(e.rotate)),fc(d4(e.xSkew),d4(e.ySkew)),fC(0,0),fk(0,e.height),fk(e.width,e.height),fk(e.width,0),fS(),e.color&&e.borderWidth?fI():e.color?fE():e.borderColor?fT():fS(),fv()].filter(Boolean)},pw=(Math.sqrt(2)-1)/3*4,px=function(e){var t=dY(e.x),r=dY(e.y),n=dY(e.xScale),i=dY(e.yScale);t-=n,r-=i;var o=n*pw,s=i*pw,a=t+2*n,l=r+2*i,u=t+n,c=r+i;return[fy(),fC(t,c),fw(t,c-s,u-o,r,u,r),fw(u+o,r,a,c-s,a,c),fw(a,c+s,u+o,l,u,l),fw(u-o,l,t,c+s,t,c),fv()]},pS=function(e){var t=dY(e.x),r=dY(e.y),n=dY(e.xScale),i=dY(e.yScale),o=-n,s=-i,a=n*pw,l=i*pw,u=o+2*n,c=s+2*i,h=o+n,d=s+i;return[fs(t,r),fl(d4(e.rotate)),fC(o,d),fw(o,d-l,h-a,s,h,s),fw(h+a,s,u,d-l,u,d),fw(u,d+l,h+a,c,h,c),fw(h-a,c,o,d+l,o,d)]},pC=function(e){var t,r,n;return lq([fy(),e.graphicsState&&fm(e.graphicsState),e.color&&f8(e.color),e.borderColor&&f9(e.borderColor),fb(e.borderWidth),e.borderLineCap&&fp(e.borderLineCap),fd(null!=(t=e.borderDashArray)?t:[],null!=(r=e.borderDashPhase)?r:0)],void 0===e.rotate?px({x:e.x,y:e.y,xScale:e.xScale,yScale:e.yScale}):pS({x:e.x,y:e.y,xScale:e.xScale,yScale:e.yScale,rotate:null!=(n=e.rotate)?n:d0(0)}),[e.color&&e.borderWidth?fI():e.color?fE():e.borderColor?fT():fS(),fv()]).filter(Boolean)},pk=function(e,t){var r,n,i;return lq([fy(),t.graphicsState&&fm(t.graphicsState),fs(t.x,t.y),fl(d4(null!=(r=t.rotate)?r:d0(0))),t.scale?fa(t.scale,-t.scale):fa(1,-1),t.color&&f8(t.color),t.borderColor&&f9(t.borderColor),t.borderWidth&&fb(t.borderWidth),t.borderLineCap&&fp(t.borderLineCap),fd(null!=(n=t.borderDashArray)?n:[],null!=(i=t.borderDashPhase)?i:0)],pu(pl(e)),[t.color&&t.borderWidth?fI():t.color?fE():t.borderColor?fT():fS(),fv()]).filter(Boolean)},p_=function(e){var t=dY(e.size);return[fy(),e.color&&f9(e.color),fb(e.thickness),fs(e.x,e.y),fC(-.675*t,-.07601036269430045*t),fk(-.25*t,-.49*t),fk(.69*t,.475*t),fT(),fv()].filter(Boolean)},pA=function(e){return 0===e.rotation?[fs(0,0),fu(0)]:90===e.rotation?[fs(e.width,0),fu(90)]:180===e.rotation?[fs(e.width,e.height),fu(180)]:270===e.rotation?[fs(0,e.height),fu(270)]:[]},pT=function(e){var t=pb({x:e.x,y:e.y,width:e.width,height:e.height,borderWidth:e.borderWidth,color:e.color,borderColor:e.borderColor,rotate:d0(0),xSkew:d0(0),ySkew:d0(0)});if(!e.filled)return t;var r=dY(e.width),n=dY(e.height),i=Math.min(r,n)/2,o=p_({x:r/2,y:n/2,size:i,thickness:e.thickness,color:e.markColor});return lq([fy()],t,o,[fv()])},pE=function(e){var t=Math.min(dY(e.width),dY(e.height))/2,r=pC({x:e.x,y:e.y,xScale:t,yScale:t,color:e.color,borderColor:e.borderColor,borderWidth:e.borderWidth});if(!e.filled)return r;var n=pC({x:e.x,y:e.y,xScale:.45*t,yScale:.45*t,color:e.dotColor,borderColor:void 0,borderWidth:0});return lq([fy()],r,n,[fv()])},pI=function(e){var t=pb({x:dY(e.x),y:dY(e.y),width:dY(e.width),height:dY(e.height),borderWidth:e.borderWidth,color:e.color,borderColor:e.borderColor,rotate:d0(0),xSkew:d0(0),ySkew:d0(0)}),r=pD(e.textLines,{color:e.textColor,font:e.font,size:e.fontSize,rotate:d0(0),xSkew:d0(0),ySkew:d0(0)});return lq([fy()],t,r,[fv()])},pD=function(e,t){for(var r=[fR(),f8(t.color),fM(t.font,t.size)],n=0,i=e.length;n<i;n++){var o=e[n],s=o.encoded,a=o.x,l=o.y;r.push(fW(d4(t.rotate),d4(t.xSkew),d4(t.ySkew),a,l),fP(s))}return r.push(fO()),r},pF=function(e){var t=dY(e.x),r=dY(e.y),n=dY(e.width),i=dY(e.height),o=dY(e.borderWidth),s=dY(e.padding),a=t+o/2+s,l=r+o/2+s,u=n-(o/2+s)*2,c=i-(o/2+s)*2,h=[fC(a,l),fk(a,l+c),fk(a+u,l+c),fk(a+u,l),fS(),fe(),fD()],d=pb({x:t,y:r,width:n,height:i,borderWidth:e.borderWidth,color:e.color,borderColor:e.borderColor,rotate:d0(0),xSkew:d0(0),ySkew:d0(0)}),f=pD(e.textLines,{color:e.textColor,font:e.font,size:e.fontSize,rotate:d0(0),xSkew:d0(0),ySkew:d0(0)}),p=lq([fZ("Tx"),fy()],f,[fv(),f0()]);return lq([fy()],d,h,p,[fv()])},pN=function(e){for(var t=dY(e.x),r=dY(e.y),n=dY(e.width),i=dY(e.height),o=dY(e.lineHeight),s=dY(e.borderWidth),a=dY(e.padding),l=t+s/2+a,u=r+s/2+a,c=n-(s/2+a)*2,h=i-(s/2+a)*2,d=[fC(l,u),fk(l,u+h),fk(l+c,u+h),fk(l+c,u),fS(),fe(),fD()],f=pb({x:t,y:r,width:n,height:i,borderWidth:e.borderWidth,color:e.color,borderColor:e.borderColor,rotate:d0(0),xSkew:d0(0),ySkew:d0(0)}),p=[],g=0,m=e.selectedLines.length;g<m;g++){var y=e.textLines[e.selectedLines[g]];p.push.apply(p,pb({x:y.x-a,y:y.y-(o-y.height)/2,width:n-s,height:y.height+(o-y.height)/2,borderWidth:0,color:e.selectedColor,borderColor:void 0,rotate:d0(0),xSkew:d0(0),ySkew:d0(0)}))}var v=pD(e.textLines,{color:e.textColor,font:e.font,size:e.fontSize,rotate:d0(0),xSkew:d0(0),ySkew:d0(0)}),b=lq([fZ("Tx"),fy()],v,[fv(),f0()]);return lq([fy()],f,p,d,b,[fv()])};e.s(["drawButton",()=>pI,"drawCheckBox",()=>pT,"drawCheckMark",()=>p_,"drawEllipse",()=>pC,"drawEllipsePath",()=>px,"drawImage",()=>pm,"drawLine",()=>pv,"drawLinesOfText",()=>pg,"drawOptionList",()=>pN,"drawPage",()=>py,"drawRadioButton",()=>pE,"drawRectangle",()=>pb,"drawSvgPath",()=>pk,"drawText",()=>pp,"drawTextField",()=>pF,"drawTextLines",()=>pD,"rotateInPlace",()=>pA],85978);var pP=function(e){function t(){return e.call(this,"Input document to `PDFDocument.load` is encrypted. You can use `PDFDocument.load(..., { ignoreEncryption: true })` if you wish to load the document anyways.")||this}return lV(t,e),t}(Error),pR=function(e){function t(){return e.call(this,"Input to `PDFDocument.embedFont` was a custom font, but no `fontkit` instance was found. You must register a `fontkit` instance with `PDFDocument.registerFontkit(...)` before embedding custom fonts.")||this}return lV(t,e),t}(Error),pO=function(e){function t(){return e.call(this,"A `page` passed to `PDFDocument.addPage` or `PDFDocument.insertPage` was from a different (foreign) PDF document. If you want to copy pages from one PDFDocument to another, you must use `PDFDocument.copyPages(...)` to copy the pages before adding or inserting them.")||this}return lV(t,e),t}(Error),pM=function(e){function t(){return e.call(this,"PDFDocument has no pages so `PDFDocument.removePage` cannot be called")||this}return lV(t,e),t}(Error),pB=function(e){function t(t){return e.call(this,'PDFDocument has no form field with the name "'+t+'"')||this}return lV(t,e),t}(Error),pL=function(e){function t(t,r,n){var i,o,s='Expected field "'+t+'" to be of type '+(null==r?void 0:r.name)+", but it is actually of type "+(null!=(o=null==(i=null==n?void 0:n.constructor)?void 0:i.name)?o:n);return e.call(this,s)||this}return lV(t,e),t}(Error),pj=function(e){function t(t){return e.call(this,'Failed to select check box due to missing onValue: "'+t+'"')||this}return lV(t,e),t}(Error),pz=function(e){function t(t){return e.call(this,'A field already exists with the specified name: "'+t+'"')||this}return lV(t,e),t}(Error),pV=function(e){function t(t){return e.call(this,'Field name contains invalid component: "'+t+'"')||this}return lV(t,e),t}(Error),pU=function(e){function t(t){return e.call(this,'A non-terminal field already exists with the specified name: "'+t+'"')||this}return lV(t,e),t}(Error),p$=function(e){function t(t){return e.call(this,"Reading rich text fields is not supported: Attempted to read rich text field: "+t)||this}return lV(t,e),t}(Error),pW=function(e){function t(t,r){return e.call(this,"Failed to layout combed text as lineLength="+t+" is greater than cellCount="+r)||this}return lV(t,e),t}(Error),pq=function(e){function t(t,r,n){return e.call(this,"Attempted to set text with length="+t+" for TextField with maxLength="+r+" and name="+n)||this}return lV(t,e),t}(Error),pK=function(e){function t(t,r,n){var i="Attempted to set maxLength="+r+", which is less than "+t+", the length of this field's current value (name="+n+")";return e.call(this,i)||this}return lV(t,e),t}(Error);e.s(["CombedTextLayoutError",()=>pW,"EncryptedPDFError",()=>pP,"ExceededMaxLengthError",()=>pq,"FieldAlreadyExistsError",()=>pz,"FieldExistsAsNonTerminalError",()=>pU,"FontkitNotRegisteredError",()=>pR,"ForeignPageError",()=>pO,"InvalidFieldNamePartError",()=>pV,"InvalidMaxLengthError",()=>pK,"MissingOnValueCheckError",()=>pj,"NoSuchFieldError",()=>pB,"RemovePageFromEmptyDocumentError",()=>pM,"RichTextFieldReadError",()=>p$,"UnexpectedFieldTypeError",()=>pL],68941),(L=ey||(ey={}))[L.Left=0]="Left",L[L.Center=1]="Center",L[L.Right=2]="Right",e.s(["TextAlignment",()=>ey],34282);var pG=function(e,t,r,n){void 0===n&&(n=!1);for(var i=4;i<500;){for(var o=0,s=0,a=e.length;s<a;s++){o+=1;for(var l=e[s].split(" "),u=r.width,c=0,h=l.length;c<h;c++){var d=c===h-1?l[c]:l[c]+" ",f=t.widthOfTextAtSize(d,i);(u-=f)<=0&&(o+=1,u=r.width-f)}}if(!n&&o>e.length)return i-1;var p=t.heightAtSize(i);if((p+.2*p)*o>Math.abs(r.height))return i-1;i+=1}return i},pH=function(e,t,r,n){for(var i=r.width/n,o=r.height,s=4,a=ut(e);s<500;){for(var l=0,u=a.length;l<u;l++){var c=a[l];if(t.widthOfTextAtSize(c,s)>.75*i)return s-1}if(t.heightAtSize(s,{descender:!1})>o)return s-1;s+=1}return s},pQ=function(e){for(var t=e.length;t>0;t--)if(/\s/.test(e[t]))return t},pX=function(e,t,r,n){for(var i,o=e.length;o>0;){var s=e.substring(0,o),a=r.encodeText(s),l=r.widthOfTextAtSize(s,n);if(l<t)return{line:s,encoded:a,width:l,remainder:e.substring(o)||void 0};o=null!=(i=pQ(s))?i:0}return{line:e,encoded:r.encodeText(e),width:r.widthOfTextAtSize(e,n),remainder:void 0}},pJ=function(e,t){var r=t.alignment,n=t.fontSize,i=t.font,o=t.bounds,s=l9(l4(e));(void 0===n||0===n)&&(n=pG(s,i,o,!0));for(var a=i.heightAtSize(n),l=a+.2*a,u=[],c=o.x,h=o.y,d=o.x+o.width,f=o.y+o.height,p=o.y+o.height,g=0,m=s.length;g<m;g++)for(var y=s[g];void 0!==y;){var v=pX(y,o.width,i,n),b=v.line,w=v.encoded,x=v.width,S=v.remainder,C=r===ey.Left?o.x:r===ey.Center?o.x+o.width/2-x/2:r===ey.Right?o.x+o.width-x:o.x;p-=l,C<c&&(c=C),p<h&&(h=p),C+x>d&&(d=C+x),p+a>f&&(f=p+a),u.push({text:b,encoded:w,width:x,height:a,x:C,y:p}),y=null==S?void 0:S.trim()}return{fontSize:n,lineHeight:l,lines:u,bounds:{x:c,y:h,width:d-c,height:f-h}}},pY=function(e,t){var r=t.fontSize,n=t.font,i=t.bounds,o=t.cellCount,s=l7(l4(e));if(s.length>o)throw new pW(s.length,o);(void 0===r||0===r)&&(r=pH(s,n,i,o));for(var a=i.width/o,l=n.heightAtSize(r,{descender:!1}),u=i.y+(i.height/2-l/2),c=[],h=i.x,d=i.y,f=i.x+i.width,p=i.y+i.height,g=0,m=0;g<o;){var y=ue(s,m),v=y[0],b=y[1],w=n.encodeText(v),x=n.widthOfTextAtSize(v,r),S=i.x+(a*g+a/2)-x/2;S<h&&(h=S),u<d&&(d=u),S+x>f&&(f=S+x),u+l>p&&(p=u+l),c.push({text:s,encoded:w,width:x,height:l,x:S,y:u}),g+=1,m+=b}return{fontSize:r,cells:c,bounds:{x:h,y:d,width:f-h,height:p-d}}},pZ=function(e,t){var r=t.alignment,n=t.fontSize,i=t.font,o=t.bounds,s=l7(l4(e));(void 0===n||0===n)&&(n=pG([s],i,o));var a=i.encodeText(s),l=i.widthOfTextAtSize(s,n),u=i.heightAtSize(n,{descender:!1}),c=r===ey.Left?o.x:r===ey.Center?o.x+o.width/2-l/2:r===ey.Right?o.x+o.width-l:o.x,h=o.y+(o.height/2-u/2);return{fontSize:n,line:{text:s,encoded:a,width:l,height:u,x:c,y:h},bounds:{x:c,y:h,width:l,height:u}}};e.s(["layoutCombedText",()=>pY,"layoutMultilineText",()=>pJ,"layoutSinglelineText",()=>pZ],45361);var p0=function(e){return"normal"in e?e:{normal:e}},p1=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]+(\d*\.\d+|\d+)[\0\t\n\f\r\ ]+Tf/,p2=function(e){var t,r,n=Number((null!=(r=us(null!=(t=e.getDefaultAppearance())?t:"",p1).match)?r:[])[2]);return isFinite(n)?n:void 0},p5=/(\d*\.\d+|\d+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+(g|rg|k)/,p3=function(e){var t,r=us(null!=(t=e.getDefaultAppearance())?t:"",p5).match,n=null!=r?r:[],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5];return"g"===l&&i?f1(Number(i)):"rg"===l&&i&&o&&s?f2(Number(i),Number(o),Number(s)):"k"===l&&i&&o&&s&&a?f5(Number(i),Number(o),Number(s),Number(a)):void 0},p4=function(e,t,r,n){void 0===n&&(n=0);var i,o=[f8(t).toString(),fM(null!=(i=null==r?void 0:r.name)?i:"dummy__noop",n).toString()].join("\n");e.setDefaultAppearance(o)},p6=function(e,t){var r,n,i,o=p3(t),s=p3(e.acroField),a=t.getRectangle(),l=t.getAppearanceCharacteristics(),u=t.getBorderStyle(),c=null!=(r=null==u?void 0:u.getWidth())?r:0,h=d8(null==l?void 0:l.getRotation()),d=d9(a,h),f=d.width,p=d.height,g=pA(lU(lU({},a),{rotation:h})),m=f2(0,0,0),y=null!=(n=f7(null==l?void 0:l.getBorderColor()))?n:m,v=f7(null==l?void 0:l.getBackgroundColor()),b=f7(null==l?void 0:l.getBackgroundColor(),.8),w=null!=(i=null!=o?o:s)?i:m;o?p4(t,w):p4(e.acroField,w);var x={x:0+c/2,y:0+c/2,width:f-c,height:p-c,thickness:1.5,borderWidth:c,borderColor:y,markColor:w};return{normal:{on:lq(g,pT(lU(lU({},x),{color:v,filled:!0}))),off:lq(g,pT(lU(lU({},x),{color:v,filled:!1})))},down:{on:lq(g,pT(lU(lU({},x),{color:b,filled:!0}))),off:lq(g,pT(lU(lU({},x),{color:b,filled:!1})))}}},p8=function(e,t){var r,n,i,o=p3(t),s=p3(e.acroField),a=t.getRectangle(),l=t.getAppearanceCharacteristics(),u=t.getBorderStyle(),c=null!=(r=null==u?void 0:u.getWidth())?r:0,h=d8(null==l?void 0:l.getRotation()),d=d9(a,h),f=d.width,p=d.height,g=pA(lU(lU({},a),{rotation:h})),m=f2(0,0,0),y=null!=(n=f7(null==l?void 0:l.getBorderColor()))?n:m,v=f7(null==l?void 0:l.getBackgroundColor()),b=f7(null==l?void 0:l.getBackgroundColor(),.8),w=null!=(i=null!=o?o:s)?i:m;o?p4(t,w):p4(e.acroField,w);var x={x:f/2,y:p/2,width:f-c,height:p-c,borderWidth:c,borderColor:y,dotColor:w};return{normal:{on:lq(g,pE(lU(lU({},x),{color:v,filled:!0}))),off:lq(g,pE(lU(lU({},x),{color:v,filled:!1})))},down:{on:lq(g,pE(lU(lU({},x),{color:b,filled:!0}))),off:lq(g,pE(lU(lU({},x),{color:b,filled:!1})))}}},p9=function(e,t,r){var n,i,o,s,a,l=p3(t),u=p3(e.acroField),c=p2(t),h=p2(e.acroField),d=t.getRectangle(),f=t.getAppearanceCharacteristics(),p=t.getBorderStyle(),g=null==f?void 0:f.getCaptions(),m=null!=(n=null==g?void 0:g.normal)?n:"",y=null!=(o=null!=(i=null==g?void 0:g.down)?i:m)?o:"",v=null!=(s=null==p?void 0:p.getWidth())?s:0,b=d8(null==f?void 0:f.getRotation()),w=d9(d,b),x=w.width,S=w.height,C=pA(lU(lU({},d),{rotation:b})),k=f2(0,0,0),_=f7(null==f?void 0:f.getBorderColor()),A=f7(null==f?void 0:f.getBackgroundColor()),T=f7(null==f?void 0:f.getBackgroundColor(),.8),E={x:v,y:v,width:x-2*v,height:S-2*v},I=pZ(m,{alignment:ey.Center,fontSize:null!=c?c:h,font:r,bounds:E}),D=pZ(y,{alignment:ey.Center,fontSize:null!=c?c:h,font:r,bounds:E}),F=Math.min(I.fontSize,D.fontSize),N=null!=(a=null!=l?l:u)?a:k;l||void 0!==c?p4(t,N,r,F):p4(e.acroField,N,r,F);var P={x:0+v/2,y:0+v/2,width:x-v,height:S-v,borderWidth:v,borderColor:_,textColor:N,font:r.name,fontSize:F};return{normal:lq(C,pI(lU(lU({},P),{color:A,textLines:[I.line]}))),down:lq(C,pI(lU(lU({},P),{color:T,textLines:[D.line]})))}},p7=function(e,t,r){var n,i,o,s,a,l,u=p3(t),c=p3(e.acroField),h=p2(t),d=p2(e.acroField),f=t.getRectangle(),p=t.getAppearanceCharacteristics(),g=t.getBorderStyle(),m=null!=(n=e.getText())?n:"",y=null!=(i=null==g?void 0:g.getWidth())?i:0,v=d8(null==p?void 0:p.getRotation()),b=d9(f,v),w=b.width,x=b.height,S=pA(lU(lU({},f),{rotation:v})),C=f2(0,0,0),k=f7(null==p?void 0:p.getBorderColor()),_=f7(null==p?void 0:p.getBackgroundColor()),A=+!e.isCombed(),T={x:y+A,y:y+A,width:w-(y+A)*2,height:x-(y+A)*2};if(e.isMultiline()){var E=pJ(m,{alignment:e.getAlignment(),fontSize:null!=h?h:d,font:r,bounds:T});a=E.lines,l=E.fontSize}else if(e.isCombed()){var E=pY(m,{fontSize:null!=h?h:d,font:r,bounds:T,cellCount:null!=(o=e.getMaxLength())?o:0});a=E.cells,l=E.fontSize}else{var E=pZ(m,{alignment:e.getAlignment(),fontSize:null!=h?h:d,font:r,bounds:T});a=[E.line],l=E.fontSize}var I=null!=(s=null!=u?u:c)?s:C;return u||void 0!==h?p4(t,I,r,l):p4(e.acroField,I,r,l),lq(S,pF({x:0+y/2,y:0+y/2,width:w-y,height:x-y,borderWidth:null!=y?y:0,borderColor:k,textColor:I,font:r.name,fontSize:l,color:_,textLines:a,padding:A}))},ge=function(e,t,r){var n,i,o,s=p3(t),a=p3(e.acroField),l=p2(t),u=p2(e.acroField),c=t.getRectangle(),h=t.getAppearanceCharacteristics(),d=t.getBorderStyle(),f=null!=(n=e.getSelected()[0])?n:"",p=null!=(i=null==d?void 0:d.getWidth())?i:0,g=d8(null==h?void 0:h.getRotation()),m=d9(c,g),y=m.width,v=m.height,b=pA(lU(lU({},c),{rotation:g})),w=f2(0,0,0),x=f7(null==h?void 0:h.getBorderColor()),S=f7(null==h?void 0:h.getBackgroundColor()),C=pZ(f,{alignment:ey.Left,fontSize:null!=l?l:u,font:r,bounds:{x:p+1,y:p+1,width:y-(p+1)*2,height:v-(p+1)*2}}),k=C.line,_=C.fontSize,A=null!=(o=null!=s?s:a)?o:w;return s||void 0!==l?p4(t,A,r,_):p4(e.acroField,A,r,_),lq(b,pF({x:0+p/2,y:0+p/2,width:y-p,height:v-p,borderWidth:null!=p?p:0,borderColor:x,textColor:A,font:r.name,fontSize:_,color:S,textLines:[k],padding:1}))},gt=function(e,t,r){var n,i,o=p3(t),s=p3(e.acroField),a=p2(t),l=p2(e.acroField),u=t.getRectangle(),c=t.getAppearanceCharacteristics(),h=t.getBorderStyle(),d=null!=(n=null==h?void 0:h.getWidth())?n:0,f=d8(null==c?void 0:c.getRotation()),p=d9(u,f),g=p.width,m=p.height,y=pA(lU(lU({},u),{rotation:f})),v=f2(0,0,0),b=f7(null==c?void 0:c.getBorderColor()),w=f7(null==c?void 0:c.getBackgroundColor()),x=e.getOptions(),S=e.getSelected();e.isSorted()&&x.sort();for(var C="",k=0,_=x.length;k<_;k++)C+=x[k],k<_-1&&(C+="\n");for(var A=pJ(C,{alignment:ey.Left,fontSize:null!=a?a:l,font:r,bounds:{x:d+1,y:d+1,width:g-(d+1)*2,height:m-(d+1)*2}}),T=A.lines,E=A.fontSize,I=A.lineHeight,D=[],k=0,_=T.length;k<_;k++){var F=T[k];S.includes(F.text)&&D.push(k)}var N=f2(.6,193/255,218/255),P=null!=(i=null!=o?o:s)?i:v;return o||void 0!==a?p4(t,P,r,E):p4(e.acroField,P,r,E),lq(y,pN({x:0+d/2,y:0+d/2,width:g-d,height:m-d,borderWidth:null!=d?d:0,borderColor:b,textColor:P,font:r.name,fontSize:E,color:w,textLines:T,lineHeight:I,selectedColor:N,selectedLines:D,padding:1}))};e.s(["defaultButtonAppearanceProvider",()=>p9,"defaultCheckBoxAppearanceProvider",()=>p6,"defaultDropdownAppearanceProvider",()=>ge,"defaultOptionListAppearanceProvider",()=>gt,"defaultRadioGroupAppearanceProvider",()=>p8,"defaultTextFieldAppearanceProvider",()=>p7,"normalizeAppearance",()=>p0],90213);var gr=function(){function e(e,t,r){this.alreadyEmbedded=!1,cc(e,"ref",[[ho,"PDFRef"]]),cc(t,"doc",[[gx,"PDFDocument"]]),cc(r,"embedder",[[h8,"PDFPageEmbedder"]]),this.ref=e,this.doc=t,this.width=r.width,this.height=r.height,this.embedder=r}return e.prototype.scale=function(e){return cc(e,"factor",["number"]),{width:this.width*e,height:this.height*e}},e.prototype.size=function(){return this.scale(1)},e.prototype.embed=function(){return l$(this,void 0,void 0,function(){return lW(this,function(e){switch(e.label){case 0:if(this.alreadyEmbedded)return[3,2];return[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e.sent(),this.alreadyEmbedded=!0,e.label=2;case 2:return[2]}})})},e.of=function(t,r,n){return new e(t,r,n)},e}(),gn=function(){function e(e,t,r){this.modified=!0,cc(e,"ref",[[ho,"PDFRef"]]),cc(t,"doc",[[gx,"PDFDocument"]]),cc(r,"embedder",[[hP,"CustomFontEmbedder"],[hk,"StandardFontEmbedder"]]),this.ref=e,this.doc=t,this.name=r.fontName,this.embedder=r}return e.prototype.encodeText=function(e){return cc(e,"text",["string"]),this.modified=!0,this.embedder.encodeText(e)},e.prototype.widthOfTextAtSize=function(e,t){return cc(e,"text",["string"]),cc(t,"size",["number"]),this.embedder.widthOfTextAtSize(e,t)},e.prototype.heightAtSize=function(e,t){var r;return cc(e,"size",["number"]),ch(null==t?void 0:t.descender,"options.descender",["boolean"]),this.embedder.heightOfFontAtSize(e,{descender:null==(r=null==t?void 0:t.descender)||r})},e.prototype.sizeAtHeight=function(e){return cc(e,"height",["number"]),this.embedder.sizeOfFontAtHeight(e)},e.prototype.getCharacterSet=function(){return this.embedder instanceof hk?this.embedder.encoding.supportedCodePoints:this.embedder.font.characterSet},e.prototype.embed=function(){return l$(this,void 0,void 0,function(){return lW(this,function(e){switch(e.label){case 0:if(!this.modified)return[3,2];return[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e.sent(),this.modified=!1,e.label=2;case 2:return[2]}})})},e.of=function(t,r,n){return new e(t,r,n)},e}(),gi=function(){function e(e,t,r){cc(e,"ref",[[ho,"PDFRef"]]),cc(t,"doc",[[gx,"PDFDocument"]]),cc(r,"embedder",[[hL,"JpegEmbedder"],[h$,"PngEmbedder"]]),this.ref=e,this.doc=t,this.width=r.width,this.height=r.height,this.embedder=r}return e.prototype.scale=function(e){return cc(e,"factor",["number"]),{width:this.width*e,height:this.height*e}},e.prototype.scaleToFit=function(e,t){cc(e,"width",["number"]),cc(t,"height",["number"]);var r=Math.min(e/this.width,t/this.height);return this.scale(r)},e.prototype.size=function(){return this.scale(1)},e.prototype.embed=function(){return l$(this,void 0,void 0,function(){var e,t,r;return lW(this,function(n){switch(n.label){case 0:if(!this.embedder)return[2];return this.embedTask||(e=this,t=e.doc,r=e.ref,this.embedTask=this.embedder.embedIntoContext(t.context,r)),[4,this.embedTask];case 1:return n.sent(),this.embedder=void 0,[2]}})})},e.of=function(t,r,n){return new e(t,r,n)},e}();e.i(82958),e.i(51721),e.i(79900),e.i(76336),e.i(49551),(j=ev||(ev={}))[j.Left=0]="Left",j[j.Center=1]="Center",j[j.Right=2]="Right",e.s(["ImageAlignment",()=>ev],25156),e.s([],86234);var go=function(e){ch(null==e?void 0:e.x,"options.x",["number"]),ch(null==e?void 0:e.y,"options.y",["number"]),ch(null==e?void 0:e.width,"options.width",["number"]),ch(null==e?void 0:e.height,"options.height",["number"]),ch(null==e?void 0:e.textColor,"options.textColor",[[Object,"Color"]]),ch(null==e?void 0:e.backgroundColor,"options.backgroundColor",[[Object,"Color"]]),ch(null==e?void 0:e.borderColor,"options.borderColor",[[Object,"Color"]]),ch(null==e?void 0:e.borderWidth,"options.borderWidth",["number"]),ch(null==e?void 0:e.rotate,"options.rotate",[[Object,"Rotation"]])},gs=function(){function e(e,t,r){cc(e,"acroField",[[da,"PDFAcroTerminal"]]),cc(t,"ref",[[ho,"PDFRef"]]),cc(r,"doc",[[gx,"PDFDocument"]]),this.acroField=e,this.ref=t,this.doc=r}return e.prototype.getName=function(){var e;return null!=(e=this.acroField.getFullyQualifiedName())?e:""},e.prototype.isReadOnly=function(){return this.acroField.hasFlag(ea.ReadOnly)},e.prototype.enableReadOnly=function(){this.acroField.setFlagTo(ea.ReadOnly,!0)},e.prototype.disableReadOnly=function(){this.acroField.setFlagTo(ea.ReadOnly,!1)},e.prototype.isRequired=function(){return this.acroField.hasFlag(ea.Required)},e.prototype.enableRequired=function(){this.acroField.setFlagTo(ea.Required,!0)},e.prototype.disableRequired=function(){this.acroField.setFlagTo(ea.Required,!1)},e.prototype.isExported=function(){return!this.acroField.hasFlag(ea.NoExport)},e.prototype.enableExporting=function(){this.acroField.setFlagTo(ea.NoExport,!1)},e.prototype.disableExporting=function(){this.acroField.setFlagTo(ea.NoExport,!0)},e.prototype.needsAppearancesUpdate=function(){throw new cS(this.constructor.name,"needsAppearancesUpdate")},e.prototype.defaultUpdateAppearances=function(e){throw new cS(this.constructor.name,"defaultUpdateAppearances")},e.prototype.markAsDirty=function(){this.doc.getForm().markFieldAsDirty(this.ref)},e.prototype.markAsClean=function(){this.doc.getForm().markFieldAsClean(this.ref)},e.prototype.isDirty=function(){return this.doc.getForm().fieldIsDirty(this.ref)},e.prototype.createWidget=function(e){var t,r=e.textColor,n=e.backgroundColor,i=e.borderColor,o=e.borderWidth,s=d6(e.rotate),a=e.caption,l=e.x,u=e.y,c=e.width+o,h=e.height+o,d=!!e.hidden,f=e.page;cg(s,"degreesAngle",90);var p=ds.create(this.doc.context,this.ref),g=d7({x:l,y:u,width:c,height:h},o,s);p.setRectangle(g),f&&p.setP(f);var m=p.getOrCreateAppearanceCharacteristics();n&&m.setBackgroundColor(pe(n)),m.setRotation(s),a&&m.setCaptions({normal:a}),i&&m.setBorderColor(pe(i));var y=p.getOrCreateBorderStyle();if(void 0!==o&&y.setWidth(o),p.setFlagTo(eh.Print,!0),p.setFlagTo(eh.Hidden,d),p.setFlagTo(eh.Invisible,!1),r){var v=(null!=(t=this.acroField.getDefaultAppearance())?t:"")+"\n"+f8(r).toString();this.acroField.setDefaultAppearance(v)}return p},e.prototype.updateWidgetAppearanceWithFont=function(e,t,r){var n=r.normal,i=r.rollover,o=r.down;this.updateWidgetAppearances(e,{normal:this.createAppearanceStream(e,n,t),rollover:i&&this.createAppearanceStream(e,i,t),down:o&&this.createAppearanceStream(e,o,t)})},e.prototype.updateOnOffWidgetAppearance=function(e,t,r){var n=r.normal,i=r.rollover,o=r.down;this.updateWidgetAppearances(e,{normal:this.createAppearanceDict(e,n,t),rollover:i&&this.createAppearanceDict(e,i,t),down:o&&this.createAppearanceDict(e,o,t)})},e.prototype.updateWidgetAppearances=function(e,t){var r=t.normal,n=t.rollover,i=t.down;e.setNormalAppearance(r),n?e.setRolloverAppearance(n):e.removeRolloverAppearance(),i?e.setDownAppearance(i):e.removeDownAppearance()},e.prototype.createAppearanceStream=function(e,t,r){var n,i=this.acroField.dict.context,o=e.getRectangle(),s=o.width,a=o.height,l=r&&{Font:((n={})[r.name]=r.ref,n)},u=i.formXObject(t,{Resources:l,BBox:i.obj([0,0,s,a]),Matrix:i.obj([1,0,0,1,0,0])});return i.register(u)},e.prototype.createImageAppearanceStream=function(e,t,r){var n,i,o=this.acroField.dict.context,s=e.getRectangle(),a=e.getAppearanceCharacteristics(),l=e.getBorderStyle(),u=null!=(i=null==l?void 0:l.getWidth())?i:0,c=d8(null==a?void 0:a.getRotation()),h=pA(lU(lU({},s),{rotation:c})),d=d9(s,c),f=t.scaleToFit(d.width-2*u,d.height-2*u),p={x:u,y:u,width:f.width,height:f.height,rotate:d0(0),xSkew:d0(0),ySkew:d0(0)};r===ev.Center?(p.x+=(d.width-2*u)/2-f.width/2,p.y+=(d.height-2*u)/2-f.height/2):r===ev.Right&&(p.x=d.width-u-f.width,p.y=d.height-u-f.height);var g=this.doc.context.addRandomSuffix("Image",10),m=lq(h,pm(g,p)),y={XObject:((n={})[g]=t.ref,n)},v=o.formXObject(m,{Resources:y,BBox:o.obj([0,0,s.width,s.height]),Matrix:o.obj([1,0,0,1,0,0])});return o.register(v)},e.prototype.createAppearanceDict=function(e,t,r){var n=this.acroField.dict.context,i=this.createAppearanceStream(e,t.on),o=this.createAppearanceStream(e,t.off),s=n.obj({});return s.set(r,i),s.set(c9.of("Off"),o),s},e}(),ga=function(e){function t(t,r,n){var i=e.call(this,t,r,n)||this;return cc(t,"acroCheckBox",[[du,"PDFAcroCheckBox"]]),i.acroField=t,i}return lV(t,e),t.prototype.check=function(){var e,t=null!=(e=this.acroField.getOnValue())?e:c9.of("Yes");this.markAsDirty(),this.acroField.setValue(t)},t.prototype.uncheck=function(){this.markAsDirty(),this.acroField.setValue(c9.of("Off"))},t.prototype.isChecked=function(){var e=this.acroField.getOnValue();return!!e&&e===this.acroField.getValue()},t.prototype.addToPage=function(e,t){cc(e,"page",[[gC,"PDFPage"]]),go(t),t||(t={}),"textColor"in t||(t.textColor=f2(0,0,0)),"backgroundColor"in t||(t.backgroundColor=f2(1,1,1)),"borderColor"in t||(t.borderColor=f2(0,0,0)),"borderWidth"in t||(t.borderWidth=1);var r,n,i,o,s,a,l=this.createWidget({x:null!=(r=t.x)?r:0,y:null!=(n=t.y)?n:0,width:null!=(i=t.width)?i:50,height:null!=(o=t.height)?o:50,textColor:t.textColor,backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:null!=(s=t.borderWidth)?s:0,rotate:null!=(a=t.rotate)?a:d0(0),hidden:t.hidden,page:e.ref}),u=this.doc.context.register(l.dict);this.acroField.addWidget(u),l.setAppearanceState(c9.of("Off")),this.updateWidgetAppearance(l,c9.of("Yes")),e.node.addAnnot(u)},t.prototype.needsAppearancesUpdate=function(){for(var e,t=this.acroField.getWidgets(),r=0,n=t.length;r<n;r++){var i=t[r],o=i.getAppearanceState(),s=null==(e=i.getAppearances())?void 0:e.normal;if(!(s instanceof he)||o&&!s.has(o))return!0}return!1},t.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},t.prototype.updateAppearances=function(e){ch(e,"provider",[Function]);for(var t,r=this.acroField.getWidgets(),n=0,i=r.length;n<i;n++){var o=r[n],s=null!=(t=o.getOnValue())?t:c9.of("Yes");s&&this.updateWidgetAppearance(o,s,e)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,t,r){var n=p0((null!=r?r:p6)(this,e));this.updateOnOffWidgetAppearance(e,t,n)},t.of=function(e,r,n){return new t(e,r,n)},t}(gs),gl=function(e){function t(t,r,n){var i=e.call(this,t,r,n)||this;return cc(t,"acroComboBox",[[dd,"PDFAcroComboBox"]]),i.acroField=t,i}return lV(t,e),t.prototype.getOptions=function(){for(var e=this.acroField.getOptions(),t=Array(e.length),r=0,n=t.length;r<n;r++){var i=e[r],o=i.display,s=i.value;t[r]=(null!=o?o:s).decodeText()}return t},t.prototype.getSelected=function(){for(var e=this.acroField.getValues(),t=Array(e.length),r=0,n=e.length;r<n;r++)t[r]=e[r].decodeText();return t},t.prototype.setOptions=function(e){cc(e,"options",[Array]);for(var t=Array(e.length),r=0,n=e.length;r<n;r++)t[r]={value:hC.fromText(e[r])};this.acroField.setOptions(t)},t.prototype.addOptions=function(e){cc(e,"options",["string",Array]);for(var t=Array.isArray(e)?e:[e],r=this.acroField.getOptions(),n=Array(t.length),i=0,o=t.length;i<o;i++)n[i]={value:hC.fromText(t[i])};this.acroField.setOptions(r.concat(n))},t.prototype.select=function(e,t){void 0===t&&(t=!1),cc(e,"options",["string",Array]),cc(t,"merge",["boolean"]);var r=Array.isArray(e)?e:[e],n=this.getOptions();r.find(function(e){return!n.includes(e)})&&this.enableEditing(),this.markAsDirty(),(r.length>1||1===r.length&&t)&&this.enableMultiselect();for(var i=Array(r.length),o=0,s=r.length;o<s;o++)i[o]=hC.fromText(r[o]);if(t){var a=this.acroField.getValues();this.acroField.setValues(a.concat(i))}else this.acroField.setValues(i)},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},t.prototype.setFontSize=function(e){cy(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.isEditable=function(){return this.acroField.hasFlag(ec.Edit)},t.prototype.enableEditing=function(){this.acroField.setFlagTo(ec.Edit,!0)},t.prototype.disableEditing=function(){this.acroField.setFlagTo(ec.Edit,!1)},t.prototype.isSorted=function(){return this.acroField.hasFlag(ec.Sort)},t.prototype.enableSorting=function(){this.acroField.setFlagTo(ec.Sort,!0)},t.prototype.disableSorting=function(){this.acroField.setFlagTo(ec.Sort,!1)},t.prototype.isMultiselect=function(){return this.acroField.hasFlag(ec.MultiSelect)},t.prototype.enableMultiselect=function(){this.acroField.setFlagTo(ec.MultiSelect,!0)},t.prototype.disableMultiselect=function(){this.acroField.setFlagTo(ec.MultiSelect,!1)},t.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(ec.DoNotSpellCheck)},t.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(ec.DoNotSpellCheck,!1)},t.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(ec.DoNotSpellCheck,!0)},t.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(ec.CommitOnSelChange)},t.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(ec.CommitOnSelChange,!0)},t.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(ec.CommitOnSelChange,!1)},t.prototype.addToPage=function(e,t){cc(e,"page",[[gC,"PDFPage"]]),go(t),t||(t={}),"textColor"in t||(t.textColor=f2(0,0,0)),"backgroundColor"in t||(t.backgroundColor=f2(1,1,1)),"borderColor"in t||(t.borderColor=f2(0,0,0)),"borderWidth"in t||(t.borderWidth=1);var r,n,i,o,s,a,l,u=this.createWidget({x:null!=(r=t.x)?r:0,y:null!=(n=t.y)?n:0,width:null!=(i=t.width)?i:200,height:null!=(o=t.height)?o:50,textColor:t.textColor,backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:null!=(s=t.borderWidth)?s:0,rotate:null!=(a=t.rotate)?a:d0(0),hidden:t.hidden,page:e.ref}),c=this.doc.context.register(u.dict);this.acroField.addWidget(c);var h=null!=(l=t.font)?l:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(u,h),e.node.addAnnot(c)},t.prototype.needsAppearancesUpdate=function(){if(this.isDirty())return!0;for(var e,t=this.acroField.getWidgets(),r=0,n=t.length;r<n;r++)if(!((null==(e=t[r].getAppearances())?void 0:e.normal)instanceof ht))return!0;return!1},t.prototype.defaultUpdateAppearances=function(e){cc(e,"font",[[gn,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,t){cc(e,"font",[[gn,"PDFFont"]]),ch(t,"provider",[Function]);for(var r=this.acroField.getWidgets(),n=0,i=r.length;n<i;n++){var o=r[n];this.updateWidgetAppearance(o,e,t)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,t,r){var n=p0((null!=r?r:ge)(this,e,t));this.updateWidgetAppearanceWithFont(e,t,n)},t.of=function(e,r,n){return new t(e,r,n)},t}(gs),gu=function(e){function t(t,r,n){var i=e.call(this,t,r,n)||this;return cc(t,"acroListBox",[[dv,"PDFAcroListBox"]]),i.acroField=t,i}return lV(t,e),t.prototype.getOptions=function(){for(var e=this.acroField.getOptions(),t=Array(e.length),r=0,n=t.length;r<n;r++){var i=e[r],o=i.display,s=i.value;t[r]=(null!=o?o:s).decodeText()}return t},t.prototype.getSelected=function(){for(var e=this.acroField.getValues(),t=Array(e.length),r=0,n=e.length;r<n;r++)t[r]=e[r].decodeText();return t},t.prototype.setOptions=function(e){cc(e,"options",[Array]),this.markAsDirty();for(var t=Array(e.length),r=0,n=e.length;r<n;r++)t[r]={value:hC.fromText(e[r])};this.acroField.setOptions(t)},t.prototype.addOptions=function(e){cc(e,"options",["string",Array]),this.markAsDirty();for(var t=Array.isArray(e)?e:[e],r=this.acroField.getOptions(),n=Array(t.length),i=0,o=t.length;i<o;i++)n[i]={value:hC.fromText(t[i])};this.acroField.setOptions(r.concat(n))},t.prototype.select=function(e,t){void 0===t&&(t=!1),cc(e,"options",["string",Array]),cc(t,"merge",["boolean"]);var r=Array.isArray(e)?e:[e];cl(r,"option",this.getOptions()),this.markAsDirty(),(r.length>1||1===r.length&&t)&&this.enableMultiselect();for(var n=Array(r.length),i=0,o=r.length;i<o;i++)n[i]=hC.fromText(r[i]);if(t){var s=this.acroField.getValues();this.acroField.setValues(s.concat(n))}else this.acroField.setValues(n)},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},t.prototype.setFontSize=function(e){cy(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.isSorted=function(){return this.acroField.hasFlag(ec.Sort)},t.prototype.enableSorting=function(){this.acroField.setFlagTo(ec.Sort,!0)},t.prototype.disableSorting=function(){this.acroField.setFlagTo(ec.Sort,!1)},t.prototype.isMultiselect=function(){return this.acroField.hasFlag(ec.MultiSelect)},t.prototype.enableMultiselect=function(){this.acroField.setFlagTo(ec.MultiSelect,!0)},t.prototype.disableMultiselect=function(){this.acroField.setFlagTo(ec.MultiSelect,!1)},t.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(ec.CommitOnSelChange)},t.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(ec.CommitOnSelChange,!0)},t.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(ec.CommitOnSelChange,!1)},t.prototype.addToPage=function(e,t){cc(e,"page",[[gC,"PDFPage"]]),go(t),t||(t={}),"textColor"in t||(t.textColor=f2(0,0,0)),"backgroundColor"in t||(t.backgroundColor=f2(1,1,1)),"borderColor"in t||(t.borderColor=f2(0,0,0)),"borderWidth"in t||(t.borderWidth=1);var r,n,i,o,s,a,l,u=this.createWidget({x:null!=(r=t.x)?r:0,y:null!=(n=t.y)?n:0,width:null!=(i=t.width)?i:200,height:null!=(o=t.height)?o:100,textColor:t.textColor,backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:null!=(s=t.borderWidth)?s:0,rotate:null!=(a=t.rotate)?a:d0(0),hidden:t.hidden,page:e.ref}),c=this.doc.context.register(u.dict);this.acroField.addWidget(c);var h=null!=(l=t.font)?l:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(u,h),e.node.addAnnot(c)},t.prototype.needsAppearancesUpdate=function(){if(this.isDirty())return!0;for(var e,t=this.acroField.getWidgets(),r=0,n=t.length;r<n;r++)if(!((null==(e=t[r].getAppearances())?void 0:e.normal)instanceof ht))return!0;return!1},t.prototype.defaultUpdateAppearances=function(e){cc(e,"font",[[gn,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,t){cc(e,"font",[[gn,"PDFFont"]]),ch(t,"provider",[Function]);for(var r=this.acroField.getWidgets(),n=0,i=r.length;n<i;n++){var o=r[n];this.updateWidgetAppearance(o,e,t)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,t,r){var n=p0((null!=r?r:gt)(this,e,t));this.updateWidgetAppearanceWithFont(e,t,n)},t.of=function(e,r,n){return new t(e,r,n)},t}(gs),gc=function(e){function t(t,r,n){var i=e.call(this,t,r,n)||this;return cc(t,"acroRadioButton",[[dy,"PDFAcroRadioButton"]]),i.acroField=t,i}return lV(t,e),t.prototype.getOptions=function(){var e=this.acroField.getExportValues();if(e){for(var t=Array(e.length),r=0,n=e.length;r<n;r++)t[r]=e[r].decodeText();return t}for(var i=this.acroField.getOnValues(),o=Array(i.length),r=0,n=o.length;r<n;r++)o[r]=i[r].decodeText();return o},t.prototype.getSelected=function(){var e=this.acroField.getValue();if(e!==c9.of("Off")){var t=this.acroField.getExportValues();if(t){for(var r=this.acroField.getOnValues(),n=0,i=r.length;n<i;n++)if(r[n]===e)return t[n].decodeText()}return e.decodeText()}},t.prototype.select=function(e){cc(e,"option",["string"]),cs(e,"option",this.getOptions()),this.markAsDirty();var t=this.acroField.getOnValues(),r=this.acroField.getExportValues();if(r)for(var n=0,i=r.length;n<i;n++)r[n].decodeText()===e&&this.acroField.setValue(t[n]);else for(var n=0,i=t.length;n<i;n++){var o=t[n];o.decodeText()===e&&this.acroField.setValue(o)}},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValue(c9.of("Off"))},t.prototype.isOffToggleable=function(){return!this.acroField.hasFlag(el.NoToggleToOff)},t.prototype.enableOffToggling=function(){this.acroField.setFlagTo(el.NoToggleToOff,!1)},t.prototype.disableOffToggling=function(){this.acroField.setFlagTo(el.NoToggleToOff,!0)},t.prototype.isMutuallyExclusive=function(){return!this.acroField.hasFlag(el.RadiosInUnison)},t.prototype.enableMutualExclusion=function(){this.acroField.setFlagTo(el.RadiosInUnison,!1)},t.prototype.disableMutualExclusion=function(){this.acroField.setFlagTo(el.RadiosInUnison,!0)},t.prototype.addOptionToPage=function(e,t,r){cc(e,"option",["string"]),cc(t,"page",[[gC,"PDFPage"]]),go(r);var n,i,o,s,a,l,u,c,h,d=this.createWidget({x:null!=(n=null==r?void 0:r.x)?n:0,y:null!=(i=null==r?void 0:r.y)?i:0,width:null!=(o=null==r?void 0:r.width)?o:50,height:null!=(s=null==r?void 0:r.height)?s:50,textColor:null!=(a=null==r?void 0:r.textColor)?a:f2(0,0,0),backgroundColor:null!=(l=null==r?void 0:r.backgroundColor)?l:f2(1,1,1),borderColor:null!=(u=null==r?void 0:r.borderColor)?u:f2(0,0,0),borderWidth:null!=(c=null==r?void 0:r.borderWidth)?c:1,rotate:null!=(h=null==r?void 0:r.rotate)?h:d0(0),hidden:null==r?void 0:r.hidden,page:t.ref}),f=this.doc.context.register(d.dict),p=this.acroField.addWidgetWithOpt(f,hC.fromText(e),!this.isMutuallyExclusive());d.setAppearanceState(c9.of("Off")),this.updateWidgetAppearance(d,p),t.node.addAnnot(f)},t.prototype.needsAppearancesUpdate=function(){for(var e,t=this.acroField.getWidgets(),r=0,n=t.length;r<n;r++){var i=t[r],o=i.getAppearanceState(),s=null==(e=i.getAppearances())?void 0:e.normal;if(!(s instanceof he)||o&&!s.has(o))return!0}return!1},t.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},t.prototype.updateAppearances=function(e){ch(e,"provider",[Function]);for(var t=this.acroField.getWidgets(),r=0,n=t.length;r<n;r++){var i=t[r],o=i.getOnValue();o&&this.updateWidgetAppearance(i,o,e)}},t.prototype.updateWidgetAppearance=function(e,t,r){var n=p0((null!=r?r:p8)(this,e));this.updateOnOffWidgetAppearance(e,t,n)},t.of=function(e,r,n){return new t(e,r,n)},t}(gs),gh=function(e){function t(t,r,n){var i=e.call(this,t,r,n)||this;return cc(t,"acroSignature",[[dp,"PDFAcroSignature"]]),i.acroField=t,i}return lV(t,e),t.prototype.needsAppearancesUpdate=function(){return!1},t.of=function(e,r,n){return new t(e,r,n)},t}(gs),gd=function(e){function t(t,r,n){var i=e.call(this,t,r,n)||this;return cc(t,"acroText",[[dg,"PDFAcroText"]]),i.acroField=t,i}return lV(t,e),t.prototype.getText=function(){var e=this.acroField.getValue();if(!e&&this.isRichFormatted())throw new p$(this.getName());return null==e?void 0:e.decodeText()},t.prototype.setText=function(e){ch(e,"text",["string"]);var t=this.getMaxLength();if(void 0!==t&&e&&e.length>t)throw new pq(e.length,t,this.getName());this.markAsDirty(),this.disableRichFormatting(),e?this.acroField.setValue(hC.fromText(e)):this.acroField.removeValue()},t.prototype.getAlignment=function(){var e=this.acroField.getQuadding();return 0===e?ey.Left:1===e?ey.Center:2===e?ey.Right:ey.Left},t.prototype.setAlignment=function(e){cs(e,"alignment",ey),this.markAsDirty(),this.acroField.setQuadding(e)},t.prototype.getMaxLength=function(){return this.acroField.getMaxLength()},t.prototype.setMaxLength=function(e){if(cp(e,"maxLength",0,Number.MAX_SAFE_INTEGER),this.markAsDirty(),void 0===e)this.acroField.removeMaxLength();else{var t=this.getText();if(t&&t.length>e)throw new pK(t.length,e,this.getName());this.acroField.setMaxLength(e)}},t.prototype.removeMaxLength=function(){this.markAsDirty(),this.acroField.removeMaxLength()},t.prototype.setImage=function(e){for(var t=this.getAlignment(),r=t===ey.Center?ev.Center:t===ey.Right?ev.Right:ev.Left,n=this.acroField.getWidgets(),i=0,o=n.length;i<o;i++){var s=n[i],a=this.createImageAppearanceStream(s,e,r);this.updateWidgetAppearances(s,{normal:a})}this.markAsClean()},t.prototype.setFontSize=function(e){cy(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.isMultiline=function(){return this.acroField.hasFlag(eu.Multiline)},t.prototype.enableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(eu.Multiline,!0)},t.prototype.disableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(eu.Multiline,!1)},t.prototype.isPassword=function(){return this.acroField.hasFlag(eu.Password)},t.prototype.enablePassword=function(){this.acroField.setFlagTo(eu.Password,!0)},t.prototype.disablePassword=function(){this.acroField.setFlagTo(eu.Password,!1)},t.prototype.isFileSelector=function(){return this.acroField.hasFlag(eu.FileSelect)},t.prototype.enableFileSelection=function(){this.acroField.setFlagTo(eu.FileSelect,!0)},t.prototype.disableFileSelection=function(){this.acroField.setFlagTo(eu.FileSelect,!1)},t.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(eu.DoNotSpellCheck)},t.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(eu.DoNotSpellCheck,!1)},t.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(eu.DoNotSpellCheck,!0)},t.prototype.isScrollable=function(){return!this.acroField.hasFlag(eu.DoNotScroll)},t.prototype.enableScrolling=function(){this.acroField.setFlagTo(eu.DoNotScroll,!1)},t.prototype.disableScrolling=function(){this.acroField.setFlagTo(eu.DoNotScroll,!0)},t.prototype.isCombed=function(){return this.acroField.hasFlag(eu.Comb)&&!this.isMultiline()&&!this.isPassword()&&!this.isFileSelector()&&void 0!==this.getMaxLength()},t.prototype.enableCombing=function(){void 0===this.getMaxLength()&&console.warn("PDFTextFields must have a max length in order to be combed"),this.markAsDirty(),this.disableMultiline(),this.disablePassword(),this.disableFileSelection(),this.acroField.setFlagTo(eu.Comb,!0)},t.prototype.disableCombing=function(){this.markAsDirty(),this.acroField.setFlagTo(eu.Comb,!1)},t.prototype.isRichFormatted=function(){return this.acroField.hasFlag(eu.RichText)},t.prototype.enableRichFormatting=function(){this.acroField.setFlagTo(eu.RichText,!0)},t.prototype.disableRichFormatting=function(){this.acroField.setFlagTo(eu.RichText,!1)},t.prototype.addToPage=function(e,t){cc(e,"page",[[gC,"PDFPage"]]),go(t),t||(t={}),"textColor"in t||(t.textColor=f2(0,0,0)),"backgroundColor"in t||(t.backgroundColor=f2(1,1,1)),"borderColor"in t||(t.borderColor=f2(0,0,0)),"borderWidth"in t||(t.borderWidth=1);var r,n,i,o,s,a,l,u=this.createWidget({x:null!=(r=t.x)?r:0,y:null!=(n=t.y)?n:0,width:null!=(i=t.width)?i:200,height:null!=(o=t.height)?o:50,textColor:t.textColor,backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:null!=(s=t.borderWidth)?s:0,rotate:null!=(a=t.rotate)?a:d0(0),hidden:t.hidden,page:e.ref}),c=this.doc.context.register(u.dict);this.acroField.addWidget(c);var h=null!=(l=t.font)?l:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(u,h),e.node.addAnnot(c)},t.prototype.needsAppearancesUpdate=function(){if(this.isDirty())return!0;for(var e,t=this.acroField.getWidgets(),r=0,n=t.length;r<n;r++)if(!((null==(e=t[r].getAppearances())?void 0:e.normal)instanceof ht))return!0;return!1},t.prototype.defaultUpdateAppearances=function(e){cc(e,"font",[[gn,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,t){cc(e,"font",[[gn,"PDFFont"]]),ch(t,"provider",[Function]);for(var r=this.acroField.getWidgets(),n=0,i=r.length;n<i;n++){var o=r[n];this.updateWidgetAppearance(o,e,t)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,t,r){var n=p0((null!=r?r:p7)(this,e,t));this.updateWidgetAppearanceWithFont(e,t,n)},t.of=function(e,r,n){return new t(e,r,n)},t}(gs);(z=eb||(eb={})).Courier="Courier",z.CourierBold="Courier-Bold",z.CourierOblique="Courier-Oblique",z.CourierBoldOblique="Courier-BoldOblique",z.Helvetica="Helvetica",z.HelveticaBold="Helvetica-Bold",z.HelveticaOblique="Helvetica-Oblique",z.HelveticaBoldOblique="Helvetica-BoldOblique",z.TimesRoman="Times-Roman",z.TimesRomanBold="Times-Bold",z.TimesRomanItalic="Times-Italic",z.TimesRomanBoldItalic="Times-BoldItalic",z.Symbol="Symbol",z.ZapfDingbats="ZapfDingbats",e.s(["StandardFonts",()=>eb],76071);var gf=function(){function e(e,t){var r=this;this.embedDefaultFont=function(){return r.doc.embedStandardFont(eb.Helvetica)},cc(e,"acroForm",[[dE,"PDFAcroForm"]]),cc(t,"doc",[[gx,"PDFDocument"]]),this.acroForm=e,this.doc=t,this.dirtyFields=new Set,this.defaultFontCache=cx.populatedBy(this.embedDefaultFont)}return e.prototype.hasXFA=function(){return this.acroForm.dict.has(c9.of("XFA"))},e.prototype.deleteXFA=function(){this.acroForm.dict.delete(c9.of("XFA"))},e.prototype.getFields=function(){for(var e=this.acroForm.getAllFields(),t=[],r=0,n=e.length;r<n;r++){var i=e[r],o=gp(i[0],i[1],this.doc);o&&t.push(o)}return t},e.prototype.getFieldMaybe=function(e){cc(e,"name",["string"]);for(var t=this.getFields(),r=0,n=t.length;r<n;r++){var i=t[r];if(i.getName()===e)return i}},e.prototype.getField=function(e){cc(e,"name",["string"]);var t=this.getFieldMaybe(e);if(t)return t;throw new pB(e)},e.prototype.getButton=function(e){cc(e,"name",["string"]);var t=this.getField(e);if(t instanceof gk)return t;throw new pL(e,gk,t)},e.prototype.getCheckBox=function(e){cc(e,"name",["string"]);var t=this.getField(e);if(t instanceof ga)return t;throw new pL(e,ga,t)},e.prototype.getDropdown=function(e){cc(e,"name",["string"]);var t=this.getField(e);if(t instanceof gl)return t;throw new pL(e,gl,t)},e.prototype.getOptionList=function(e){cc(e,"name",["string"]);var t=this.getField(e);if(t instanceof gu)return t;throw new pL(e,gu,t)},e.prototype.getRadioGroup=function(e){cc(e,"name",["string"]);var t=this.getField(e);if(t instanceof gc)return t;throw new pL(e,gc,t)},e.prototype.getSignature=function(e){cc(e,"name",["string"]);var t=this.getField(e);if(t instanceof gh)return t;throw new pL(e,gh,t)},e.prototype.getTextField=function(e){cc(e,"name",["string"]);var t=this.getField(e);if(t instanceof gd)return t;throw new pL(e,gd,t)},e.prototype.createButton=function(e){cc(e,"name",["string"]);var t=gg(e),r=this.findOrCreateNonTerminals(t.nonTerminal),n=dm.create(this.doc.context);return n.setPartialName(t.terminal),gm(r,[n,n.ref],t.terminal),gk.of(n,n.ref,this.doc)},e.prototype.createCheckBox=function(e){cc(e,"name",["string"]);var t=gg(e),r=this.findOrCreateNonTerminals(t.nonTerminal),n=du.create(this.doc.context);return n.setPartialName(t.terminal),gm(r,[n,n.ref],t.terminal),ga.of(n,n.ref,this.doc)},e.prototype.createDropdown=function(e){cc(e,"name",["string"]);var t=gg(e),r=this.findOrCreateNonTerminals(t.nonTerminal),n=dd.create(this.doc.context);return n.setPartialName(t.terminal),gm(r,[n,n.ref],t.terminal),gl.of(n,n.ref,this.doc)},e.prototype.createOptionList=function(e){cc(e,"name",["string"]);var t=gg(e),r=this.findOrCreateNonTerminals(t.nonTerminal),n=dv.create(this.doc.context);return n.setPartialName(t.terminal),gm(r,[n,n.ref],t.terminal),gu.of(n,n.ref,this.doc)},e.prototype.createRadioGroup=function(e){cc(e,"name",["string"]);var t=gg(e),r=this.findOrCreateNonTerminals(t.nonTerminal),n=dy.create(this.doc.context);return n.setPartialName(t.terminal),gm(r,[n,n.ref],t.terminal),gc.of(n,n.ref,this.doc)},e.prototype.createTextField=function(e){cc(e,"name",["string"]);var t=gg(e),r=this.findOrCreateNonTerminals(t.nonTerminal),n=dg.create(this.doc.context);return n.setPartialName(t.terminal),gm(r,[n,n.ref],t.terminal),gd.of(n,n.ref,this.doc)},e.prototype.flatten=function(e){void 0===e&&(e={updateFieldAppearances:!0}),e.updateFieldAppearances&&this.updateFieldAppearances();for(var t=this.getFields(),r=0,n=t.length;r<n;r++){for(var i=t[r],o=i.acroField.getWidgets(),s=0,a=o.length;s<a;s++){var l=o[s],u=this.findWidgetPage(l),c=this.findWidgetAppearanceRef(i,l),h=u.node.newXObject("FlatWidget",c),d=l.getRectangle(),f=lq([fy(),fs(d.x,d.y)],pA(lU(lU({},d),{rotation:0})),[fK(h),fv()]).filter(Boolean);u.pushOperators.apply(u,f)}this.removeField(i)}},e.prototype.removeField=function(e){for(var t=e.acroField.getWidgets(),r=new Set,n=0,i=t.length;n<i;n++){var o=t[n],s=this.findWidgetAppearanceRef(e,o),a=this.findWidgetPage(o);r.add(a),a.node.removeAnnot(s)}r.forEach(function(t){return t.node.removeAnnot(e.ref)}),this.acroForm.removeField(e.acroField);for(var l=e.acroField.normalizedEntries().Kids,u=l.size(),c=0;c<u;c++){var h=l.get(c);h instanceof ho&&this.doc.context.delete(h)}this.doc.context.delete(e.ref)},e.prototype.updateFieldAppearances=function(e){ch(e,"font",[[gn,"PDFFont"]]),e=null!=e?e:this.getDefaultFont();for(var t=this.getFields(),r=0,n=t.length;r<n;r++){var i=t[r];i.needsAppearancesUpdate()&&i.defaultUpdateAppearances(e)}},e.prototype.markFieldAsDirty=function(e){ch(e,"fieldRef",[[ho,"PDFRef"]]),this.dirtyFields.add(e)},e.prototype.markFieldAsClean=function(e){ch(e,"fieldRef",[[ho,"PDFRef"]]),this.dirtyFields.delete(e)},e.prototype.fieldIsDirty=function(e){return ch(e,"fieldRef",[[ho,"PDFRef"]]),this.dirtyFields.has(e)},e.prototype.getDefaultFont=function(){return this.defaultFontCache.access()},e.prototype.findWidgetPage=function(e){var t=e.P(),r=this.doc.getPages().find(function(e){return e.ref===t});if(void 0===r){var n=this.doc.context.getObjectRef(e.dict);if(void 0===n)throw Error("Could not find PDFRef for PDFObject");if(void 0===(r=this.doc.findPageForAnnotationRef(n)))throw Error("Could not find page for PDFRef "+n)}return r},e.prototype.findWidgetAppearanceRef=function(e,t){var r,n=t.getNormalAppearance();if(n instanceof he&&(e instanceof ga||e instanceof gc)){var i=e.acroField.getValue(),o=null!=(r=n.get(i))?r:n.get(c9.of("Off"));o instanceof ho&&(n=o)}if(!(n instanceof ho))throw Error("Failed to extract appearance ref for: "+e.getName());return n},e.prototype.findOrCreateNonTerminals=function(e){for(var t=[this.acroForm],r=0,n=e.length;r<n;r++){var i=e[r];if(!i)throw new pV(i);var o=t[0],s=t[1],a=this.findNonTerminal(i,o);if(a)t=a;else{var l=df.create(this.doc.context);l.setPartialName(i),l.setParent(s);var u=this.doc.context.register(l.dict);o.addField(u),t=[l,u]}}return t},e.prototype.findNonTerminal=function(e,t){for(var r=t instanceof dE?this.acroForm.getFields():db(t.Kids()),n=0,i=r.length;n<i;n++){var o=r[n],s=o[0],a=o[1];if(s.getPartialName()===e){if(s instanceof df)return[s,a];throw new pz(e)}}},e.of=function(t,r){return new e(t,r)},e}(),gp=function(e,t,r){return e instanceof dm?gk.of(e,t,r):e instanceof du?ga.of(e,t,r):e instanceof dd?gl.of(e,t,r):e instanceof dv?gu.of(e,t,r):e instanceof dg?gd.of(e,t,r):e instanceof dy?gc.of(e,t,r):e instanceof dp?gh.of(e,t,r):void 0},gg=function(e){if(0===e.length)throw Error("PDF field names must not be empty strings");for(var t=e.split("."),r=0,n=t.length;r<n;r++)if(""===t[r])throw Error('Periods in PDF field names must be separated by at least one character: "'+e+'"');return 1===t.length?{nonTerminal:[],terminal:t[0]}:{nonTerminal:t.slice(0,t.length-1),terminal:t[t.length-1]}},gm=function(e,t,r){for(var n=e[0],i=e[1],o=t[0],s=t[1],a=n.normalizedEntries(),l=db("Kids"in a?a.Kids:a.Fields),u=0,c=l.length;u<c;u++)if(l[u][0].getPartialName()===r)throw new pz(r);n.addField(s),o.setParent(i)},gy={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],Executive:[521.86,756],Folio:[612,936],Legal:[612,1008],Letter:[612,792],Tabloid:[792,1224]};e.s(["PageSizes",()=>gy],78020),(V=ew||(ew={}))[V.Fastest=1/0]="Fastest",V[V.Fast=1500]="Fast",V[V.Medium=500]="Medium",V[V.Slow=100]="Slow",e.s(["ParseSpeeds",()=>ew],2375);var gv=function(){function e(e,t,r){this.alreadyEmbedded=!1,this.ref=e,this.doc=t,this.embedder=r}return e.prototype.embed=function(){return l$(this,void 0,void 0,function(){var e,t,r,n;return lW(this,function(i){switch(i.label){case 0:if(this.alreadyEmbedded)return[3,2];return[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e=i.sent(),this.doc.catalog.has(c9.of("Names"))||this.doc.catalog.set(c9.of("Names"),this.doc.context.obj({})),(t=this.doc.catalog.lookup(c9.of("Names"),he)).has(c9.of("EmbeddedFiles"))||t.set(c9.of("EmbeddedFiles"),this.doc.context.obj({})),(r=t.lookup(c9.of("EmbeddedFiles"),he)).has(c9.of("Names"))||r.set(c9.of("Names"),this.doc.context.obj([])),(n=r.lookup(c9.of("Names"),cZ)).push(hC.fromText(this.embedder.fileName)),n.push(e),this.doc.catalog.has(c9.of("AF"))||this.doc.catalog.set(c9.of("AF"),this.doc.context.obj([])),this.doc.catalog.lookup(c9.of("AF"),cZ).push(e),this.alreadyEmbedded=!0,i.label=2;case 2:return[2]}})})},e.of=function(t,r,n){return new e(t,r,n)},e}(),gb=function(){function e(e,t,r){this.alreadyEmbedded=!1,this.ref=e,this.doc=t,this.embedder=r}return e.prototype.embed=function(){return l$(this,void 0,void 0,function(){var e,t,r,n,i,o,s;return lW(this,function(a){switch(a.label){case 0:if(this.alreadyEmbedded)return[3,2];return t=(e=this.doc).catalog,r=e.context,[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:n=a.sent(),t.has(c9.of("Names"))||t.set(c9.of("Names"),r.obj({})),(i=t.lookup(c9.of("Names"),he)).has(c9.of("JavaScript"))||i.set(c9.of("JavaScript"),r.obj({})),(o=i.lookup(c9.of("JavaScript"),he)).has(c9.of("Names"))||o.set(c9.of("Names"),r.obj([])),(s=o.lookup(c9.of("Names"),cZ)).push(hC.fromText(this.embedder.scriptName)),s.push(n),this.alreadyEmbedded=!0,a.label=2;case 2:return[2]}})})},e.of=function(t,r,n){return new e(t,r,n)},e}(),gw=function(){function e(e,t){this.script=e,this.scriptName=t}return e.for=function(t,r){return new e(t,r)},e.prototype.embedIntoContext=function(e,t){return l$(this,void 0,void 0,function(){var r;return lW(this,function(n){return(r=e.obj({Type:"Action",S:"JavaScript",JS:hC.fromText(this.script)}),t)?(e.assign(t,r),[2,t]):[2,e.register(r)]})})},e}();let gx=function(){function e(e,t,r){var n=this;if(this.defaultWordBreaks=[" "],this.computePages=function(){var e=[];return n.catalog.Pages().traverse(function(t,r){if(t instanceof hf){var i=n.pageMap.get(t);i||(i=gC.of(t,r,n),n.pageMap.set(t,i)),e.push(i)}}),e},this.getOrCreateForm=function(){var e=n.catalog.getOrCreateAcroForm();return gf.of(e,n)},cc(e,"context",[[hd,"PDFContext"]]),cc(t,"ignoreEncryption",["boolean"]),this.context=e,this.catalog=e.lookup(e.trailerInfo.Root),this.isEncrypted=!!e.lookup(e.trailerInfo.Encrypt),this.pageCache=cx.populatedBy(this.computePages),this.pageMap=new Map,this.formCache=cx.populatedBy(this.getOrCreateForm),this.fonts=[],this.images=[],this.embeddedPages=[],this.embeddedFiles=[],this.javaScripts=[],!t&&this.isEncrypted)throw new pP;r&&this.updateInfoDict()}return e.load=function(t,r){return void 0===r&&(r={}),l$(this,void 0,void 0,function(){var n,i,o,s,a,l,u,c,h,d,f;return lW(this,function(p){switch(p.label){case 0:return i=void 0!==(n=r.ignoreEncryption)&&n,s=void 0===(o=r.parseSpeed)?ew.Slow:o,l=void 0!==(a=r.throwOnInvalidObject)&&a,c=void 0===(u=r.updateMetadata)||u,d=void 0!==(h=r.capNumbers)&&h,cc(t,"pdf",["string",Uint8Array,ArrayBuffer]),cc(i,"ignoreEncryption",["boolean"]),cc(s,"parseSpeed",["number"]),cc(l,"throwOnInvalidObject",["boolean"]),f=uv(t),[4,dH.forBytesWithOptions(f,s,l,d).parseDocument()];case 1:return[2,new e(p.sent(),i,c)]}})})},e.create=function(t){return void 0===t&&(t={}),l$(this,void 0,void 0,function(){var r,n,i,o,s,a;return lW(this,function(l){return n=void 0===(r=t.updateMetadata)||r,i=hd.create(),o=dD.withContext(i),s=i.register(o),a=dI.withContextAndPages(i,s),i.trailerInfo.Root=i.register(a),[2,new e(i,!1,n)]})})},e.prototype.registerFontkit=function(e){this.fontkit=e},e.prototype.getForm=function(){var e=this.formCache.access();return e.hasXFA()&&(console.warn("Removing XFA form data as pdf-lib does not support reading or writing XFA"),e.deleteXFA()),e},e.prototype.getTitle=function(){var e=this.getInfoDict().lookup(c9.Title);if(e)return gS(e),e.decodeText()},e.prototype.getAuthor=function(){var e=this.getInfoDict().lookup(c9.Author);if(e)return gS(e),e.decodeText()},e.prototype.getSubject=function(){var e=this.getInfoDict().lookup(c9.Subject);if(e)return gS(e),e.decodeText()},e.prototype.getKeywords=function(){var e=this.getInfoDict().lookup(c9.Keywords);if(e)return gS(e),e.decodeText()},e.prototype.getCreator=function(){var e=this.getInfoDict().lookup(c9.Creator);if(e)return gS(e),e.decodeText()},e.prototype.getProducer=function(){var e=this.getInfoDict().lookup(c9.Producer);if(e)return gS(e),e.decodeText()},e.prototype.getCreationDate=function(){var e=this.getInfoDict().lookup(c9.CreationDate);if(e)return gS(e),e.decodeDate()},e.prototype.getModificationDate=function(){var e=this.getInfoDict().lookup(c9.ModDate);if(e)return gS(e),e.decodeDate()},e.prototype.setTitle=function(e,t){cc(e,"title",["string"]);var r=c9.of("Title");this.getInfoDict().set(r,hC.fromText(e)),(null==t?void 0:t.showInWindowTitleBar)&&this.catalog.getOrCreateViewerPreferences().setDisplayDocTitle(!0)},e.prototype.setAuthor=function(e){cc(e,"author",["string"]);var t=c9.of("Author");this.getInfoDict().set(t,hC.fromText(e))},e.prototype.setSubject=function(e){cc(e,"author",["string"]);var t=c9.of("Subject");this.getInfoDict().set(t,hC.fromText(e))},e.prototype.setKeywords=function(e){cc(e,"keywords",[Array]);var t=c9.of("Keywords");this.getInfoDict().set(t,hC.fromText(e.join(" ")))},e.prototype.setCreator=function(e){cc(e,"creator",["string"]);var t=c9.of("Creator");this.getInfoDict().set(t,hC.fromText(e))},e.prototype.setProducer=function(e){cc(e,"creator",["string"]);var t=c9.of("Producer");this.getInfoDict().set(t,hC.fromText(e))},e.prototype.setLanguage=function(e){cc(e,"language",["string"]);var t=c9.of("Lang");this.catalog.set(t,hN.of(e))},e.prototype.setCreationDate=function(e){cc(e,"creationDate",[[Date,"Date"]]);var t=c9.of("CreationDate");this.getInfoDict().set(t,hN.fromDate(e))},e.prototype.setModificationDate=function(e){cc(e,"modificationDate",[[Date,"Date"]]);var t=c9.of("ModDate");this.getInfoDict().set(t,hN.fromDate(e))},e.prototype.getPageCount=function(){return void 0===this.pageCount&&(this.pageCount=this.getPages().length),this.pageCount},e.prototype.getPages=function(){return this.pageCache.access()},e.prototype.getPage=function(e){var t=this.getPages();return cf(e,"index",0,t.length-1),t[e]},e.prototype.getPageIndices=function(){return um(0,this.getPageCount())},e.prototype.removePage=function(e){var t=this.getPageCount();if(0===this.pageCount)throw new pM;cf(e,"index",0,t-1),this.catalog.removeLeafNode(e),this.pageCount=t-1},e.prototype.addPage=function(e){return cc(e,"page",["undefined",[gC,"PDFPage"],Array]),this.insertPage(this.getPageCount(),e)},e.prototype.insertPage=function(e,t){var r=this.getPageCount();if(cf(e,"index",0,r),cc(t,"page",["undefined",[gC,"PDFPage"],Array]),!t||Array.isArray(t)){var n=Array.isArray(t)?t:gy.A4;(t=gC.create(this)).setSize.apply(t,n)}else if(t.doc!==this)throw new pO;var i=this.catalog.insertLeafNode(t.ref,e);return t.node.setParent(i),this.pageMap.set(t.node,t),this.pageCache.invalidate(),this.pageCount=r+1,t},e.prototype.copyPages=function(t,r){return l$(this,void 0,void 0,function(){var n,i,o,s,a,l,u,c;return lW(this,function(h){switch(h.label){case 0:return cc(t,"srcDoc",[[e,"PDFDocument"]]),cc(r,"indices",[Array]),[4,t.flush()];case 1:for(h.sent(),n=hp.for(t.context,this.context),i=t.getPages(),o=Array(r.length),s=0,a=r.length;s<a;s++)l=i[r[s]],u=n.copy(l.node),c=this.context.register(u),o[s]=gC.of(u,c,this);return[2,o]}})})},e.prototype.copy=function(){return l$(this,void 0,void 0,function(){var t,r,n,i;return lW(this,function(o){switch(o.label){case 0:return[4,e.create()];case 1:return[4,(t=o.sent()).copyPages(this,this.getPageIndices())];case 2:for(n=0,i=(r=o.sent()).length;n<i;n++)t.addPage(r[n]);return void 0!==this.getAuthor()&&t.setAuthor(this.getAuthor()),void 0!==this.getCreationDate()&&t.setCreationDate(this.getCreationDate()),void 0!==this.getCreator()&&t.setCreator(this.getCreator()),void 0!==this.getModificationDate()&&t.setModificationDate(this.getModificationDate()),void 0!==this.getProducer()&&t.setProducer(this.getProducer()),void 0!==this.getSubject()&&t.setSubject(this.getSubject()),void 0!==this.getTitle()&&t.setTitle(this.getTitle()),t.defaultWordBreaks=this.defaultWordBreaks,[2,t]}})})},e.prototype.addJavaScript=function(e,t){cc(e,"name",["string"]),cc(t,"script",["string"]);var r=gw.for(t,e),n=this.context.nextRef(),i=gb.of(n,this,r);this.javaScripts.push(i)},e.prototype.attach=function(e,t,r){return void 0===r&&(r={}),l$(this,void 0,void 0,function(){var n,i,o,s;return lW(this,function(a){return cc(e,"attachment",["string",Uint8Array,ArrayBuffer]),cc(t,"name",["string"]),ch(r.mimeType,"mimeType",["string"]),ch(r.description,"description",["string"]),ch(r.creationDate,"options.creationDate",[Date]),ch(r.modificationDate,"options.modificationDate",[Date]),ca(r.afRelationship,"options.afRelationship",ee),n=uv(e),i=hO.for(n,t,r),o=this.context.nextRef(),s=gv.of(o,this,i),this.embeddedFiles.push(s),[2]})})},e.prototype.embedFont=function(e,t){return void 0===t&&(t={}),l$(this,void 0,void 0,function(){var r,n,i,o,s,a,l,u,c,h;return lW(this,function(d){switch(d.label){case 0:if(n=void 0!==(r=t.subset)&&r,i=t.customName,o=t.features,cc(e,"font",["string",Uint8Array,ArrayBuffer]),cc(n,"subset",["boolean"]),!ct(e))return[3,1];return s=hk.for(e,i),[3,7];case 1:if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||"string"==typeof e))return[3,6];if(a=uv(e),l=this.assertFontkit(),!n)return[3,3];return[4,hR.for(l,a,i,o)];case 2:return u=d.sent(),[3,5];case 3:return[4,hP.for(l,a,i,o)];case 4:u=d.sent(),d.label=5;case 5:return s=u,[3,7];case 6:throw TypeError("`font` must be one of `StandardFonts | string | Uint8Array | ArrayBuffer`");case 7:return c=this.context.nextRef(),h=gn.of(c,this,s),this.fonts.push(h),[2,h]}})})},e.prototype.embedStandardFont=function(e,t){if(cc(e,"font",["string"]),!ct(e))throw TypeError("`font` must be one of type `StandardFonts`");var r=hk.for(e,t),n=this.context.nextRef(),i=gn.of(n,this,r);return this.fonts.push(i),i},e.prototype.embedJpg=function(e){return l$(this,void 0,void 0,function(){var t,r,n,i;return lW(this,function(o){switch(o.label){case 0:return cc(e,"jpg",["string",Uint8Array,ArrayBuffer]),t=uv(e),[4,hL.for(t)];case 1:return r=o.sent(),n=this.context.nextRef(),i=gi.of(n,this,r),this.images.push(i),[2,i]}})})},e.prototype.embedPng=function(e){return l$(this,void 0,void 0,function(){var t,r,n,i;return lW(this,function(o){switch(o.label){case 0:return cc(e,"png",["string",Uint8Array,ArrayBuffer]),t=uv(e),[4,h$.for(t)];case 1:return r=o.sent(),n=this.context.nextRef(),i=gi.of(n,this,r),this.images.push(i),[2,i]}})})},e.prototype.embedPdf=function(t,r){return void 0===r&&(r=[0]),l$(this,void 0,void 0,function(){var n,i;return lW(this,function(o){switch(o.label){case 0:if(cc(t,"pdf",["string",Uint8Array,ArrayBuffer,[e,"PDFDocument"]]),cc(r,"indices",[Array]),!(t instanceof e))return[3,1];return n=t,[3,3];case 1:return[4,e.load(t)];case 2:n=o.sent(),o.label=3;case 3:return i=uy(n.getPages(),r),[2,this.embedPages(i)]}})})},e.prototype.embedPage=function(e,t,r){return l$(this,void 0,void 0,function(){return lW(this,function(n){switch(n.label){case 0:return cc(e,"page",[[gC,"PDFPage"]]),[4,this.embedPages([e],[t],[r])];case 1:return[2,n.sent()[0]]}})})},e.prototype.embedPages=function(e,t,r){return void 0===t&&(t=[]),void 0===r&&(r=[]),l$(this,void 0,void 0,function(){var n,i,o,s,a,l,u,c,h,d,f,p,g;return lW(this,function(m){switch(m.label){case 0:if(0===e.length)return[2,[]];for(n=0,i=e.length-1;n<i;n++)if(o=e[n],s=e[n+1],o.node.context!==s.node.context)throw new cI;l=(a=e[0].node.context)===this.context?function(e){return e}:hp.for(a,this.context).copy,u=Array(e.length),n=0,i=e.length,m.label=1;case 1:if(!(n<i))return[3,4];return c=l(e[n].node),h=t[n],d=r[n],[4,h8.for(c,h,d)];case 2:f=m.sent(),p=this.context.nextRef(),u[n]=gr.of(p,this,f),m.label=3;case 3:return n++,[3,1];case 4:return(g=this.embeddedPages).push.apply(g,u),[2,u]}})})},e.prototype.flush=function(){return l$(this,void 0,void 0,function(){return lW(this,function(e){switch(e.label){case 0:return[4,this.embedAll(this.fonts)];case 1:return e.sent(),[4,this.embedAll(this.images)];case 2:return e.sent(),[4,this.embedAll(this.embeddedPages)];case 3:return e.sent(),[4,this.embedAll(this.embeddedFiles)];case 4:return e.sent(),[4,this.embedAll(this.javaScripts)];case 5:return e.sent(),[2]}})})},e.prototype.save=function(e){return void 0===e&&(e={}),l$(this,void 0,void 0,function(){var t,r,n,i,o,s,a,l,u;return lW(this,function(c){switch(c.label){case 0:return r=void 0===(t=e.useObjectStreams)||t,i=void 0===(n=e.addDefaultPage)||n,s=void 0===(o=e.objectsPerTick)?50:o,l=void 0===(a=e.updateFieldAppearances)||a,cc(r,"useObjectStreams",["boolean"]),cc(i,"addDefaultPage",["boolean"]),cc(s,"objectsPerTick",["number"]),cc(l,"updateFieldAppearances",["boolean"]),i&&0===this.getPageCount()&&this.addPage(),l&&(u=this.formCache.getValue())&&u.updateFieldAppearances(),[4,this.flush()];case 1:return c.sent(),[2,(r?hS:hb).forContext(this.context,s).serializeToBuffer()]}})})},e.prototype.saveAsBase64=function(e){return void 0===e&&(e={}),l$(this,void 0,void 0,function(){var t,r,n,i;return lW(this,function(o){switch(o.label){case 0:return r=void 0!==(t=e.dataUri)&&t,n=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}(e,["dataUri"]),cc(r,"dataUri",["boolean"]),[4,this.save(n)];case 1:return i=lQ(o.sent()),[2,r?"data:application/pdf;base64,"+i:i]}})})},e.prototype.findPageForAnnotationRef=function(e){for(var t=this.getPages(),r=0,n=t.length;r<n;r++){var i=t[r],o=i.node.Annots();if((null==o?void 0:o.indexOf(e))!==void 0)return i}},e.prototype.embedAll=function(e){return l$(this,void 0,void 0,function(){var t,r;return lW(this,function(n){switch(n.label){case 0:t=0,r=e.length,n.label=1;case 1:if(!(t<r))return[3,4];return[4,e[t].embed()];case 2:n.sent(),n.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},e.prototype.updateInfoDict=function(){var e="pdf-lib (https://github.com/Hopding/pdf-lib)",t=new Date,r=this.getInfoDict();this.setProducer(e),this.setModificationDate(t),r.get(c9.of("Creator"))||this.setCreator(e),r.get(c9.of("CreationDate"))||this.setCreationDate(t)},e.prototype.getInfoDict=function(){var e=this.context.lookup(this.context.trailerInfo.Info);if(e instanceof he)return e;var t=this.context.obj({});return this.context.trailerInfo.Info=this.context.register(t),t},e.prototype.assertFontkit=function(){if(!this.fontkit)throw new pR;return this.fontkit},e}();function gS(e){if(!(e instanceof hC)&&!(e instanceof hN))throw new ck([hC,hN],e)}(U=ex||(ex={})).Normal="Normal",U.Multiply="Multiply",U.Screen="Screen",U.Overlay="Overlay",U.Darken="Darken",U.Lighten="Lighten",U.ColorDodge="ColorDodge",U.ColorBurn="ColorBurn",U.HardLight="HardLight",U.SoftLight="SoftLight",U.Difference="Difference",U.Exclusion="Exclusion",e.s(["BlendMode",()=>ex],34006);let gC=function(){function e(e,t,r){this.fontSize=24,this.fontColor=f2(0,0,0),this.lineHeight=24,this.x=0,this.y=0,cc(e,"leafNode",[[hf,"PDFPageLeaf"]]),cc(t,"ref",[[ho,"PDFRef"]]),cc(r,"doc",[[gx,"PDFDocument"]]),this.node=e,this.ref=t,this.doc=r}return e.prototype.setRotation=function(e){var t=d6(e);cg(t,"degreesAngle",90),this.node.set(c9.of("Rotate"),this.doc.context.obj(t))},e.prototype.getRotation=function(){var e=this.node.Rotate();return d0(e?e.asNumber():0)},e.prototype.setSize=function(e,t){cc(e,"width",["number"]),cc(t,"height",["number"]);var r=this.getMediaBox();this.setMediaBox(r.x,r.y,e,t);var n=this.getCropBox(),i=this.getBleedBox(),o=this.getTrimBox(),s=this.getArtBox(),a=this.node.CropBox(),l=this.node.BleedBox(),u=this.node.TrimBox(),c=this.node.ArtBox();a&&cr(n,r)&&this.setCropBox(r.x,r.y,e,t),l&&cr(i,r)&&this.setBleedBox(r.x,r.y,e,t),u&&cr(o,r)&&this.setTrimBox(r.x,r.y,e,t),c&&cr(s,r)&&this.setArtBox(r.x,r.y,e,t)},e.prototype.setWidth=function(e){cc(e,"width",["number"]),this.setSize(e,this.getSize().height)},e.prototype.setHeight=function(e){cc(e,"height",["number"]),this.setSize(this.getSize().width,e)},e.prototype.setMediaBox=function(e,t,r,n){cc(e,"x",["number"]),cc(t,"y",["number"]),cc(r,"width",["number"]),cc(n,"height",["number"]);var i=this.doc.context.obj([e,t,e+r,t+n]);this.node.set(c9.MediaBox,i)},e.prototype.setCropBox=function(e,t,r,n){cc(e,"x",["number"]),cc(t,"y",["number"]),cc(r,"width",["number"]),cc(n,"height",["number"]);var i=this.doc.context.obj([e,t,e+r,t+n]);this.node.set(c9.CropBox,i)},e.prototype.setBleedBox=function(e,t,r,n){cc(e,"x",["number"]),cc(t,"y",["number"]),cc(r,"width",["number"]),cc(n,"height",["number"]);var i=this.doc.context.obj([e,t,e+r,t+n]);this.node.set(c9.BleedBox,i)},e.prototype.setTrimBox=function(e,t,r,n){cc(e,"x",["number"]),cc(t,"y",["number"]),cc(r,"width",["number"]),cc(n,"height",["number"]);var i=this.doc.context.obj([e,t,e+r,t+n]);this.node.set(c9.TrimBox,i)},e.prototype.setArtBox=function(e,t,r,n){cc(e,"x",["number"]),cc(t,"y",["number"]),cc(r,"width",["number"]),cc(n,"height",["number"]);var i=this.doc.context.obj([e,t,e+r,t+n]);this.node.set(c9.ArtBox,i)},e.prototype.getSize=function(){var e=this.getMediaBox();return{width:e.width,height:e.height}},e.prototype.getWidth=function(){return this.getSize().width},e.prototype.getHeight=function(){return this.getSize().height},e.prototype.getMediaBox=function(){return this.node.MediaBox().asRectangle()},e.prototype.getCropBox=function(){var e,t=this.node.CropBox();return null!=(e=null==t?void 0:t.asRectangle())?e:this.getMediaBox()},e.prototype.getBleedBox=function(){var e,t=this.node.BleedBox();return null!=(e=null==t?void 0:t.asRectangle())?e:this.getCropBox()},e.prototype.getTrimBox=function(){var e,t=this.node.TrimBox();return null!=(e=null==t?void 0:t.asRectangle())?e:this.getCropBox()},e.prototype.getArtBox=function(){var e,t=this.node.ArtBox();return null!=(e=null==t?void 0:t.asRectangle())?e:this.getCropBox()},e.prototype.translateContent=function(e,t){cc(e,"x",["number"]),cc(t,"y",["number"]),this.node.normalize(),this.getContentStream();var r=this.createContentStream(fy(),fs(e,t)),n=this.doc.context.register(r),i=this.createContentStream(fv()),o=this.doc.context.register(i);this.node.wrapContentStreams(n,o)},e.prototype.scale=function(e,t){cc(e,"x",["number"]),cc(t,"y",["number"]),this.setSize(this.getWidth()*e,this.getHeight()*t),this.scaleContent(e,t),this.scaleAnnotations(e,t)},e.prototype.scaleContent=function(e,t){cc(e,"x",["number"]),cc(t,"y",["number"]),this.node.normalize(),this.getContentStream();var r=this.createContentStream(fy(),fa(e,t)),n=this.doc.context.register(r),i=this.createContentStream(fv()),o=this.doc.context.register(i);this.node.wrapContentStreams(n,o)},e.prototype.scaleAnnotations=function(e,t){cc(e,"x",["number"]),cc(t,"y",["number"]);var r=this.node.Annots();if(r)for(var n=0;n<r.size();n++){var i=r.lookup(n);i instanceof he&&this.scaleAnnot(i,e,t)}},e.prototype.resetPosition=function(){this.getContentStream(!1),this.x=0,this.y=0},e.prototype.setFont=function(e){cc(e,"font",[[gn,"PDFFont"]]),this.font=e,this.fontKey=this.node.newFontDictionary(this.font.name,this.font.ref)},e.prototype.setFontSize=function(e){cc(e,"fontSize",["number"]),this.fontSize=e},e.prototype.setFontColor=function(e){cc(e,"fontColor",[[Object,"Color"]]),this.fontColor=e},e.prototype.setLineHeight=function(e){cc(e,"lineHeight",["number"]),this.lineHeight=e},e.prototype.getPosition=function(){return{x:this.x,y:this.y}},e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e.prototype.moveTo=function(e,t){cc(e,"x",["number"]),cc(t,"y",["number"]),this.x=e,this.y=t},e.prototype.moveDown=function(e){cc(e,"yDecrease",["number"]),this.y-=e},e.prototype.moveUp=function(e){cc(e,"yIncrease",["number"]),this.y+=e},e.prototype.moveLeft=function(e){cc(e,"xDecrease",["number"]),this.x-=e},e.prototype.moveRight=function(e){cc(e,"xIncrease",["number"]),this.x+=e},e.prototype.pushOperators=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];cd(e,"operator",[[hs,"PDFOperator"]]);var r=this.getContentStream();r.push.apply(r,e)},e.prototype.drawText=function(e,t){void 0===t&&(t={}),cc(e,"text",["string"]),ch(t.color,"options.color",[[Object,"Color"]]),cp(t.opacity,"opacity.opacity",0,1),ch(t.font,"options.font",[[gn,"PDFFont"]]),ch(t.size,"options.size",["number"]),ch(t.rotate,"options.rotate",[[Object,"Rotation"]]),ch(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),ch(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),ch(t.x,"options.x",["number"]),ch(t.y,"options.y",["number"]),ch(t.lineHeight,"options.lineHeight",["number"]),ch(t.maxWidth,"options.maxWidth",["number"]),ch(t.wordBreaks,"options.wordBreaks",[Array]),ca(t.blendMode,"options.blendMode",ex);for(var r,n,i,o,s,a,l,u=this.setOrEmbedFont(t.font),c=u.oldFont,h=u.newFont,d=u.newFontKey,f=t.size||this.fontSize,p=t.wordBreaks||this.doc.defaultWordBreaks,g=void 0===t.maxWidth?l9(l4(e)):un(e,p,t.maxWidth,function(e){return h.widthOfTextAtSize(e,f)}),m=Array(g.length),y=0,v=g.length;y<v;y++)m[y]=h.encodeText(g[y]);var b=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),w=this.getContentStream();w.push.apply(w,pg(m,{color:null!=(r=t.color)?r:this.fontColor,font:d,size:f,rotate:null!=(n=t.rotate)?n:d0(0),xSkew:null!=(i=t.xSkew)?i:d0(0),ySkew:null!=(o=t.ySkew)?o:d0(0),x:null!=(s=t.x)?s:this.x,y:null!=(a=t.y)?a:this.y,lineHeight:null!=(l=t.lineHeight)?l:this.lineHeight,graphicsState:b})),t.font&&(c?this.setFont(c):this.resetFont())},e.prototype.drawImage=function(e,t){void 0===t&&(t={}),cc(e,"image",[[gi,"PDFImage"]]),ch(t.x,"options.x",["number"]),ch(t.y,"options.y",["number"]),ch(t.width,"options.width",["number"]),ch(t.height,"options.height",["number"]),ch(t.rotate,"options.rotate",[[Object,"Rotation"]]),ch(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),ch(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),cp(t.opacity,"opacity.opacity",0,1),ca(t.blendMode,"options.blendMode",ex);var r,n,i,o,s,a,l,u=this.node.newXObject("Image",e.ref),c=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),h=this.getContentStream();h.push.apply(h,pm(u,{x:null!=(r=t.x)?r:this.x,y:null!=(n=t.y)?n:this.y,width:null!=(i=t.width)?i:e.size().width,height:null!=(o=t.height)?o:e.size().height,rotate:null!=(s=t.rotate)?s:d0(0),xSkew:null!=(a=t.xSkew)?a:d0(0),ySkew:null!=(l=t.ySkew)?l:d0(0),graphicsState:c}))},e.prototype.drawPage=function(e,t){void 0===t&&(t={}),cc(e,"embeddedPage",[[gr,"PDFEmbeddedPage"]]),ch(t.x,"options.x",["number"]),ch(t.y,"options.y",["number"]),ch(t.xScale,"options.xScale",["number"]),ch(t.yScale,"options.yScale",["number"]),ch(t.width,"options.width",["number"]),ch(t.height,"options.height",["number"]),ch(t.rotate,"options.rotate",[[Object,"Rotation"]]),ch(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),ch(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),cp(t.opacity,"opacity.opacity",0,1),ca(t.blendMode,"options.blendMode",ex);var r,n,i,o,s,a=this.node.newXObject("EmbeddedPdfPage",e.ref),l=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),u=void 0!==t.width?t.width/e.width:void 0!==t.xScale?t.xScale:1,c=void 0!==t.height?t.height/e.height:void 0!==t.yScale?t.yScale:1,h=this.getContentStream();h.push.apply(h,py(a,{x:null!=(r=t.x)?r:this.x,y:null!=(n=t.y)?n:this.y,xScale:u,yScale:c,rotate:null!=(i=t.rotate)?i:d0(0),xSkew:null!=(o=t.xSkew)?o:d0(0),ySkew:null!=(s=t.ySkew)?s:d0(0),graphicsState:l}))},e.prototype.drawSvgPath=function(e,t){void 0===t&&(t={}),cc(e,"path",["string"]),ch(t.x,"options.x",["number"]),ch(t.y,"options.y",["number"]),ch(t.scale,"options.scale",["number"]),ch(t.rotate,"options.rotate",[[Object,"Rotation"]]),ch(t.borderWidth,"options.borderWidth",["number"]),ch(t.color,"options.color",[[Object,"Color"]]),cp(t.opacity,"opacity.opacity",0,1),ch(t.borderColor,"options.borderColor",[[Object,"Color"]]),ch(t.borderDashArray,"options.borderDashArray",[Array]),ch(t.borderDashPhase,"options.borderDashPhase",["number"]),ca(t.borderLineCap,"options.borderLineCap",ef),cp(t.borderOpacity,"options.borderOpacity",0,1),ca(t.blendMode,"options.blendMode",ex);var r,n,i,o,s,a,l,u,c,h=this.maybeEmbedGraphicsState({opacity:t.opacity,borderOpacity:t.borderOpacity,blendMode:t.blendMode});"color"in t||"borderColor"in t||(t.borderColor=f2(0,0,0));var d=this.getContentStream();d.push.apply(d,pk(e,{x:null!=(r=t.x)?r:this.x,y:null!=(n=t.y)?n:this.y,scale:t.scale,rotate:null!=(i=t.rotate)?i:d0(0),color:null!=(o=t.color)?o:void 0,borderColor:null!=(s=t.borderColor)?s:void 0,borderWidth:null!=(a=t.borderWidth)?a:0,borderDashArray:null!=(l=t.borderDashArray)?l:void 0,borderDashPhase:null!=(u=t.borderDashPhase)?u:void 0,borderLineCap:null!=(c=t.borderLineCap)?c:void 0,graphicsState:h}))},e.prototype.drawLine=function(e){cc(e.start,"options.start",[[Object,"{ x: number, y: number }"]]),cc(e.end,"options.end",[[Object,"{ x: number, y: number }"]]),cc(e.start.x,"options.start.x",["number"]),cc(e.start.y,"options.start.y",["number"]),cc(e.end.x,"options.end.x",["number"]),cc(e.end.y,"options.end.y",["number"]),ch(e.thickness,"options.thickness",["number"]),ch(e.color,"options.color",[[Object,"Color"]]),ch(e.dashArray,"options.dashArray",[Array]),ch(e.dashPhase,"options.dashPhase",["number"]),ca(e.lineCap,"options.lineCap",ef),cp(e.opacity,"opacity.opacity",0,1),ca(e.blendMode,"options.blendMode",ex);var t,r,n,i,o,s=this.maybeEmbedGraphicsState({borderOpacity:e.opacity,blendMode:e.blendMode});"color"in e||(e.color=f2(0,0,0));var a=this.getContentStream();a.push.apply(a,pv({start:e.start,end:e.end,thickness:null!=(t=e.thickness)?t:1,color:null!=(r=e.color)?r:void 0,dashArray:null!=(n=e.dashArray)?n:void 0,dashPhase:null!=(i=e.dashPhase)?i:void 0,lineCap:null!=(o=e.lineCap)?o:void 0,graphicsState:s}))},e.prototype.drawRectangle=function(e){void 0===e&&(e={}),ch(e.x,"options.x",["number"]),ch(e.y,"options.y",["number"]),ch(e.width,"options.width",["number"]),ch(e.height,"options.height",["number"]),ch(e.rotate,"options.rotate",[[Object,"Rotation"]]),ch(e.xSkew,"options.xSkew",[[Object,"Rotation"]]),ch(e.ySkew,"options.ySkew",[[Object,"Rotation"]]),ch(e.borderWidth,"options.borderWidth",["number"]),ch(e.color,"options.color",[[Object,"Color"]]),cp(e.opacity,"opacity.opacity",0,1),ch(e.borderColor,"options.borderColor",[[Object,"Color"]]),ch(e.borderDashArray,"options.borderDashArray",[Array]),ch(e.borderDashPhase,"options.borderDashPhase",["number"]),ca(e.borderLineCap,"options.borderLineCap",ef),cp(e.borderOpacity,"options.borderOpacity",0,1),ca(e.blendMode,"options.blendMode",ex);var t,r,n,i,o,s,a,l,u,c,h,d,f,p=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});"color"in e||"borderColor"in e||(e.color=f2(0,0,0));var g=this.getContentStream();g.push.apply(g,pb({x:null!=(t=e.x)?t:this.x,y:null!=(r=e.y)?r:this.y,width:null!=(n=e.width)?n:150,height:null!=(i=e.height)?i:100,rotate:null!=(o=e.rotate)?o:d0(0),xSkew:null!=(s=e.xSkew)?s:d0(0),ySkew:null!=(a=e.ySkew)?a:d0(0),borderWidth:null!=(l=e.borderWidth)?l:0,color:null!=(u=e.color)?u:void 0,borderColor:null!=(c=e.borderColor)?c:void 0,borderDashArray:null!=(h=e.borderDashArray)?h:void 0,borderDashPhase:null!=(d=e.borderDashPhase)?d:void 0,graphicsState:p,borderLineCap:null!=(f=e.borderLineCap)?f:void 0}))},e.prototype.drawSquare=function(e){void 0===e&&(e={});var t=e.size;ch(t,"size",["number"]),this.drawRectangle(lU(lU({},e),{width:t,height:t}))},e.prototype.drawEllipse=function(e){void 0===e&&(e={}),ch(e.x,"options.x",["number"]),ch(e.y,"options.y",["number"]),ch(e.xScale,"options.xScale",["number"]),ch(e.yScale,"options.yScale",["number"]),ch(e.rotate,"options.rotate",[[Object,"Rotation"]]),ch(e.color,"options.color",[[Object,"Color"]]),cp(e.opacity,"opacity.opacity",0,1),ch(e.borderColor,"options.borderColor",[[Object,"Color"]]),cp(e.borderOpacity,"options.borderOpacity",0,1),ch(e.borderWidth,"options.borderWidth",["number"]),ch(e.borderDashArray,"options.borderDashArray",[Array]),ch(e.borderDashPhase,"options.borderDashPhase",["number"]),ca(e.borderLineCap,"options.borderLineCap",ef),ca(e.blendMode,"options.blendMode",ex);var t,r,n,i,o,s,a,l,u,c,h,d=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});"color"in e||"borderColor"in e||(e.color=f2(0,0,0));var f=this.getContentStream();f.push.apply(f,pC({x:null!=(t=e.x)?t:this.x,y:null!=(r=e.y)?r:this.y,xScale:null!=(n=e.xScale)?n:100,yScale:null!=(i=e.yScale)?i:100,rotate:null!=(o=e.rotate)?o:void 0,color:null!=(s=e.color)?s:void 0,borderColor:null!=(a=e.borderColor)?a:void 0,borderWidth:null!=(l=e.borderWidth)?l:0,borderDashArray:null!=(u=e.borderDashArray)?u:void 0,borderDashPhase:null!=(c=e.borderDashPhase)?c:void 0,borderLineCap:null!=(h=e.borderLineCap)?h:void 0,graphicsState:d}))},e.prototype.drawCircle=function(e){void 0===e&&(e={});var t=e.size,r=void 0===t?100:t;ch(r,"size",["number"]),this.drawEllipse(lU(lU({},e),{xScale:r,yScale:r}))},e.prototype.setOrEmbedFont=function(e){var t=this.font,r=this.fontKey;return e?this.setFont(e):this.getFont(),{oldFont:t,oldFontKey:r,newFont:this.font,newFontKey:this.fontKey}},e.prototype.getFont=function(){if(!this.font||!this.fontKey){var e=this.doc.embedStandardFont(eb.Helvetica);this.setFont(e)}return[this.font,this.fontKey]},e.prototype.resetFont=function(){this.font=void 0,this.fontKey=void 0},e.prototype.getContentStream=function(e){return void 0===e&&(e=!0),e&&this.contentStream||(this.contentStream=this.createContentStream(),this.contentStreamRef=this.doc.context.register(this.contentStream),this.node.addContentStream(this.contentStreamRef)),this.contentStream},e.prototype.createContentStream=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.doc.context.obj({});return hu.of(r,e)},e.prototype.maybeEmbedGraphicsState=function(e){var t=e.opacity,r=e.borderOpacity,n=e.blendMode;if(void 0!==t||void 0!==r||void 0!==n){var i=this.doc.context.obj({Type:"ExtGState",ca:t,CA:r,BM:n});return this.node.newExtGState("GS",i)}},e.prototype.scaleAnnot=function(e,t,r){for(var n=["RD","CL","Vertices","QuadPoints","L","Rect"],i=0,o=n.length;i<o;i++){var s=e.lookup(c9.of(n[i]));s instanceof cZ&&s.scalePDFNumbers(t,r)}var a=e.lookup(c9.of("InkList"));if(a instanceof cZ)for(var i=0,o=a.size();i<o;i++){var l=a.lookup(i);l instanceof cZ&&l.scalePDFNumbers(t,r)}},e.of=function(t,r,n){return new e(t,r,n)},e.create=function(t){cc(t,"doc",[[gx,"PDFDocument"]]);var r=ho.of(-1),n=hf.withContextAndParent(t.context,r),i=t.context.register(n);return new e(n,i,t)},e}(),gk=function(e){function t(t,r,n){var i=e.call(this,t,r,n)||this;return cc(t,"acroButton",[[dm,"PDFAcroPushButton"]]),i.acroField=t,i}return lV(t,e),t.prototype.setImage=function(e,t){void 0===t&&(t=ev.Center);for(var r=this.acroField.getWidgets(),n=0,i=r.length;n<i;n++){var o=r[n],s=this.createImageAppearanceStream(o,e,t);this.updateWidgetAppearances(o,{normal:s})}this.markAsClean()},t.prototype.setFontSize=function(e){cy(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.addToPage=function(e,t,r){ch(e,"text",["string"]),ch(t,"page",[[gC,"PDFPage"]]),go(r);var n,i,o,s,a,l,u,c,h,d,f,p=this.createWidget({x:(null!=(n=null==r?void 0:r.x)?n:0)-(null!=(i=null==r?void 0:r.borderWidth)?i:0)/2,y:(null!=(o=null==r?void 0:r.y)?o:0)-(null!=(s=null==r?void 0:r.borderWidth)?s:0)/2,width:null!=(a=null==r?void 0:r.width)?a:100,height:null!=(l=null==r?void 0:r.height)?l:50,textColor:null!=(u=null==r?void 0:r.textColor)?u:f2(0,0,0),backgroundColor:null!=(c=null==r?void 0:r.backgroundColor)?c:f2(.75,.75,.75),borderColor:null==r?void 0:r.borderColor,borderWidth:null!=(h=null==r?void 0:r.borderWidth)?h:0,rotate:null!=(d=null==r?void 0:r.rotate)?d:d0(0),caption:e,hidden:null==r?void 0:r.hidden,page:t.ref}),g=this.doc.context.register(p.dict);this.acroField.addWidget(g);var m=null!=(f=null==r?void 0:r.font)?f:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(p,m),t.node.addAnnot(g)},t.prototype.needsAppearancesUpdate=function(){if(this.isDirty())return!0;for(var e,t=this.acroField.getWidgets(),r=0,n=t.length;r<n;r++)if(!((null==(e=t[r].getAppearances())?void 0:e.normal)instanceof ht))return!0;return!1},t.prototype.defaultUpdateAppearances=function(e){cc(e,"font",[[gn,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,t){cc(e,"font",[[gn,"PDFFont"]]),ch(t,"provider",[Function]);for(var r=this.acroField.getWidgets(),n=0,i=r.length;n<i;n++){var o=r[n];this.updateWidgetAppearance(o,e,t)}},t.prototype.updateWidgetAppearance=function(e,t,r){var n=p0((null!=r?r:p9)(this,e,t));this.updateWidgetAppearanceWithFont(e,t,n)},t.of=function(e,r,n){return new t(e,r,n)},t}(gs);e.s([],55324),e.s([],78871),e.s([],59454),e.i(81353),e.i(59454),e.i(55324),e.i(90213),e.s(["PDFButton",0,gk,"PDFCheckBox",0,ga,"PDFDropdown",0,gl,"PDFField",0,gs,"PDFForm",0,gf,"PDFOptionList",0,gu,"PDFRadioGroup",0,gc,"PDFSignature",0,gh,"PDFTextField",0,gd,"defaultButtonAppearanceProvider",()=>p9,"defaultCheckBoxAppearanceProvider",()=>p6,"defaultDropdownAppearanceProvider",()=>ge,"defaultOptionListAppearanceProvider",()=>gt,"defaultRadioGroupAppearanceProvider",()=>p8,"defaultTextFieldAppearanceProvider",()=>p7,"normalizeAppearance",()=>p0],44129),e.i(44129),e.i(78871),e.i(34282),e.i(45361),e.s(["TextAlignment",()=>ey,"layoutCombedText",()=>pY,"layoutMultilineText",()=>pJ,"layoutSinglelineText",()=>pZ],17772),e.i(17772),e.i(27003),e.i(68941),e.i(86234),e.i(25156),e.s(["ImageAlignment",()=>ev],12174),e.i(12174),e.i(38109),e.i(85978),e.i(64406),e.i(88477),e.i(78020),e.i(34006),e.i(2375),e.i(76071);let g_={x:355,y:730,size:11},gA={x:355,y:705,size:11},gT={x:105,y:630,size:11},gE={x:325,y:630,size:11},gI={x:105,y:605,size:11},gD={x:410,y:605,size:11},gF={x:160,y:400,size:11},gN={x:160,y:425,size:11},gP={x:195,y:135,size:11},gR={x:130,y:745,size:11},gO={x:130,y:695,size:11},gM={x:155,y:645,size:11},gB={x:130,y:620,size:11},gL={x:130,y:450,size:11},gj={x:135,y:410,size:11},gz={x:135,y:390,size:11},gV=async e=>{var t;let r=(t="agenda.pdf",`/lds-tools${t.startsWith("/")?"":"/"}${t}`),n=await fetch(r),i=new File([await n.arrayBuffer()],"file.pdf",{type:n.headers.get("content-type")||void 0}),o=await i.arrayBuffer(),s=await gx.load(o),a=s.getPages()[0],l=s.getPages()[1],u=await s.embedFont(eb.Courier);a.drawText(gU(),{font:u,...g_}),a.drawText("9:00 AM",{font:u,...gA}),a.drawText(e.presiding||"",{font:u,...gT}),a.drawText(e.conducting||"",{font:u,...gE}),a.drawText(e.organist||"",{font:u,...gI}),a.drawText(e.chorister||"",{font:u,...gD}),a.drawText(e.invocation||"",{font:u,...gF}),l.drawText(e.benediction||"",{font:u,...gz}),a.drawText(e.opening_hymn||"",{font:u,...gN}),a.drawText(e.sacrament_hymn||"",{font:u,...gP}),l.drawText(e.intermediate_hymn||"",{font:u,...gM}),l.drawText(e.closing_hymn||"",{font:u,...gj}),l.drawText(e.speaker1||"",{font:u,...gR}),l.drawText(e.speaker2||"",{font:u,...gO}),l.drawText(e.speaker3||"",{font:u,...gB}),l.drawText(e.speaker4||"",{font:u,...gL});let c=new Blob([new Uint8Array(await s.save())],{type:"application/pdf"}),h=document.createElement("a");h.href=URL.createObjectURL(c),h.download="agenda-editada.pdf",h.click()};function gU(){let e=new Date;return e.setDate(e.getDate()+((7-e.getDay())%7||7)),e.toLocaleDateString("es-ES",{day:"2-digit",month:"long",year:"numeric"})}let g$=function(e){let t=[],r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:(i<2048?t[r++]=i>>6|192:((64512&i)==55296&&n+1<e.length&&(64512&e.charCodeAt(n+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n)),t[r++]=i>>18|240,t[r++]=i>>12&63|128):t[r++]=i>>12|224,t[r++]=i>>6&63|128),t[r++]=63&i|128)}return t},gW=function(e){let t=[],r=0,n=0;for(;r<e.length;){let i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){let o=e[r++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){let o=((7&i)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(o>>10)),t[n++]=String.fromCharCode(56320+(1023&o))}else{let o=e[r++],s=e[r++];t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")},gq={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let t=0;t<e.length;t+=3){let i=e[t],o=t+1<e.length,s=o?e[t+1]:0,a=t+2<e.length,l=a?e[t+2]:0,u=i>>2,c=(3&i)<<4|s>>4,h=(15&s)<<2|l>>6,d=63&l;!a&&(d=64,o||(h=64)),n.push(r[u],r[c],r[h],r[d])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(g$(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):gW(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let t=0;t<e.length;){let i=r[e.charAt(t++)],o=t<e.length?r[e.charAt(t)]:0,s=++t<e.length?r[e.charAt(t)]:64,a=++t<e.length?r[e.charAt(t)]:64;if(++t,null==i||null==o||null==s||null==a)throw new gK;let l=i<<2|o>>4;if(n.push(l),64!==s){let e=o<<4&240|s>>2;if(n.push(e),64!==a){let e=s<<6&192|a;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class gK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let gG=function(e){let t=g$(e);return gq.encodeByteArray(t,!0)},gH=function(e){return gG(e).replace(/\./g,"")},gQ=function(e){try{return gq.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function gX(){return"u">typeof self?self:"u">typeof window?window:e.g}let gJ=()=>{try{return gX().__FIREBASE_DEFAULTS__||(()=>{if(void 0===t_.default||void 0===t_.default.env)return;let e=t_.default.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)})()||(()=>{let e;if("u"<typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&gQ(e[1]);return t&&JSON.parse(t)})()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},gY=()=>gJ()?.config;class gZ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function g0(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function g1(e){return(await fetch(e,{credentials:"include"})).ok}let g2={},g5=!1;function g3(){return"u">typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function g4(){let t=gJ()?.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(e.g.process)}catch(e){return!1}}function g6(){return"u">typeof WorkerGlobalScope&&"u">typeof self&&self instanceof WorkerGlobalScope}function g8(){return!g4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g9(){return!g4()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function g7(){try{return"object"==typeof indexedDB}catch(e){return!1}}class me extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mt.prototype.create)}}class mt{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){var r,n;let i=t[0]||{},o=`${this.service}/${e}`,s=this.errors[e],a=s?(r=s,n=i,r.replace(mr,(e,t)=>{let r=n[t];return null!=r?String(r):`<${t}?>`})):"Error",l=`${this.serviceName}: ${a} (${o}).`;return new me(o,l,i)}}let mr=/\{\$([^}]+)}/g;function mn(e,t){if(e===t)return!0;let r=Object.keys(e),n=Object.keys(t);for(let i of r){if(!n.includes(i))return!1;let r=e[i],o=t[i];if(mi(r)&&mi(o)){if(!mn(r,o))return!1}else if(r!==o)return!1}for(let e of n)if(!r.includes(e))return!1;return!0}function mi(e){return null!==e&&"object"==typeof e}function mo(e){return e&&e._delegate?e._delegate:e}class ms{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}let ma="[DEFAULT]";class ml{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new gZ;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&e.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(r)return null;throw e}if(r)return null;throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ma})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:r});t.resolve(e)}catch(e){}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let n=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[e,t]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(e)&&t.resolve(n);return n}onInit(e,t){let r=this.normalizeInstanceIdentifier(t),n=this.onInitCallbacks.get(r)??new Set;n.add(e),this.onInitCallbacks.set(r,n);let i=this.instances.get(r);return i&&e(i,r),()=>{n.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let n of r)try{n(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){var r;let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e)===ma?void 0:r,options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class mu{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new ml(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}let mc=[];($=eS||(eS={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT";let mh={debug:eS.DEBUG,verbose:eS.VERBOSE,info:eS.INFO,warn:eS.WARN,error:eS.ERROR,silent:eS.SILENT},md=eS.INFO,mf={[eS.DEBUG]:"log",[eS.VERBOSE]:"log",[eS.INFO]:"info",[eS.WARN]:"warn",[eS.ERROR]:"error"},mp=(e,t,...r)=>{if(t<e.logLevel)return;let n=new Date().toISOString(),i=mf[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mg{constructor(e){this.name=e,this._logLevel=md,this._logHandler=mp,this._userLogHandler=null,mc.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in eS))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?mh[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,eS.DEBUG,...e),this._logHandler(this,eS.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,eS.VERBOSE,...e),this._logHandler(this,eS.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,eS.INFO,...e),this._logHandler(this,eS.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,eS.WARN,...e),this._logHandler(this,eS.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,eS.ERROR,...e),this._logHandler(this,eS.ERROR,...e)}}let mm=new WeakMap,my=new WeakMap,mv=new WeakMap,mb=new WeakMap,mw=new WeakMap,mx={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return my.get(e);if("objectStoreNames"===t)return e.objectStoreNames||mv.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return mS(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function mS(e){if(e instanceof IDBRequest){let t;return(t=new Promise((t,r)=>{let n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(mS(e.result)),n()},o=()=>{r(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",o)})).then(t=>{t instanceof IDBCursor&&mm.set(t,e)}).catch(()=>{}),mw.set(t,e),t}if(mb.has(e))return mb.get(e);let n=function(e){if("function"==typeof e)return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(r||(r=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(mC(this),t),mS(mm.get(this))}:function(...t){return mS(e.apply(mC(this),t))}:function(t,...r){let n=e.call(mC(this),t,...r);return mv.set(n,t.sort?t.sort():[t]),mS(n)};return e instanceof IDBTransaction&&function(e){if(my.has(e))return;let t=new Promise((t,r)=>{let n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),n()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});my.set(e,t)}(e),(t||(t=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(t=>e instanceof t)?new Proxy(e,mx):e}(e);return n!==e&&(mb.set(e,n),mw.set(n,e)),n}let mC=e=>mw.get(e),mk=["get","getKey","getAll","getAllKeys","count"],m_=["put","add","delete","clear"],mA=new Map;function mT(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(mA.get(t))return mA.get(t);let r=t.replace(/FromIndex$/,""),n=t!==r,i=m_.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||mk.includes(r)))return;let o=async function(e,...t){let o=this.transaction(e,i?"readwrite":"readonly"),s=o.store;return n&&(s=s.index(t.shift())),(await Promise.all([s[r](...t),i&&o.done]))[0]};return mA.set(t,o),o}mx={...a=mx,get:(e,t,r)=>mT(e,t)||a.get(e,t,r),has:(e,t)=>!!mT(e,t)||a.has(e,t)};class mE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{let t;if(t=e.getComponent(),t?.type!=="VERSION")return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}let mI="@firebase/app",mD="0.14.7",mF=new mg("@firebase/app"),mN="[DEFAULT]",mP={[mI]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/ai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},mR=new Map,mO=new Map,mM=new Map;function mB(e,t){try{e.container.addComponent(t)}catch(r){mF.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function mL(e,t){e.container.addOrOverwriteComponent(t)}function mj(e){let t=e.name;if(mM.has(t))return mF.debug(`There were multiple attempts to register component ${t}.`),!1;for(let r of(mM.set(t,e),mR.values()))mB(r,e);for(let t of mO.values())mB(t,e);return!0}function mz(e,t){let r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function mV(e,t,r=mN){mz(e,t).clearInstance(r)}function mU(e){return void 0!==e.options}function m$(e){return!mU(e)&&("authIdToken"in e||"appCheckToken"in e||"releaseOnDeref"in e||"automaticDataCollectionEnabled"in e)}function mW(e){return null!=e&&void 0!==e.settings}function mq(){mM.clear()}let mK=new mt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class mG{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mK.create("app-deleted",{appName:this._name})}}function mH(e,t){let r=gQ(e.split(".")[1]);null===r?console.error(`FirebaseServerApp ${t} is invalid: second part could not be parsed.`):void 0===JSON.parse(r).exp?console.error(`FirebaseServerApp ${t} is invalid: expiration claim could not be parsed`):1e3*JSON.parse(r).exp-new Date().getTime()<=0&&console.error(`FirebaseServerApp ${t} is invalid: the token has expired.`)}class mQ extends mG{constructor(e,t,r,n){const i=void 0===t.automaticDataCollectionEnabled||t.automaticDataCollectionEnabled,o={name:r,automaticDataCollectionEnabled:i};void 0!==e.apiKey?super(e,o,n):super(e.options,o,n),this._serverConfig={automaticDataCollectionEnabled:i,...t},this._serverConfig.authIdToken&&mH(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&mH(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,"u">typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,m2(mI,mD,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){m1(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw mK.create("server-app-deleted")}}let mX="12.8.0";function mJ(e,t={}){let r=e;"object"!=typeof t&&(t={name:t});let n={name:mN,automaticDataCollectionEnabled:!0,...t},i=n.name;if("string"!=typeof i||!i)throw mK.create("bad-app-name",{appName:String(i)});if(r||(r=gY()),!r)throw mK.create("no-options");let o=mR.get(i);if(o)if(mn(r,o.options)&&mn(n,o.config))return o;else throw mK.create("duplicate-app",{appName:i});let s=new mu(i);for(let e of mM.values())s.addComponent(e);let a=new mG(r,n,s);return mR.set(i,a),a}function mY(e,t={}){let r;if(("u">typeof window||g6())&&!g6())throw mK.create("invalid-server-app-environment");let n=t||{};if(e&&(mU(e)?r=e.options:m$(e)?n=e:r=e),void 0===n.automaticDataCollectionEnabled&&(n.automaticDataCollectionEnabled=!0),r||(r=gY()),!r)throw mK.create("no-options");let i={...n,...r};if(void 0!==i.releaseOnDeref&&delete i.releaseOnDeref,void 0!==n.releaseOnDeref&&"u"<typeof FinalizationRegistry)throw mK.create("finalization-registry-not-supported",{});let o=""+[...JSON.stringify(i)].reduce((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0,0),s=mO.get(o);if(s)return s.incRefCount(n.releaseOnDeref),s;let a=new mu(o);for(let e of mM.values())a.addComponent(e);let l=new mQ(r,n,o,a);return mO.set(o,l),l}function mZ(e=mN){let t=mR.get(e);if(!t&&e===mN&&gY())return mJ();if(!t)throw mK.create("no-app",{appName:e});return t}function m0(){return Array.from(mR.values())}async function m1(e){let t=!1,r=e.name;mR.has(r)?(t=!0,mR.delete(r)):mO.has(r)&&0>=e.decRefCount()&&(mO.delete(r),t=!0),t&&(await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function m2(e,t,r){let n=mP[e]??e;r&&(n+=`-${r}`);let i=n.match(/\s|\//),o=t.match(/\s|\//);if(i||o){let e=[`Unable to register library "${n}" with version "${t}":`];i&&e.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),mF.warn(e.join(" "));return}mj(new ms(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}function m5(e,t){if(null!==e&&"function"!=typeof e)throw mK.create("invalid-log-argument");for(let r of mc){let n=null;t&&t.level&&(n=mh[t.level]),null===e?r.userLogHandler=null:r.userLogHandler=(t,r,...i)=>{let o=i.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}}).filter(e=>e).join(" ");r>=(n??t.logLevel)&&e({level:eS[r].toLowerCase(),message:o,args:i,type:t.name})}}}function m3(e){mc.forEach(t=>{t.setLogLevel(e)})}let m4="firebase-heartbeat-store",m6=null;function m8(){return m6||(m6=(function(e,t,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){let s=indexedDB.open(e,1),a=mS(s);return n&&s.addEventListener("upgradeneeded",e=>{n(mS(s.result),e.oldVersion,e.newVersion,mS(s.transaction),e)}),r&&s.addEventListener("blocked",e=>r(e.oldVersion,e.newVersion,e)),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a})("firebase-heartbeat-database",0,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(m4)}catch(e){console.warn(e)}}}).catch(e=>{throw mK.create("idb-open",{originalErrorMessage:e.message})})),m6}async function m9(e){try{let t=(await m8()).transaction(m4),r=await t.objectStore(m4).get(ye(e));return await t.done,r}catch(e){if(e instanceof me)mF.warn(e.message);else{let t=mK.create("idb-get",{originalErrorMessage:e?.message});mF.warn(t.message)}}}async function m7(e,t){try{let r=(await m8()).transaction(m4,"readwrite"),n=r.objectStore(m4);await n.put(t,ye(e)),await r.done}catch(e){if(e instanceof me)mF.warn(e.message);else{let t=mK.create("idb-set",{originalErrorMessage:e?.message});mF.warn(t.message)}}}function ye(e){return`${e.name}!${e.options.appId}`}class yt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new yn(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{let e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=yr();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){let e=function(e){if(0===e.length)return -1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){mF.warn(e)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||0===this._heartbeatsCache.heartbeats.length)return"";let e=yr(),{heartbeatsToSend:t,unsentEntries:r}=function(e,t=1024){let r=[],n=e.slice();for(let i of e){let e=r.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),yi(r)>t){e.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),yi(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}(this._heartbeatsCache.heartbeats),n=gH(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),n}catch(e){return mF.warn(e),""}}}function yr(){return new Date().toISOString().substring(0,10)}class yn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!g7()&&new Promise((e,t)=>{try{let r=!0,n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(e){t(e)}}).then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await m9(this.app);return e?.heartbeats?e:{heartbeats:[]}}}async overwrite(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return m7(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return m7(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function yi(e){return gH(JSON.stringify({version:2,heartbeats:e})).length}mj(new ms("platform-logger",e=>new mE(e),"PRIVATE")),mj(new ms("heartbeat",e=>new yt(e),"PRIVATE")),m2(mI,mD,""),m2(mI,mD,"esm2020"),m2("fire-js",""),e.s(["SDK_VERSION",()=>mX,"_DEFAULT_ENTRY_NAME",()=>mN,"_addComponent",()=>mB,"_addOrOverwriteComponent",()=>mL,"_apps",()=>mR,"_clearComponents",()=>mq,"_components",()=>mM,"_getProvider",()=>mz,"_isFirebaseApp",()=>mU,"_isFirebaseServerApp",()=>mW,"_isFirebaseServerAppSettings",()=>m$,"_registerComponent",()=>mj,"_removeServiceInstance",()=>mV,"_serverApps",()=>mO,"deleteApp",()=>m1,"getApp",()=>mZ,"getApps",()=>m0,"initializeApp",()=>mJ,"initializeServerApp",()=>mY,"onLog",()=>m5,"registerVersion",()=>m2,"setLogLevel",()=>m3],92953);var yo=e.i(67034),ys="u">typeof globalThis?globalThis:"u">typeof window?window:e.g,ya={};(function(){function e(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.C=Array(this.blockSize),this.o=this.h=0,this.u()}var t=function(){this.blockSize=-1};function r(){}function n(e,t,r){r||(r=0);let n=Array(16);if("string"==typeof t)for(var i=0;i<16;++i)n[i]=t.charCodeAt(r++)|t.charCodeAt(r++)<<8|t.charCodeAt(r++)<<16|t.charCodeAt(r++)<<24;else for(i=0;i<16;++i)n[i]=t[r++]|t[r++]<<8|t[r++]<<16|t[r++]<<24;t=e.g[0],r=e.g[1],i=e.g[2];let o=e.g[3],s;s=t+(o^r&(i^o))+n[0]+0xd76aa478|0,s=o+(i^(t=r+(s<<7|s>>>25))&(r^i))+n[1]+0xe8c7b756|0,s=i+(r^(o=t+(s<<12|s>>>20))&(t^r))+n[2]+0x242070db|0,s=r+(t^(i=o+(s<<17|s>>>15))&(o^t))+n[3]+0xc1bdceee|0,s=t+(o^(r=i+(s<<22|s>>>10))&(i^o))+n[4]+0xf57c0faf|0,s=o+(i^(t=r+(s<<7|s>>>25))&(r^i))+n[5]+0x4787c62a|0,s=i+(r^(o=t+(s<<12|s>>>20))&(t^r))+n[6]+0xa8304613|0,s=r+(t^(i=o+(s<<17|s>>>15))&(o^t))+n[7]+0xfd469501|0,s=t+(o^(r=i+(s<<22|s>>>10))&(i^o))+n[8]+0x698098d8|0,s=o+(i^(t=r+(s<<7|s>>>25))&(r^i))+n[9]+0x8b44f7af|0,s=i+(r^(o=t+(s<<12|s>>>20))&(t^r))+n[10]+0xffff5bb1|0,s=r+(t^(i=o+(s<<17|s>>>15))&(o^t))+n[11]+0x895cd7be|0,s=t+(o^(r=i+(s<<22|s>>>10))&(i^o))+n[12]+0x6b901122|0,s=o+(i^(t=r+(s<<7|s>>>25))&(r^i))+n[13]+0xfd987193|0,s=i+(r^(o=t+(s<<12|s>>>20))&(t^r))+n[14]+0xa679438e|0,s=r+(t^(i=o+(s<<17|s>>>15))&(o^t))+n[15]+0x49b40821|0,r=i+(s<<22|s>>>10),s=t+(i^o&(r^i))+n[1]+0xf61e2562|0,t=r+(s<<5|s>>>27),s=o+(r^i&(t^r))+n[6]+0xc040b340|0,o=t+(s<<9|s>>>23),s=i+(t^r&(o^t))+n[11]+0x265e5a51|0,i=o+(s<<14|s>>>18),s=r+(o^t&(i^o))+n[0]+0xe9b6c7aa|0,r=i+(s<<20|s>>>12),s=t+(i^o&(r^i))+n[5]+0xd62f105d|0,t=r+(s<<5|s>>>27),s=o+(r^i&(t^r))+n[10]+0x2441453|0,o=t+(s<<9|s>>>23),s=i+(t^r&(o^t))+n[15]+0xd8a1e681|0,i=o+(s<<14|s>>>18),s=r+(o^t&(i^o))+n[4]+0xe7d3fbc8|0,r=i+(s<<20|s>>>12),s=t+(i^o&(r^i))+n[9]+0x21e1cde6|0,t=r+(s<<5|s>>>27),s=o+(r^i&(t^r))+n[14]+0xc33707d6|0,o=t+(s<<9|s>>>23),s=i+(t^r&(o^t))+n[3]+0xf4d50d87|0,i=o+(s<<14|s>>>18),s=r+(o^t&(i^o))+n[8]+0x455a14ed|0,r=i+(s<<20|s>>>12),s=t+(i^o&(r^i))+n[13]+0xa9e3e905|0,t=r+(s<<5|s>>>27),s=o+(r^i&(t^r))+n[2]+0xfcefa3f8|0,o=t+(s<<9|s>>>23),s=i+(t^r&(o^t))+n[7]+0x676f02d9|0,i=o+(s<<14|s>>>18),s=r+(o^t&(i^o))+n[12]+0x8d2a4c8a|0,s=t+((r=i+(s<<20|s>>>12))^i^o)+n[5]+0xfffa3942|0,s=o+((t=r+(s<<4|s>>>28))^r^i)+n[8]+0x8771f681|0,s=i+((o=t+(s<<11|s>>>21))^t^r)+n[11]+0x6d9d6122|0,s=r+((i=o+(s<<16|s>>>16))^o^t)+n[14]+0xfde5380c|0,s=t+((r=i+(s<<23|s>>>9))^i^o)+n[1]+0xa4beea44|0,s=o+((t=r+(s<<4|s>>>28))^r^i)+n[4]+0x4bdecfa9|0,s=i+((o=t+(s<<11|s>>>21))^t^r)+n[7]+0xf6bb4b60|0,s=r+((i=o+(s<<16|s>>>16))^o^t)+n[10]+0xbebfbc70|0,s=t+((r=i+(s<<23|s>>>9))^i^o)+n[13]+0x289b7ec6|0,s=o+((t=r+(s<<4|s>>>28))^r^i)+n[0]+0xeaa127fa|0,s=i+((o=t+(s<<11|s>>>21))^t^r)+n[3]+0xd4ef3085|0,s=r+((i=o+(s<<16|s>>>16))^o^t)+n[6]+0x4881d05|0,s=t+((r=i+(s<<23|s>>>9))^i^o)+n[9]+0xd9d4d039|0,s=o+((t=r+(s<<4|s>>>28))^r^i)+n[12]+0xe6db99e5|0,s=i+((o=t+(s<<11|s>>>21))^t^r)+n[15]+0x1fa27cf8|0,s=r+((i=o+(s<<16|s>>>16))^o^t)+n[2]+0xc4ac5665|0,r=i+(s<<23|s>>>9),s=t+(i^(r|~o))+n[0]+0xf4292244|0,t=r+(s<<6|s>>>26),s=o+(r^(t|~i))+n[7]+0x432aff97|0,o=t+(s<<10|s>>>22),s=i+(t^(o|~r))+n[14]+0xab9423a7|0,i=o+(s<<15|s>>>17),s=r+(o^(i|~t))+n[5]+0xfc93a039|0,r=i+(s<<21|s>>>11),s=t+(i^(r|~o))+n[12]+0x655b59c3|0,t=r+(s<<6|s>>>26),s=o+(r^(t|~i))+n[3]+0x8f0ccc92|0,o=t+(s<<10|s>>>22),s=i+(t^(o|~r))+n[10]+0xffeff47d|0,i=o+(s<<15|s>>>17),s=r+(o^(i|~t))+n[1]+0x85845dd1|0,r=i+(s<<21|s>>>11),s=t+(i^(r|~o))+n[8]+0x6fa87e4f|0,t=r+(s<<6|s>>>26),s=o+(r^(t|~i))+n[15]+0xfe2ce6e0|0,o=t+(s<<10|s>>>22),s=i+(t^(o|~r))+n[6]+0xa3014314|0,i=o+(s<<15|s>>>17),s=r+(o^(i|~t))+n[13]+0x4e0811a1|0,r=i+(s<<21|s>>>11),s=t+(i^(r|~o))+n[4]+0xf7537e82|0,t=r+(s<<6|s>>>26),s=o+(r^(t|~i))+n[11]+0xbd3af235|0,o=t+(s<<10|s>>>22),s=i+(t^(o|~r))+n[2]+0x2ad7d2bb|0,i=o+(s<<15|s>>>17),s=r+(o^(i|~t))+n[9]+0xeb86d391|0,e.g[0]=e.g[0]+t|0,e.g[1]=e.g[1]+(i+(s<<21|s>>>11))|0,e.g[2]=e.g[2]+i|0,e.g[3]=e.g[3]+o|0}function i(e,t){this.h=t;let r=[],n=!0;for(let i=e.length-1;i>=0;i--){let o=0|e[i];n&&o==t||(r[i]=o,n=!1)}this.g=r}r.prototype=t.prototype,e.F=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.D=function(e,r,n){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[r].apply(e,i)},e.prototype.u=function(){this.g[0]=0x67452301,this.g[1]=0xefcdab89,this.g[2]=0x98badcfe,this.g[3]=0x10325476,this.o=this.h=0},e.prototype.v=function(e,t){void 0===t&&(t=e.length);let r=t-this.blockSize,i=this.C,o=this.h,s=0;for(;s<t;){if(0==o)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"==typeof e){for(;s<t;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,i),o=0;break}}else for(;s<t;)if(i[o++]=e[s++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},e.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var r=e.length-8;r<e.length;++r)e[r]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,r=0;r<4;++r)for(let n=0;n<32;n+=8)e[t++]=this.g[r]>>>n&255;return e};var o,s={};function a(e){var t;return -128<=e&&e<128?(t=function(e){return new i([0|e],e<0?-1:0)},Object.prototype.hasOwnProperty.call(s,e)?s[e]:s[e]=t(e)):new i([0|e],e<0?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return u;if(e<0)return p(l(-e));let t=[],r=1;for(let n=0;e>=r;n++)t[n]=e/r|0,r*=0x100000000;return new i(t,0)}var u=a(0),c=a(1),h=a(0x1000000);function d(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function f(e){return -1==e.h}function p(e){let t=e.g.length,r=[];for(let n=0;n<t;n++)r[n]=~e.g[n];return new i(r,~e.h).add(c)}function g(e,t){return e.add(p(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function v(e,t){if(d(t))throw Error("division by zero");if(d(e))return new y(u,u);if(f(e))return t=v(p(e),t),new y(p(t.g),p(t.h));if(f(t))return t=v(e,p(t)),new y(p(t.g),t.h);if(e.g.length>30){if(f(e)||f(t))throw Error("slowDivide_ only works with positive integers.");for(var r=c,n=t;0>=n.l(e);)r=b(r),n=b(n);var i=w(r,1),o=w(n,1);for(n=w(n,2),r=w(r,2);!d(n);){var s=o.add(n);0>=s.l(e)&&(i=i.add(r),o=s),n=w(n,1),r=w(r,1)}return t=g(e,i.j(t)),new y(i,t)}for(i=u;e.l(t)>=0;){for(n=(n=Math.ceil(Math.log(r=Math.max(1,Math.floor(e.m()/t.m())))/Math.LN2))<=48?1:Math.pow(2,n-48),s=(o=l(r)).j(t);f(s)||s.l(e)>0;)r-=n,s=(o=l(r)).j(t);d(o)&&(o=c),i=i.add(o),e=g(e,s)}return new y(i,e)}function b(e){let t=e.g.length+1,r=[];for(let n=0;n<t;n++)r[n]=e.i(n)<<1|e.i(n-1)>>>31;return new i(r,e.h)}function w(e,t){let r=t>>5;t%=32;let n=e.g.length-r,o=[];for(let i=0;i<n;i++)o[i]=t>0?e.i(i+r)>>>t|e.i(i+r+1)<<32-t:e.i(i+r);return new i(o,e.h)}(o=i.prototype).m=function(){if(f(this))return-p(this).m();let e=0,t=1;for(let r=0;r<this.g.length;r++){let n=this.i(r);e+=(n>=0?n:0x100000000+n)*t,t*=0x100000000}return e},o.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(d(this))return"0";if(f(this))return"-"+p(this).toString(e);let t=l(Math.pow(e,6));var r=this;let n="";for(;;){let i=v(r,t).g,o=(((r=g(r,i.j(t))).g.length>0?r.g[0]:r.h)>>>0).toString(e);if(d(r=i))return o+n;for(;o.length<6;)o="0"+o;n=o+n}},o.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},o.l=function(e){return f(e=g(this,e))?-1:+!d(e)},o.abs=function(){return f(this)?p(this):this},o.add=function(e){let t=Math.max(this.g.length,e.g.length),r=[],n=0;for(let i=0;i<=t;i++){let t=n+(65535&this.i(i))+(65535&e.i(i)),o=(t>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);n=o>>>16,t&=65535,o&=65535,r[i]=o<<16|t}return new i(r,-0x80000000&r[r.length-1]?-1:0)},o.j=function(e){if(d(this)||d(e))return u;if(f(this))return f(e)?p(this).j(p(e)):p(p(this).j(e));if(f(e))return p(this.j(p(e)));if(0>this.l(h)&&0>e.l(h))return l(this.m()*e.m());let t=this.g.length+e.g.length,r=[];for(var n=0;n<2*t;n++)r[n]=0;for(n=0;n<this.g.length;n++)for(let t=0;t<e.g.length;t++){let i=this.i(n)>>>16,o=65535&this.i(n),s=e.i(t)>>>16,a=65535&e.i(t);r[2*n+2*t]+=o*a,m(r,2*n+2*t),r[2*n+2*t+1]+=i*a,m(r,2*n+2*t+1),r[2*n+2*t+1]+=o*s,m(r,2*n+2*t+1),r[2*n+2*t+2]+=i*s,m(r,2*n+2*t+2)}for(e=0;e<t;e++)r[e]=r[2*e+1]<<16|r[2*e];for(e=t;e<2*t;e++)r[e]=0;return new i(r,0)},o.B=function(e){return v(this,e).h},o.and=function(e){let t=Math.max(this.g.length,e.g.length),r=[];for(let n=0;n<t;n++)r[n]=this.i(n)&e.i(n);return new i(r,this.h&e.h)},o.or=function(e){let t=Math.max(this.g.length,e.g.length),r=[];for(let n=0;n<t;n++)r[n]=this.i(n)|e.i(n);return new i(r,this.h|e.h)},o.xor=function(e){let t=Math.max(this.g.length,e.g.length),r=[];for(let n=0;n<t;n++)r[n]=this.i(n)^e.i(n);return new i(r,this.h^e.h)},e.prototype.digest=e.prototype.A,e.prototype.reset=e.prototype.u,e.prototype.update=e.prototype.v,ek=ya.Md5=e,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.B,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=l,i.fromString=function e(t,r){if(0==t.length)throw Error("number format error: empty string");if((r=r||10)<2||36<r)throw Error("radix out of range: "+r);if("-"==t.charAt(0))return p(e(t.substring(1),r));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');let n=l(Math.pow(r,8)),i=u;for(let e=0;e<t.length;e+=8){var o=Math.min(8,t.length-e);let s=parseInt(t.substring(e,e+o),r);o<8?(o=l(Math.pow(r,o)),i=i.j(o).add(l(s))):i=(i=i.j(n)).add(l(s))}return i},eC=ya.Integer=i}).apply(void 0!==ys?ys:"u">typeof self?self:"u">typeof window?window:{});var yl="u">typeof globalThis?globalThis:"u">typeof window?window:e.g,yu={};(function(){var e,t,r=Object.defineProperty,n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof yl&&yl];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);function i(e,t){if(t)n:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in i))break n;i=i[s]}(t=t(o=i[e=e[e.length-1]]))!=o&&null!=t&&r(i,e,{configurable:!0,writable:!0,value:t})}}i("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(e){return e||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push([t,e[t]]);return r}});var o=o||{},s=this||self;function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function l(e,t,r){return e.call.apply(e.bind,arguments)}function u(e,t,r){return(u=l).apply(null,arguments)}function c(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function r(){}r.prototype=t.prototype,e.Z=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.Ob=function(e,r,n){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[r].apply(e,i)}}var d="u">typeof AsyncContext&&"function"==typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function f(e){let t=e.length;if(t>0){let r=Array(t);for(let n=0;n<t;n++)r[n]=e[n];return r}return[]}function p(e,t){for(let t=1;t<arguments.length;t++){let n=arguments[t];var r=typeof n;if("array"==(r="object"!=r?r:n?Array.isArray(n)?"array":r:"null")||"object"==r&&"number"==typeof n.length){r=e.length||0;let t=n.length||0;e.length=r+t;for(let i=0;i<t;i++)e[r+i]=n[i]}else e.push(n)}}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new m,e=>e.reset());class m{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let y,v=!1,b=new class{constructor(){this.h=this.g=null}add(e,t){let r=g.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},w=()=>{let e=Promise.resolve(void 0);y=()=>{e.then(x)}};function x(){let e;for(var t;e=null,b.g&&(e=b.g,b.g=b.g.next,b.g||(b.h=null),e.next=null),t=e;){try{t.h.call(t.g)}catch(e){!function(e){s.setTimeout(()=>{throw e},0)}(e)}g.j(t),g.h<100&&(g.h++,t.next=g.g,g.g=t)}v=!1}function S(){this.u=this.u,this.C=this.C}function C(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},C.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{let e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(e){}return e}();function _(e){return/^[\s\xa0]*$/.test(e)}function A(e,t){C.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}h(A,C),A.prototype.init=function(e,t){let r=this.type=e.type,n=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==r?t=e.fromElement:"mouseout"==r&&(t=e.toElement)),this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&A.Z.h.call(this)},A.prototype.h=function(){A.Z.h.call(this);let e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var T="closure_listenable_"+(1e6*Math.random()|0),E=0;function I(e,t,r,n,i){this.listener=e,this.proxy=null,this.src=t,this.type=r,this.capture=!!n,this.ha=i,this.key=++E,this.da=this.fa=!1}function D(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function F(e,t,r){for(let n in e)t.call(r,e[n],n,e)}function N(e){let t={};for(let r in e)t[r]=e[r];return t}let P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(e,t){let r,n;for(let t=1;t<arguments.length;t++){for(r in n=arguments[t])e[r]=n[r];for(let t=0;t<P.length;t++)r=P[t],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}}function O(e){this.src=e,this.g={},this.h=0}function M(e,t){let r=t.type;if(r in e.g){var n,i=e.g[r],o=Array.prototype.indexOf.call(i,t,void 0);(n=o>=0)&&Array.prototype.splice.call(i,o,1),n&&(D(t),0==e.g[r].length&&(delete e.g[r],e.h--))}}function B(e,t,r,n){for(let i=0;i<e.length;++i){let o=e[i];if(!o.da&&o.listener==t&&!!r==o.capture&&o.ha==n)return i}return -1}O.prototype.add=function(e,t,r,n,i){let o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);let s=B(e,t,n,i);return s>-1?(t=e[s],r||(t.fa=!1)):((t=new I(t,this.src,o,!!n,i)).fa=r,e.push(t)),t};var L="closure_lm_"+(1e6*Math.random()|0),j={};function z(e,t,r,n,i,o){if(!t)throw Error("Invalid event type");let s=a(i)?!!i.capture:!!i,l=W(e);if(l||(e[L]=l=new O(e)),(r=l.add(t,r,n,s,o)).proxy)return r;if(n=function e(t){return $.call(e.src,e.listener,t)},r.proxy=n,n.src=e,n.listener=r,e.addEventListener)k||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),n,i);else if(e.attachEvent)e.attachEvent(U(t.toString()),n);else if(e.addListener&&e.removeListener)e.addListener(n);else throw Error("addEventListener and attachEvent are unavailable.");return r}function V(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[T])M(t.i,e);else{var r=e.type,n=e.proxy;t.removeEventListener?t.removeEventListener(r,n,e.capture):t.detachEvent?t.detachEvent(U(r),n):t.addListener&&t.removeListener&&t.removeListener(n),(r=W(t))?(M(r,e),0==r.h&&(r.src=null,t[L]=null)):D(e)}}}function U(e){return e in j?j[e]:j[e]="on"+e}function $(e,t){if(e.da)e=!0;else{t=new A(t,this);let r=e.listener,n=e.ha||e.src;e.fa&&V(e),e=r.call(n,t)}return e}function W(e){return(e=e[L])instanceof O?e:null}var q="__closure_events_fn_"+(1e9*Math.random()>>>0);function K(e){return"function"==typeof e?e:(e[q]||(e[q]=function(t){return e.handleEvent(t)}),e[q])}function G(){S.call(this),this.i=new O(this),this.M=this,this.G=null}function H(e,t){let r,n;var i,o=e.G;if(o)for(i=[];o;o=o.G)i.push(o);if(e=e.M,o=t.type||t,"string"==typeof t)t=new C(t,e);else if(t instanceof C)t.target=t.target||e;else{var s=t;R(t=new C(o,e),s)}if(s=!0,i)for(n=i.length-1;n>=0;n--)s=Q(r=t.g=i[n],o,!0,t)&&s;if(s=Q(r=t.g=e,o,!0,t)&&s,s=Q(r,o,!1,t)&&s,i)for(n=0;n<i.length;n++)s=Q(r=t.g=i[n],o,!1,t)&&s}function Q(e,t,r,n){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let o=0;o<t.length;++o){let s=t[o];if(s&&!s.da&&s.capture==r){let t=s.listener,r=s.ha||s.src;s.fa&&M(e.i,s),i=!1!==t.call(r,n)&&i}}return i&&!n.defaultPrevented}h(G,S),G.prototype[T]=!0,G.prototype.removeEventListener=function(e,t,r,n){!function e(t,r,n,i,o){if(Array.isArray(r))for(var s=0;s<r.length;s++)e(t,r[s],n,i,o);else(i=a(i)?!!i.capture:!!i,n=K(n),t&&t[T])?(t=t.i,(s=String(r).toString())in t.g&&(n=B(r=t.g[s],n,i,o))>-1&&(D(r[n]),Array.prototype.splice.call(r,n,1),0==r.length&&(delete t.g[s],t.h--))):t&&(t=W(t))&&(r=t.g[r.toString()],t=-1,r&&(t=B(r,n,i,o)),(n=t>-1?r[t]:null)&&V(n))}(this,e,t,r,n)},G.prototype.N=function(){if(G.Z.N.call(this),this.i){var e=this.i;for(let t in e.g){let r=e.g[t];for(let e=0;e<r.length;e++)D(r[e]);delete e.g[t],e.h--}}this.G=null},G.prototype.J=function(e,t,r,n){return this.i.add(String(e),t,!1,r,n)},G.prototype.K=function(e,t,r,n){return this.i.add(String(e),t,!0,r,n)};class X extends S{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=function(e,t){if("function"!=typeof e)if(e&&"function"==typeof e.handleEvent)e=u(e.handleEvent,e);else throw Error("Invalid listener argument");return Number(t)>0x7fffffff?-1:s.setTimeout(e,t||0)}(()=>{t.g=null,t.i&&(t.i=!1,e(t))},t.l);let r=t.h;t.h=null,t.m.apply(null,r)}(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function J(e){S.call(this),this.h=e,this.g={}}h(J,S);var Y=[];function Z(e){F(e.g,function(e,t){this.g.hasOwnProperty(t)&&V(e)},e),e.g={}}J.prototype.N=function(){J.Z.N.call(this),Z(this)},J.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ee=s.JSON.stringify,et=s.JSON.parse,er=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function en(){}function ei(){}var eo={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function es(){C.call(this,"d")}function ea(){C.call(this,"c")}h(es,C),h(ea,C);var el={},eu=null;function ec(){return eu=eu||new G}function eh(e){C.call(this,el.Ia,e)}function ed(e){let t=ec();H(t,new eh(t))}function ef(e,t){C.call(this,el.STAT_EVENT,e),this.stat=t}function ep(e){let t=ec();H(t,new ef(t,e))}function eg(e,t){C.call(this,el.Ja,e),this.size=t}function em(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function ey(){this.g=!0}function ev(e,t,r,n){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{let o=JSON.parse(t);if(o){for(e=0;e<o.length;e++)if(Array.isArray(o[e])){var r=o[e];if(!(r.length<2)){var n=r[1];if(Array.isArray(n)&&!(n.length<1)){var i=n[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<n.length;e++)n[e]=""}}}}return ee(o)}catch(e){return t}}(e,r)+(n?" "+n:"")})}el.Ia="serverreachability",h(eh,C),el.STAT_EVENT="statevent",h(ef,C),el.Ja="timingevent",h(eg,C),ey.prototype.ua=function(){this.g=!1},ey.prototype.info=function(){};var eb={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ew={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function ex(){}function eS(e){return encodeURIComponent(String(e))}function eC(e,t,r,n){this.j=e,this.i=t,this.l=r,this.S=n||1,this.V=new J(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ek}function ek(){this.i=null,this.g="",this.h=!1}h(ex,en),ex.prototype.g=function(){return new XMLHttpRequest},e=new ex;var eP={},eR={};function eO(e,t,r){e.M=1,e.A=e4(e0(t)),e.u=r,e.R=!0,eM(e,null)}function eM(e,t){e.F=Date.now(),eL(e),e.B=e0(e.A);var r,n,i,o,s,l,c=e.B,h=e.S;Array.isArray(h)||(h=[String(h)]),tu(c.i,"t",h),e.C=0,c=e.j.L,e.h=new ek,e.g=tQ(e.j,c?t:null,!e.u),e.P>0&&(e.O=new X(u(e.Y,e,e.g),e.P)),t=e.V,c=e.g,h=e.ba;var d="readystatechange";Array.isArray(d)||(d&&(Y[0]=d.toString()),d=Y);for(let e=0;e<d.length;e++){let r=function e(t,r,n,i,o){if(i&&i.once)return function e(t,r,n,i,o){if(Array.isArray(r)){for(let s=0;s<r.length;s++)e(t,r[s],n,i,o);return null}return n=K(n),t&&t[T]?t.K(r,n,a(i)?!!i.capture:!!i,o):z(t,r,n,!0,i,o)}(t,r,n,i,o);if(Array.isArray(r)){for(let s=0;s<r.length;s++)e(t,r[s],n,i,o);return null}return n=K(n),t&&t[T]?t.J(r,n,a(i)?!!i.capture:!!i,o):z(t,r,n,!1,i,o)}(c,d[e],h||t.handleEvent,!1,t.h||t);if(!r)break;t.g[r.key]=r}t=e.J?N(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ed(),r=e.i,n=e.v,i=e.B,o=e.l,s=e.S,l=e.u,r.info(function(){if(r.g)if(l){var e="",t=l.split("&");for(let r=0;r<t.length;r++){var a=t[r].split("=");if(a.length>1){let t=a[0];a=a[1];let r=t.split("_");e=r.length>=2&&"type"==r[1]?e+(t+"=")+a+"&":e+(t+"=redacted&")}}}else e=null;else e=l;return"XMLHTTP REQ ("+o+") [attempt "+s+"]: "+n+"\n"+i+"\n"+e})}function eB(e){return!!e.g&&"GET"==e.v&&2!=e.M&&e.j.Aa}function eL(e){e.T=Date.now()+e.H,ej(e,e.H)}function ej(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=em(u(e.aa,e),t)}function ez(e){e.D&&(s.clearTimeout(e.D),e.D=null)}function eV(e){0==e.j.I||e.K||tW(e.j,e)}function eU(e){ez(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,Z(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function e$(e,t){try{var r=e.j;if(0!=r.I&&(r.g==e||eH(r.h,e))){if(!e.L&&eH(r.h,e)&&3==r.I){try{var n=r.Ba.g.parse(t)}catch(e){n=null}if(Array.isArray(n)&&3==n.length){var i=n;if(0==i[0]){n:if(!r.v){if(r.g)if(r.g.F+3e3<e.F)t$(r),tP(r);else break n;tz(r),ep(18)}}else r.xa=i[1],0<r.xa-r.K&&i[2]<37500&&r.F&&0==r.A&&!r.C&&(r.C=em(u(r.Va,r),6e3));1>=eG(r.h)&&r.ta&&(r.ta=void 0)}else tK(r,11)}else if((e.L||r.g==e)&&t$(r),!_(t))for(i=r.Ba.g.parse(t),t=0;t<i.length;t++){let a=i[t],l=a[0];if(!(l<=r.K))if(r.K=l,a=a[1],2==r.I)if("c"==a[0]){r.M=a[1],r.ba=a[2];let t=a[3];null!=t&&(r.ka=t,r.j.info("VER="+r.ka));let i=a[4];null!=i&&(r.za=i,r.j.info("SVER="+r.za));let l=a[5];null!=l&&"number"==typeof l&&l>0&&(r.O=n=1.5*l,r.j.info("backChannelRequestTimeoutMs_="+n)),n=r;let u=e.g;if(u){let e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=n.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(eQ(o,o.h),o.h=null))}if(n.G){let e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(n.wa=e,e3(n.J,n.G,e))}}if(r.I=3,r.l&&r.l.ra(),r.aa&&(r.T=Date.now()-e.F,r.j.info("Handshake RTT: "+r.T+"ms")),(n=r).na=tH(n,n.L?n.ba:null,n.W),e.L){eX(n.h,e);var s=n.O;s&&(e.H=s),e.D&&(ez(e),eL(e)),n.g=e}else tj(n);r.i.length>0&&tO(r)}else"stop"!=a[0]&&"close"!=a[0]||tK(r,7);else 3==r.I&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?tK(r,7):tN(r):"noop"!=a[0]&&r.l&&r.l.qa(a),r.A=0)}}ed(4)}catch(e){}}eC.prototype.ba=function(e){e=e.target;let t=this.O;t&&3==tE(e)?t.j():this.Y(e)},eC.prototype.Y=function(e){try{if(e==this.g)n:{let f=tE(this.g),p=this.g.ya(),g=this.g.ca();if(!(f<3)&&(3!=f||this.g&&(this.h.h||this.g.la()||tI(this.g)))){this.K||4!=f||7==p||(8==p||g<=0?ed(3):ed(2)),ez(this);var t=this.g.ca();this.X=t;var r=function(e){if(!eB(e))return e.g.la();let t=tI(e.g);if(""===t)return"";let r="",n=t.length,i=4==tE(e.g);if(!e.h.i){if("u"<typeof TextDecoder)return eU(e),eV(e),"";e.h.i=new s.TextDecoder}for(let o=0;o<n;o++)e.h.h=!0,r+=e.h.i.decode(t[o],{stream:!(i&&o==n-1)});return t.length=0,e.h.g+=r,e.C=0,e.h.g}(this);if(this.o=200==t,n=this.i,i=this.v,o=this.B,a=this.l,l=this.S,n.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+l+"]: "+i+"\n"+o+"\n"+f+" "+t}),this.o){if(this.U&&!this.L){i:{if(this.g){var n,i,o,a,l,u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(u)){var h=u;break i}}h=null}if(e=h)ev(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,e$(this,e);else{this.o=!1,this.m=3,ep(12),eU(this),eV(this);break n}}if(this.R){let t;for(e=!0;!this.K&&this.C<r.length;)if((t=function(e,t){var r=e.C,n=t.indexOf("\n",r);return -1==n?eR:isNaN(r=Number(t.substring(r,n)))?eP:(n+=1)+r>t.length?eR:(t=t.slice(n,n+r),e.C=n+r,t)}(this,r))==eR){4==f&&(this.m=4,ep(14),e=!1),ev(this.i,this.l,null,"[Incomplete Response]");break}else if(t==eP){this.m=4,ep(15),ev(this.i,this.l,r,"[Invalid Chunk]"),e=!1;break}else ev(this.i,this.l,t,null),e$(this,t);if(eB(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=f||0!=r.length||this.h.h||(this.m=1,ep(16),e=!1),this.o=this.o&&e,e){if(r.length>0&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.aa&&!d.P&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+r.length),tV(d),d.P=!0,ep(11))}}else ev(this.i,this.l,r,"[Invalid Chunked Response]"),eU(this),eV(this)}else ev(this.i,this.l,r,null),e$(this,r);4==f&&eU(this),this.o&&!this.K&&(4==f?tW(this.j,this):(this.o=!1,eL(this)))}else(function(e){let t={};e=(e.g&&tE(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let n=0;n<e.length;n++){if(_(e[n]))continue;var r=function(e){var t=1;e=e.split(":");let r=[];for(;t>0&&e.length;)r.push(e.shift()),t--;return e.length&&r.push(e.join(":")),r}(e[n]);let i=r[0];if("string"!=typeof(r=r[1]))continue;r=r.trim();let o=t[i]||[];t[i]=o,o.push(r)}var n=function(e){return e.join(", ")};for(let e in t)n.call(void 0,t[e],e,t)})(this.g),400==t&&r.indexOf("Unknown SID")>0?(this.m=3,ep(12)):(this.m=0,ep(13)),eU(this),eV(this)}}}catch(e){}finally{}},eC.prototype.cancel=function(){this.K=!0,eU(this)},eC.prototype.aa=function(){var e,t;this.D=null;let r=Date.now();r-this.T>=0?(e=this.i,t=this.B,e.info(function(){return"TIMEOUT: "+t}),2!=this.M&&(ed(),ep(17)),eU(this),this.m=2,eV(this)):ej(this,this.T-r)};var eW=class{constructor(e,t){this.g=e,this.map=t}};function eq(e){this.l=e||10,e=s.PerformanceNavigationTiming?(e=s.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function eK(e){return!!e.h||!!e.g&&e.g.size>=e.j}function eG(e){return e.h?1:e.g?e.g.size:0}function eH(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function eQ(e,t){e.g?e.g.add(t):e.h=t}function eX(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function eJ(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(let r of e.g.values())t=t.concat(r.G);return t}return f(e.i)}eq.prototype.cancel=function(){if(this.i=eJ(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(let e of this.g.values())e.cancel();this.g.clear()}};var eY=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eZ(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof eZ?(this.l=e.l,e1(this,e.j),this.o=e.o,this.g=e.g,e2(this,e.u),this.h=e.h,e5(this,tc(e.i)),this.m=e.m):e&&(t=String(e).match(eY))?(this.l=!1,e1(this,t[1]||"",!0),this.o=e6(t[2]||""),this.g=e6(t[3]||"",!0),e2(this,t[4]),this.h=e6(t[5]||"",!0),e5(this,t[6]||"",!0),this.m=e6(t[7]||"")):(this.l=!1,this.i=new ti(null,this.l))}function e0(e){return new eZ(e)}function e1(e,t,r){e.j=r?e6(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function e2(e,t){if(t){if(isNaN(t=Number(t))||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function e5(e,t,r){var n,i;t instanceof ti?(e.i=t,n=e.i,(i=e.l)&&!n.j&&(to(n),n.i=null,n.g.forEach(function(e,t){let r=t.toLowerCase();t!=r&&(ts(this,t),tu(this,r,e))},n)),n.j=i):(r||(t=e8(t,tr)),e.i=new ti(t,e.l))}function e3(e,t,r){e.i.set(t,r)}function e4(e){return e3(e,"zx",Math.floor(0x80000000*Math.random()).toString(36)+Math.abs(Math.floor(0x80000000*Math.random())^Date.now()).toString(36)),e}function e6(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function e8(e,t,r){return"string"==typeof e?(e=encodeURI(e).replace(t,e9),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function e9(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}eZ.prototype.toString=function(){let e=[];var t=this.j;t&&e.push(e8(t,e7,!0),":");var r=this.g;return(r||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(e8(t,e7,!0),"@"),e.push(eS(r).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.u)&&e.push(":",String(r))),(r=this.h)&&(this.g&&"/"!=r.charAt(0)&&e.push("/"),e.push(e8(r,"/"==r.charAt(0)?tt:te,!0))),(r=this.i.toString())&&e.push("?",r),(r=this.m)&&e.push("#",e8(r,tn)),e.join("")},eZ.prototype.resolve=function(e){let t=e0(this),r=!!e.j;r?e1(t,e.j):r=!!e.o,r?t.o=e.o:r=!!e.g,r?t.g=e.g:r=null!=e.u;var n=e.h;if(r)e2(t,e.u);else if(r=!!e.h){if("/"!=n.charAt(0))if(this.g&&!this.h)n="/"+n;else{var i=t.h.lastIndexOf("/");-1!=i&&(n=t.h.slice(0,i+1)+n)}if(".."==(i=n)||"."==i)n="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){n=0==i.lastIndexOf("/",0),i=i.split("/");let e=[];for(let t=0;t<i.length;){let r=i[t++];"."==r?n&&t==i.length&&e.push(""):".."==r?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),n&&t==i.length&&e.push("")):(e.push(r),n=!0)}n=e.join("/")}else n=i}return r?t.h=n:r=""!==e.i.toString(),r?e5(t,tc(e.i)):r=!!e.m,r&&(t.m=e.m),t};var e7=/[#\/\?@]/g,te=/[#\?:]/g,tt=/[#\?]/g,tr=/[#\?@]/g,tn=/#/g;function ti(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function to(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let r=0;r<e.length;r++){let n=e[r].indexOf("="),i,o=null;n>=0?(i=e[r].substring(0,n),o=e[r].substring(n+1)):i=e[r],t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,function(t,r){e.add(decodeURIComponent(t.replace(/\+/g," ")),r)}))}function ts(e,t){to(e),t=th(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ta(e,t){return to(e),t=th(e,t),e.g.has(t)}function tl(e,t){to(e);let r=[];if("string"==typeof t)ta(e,t)&&(r=r.concat(e.g.get(th(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)r=r.concat(e[t]);return r}function tu(e,t,r){ts(e,t),r.length>0&&(e.i=null,e.g.set(th(e,t),f(r)),e.h+=r.length)}function tc(e){let t=new ti;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function th(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function td(e,t,r,n,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),n(r)}catch(e){}}function tf(){this.g=new er}function tp(e){this.i=e.Sb||null,this.h=e.ab||!1}function tg(e,t){G.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function tm(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function ty(e){e.readyState=4,e.l=null,e.j=null,e.B=null,tv(e)}function tv(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function tb(e){let t="";return F(e,function(e,r){t+=r,t+=":",t+=e,t+="\r\n"}),t}function tw(e,t,r){n:{for(n in r){var n=!1;break n}n=!0}n||(r=tb(r),"string"==typeof e?null!=r&&eS(r):e3(e,t,r))}function tx(e){G.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(t=ti.prototype).add=function(e,t){to(this),this.i=null,e=th(this,e);let r=this.g.get(e);return r||this.g.set(e,r=[]),r.push(t),this.h+=1,this},t.forEach=function(e,t){to(this),this.g.forEach(function(r,n){r.forEach(function(r){e.call(t,r,n,this)},this)},this)},t.set=function(e,t){return to(this),this.i=null,ta(this,e=th(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},t.get=function(e,t){return e&&(e=tl(this,e)).length>0?String(e[0]):t},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],t=Array.from(this.g.keys());for(let n=0;n<t.length;n++){var r=t[n];let i=eS(r);r=tl(this,r);for(let t=0;t<r.length;t++){let n=i;""!==r[t]&&(n+="="+eS(r[t])),e.push(n)}}return this.i=e.join("&")},h(tp,en),tp.prototype.g=function(){return new tg(this.i,this.h)},h(tg,G),(t=tg.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,tv(this)},t.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||s).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,ty(this)),this.readyState=0},t.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,tv(this)),this.g&&(this.readyState=3,tv(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(void 0!==s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;tm(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},t.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ty(this):tv(this),3==this.readyState&&tm(this)}},t.Oa=function(e){this.g&&(this.response=this.responseText=e,ty(this))},t.Na=function(e){this.g&&(this.response=e,ty(this))},t.ga=function(){this.g&&ty(this)},t.setRequestHeader=function(e,t){this.A.append(e,t)},t.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],t=this.h.entries();for(var r=t.next();!r.done;)e.push((r=r.value)[0]+": "+r[1]),r=t.next();return e.join("\r\n")},Object.defineProperty(tg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(tx,G);var tS=/^https?$/i,tC=["POST","PUT"];function tk(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,t_(e),tT(e)}function t_(e){e.A||(e.A=!0,H(e,"complete"),H(e,"error"))}function tA(e){if(e.h&&void 0!==o){if(e.v&&4==tE(e))setTimeout(e.Ca.bind(e),0);else if(H(e,"readystatechange"),4==tE(e)){e.h=!1;try{let o=e.ca();switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t,r,n=!0;break;default:n=!1}if(!(t=n)){if(r=0===o){let t=String(e.D).match(eY)[1]||null;!t&&s.self&&s.self.location&&(t=s.self.location.protocol.slice(0,-1)),r=!tS.test(t?t.toLowerCase():"")}t=r}if(t)H(e,"complete"),H(e,"success");else{e.o=6;try{var i=tE(e)>2?e.g.statusText:""}catch(e){i=""}e.l=i+" ["+e.ca()+"]",t_(e)}}finally{tT(e)}}}}function tT(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);let r=e.g;e.g=null,t||H(e,"ready");try{r.onreadystatechange=null}catch(e){}}}function tE(e){return e.g?e.g.readyState:0}function tI(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function tD(e,t,r){return r&&r.internalChannelParams&&r.internalChannelParams[e]||t}function tF(e){this.za=0,this.i=[],this.j=new ey,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=tD("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=tD("baseRetryDelayMs",5e3,e),this.Za=tD("retryDelaySeedMs",1e4,e),this.Ta=tD("forwardChannelMaxRetries",2,e),this.va=tD("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new eq(e&&e.concurrentRequestLimit),this.Ba=new tf,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function tN(e){if(tR(e),3==e.I){var t=e.V++,r=e0(e.J);if(e3(r,"SID",e.M),e3(r,"RID",t),e3(r,"TYPE","terminate"),tB(e,r),(t=new eC(e,e.j,t)).M=2,t.A=e4(e0(r)),r=!1,s.navigator&&s.navigator.sendBeacon)try{r=s.navigator.sendBeacon(t.A.toString(),"")}catch(e){}!r&&s.Image&&((new Image).src=t.A,r=!0),r||(t.g=tQ(t.j,null),t.g.ea(t.A)),t.F=Date.now(),eL(t)}tG(e)}function tP(e){e.g&&(tV(e),e.g.cancel(),e.g=null)}function tR(e){tP(e),e.v&&(s.clearTimeout(e.v),e.v=null),t$(e),e.h.cancel(),e.m&&("number"==typeof e.m&&s.clearTimeout(e.m),e.m=null)}function tO(e){if(!eK(e.h)&&!e.m){e.m=!0;var t=e.Ea;y||w(),v||(y(),v=!0),b.add(t,e),e.D=0}}function tM(e,t){var r;r=t?t.l:e.V++;let n=e0(e.J);e3(n,"SID",e.M),e3(n,"RID",r),e3(n,"AID",e.K),tB(e,n),e.u&&e.o&&tw(n,e.u,e.o),r=new eC(e,e.j,r,e.D+1),null===e.u&&(r.J=e.o),t&&(e.i=t.G.concat(e.i)),t=tL(e,r,1e3),r.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),eQ(e.h,r),eO(r,n,t)}function tB(e,t){e.H&&F(e.H,function(e,r){e3(t,r,e)}),e.l&&F({},function(e,r){e3(t,r,e)})}function tL(e,t,r){r=Math.min(e.i.length,r);let n=e.l?u(e.l.Ka,e.l,e):null;n:{var i=e.i;let t=-1;for(;;){let e=["count="+r];-1==t?r>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let u=0;u<r;u++){var o=i[u].g;let r=i[u].map;if((o-=t)<0)t=Math.max(0,i[u].g-100),l=!1;else try{o="req"+o+"_";try{var s=r instanceof Map?r:Object.entries(r);for(let[t,r]of s){let n=r;a(r)&&(n=ee(r)),e.push(o+t+"="+encodeURIComponent(n))}}catch(t){throw e.push(o+"type="+encodeURIComponent("_badmap")),t}}catch(e){n&&n(r)}}if(l){s=e.join("&");break n}}s=void 0}return t.G=e=e.i.splice(0,r),s}function tj(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;y||w(),v||(y(),v=!0),b.add(t,e),e.A=0}}function tz(e){return!e.g&&!e.v&&!(e.A>=3)&&(e.Y++,e.v=em(u(e.Da,e),tq(e,e.A)),e.A++,!0)}function tV(e){null!=e.B&&(s.clearTimeout(e.B),e.B=null)}function tU(e){e.g=new eC(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=e0(e.na);e3(t,"RID","rpc"),e3(t,"SID",e.M),e3(t,"AID",e.K),e3(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&e3(t,"TO",e.ia),e3(t,"TYPE","xmlhttp"),tB(e,t),e.u&&e.o&&tw(t,e.u,e.o),e.O&&(e.g.H=e.O);var r=e.g;e=e.ba,r.M=1,r.A=e4(e0(t)),r.u=null,r.R=!0,eM(r,e)}function t$(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function tW(e,t){var r,n=null;if(e.g==t){t$(e),tV(e),e.g=null;var i=2}else{if(!eH(e.h,t))return;n=t.G,eX(e.h,t),i=1}if(0!=e.I){if(t.o)if(1==i){n=t.u?t.u.length:0,t=Date.now()-t.F;var o=e.D;H(i=ec(),new eg(i,n)),tO(e)}else tj(e);else if(3==(o=t.m)||0==o&&t.X>0||!(1==i&&(r=t,!(eG(e.h)>=e.h.j-!!e.m)&&(e.m?(e.i=r.G.concat(e.i),!0):1!=e.I&&2!=e.I&&!(e.D>=(e.Sa?0:e.Ta))&&(e.m=em(u(e.Ea,e,r),tq(e,e.D)),e.D++,!0)))||2==i&&tz(e)))switch(n&&n.length>0&&((t=e.h).i=t.i.concat(n)),o){case 1:tK(e,5);break;case 4:tK(e,10);break;case 3:tK(e,6);break;default:tK(e,2)}}}function tq(e,t){let r=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(r*=2),r*t}function tK(e,t){if(e.j.info("Error code "+t),2==t){let t,o,a;var r,n=u(e.bb,e),i=e.Ua;let l=!i;i=new eZ(i||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||e1(i,"https"),e4(i),l?function(e,t){let r=new ey;if(s.Image){let n=new Image;n.onload=c(td,r,"TestLoadImage: loaded",!0,t,n),n.onerror=c(td,r,"TestLoadImage: error",!1,t,n),n.onabort=c(td,r,"TestLoadImage: abort",!1,t,n),n.ontimeout=c(td,r,"TestLoadImage: timeout",!1,t,n),s.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=e}else t(!1)}(i.toString(),n):(r=i.toString(),t=new ey,o=new AbortController,a=setTimeout(()=>{o.abort(),td(t,"TestPingServer: timeout",!1,n)},1e4),fetch(r,{signal:o.signal}).then(e=>{clearTimeout(a),e.ok?td(t,"TestPingServer: ok",!0,n):td(t,"TestPingServer: server error",!1,n)}).catch(()=>{clearTimeout(a),td(t,"TestPingServer: error",!1,n)}))}else ep(2);e.I=0,e.l&&e.l.pa(t),tG(e),tR(e)}function tG(e){if(e.I=0,e.ja=[],e.l){let t=eJ(e.h);(0!=t.length||0!=e.i.length)&&(p(e.ja,t),p(e.ja,e.i),e.h.i.length=0,f(e.i),e.i.length=0),e.l.oa()}}function tH(e,t,r){var n=r instanceof eZ?e0(r):new eZ(r);if(""!=n.g)t&&(n.g=t+"."+n.g),e2(n,n.u);else{var i=s.location;n=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;let e=new eZ(null);n&&e1(e,n),t&&(e.g=t),i&&e2(e,i),r&&(e.h=r),n=e}return r=e.G,t=e.wa,r&&t&&e3(n,r,t),e3(n,"VER",e.ka),tB(e,n),n}function tQ(e,t,r){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new tx(e.Aa&&!e.ma?new tp({ab:r}):e.ma)).Fa(e.L),t}function tX(){}function tJ(){}function tY(e,t){G.call(this),this.g=new tF(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!_(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!_(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new t1(this)}function tZ(e){es.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){n:{for(let r in t){e=r;break n}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function t0(){ea.call(this),this.status=1}function t1(e){this.g=e}(t=tx.prototype).Fa=function(e){this.H=e},t.ea=function(t,r,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);r=r?r.toUpperCase():"GET",this.D=t,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():e.g(),this.g.onreadystatechange=d(u(this.Ca,this));try{this.B=!0,this.g.open(r,String(t),!0),this.B=!1}catch(e){tk(this,e);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var o in i)n.set(o,i[o]);else if("function"==typeof i.keys&&"function"==typeof i.get)for(let e of i.keys())n.set(e,i.get(e));else throw Error("Unknown input type for opt_headers: "+String(i));for(let[e,a]of(i=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),o=s.FormData&&t instanceof s.FormData,!(Array.prototype.indexOf.call(tC,r,void 0)>=0)||i||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),n))this.g.setRequestHeader(e,a);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(t),this.v=!1}catch(e){tk(this,e)}},t.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,H(this,"complete"),H(this,"abort"),tT(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tT(this,!0)),tx.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?tA(this):this.Xa())},t.Xa=function(){tA(this)},t.isActive=function(){return!!this.g},t.ca=function(){try{return tE(this)>2?this.g.status:-1}catch(e){return -1}},t.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},t.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),et(t)}},t.ya=function(){return this.o},t.Ha=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=tF.prototype).ka=8,t.I=1,t.connect=function(e,t,r,n){ep(0),this.W=e,this.H=t||{},r&&void 0!==n&&(this.H.OSID=r,this.H.OAID=n),this.F=this.X,this.J=tH(this,null,this.W),tO(this)},t.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;let i=new eC(this,this.j,e),o=this.o;if(this.U&&(o?R(o=N(o),this.U):o=this.U),null!==this.u||this.R||(i.J=o,o=null),this.S)n:{for(var t=0,r=0;r<this.i.length;r++){i:{var n=this.i[r];if("__data__"in n.map&&"string"==typeof(n=n.map.__data__)){n=n.length;break i}n=void 0}if(void 0===n)break;if((t+=n)>4096){t=r;break n}if(4096===t||r===this.i.length-1){t=r+1;break n}}t=1e3}else t=1e3;t=tL(this,i,t),e3(r=e0(this.J),"RID",e),e3(r,"CVER",22),this.G&&e3(r,"X-HTTP-Session-Id",this.G),tB(this,r),o&&(this.R?t="headers="+eS(tb(o))+"&"+t:this.u&&tw(r,this.u,o)),eQ(this.h,i),this.Ra&&e3(r,"TYPE","init"),this.S?(e3(r,"$req",t),e3(r,"SID","null"),i.U=!0,eO(i,r,null)):eO(i,r,t),this.I=2}}else 3==this.I&&(e?tM(this,e):0==this.i.length||eK(this.h)||tM(this))},t.Da=function(){if(this.v=null,tU(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=em(u(this.Wa,this),e)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ep(10),tP(this),tU(this))},t.Va=function(){null!=this.C&&(this.C=null,tP(this),tz(this),ep(19))},t.bb=function(e){e?(this.j.info("Successfully pinged google.com"),ep(2)):(this.j.info("Failed to ping google.com"),ep(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=tX.prototype).ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){},tJ.prototype.g=function(e,t){return new tY(e,t)},h(tY,G),tY.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tY.prototype.close=function(){tN(this.g)},tY.prototype.o=function(e){var t=this.g;if("string"==typeof e){var r={};r.__data__=e,e=r}else this.v&&((r={}).__data__=ee(e),e=r);t.i.push(new eW(t.Ya++,e)),3==t.I&&tO(t)},tY.prototype.N=function(){this.g.l=null,delete this.j,tN(this.g),delete this.g,tY.Z.N.call(this)},h(tZ,es),h(t0,ea),h(t1,tX),t1.prototype.ra=function(){H(this.g,"a")},t1.prototype.qa=function(e){H(this.g,new tZ(e))},t1.prototype.pa=function(e){H(this.g,new t0)},t1.prototype.oa=function(){H(this.g,"b")},tJ.prototype.createWebChannel=tJ.prototype.g,tY.prototype.send=tY.prototype.o,tY.prototype.open=tY.prototype.m,tY.prototype.close=tY.prototype.close,eN=yu.createWebChannelTransport=function(){return new tJ},eF=yu.getStatEventTarget=function(){return ec()},eD=yu.Event=el,eI=yu.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},eb.NO_ERROR=0,eb.TIMEOUT=8,eb.HTTP_ERROR=6,eE=yu.ErrorCode=eb,ew.COMPLETE="complete",eT=yu.EventType=ew,ei.EventType=eo,eo.OPEN="a",eo.CLOSE="b",eo.ERROR="c",eo.MESSAGE="d",G.prototype.listen=G.prototype.J,eA=yu.WebChannel=ei,yu.FetchXmlHttpFactory=tp,tx.prototype.listenOnce=tx.prototype.K,tx.prototype.getLastError=tx.prototype.Ha,tx.prototype.getLastErrorCode=tx.prototype.ya,tx.prototype.getStatus=tx.prototype.ca,tx.prototype.getResponseJson=tx.prototype.La,tx.prototype.getResponseText=tx.prototype.la,tx.prototype.send=tx.prototype.ea,tx.prototype.setWithCredentials=tx.prototype.Fa,e_=yu.XhrIo=tx}).apply(void 0!==yl?yl:"u">typeof self?self:"u">typeof window?window:{});class yc{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yc.UNAUTHENTICATED=new yc(null),yc.GOOGLE_CREDENTIALS=new yc("google-credentials-uid"),yc.FIRST_PARTY=new yc("first-party-uid"),yc.MOCK_USER=new yc("mock-user");let yh="12.8.0",yd=new mg("@firebase/firestore");function yf(){return yd.logLevel}function yp(e,...t){if(yd.logLevel<=eS.DEBUG){let r=t.map(yy);yd.debug(`Firestore (${yh}): ${e}`,...r)}}function yg(e,...t){if(yd.logLevel<=eS.ERROR){let r=t.map(yy);yd.error(`Firestore (${yh}): ${e}`,...r)}}function ym(e,...t){if(yd.logLevel<=eS.WARN){let r=t.map(yy);yd.warn(`Firestore (${yh}): ${e}`,...r)}}function yy(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function yv(e,t,r){let n="Unexpected state";"string"==typeof t?n=t:r=t,yb(e,n,r)}function yb(e,t,r){let n=`FIRESTORE (${yh}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==r)try{n+=" CONTEXT: "+JSON.stringify(r)}catch(e){n+=" CONTEXT: "+r}throw yg(n),Error(n)}function yw(e,t,r,n){let i="Unexpected state";"string"==typeof r?i=r:n=r,e||yb(t,i,n)}let yx={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yS extends me{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yC{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class yk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class y_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yc.UNAUTHENTICATED))}shutdown(){}}class yA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class yT{constructor(e){this.t=e,this.currentUser=yc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){yw(void 0===this.o,42304);let r=this.i,n=e=>this.i!==r?(r=this.i,t(e)):Promise.resolve(),i=new yC;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new yC,e.enqueueRetryable(()=>n(this.currentUser))};let o=()=>{let t=i;e.enqueueRetryable(async()=>{await t.promise,await n(this.currentUser)})},s=e=>{yp("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?s(e):(yp("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new yC)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(yp("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(yw("string"==typeof t.accessToken,31837,{l:t}),new yk(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return yw(null===e||"string"==typeof e,2055,{h:e}),new yc(e)}}class yE{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=yc.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);let e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class yI{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new yE(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(yc.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yF{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mW(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){yw(void 0===this.o,3512);let r=e=>{null!=e.error&&yp("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let r=e.token!==this.m;return this.m=e.token,yp("FirebaseAppCheckTokenProvider",`Received ${r?"new":"existing"} token.`),r?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>r(t))};let n=e=>{yp("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>n(e)),setTimeout(()=>{if(!this.appCheck){let e=this.V.getImmediate({optional:!0});e?n(e):yp("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new yD(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(yw("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new yD(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class yN{static newId(){let e=62*Math.floor(256/62),t="";for(;t.length<20;){let r=function(e){let t="u">typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(40);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(r);else for(let e=0;e<40;e++)r[e]=Math.floor(256*Math.random());return r}(0);for(let n=0;n<r.length;++n)t.length<20&&r[n]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[n]%62))}return t}}function yP(e,t){return e<t?-1:+(e>t)}function yR(e,t){let r=Math.min(e.length,t.length);for(let n=0;n<r;n++){let r=e.charAt(n),i=t.charAt(n);if(r!==i)return yO(r)===yO(i)?yP(r,i):yO(r)?1:-1}return yP(e.length,t.length)}function yO(e){let t=e.charCodeAt(0);return t>=55296&&t<=57343}function yM(e,t,r){return e.length===t.length&&e.every((e,n)=>r(e,t[n]))}let yB="__name__";class yL{constructor(e,t,r){void 0===t?t=0:t>e.length&&yv(637,{offset:t,range:e.length}),void 0===r?r=e.length-t:r>e.length-t&&yv(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===yL.comparator(this,e)}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof yL?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let n=0;n<r;n++){let r=yL.compareSegments(e.get(n),t.get(n));if(0!==r)return r}return yP(e.length,t.length)}static compareSegments(e,t){let r=yL.isNumericId(e),n=yL.isNumericId(t);return r&&!n?-1:!r&&n?1:r&&n?yL.extractNumericId(e).compare(yL.extractNumericId(t)):yR(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return eC.fromString(e.substring(4,e.length-2))}}class yj extends yL{construct(e,t,r){return new yj(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new yS(yx.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(e=>e.length>0))}return new yj(t)}static emptyPath(){return new yj([])}}let yz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yV extends yL{construct(e,t,r){return new yV(e,t,r)}static isValidIdentifier(e){return yz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yV.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===yB}static keyField(){return new yV([yB])}static fromServerFormat(e){let t=[],r="",n=0,i=()=>{if(0===r.length)throw new yS(yx.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;n<e.length;){let t=e[n];if("\\"===t){if(n+1===e.length)throw new yS(yx.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let t=e[n+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new yS(yx.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=t,n+=2}else"`"===t?o=!o:"."!==t||o?r+=t:i(),n++}if(i(),o)throw new yS(yx.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yV(t)}static emptyPath(){return new yV([])}}class yU{constructor(e){this.path=e}static fromPath(e){return new yU(yj.fromString(e))}static fromName(e){return new yU(yj.fromString(e).popFirst(5))}static empty(){return new yU(yj.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yj.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return yj.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yU(new yj(e.slice()))}}function y$(e,t,r){if(!r)throw new yS(yx.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function yW(e){if(!yU.isDocumentKey(e))throw new yS(yx.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function yq(e){if(yU.isDocumentKey(e))throw new yS(yx.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function yK(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function yG(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{var t;let r=(t=e).constructor?t.constructor.name:null;return r?`a custom ${r} object`:"an object"}}return"function"==typeof e?"a function":yv(12329,{type:typeof e})}function yH(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new yS(yx.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let r=yG(e);throw new yS(yx.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function yQ(e,t){if(t<=0)throw new yS(yx.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}function yX(e,t){let r={typeString:e};return t&&(r.value=t),r}function yJ(e,t){let r;if(!yK(e))throw new yS(yx.INVALID_ARGUMENT,"JSON must be an object");for(let n in t)if(t[n]){let i=t[n].typeString,o="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){r=`JSON missing required field: '${n}'`;break}let s=e[n];if(i&&typeof s!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(void 0!==o&&s!==o.value){r=`Expected '${n}' field to equal '${o.value}'`;break}}if(r)throw new yS(yx.INVALID_ARGUMENT,r);return!0}class yY{static now(){return yY.fromMillis(Date.now())}static fromDate(e){return yY.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*1e6);return new yY(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new yS(yx.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-0xe7791f700||e>=0x3afff44180)throw new yS(yx.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?yP(this.nanoseconds,e.nanoseconds):yP(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yY._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yJ(e,yY._jsonSchema))return new yY(e.seconds,e.nanoseconds)}valueOf(){return String(this.seconds- -0xe7791f700).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yY._jsonSchemaVersion="firestore/timestamp/1.0",yY._jsonSchema={type:yX("string",yY._jsonSchemaVersion),seconds:yX("number"),nanoseconds:yX("number")};class yZ{static fromTimestamp(e){return new yZ(e)}static min(){return new yZ(new yY(0,0))}static max(){return new yZ(new yY(0x3afff4417f,0x3b9ac9ff))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class y0{constructor(e,t,r,n){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=n}}function y1(e){return e.fields.find(e=>2===e.kind)}function y2(e){return e.fields.filter(e=>2!==e.kind)}function y5(e,t){let r=yP(e.collectionGroup,t.collectionGroup);if(0!==r)return r;for(let n=0;n<Math.min(e.fields.length,t.fields.length);++n)if(0!==(r=function(e,t){let r=yV.comparator(e.fieldPath,t.fieldPath);return 0!==r?r:yP(e.kind,t.kind)}(e.fields[n],t.fields[n])))return r;return yP(e.fields.length,t.fields.length)}y0.UNKNOWN_ID=-1;class y3{constructor(e,t){this.fieldPath=e,this.kind=t}}class y4{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new y4(0,y9.min())}}function y6(e,t){let r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1;return new y9(yZ.fromTimestamp(1e9===n?new yY(r+1,0):new yY(r,n)),yU.empty(),t)}function y8(e){return new y9(e.readTime,e.key,-1)}class y9{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new y9(yZ.min(),yU.empty(),-1)}static max(){return new y9(yZ.max(),yU.empty(),-1)}}function y7(e,t){let r=e.readTime.compareTo(t.readTime);return 0!==r||0!==(r=yU.comparator(e.documentKey,t.documentKey))?r:yP(e.largestBatchId,t.largestBatchId)}let ve="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vt{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function vr(e){if(e.code!==yx.FAILED_PRECONDITION||e.message!==ve)throw e;yp("LocalStore","Unexpectedly lost primary lease")}class vn{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&yv(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new vn((r,n)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(r,n)},this.catchCallback=e=>{this.wrapFailure(t,e).next(r,n)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof vn?t:vn.resolve(t)}catch(e){return vn.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):vn.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):vn.reject(t)}static resolve(e){return new vn((t,r)=>{t(e)})}static reject(e){return new vn((t,r)=>{r(e)})}static waitFor(e){return new vn((t,r)=>{let n=0,i=0,o=!1;e.forEach(e=>{++n,e.next(()=>{++i,o&&i===n&&t()},e=>r(e))}),o=!0,i===n&&t()})}static or(e){let t=vn.resolve(!1);for(let r of e)t=t.next(e=>e?vn.resolve(e):r());return t}static forEach(e,t){let r=[];return e.forEach((e,n)=>{r.push(t.call(this,e,n))}),this.waitFor(r)}static mapArray(e,t){return new vn((r,n)=>{let i=e.length,o=Array(i),s=0;for(let a=0;a<i;a++){let l=a;t(e[l]).next(e=>{o[l]=e,++s===i&&r(o)},e=>n(e))}})}static doWhile(e,t){return new vn((r,n)=>{let i=()=>{!0===e()?t().next(()=>{i()},n):r()};i()})}}let vi="SimpleDb";class vo{static open(e,t,r,n){try{return new vo(t,e.transaction(n,r))}catch(e){throw new vu(t,e)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new yC,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new vu(e,t.error)):this.S.resolve()},this.transaction.onerror=t=>{let r=vp(t.target.error);this.S.reject(new vu(e,r))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(yp(vi,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){let e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){return new vh(this.transaction.objectStore(e))}}class vs{static delete(e){return yp(vi,"Removing database:",e),vd(gX().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!g7())return!1;if(vs.F())return!0;let e=g3(),t=vs.M(e),r=va(e);return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||0<t&&t<10||0<r&&r<4.5)}static F(){return void 0!==t_.default&&"YES"===t_.default.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE}static O(e,t){return e.store(t)}static M(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i);return Number(t?t[1].split("_").slice(0,2).join("."):"-1")}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,12.2===vs.M(g3())&&yg("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(yp(vi,"Opening database:",this.name),this.db=await new Promise((t,r)=>{let n=indexedDB.open(this.name,this.version);n.onsuccess=e=>{t(e.target.result)},n.onblocked=()=>{r(new vu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},n.onerror=t=>{let n=t.target.error;"VersionError"===n.name?r(new yS(yx.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new yS(yx.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new vu(e,n))},n.onupgradeneeded=e=>{yp(vi,'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);let t=e.target.result;this.N.k(t,n.transaction,e.oldVersion,this.version).next(()=>{yp(vi,"Database upgrade to version "+this.version+" complete")})}})),this.K&&(this.db.onversionchange=e=>this.K(e)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,n){let i="readonly"===t,o=0;for(;;){++o;try{this.db=await this.L(e);let t=vo.open(this.db,e,i?"readonly":"readwrite",r),o=n(t).next(e=>(t.C(),e)).catch(e=>(t.abort(e),vn.reject(e))).toPromise();return o.catch(()=>{}),await t.D,o}catch(t){let e="FirebaseError"!==t.name&&o<3;if(yp(vi,"Transaction failed with error:",t.message,"Retrying:",e),this.close(),!e)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function va(e){let t=e.match(/Android ([\d.]+)/i);return Number(t?t[1].split(".").slice(0,2).join("."):"-1")}class vl{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return vd(this.U.delete())}}class vu extends yS{constructor(e,t){super(yx.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function vc(e){return"IndexedDbTransactionError"===e.name}class vh{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(yp(vi,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(yp(vi,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),vd(r)}add(e){return yp(vi,"ADD",this.store.name,e,e),vd(this.store.add(e))}get(e){return vd(this.store.get(e)).next(t=>(void 0===t&&(t=null),yp(vi,"GET",this.store.name,e,t),t))}delete(e){return yp(vi,"DELETE",this.store.name,e),vd(this.store.delete(e))}count(){return yp(vi,"COUNT",this.store.name),vd(this.store.count())}H(e,t){let r=this.options(e,t),n=r.index?this.store.index(r.index):this.store;if("function"==typeof n.getAll){let e=n.getAll(r.range);return new vn((t,r)=>{e.onerror=e=>{r(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}{let e=this.cursor(r),t=[];return this.J(e,(e,r)=>{t.push(r)}).next(()=>t)}}Z(e,t){let r=this.store.getAll(e,null===t?void 0:t);return new vn((e,t)=>{r.onerror=e=>{t(e.target.error)},r.onsuccess=t=>{e(t.target.result)}})}X(e,t){yp(vi,"DELETE ALL",this.store.name);let r=this.options(e,t);r.Y=!1;let n=this.cursor(r);return this.J(n,(e,t,r)=>r.delete())}ee(e,t){let r;t?r=e:(r={},t=e);let n=this.cursor(r);return this.J(n,t)}te(e){let t=this.cursor({});return new vn((r,n)=>{t.onerror=e=>{n(vp(e.target.error))},t.onsuccess=t=>{let n=t.target.result;n?e(n.primaryKey,n.value).next(e=>{e?n.continue():r()}):r()}})}J(e,t){let r=[];return new vn((n,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{let i=e.target.result;if(!i)return void n();let o=new vl(i),s=t(i.primaryKey,i.value,o);if(s instanceof vn){let e=s.catch(e=>(o.done(),vn.reject(e)));r.push(e)}o.isDone?n():null===o.G?i.continue():i.continue(o.G)}}).next(()=>vn.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){let r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function vd(e){return new vn((t,r)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{r(vp(e.target.error))}})}let vf=!1;function vp(e){let t=vs.M(g3());if(t>=12.2&&t<13){let t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){let e=new yS("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vf||(vf=!0,setTimeout(()=>{throw e},0)),e}}return e}let vg="IndexBackfiller";class vm{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}re(e){yp(vg,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{let e=await this.ne.ie();yp(vg,`Documents written: ${e}`)}catch(e){vc(e)?yp(vg,"Ignoring IndexedDB error during index backfill: ",e):await vr(e)}await this.re(6e4)})}}class vy{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.se(t,e))}se(e,t){let r=new Set,n=t,i=!0;return vn.doWhile(()=>!0===i&&n>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>{if(null!==t&&!r.has(t))return yp(vg,`Processing collection: ${t}`),this.oe(e,t,n).next(e=>{n-=e,r.add(t)});i=!1})).next(()=>t-n)}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(n=>this.localStore.localDocuments.getNextDocuments(e,t,n,r).next(r=>{let i=r.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next(()=>this._e(n,r)).next(r=>(yp(vg,`Updating offset: ${r}`),this.localStore.indexManager.updateCollectionGroup(e,t,r))).next(()=>i.size)}))}_e(e,t){let r=e;return t.changes.forEach((e,t)=>{let n=y8(t);y7(n,r)>0&&(r=n)}),new y9(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class vv{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ue&&this.ue(e),e}}function vb(e){return null==e}function vw(e){return 0===e&&1/e==-1/0}function vx(e){return"number"==typeof e&&Number.isInteger(e)&&!vw(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function vS(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t+="\x01\x01"),t=function(e,t){let r=t,n=e.length;for(let t=0;t<n;t++){let n=e.charAt(t);switch(n){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=n}}return r}(e.get(r),t);return t+"\x01\x01"}vv.ce=-1;function vC(e){let t=e.length;if(yw(t>=2,64408,{path:e}),2===t)return yw("\x01"===e.charAt(0)&&"\x01"===e.charAt(1),56145,{path:e}),yj.emptyPath();let r=t-2,n=[],i="";for(let o=0;o<t;){let t=e.indexOf("\x01",o);switch((t<0||t>r)&&yv(50515,{path:e}),e.charAt(t+1)){case"\x01":let s,a=e.substring(o,t);0===i.length?s=a:(i+=a,s=i,i=""),n.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:yv(61167,{path:e})}o=t+2}return new yj(n)}let vk="remoteDocuments",v_="owner",vA="owner",vT="mutationQueues",vE="mutations",vI="batchId",vD="userMutationsIndex",vF=["userId","batchId"],vN={},vP="documentMutations",vR="remoteDocumentsV14",vO=["prefixPath","collectionGroup","readTime","documentId"],vM="documentKeyIndex",vB=["prefixPath","collectionGroup","documentId"],vL="collectionGroupIndex",vj=["collectionGroup","readTime","prefixPath","documentId"],vz="remoteDocumentGlobal",vV="remoteDocumentGlobalKey",vU="targets",v$="queryTargetsIndex",vW=["canonicalId","targetId"],vq="targetDocuments",vK=["targetId","path"],vG="documentTargetsIndex",vH=["path","targetId"],vQ="targetGlobalKey",vX="targetGlobal",vJ="collectionParents",vY=["collectionId","parent"],vZ="clientMetadata",v0="bundles",v1="namedQueries",v2="indexConfiguration",v5="collectionGroupIndex",v3="indexState",v4=["indexId","uid"],v6="sequenceNumberIndex",v8=["uid","sequenceNumber"],v9="indexEntries",v7=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],be="documentKeyIndex",bt=["indexId","uid","orderedDocumentKey"],br="documentOverlays",bn=["userId","collectionPath","documentId"],bi="collectionPathOverlayIndex",bo=["userId","collectionPath","largestBatchId"],bs="collectionGroupOverlayIndex",ba=["userId","collectionGroup","largestBatchId"],bl="globals",bu=[vT,vE,vP,vk,vU,v_,vX,vq,vZ,vz,vJ,v0,v1],bc=[...bu,br],bh=[vT,vE,vP,vR,vU,v_,vX,vq,vZ,vz,vJ,v0,v1,br],bd=[...bh,v2,v3,v9],bf=[...bd,bl];class bp extends vt{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function bg(e,t){return vs.O(e.le,t)}function bm(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function by(e,t){for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function bv(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class bb{constructor(e,t){this.comparator=e,this.root=t||bx.EMPTY}insert(e,t){return new bb(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bx.BLACK,null,null))}remove(e){return new bb(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bx.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let n=this.comparator(e,r.key);if(0===n)return t+r.left.size;n<0?r=r.left:(t+=r.left.size+1,r=r.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bw(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bw(this.root,e,this.comparator,!1)}getReverseIterator(){return new bw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bw(this.root,e,this.comparator,!0)}}class bw{constructor(e,t,r,n){this.isReverse=n,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&n&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bx{constructor(e,t,r,n,i){this.key=e,this.value=t,this.color=null!=r?r:bx.RED,this.left=null!=n?n:bx.EMPTY,this.right=null!=i?i:bx.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,n,i){return new bx(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=n?n:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let n=this,i=r(e,n.key);return(n=i<0?n.copy(null,null,null,n.left.insert(e,t,r),null):0===i?n.copy(null,t,null,null,null):n.copy(null,null,null,null,n.right.insert(e,t,r))).fixUp()}removeMin(){if(this.left.isEmpty())return bx.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}remove(e,t){let r,n=this;if(0>t(e,n.key))n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),0===t(e,n.key)){if(n.right.isEmpty())return bx.EMPTY;r=n.right.min(),n=n.copy(r.key,r.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}rotateLeft(){let e=this.copy(null,null,bx.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,bx.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return Math.pow(2,this.check())<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yv(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yv(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw yv(27949);return e+ +!this.isRed()}}bx.EMPTY=null,bx.RED=!0,bx.BLACK=!1,bx.EMPTY=new class{constructor(){this.size=0}get key(){throw yv(57766)}get value(){throw yv(16141)}get color(){throw yv(16727)}get left(){throw yv(29726)}get right(){throw yv(36894)}copy(e,t,r,n,i){return this}insert(e,t,r){return new bx(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bS{constructor(e){this.comparator=e,this.data=new bb(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let n=r.getNext();if(this.comparator(n.key,e[1])>=0)return;t(n.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bC(this.data.getIterator())}getIteratorFrom(e){return new bC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof bS)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let e=t.getNext().key,n=r.getNext().key;if(0!==this.comparator(e,n))return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new bS(this.comparator);return t.data=e,t}}class bC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function bk(e){return e.hasNext()?e.getNext():void 0}class b_{constructor(e){this.fields=e,e.sort(yV.comparator)}static empty(){return new b_([])}unionWith(e){let t=new bS(yV.comparator);for(let e of this.fields)t=t.add(e);for(let r of e)t=t.add(r);return new b_(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yM(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class bA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bT{constructor(e){this.binaryString=e}static fromBase64String(e){return new bT(function(e){try{return atob(e)}catch(e){throw"u">typeof DOMException&&e instanceof DOMException?new bA("Invalid base64 string: "+e):e}}(e))}static fromUint8Array(e){return new bT(function(e){let t="";for(let r=0;r<e.length;++r)t+=String.fromCharCode(e[r]);return t}(e))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){var e=this.binaryString;let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yP(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bT.EMPTY_BYTE_STRING=new bT("");let bE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bI(e){if(yw(!!e,39018),"string"==typeof e){let t=0,r=bE.exec(e);if(yw(!!r,46558,{timestamp:e}),r[1]){let e=r[1];t=Number(e=(e+"000000000").substr(0,9))}return{seconds:Math.floor(new Date(e).getTime()/1e3),nanos:t}}return{seconds:bD(e.seconds),nanos:bD(e.nanos)}}function bD(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function bF(e){return"string"==typeof e?bT.fromBase64String(e):bT.fromUint8Array(e)}let bN="server_timestamp",bP="__type__",bR="__previous_value__",bO="__local_write_time__";function bM(e){return(e?.mapValue?.fields||{})[bP]?.stringValue===bN}function bB(e){let t=e.mapValue.fields[bR];return bM(t)?bB(t):t}function bL(e){let t=bI(e.mapValue.fields[bO].timestampValue);return new yY(t.seconds,t.nanos)}class bj{constructor(e,t,r,n,i,o,s,a,l,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=n,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=u,this.apiKey=c}}let bz="(default)";class bV{constructor(e,t){this.projectId=e,this.database=t||bz}static empty(){return new bV("","")}get isDefaultDatabase(){return this.database===bz}isEqual(e){return e instanceof bV&&e.projectId===this.projectId&&e.database===this.database}}let bU="__type__",b$="__max__",bW={mapValue:{fields:{__type__:{stringValue:b$}}}},bq="__vector__",bK="value",bG={nullValue:"NULL_VALUE"};function bH(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?bM(e)?4:b7(e)?0x1fffffffffffff:b8(e)?10:11:yv(28295,{value:e})}function bQ(e,t){if(e===t)return!0;let r=bH(e);if(r!==bH(t))return!1;switch(r){case 0:case 0x1fffffffffffff:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return bL(e).isEqual(bL(t));case 3:if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let n=bI(e.timestampValue),i=bI(t.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos;case 5:return e.stringValue===t.stringValue;case 6:return bF(e.bytesValue).isEqual(bF(t.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return bD(e.geoPointValue.latitude)===bD(t.geoPointValue.latitude)&&bD(e.geoPointValue.longitude)===bD(t.geoPointValue.longitude);case 2:if("integerValue"in e&&"integerValue"in t)return bD(e.integerValue)===bD(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){let r=bD(e.doubleValue),n=bD(t.doubleValue);return r===n?vw(r)===vw(n):isNaN(r)&&isNaN(n)}return!1;case 9:return yM(e.arrayValue.values||[],t.arrayValue.values||[],bQ);case 10:case 11:let o=e.mapValue.fields||{},s=t.mapValue.fields||{};if(bm(o)!==bm(s))return!1;for(let e in o)if(o.hasOwnProperty(e)&&(void 0===s[e]||!bQ(o[e],s[e])))return!1;return!0;default:return yv(52216,{left:e})}}function bX(e,t){return void 0!==(e.values||[]).find(e=>bQ(e,t))}function bJ(e,t){var r,n,i,o,s,a;if(e===t)return 0;let l=bH(e),u=bH(t);if(l!==u)return yP(l,u);switch(l){case 0:case 0x1fffffffffffff:return 0;case 1:return yP(e.booleanValue,t.booleanValue);case 2:let c,h;return c=bD(e.integerValue||e.doubleValue),c<(h=bD(t.integerValue||t.doubleValue))?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1;case 3:return bY(e.timestampValue,t.timestampValue);case 4:return bY(bL(e),bL(t));case 5:return yR(e.stringValue,t.stringValue);case 6:let d,f;return r=e.bytesValue,n=t.bytesValue,d=bF(r),f=bF(n),d.compareTo(f);case 7:return function(e,t){let r=e.split("/"),n=t.split("/");for(let e=0;e<r.length&&e<n.length;e++){let t=yP(r[e],n[e]);if(0!==t)return t}return yP(r.length,n.length)}(e.referenceValue,t.referenceValue);case 8:let p;return i=e.geoPointValue,o=t.geoPointValue,0!==(p=yP(bD(i.latitude),bD(o.latitude)))?p:yP(bD(i.longitude),bD(o.longitude));case 9:return bZ(e.arrayValue,t.arrayValue);case 10:let g,m,y,v,b;return s=e.mapValue,a=t.mapValue,g=s.fields||{},m=a.fields||{},y=g[bK]?.arrayValue,v=m[bK]?.arrayValue,0!==(b=yP(y?.values?.length||0,v?.values?.length||0))?b:bZ(y,v);case 11:return function(e,t){if(e===bW.mapValue&&t===bW.mapValue)return 0;if(e===bW.mapValue)return 1;if(t===bW.mapValue)return -1;let r=e.fields||{},n=Object.keys(r),i=t.fields||{},o=Object.keys(i);n.sort(),o.sort();for(let e=0;e<n.length&&e<o.length;++e){let t=yR(n[e],o[e]);if(0!==t)return t;let s=bJ(r[n[e]],i[o[e]]);if(0!==s)return s}return yP(n.length,o.length)}(e.mapValue,t.mapValue);default:throw yv(23264,{he:l})}}function bY(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return yP(e,t);let r=bI(e),n=bI(t),i=yP(r.seconds,n.seconds);return 0!==i?i:yP(r.nanos,n.nanos)}function bZ(e,t){let r=e.values||[],n=t.values||[];for(let e=0;e<r.length&&e<n.length;++e){let t=bJ(r[e],n[e]);if(t)return t}return yP(r.length,n.length)}function b0(e){var t,r;let n;return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(n=bI(e.timestampValue),`time(${n.seconds},${n.nanos})`):"stringValue"in e?e.stringValue:"bytesValue"in e?bF(e.bytesValue).toBase64():"referenceValue"in e?(t=e.referenceValue,yU.fromName(t).toString()):"geoPointValue"in e?(r=e.geoPointValue,`geo(${r.latitude},${r.longitude})`):"arrayValue"in e?function(e){let t="[",r=!0;for(let n of e.values||[])r?r=!1:t+=",",t+=b0(n);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){let t=Object.keys(e.fields||{}).sort(),r="{",n=!0;for(let i of t)n?n=!1:r+=",",r+=`${i}:${b0(e.fields[i])}`;return r+"}"}(e.mapValue):yv(61005,{value:e})}function b1(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function b2(e){return!!e&&"integerValue"in e}function b5(e){return!!e&&"arrayValue"in e}function b3(e){return!!e&&"nullValue"in e}function b4(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function b6(e){return!!e&&"mapValue"in e}function b8(e){return(e?.mapValue?.fields||{})[bU]?.stringValue===bq}function b9(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:{...e.timestampValue}};if(e.mapValue){let t={mapValue:{fields:{}}};return by(e.mapValue.fields,(e,r)=>t.mapValue.fields[e]=b9(r)),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=b9(e.arrayValue.values[r]);return t}return{...e}}function b7(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===b$}let we={mapValue:{fields:{[bU]:{stringValue:bq},[bK]:{arrayValue:{}}}}};function wt(e,t){let r=bJ(e.value,t.value);return 0!==r?r:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function wr(e,t){let r=bJ(e.value,t.value);return 0!==r?r:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(!b6(t=(t.mapValue.fields||{})[e.get(r)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=b9(t)}setAll(e){let t=yV.emptyPath(),r={},n=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,r,n),r={},n=[],t=i.popLast()}e?r[i.lastSegment()]=b9(e):n.push(i.lastSegment())});let i=this.getFieldsMap(t);this.applyChanges(i,r,n)}delete(e){let t=this.field(e.popLast());b6(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bQ(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let n=t.mapValue.fields[e.get(r)];b6(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=n),t=n}return t.mapValue.fields}applyChanges(e,t,r){for(let n of(by(t,(t,r)=>e[t]=r),r))delete e[n]}clone(){return new wn(b9(this.value))}}class wi{constructor(e,t,r,n,i,o,s){this.key=e,this.documentType=t,this.version=r,this.readTime=n,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new wi(e,0,yZ.min(),yZ.min(),yZ.min(),wn.empty(),0)}static newFoundDocument(e,t,r,n){return new wi(e,1,t,yZ.min(),r,n,0)}static newNoDocument(e,t){return new wi(e,2,t,yZ.min(),yZ.min(),wn.empty(),0)}static newUnknownDocument(e,t){return new wi(e,3,t,yZ.min(),yZ.min(),wn.empty(),2)}convertToFoundDocument(e,t){return this.createTime.isEqual(yZ.min())&&(2===this.documentType||0===this.documentType)&&(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yZ.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wo{constructor(e,t){this.position=e,this.inclusive=t}}function ws(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){let o=t[i],s=e.position[i];if(n=o.field.isKeyField()?yU.comparator(yU.fromName(s.referenceValue),r.key):bJ(s,r.data.field(o.field)),"desc"===o.dir&&(n*=-1),0!==n)break}return n}function wa(e,t){if(null===e)return null===t;if(null===t||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!bQ(e.position[r],t.position[r]))return!1;return!0}class wl{constructor(e,t="asc"){this.field=e,this.dir=t}}class wu{}class wc extends wu{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new wy(e,t,r):"array-contains"===t?new wx(e,r):"in"===t?new wS(e,r):"not-in"===t?new wC(e,r):"array-contains-any"===t?new wk(e,r):new wc(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new wv(e,r):new wb(e,r)}matches(e){let t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(bJ(t,this.value)):null!==t&&bH(this.value)===bH(t)&&this.matchesComparison(bJ(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yv(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wh extends wu{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new wh(e,t)}matches(e){return wd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wd(e){return"and"===e.op}function wf(e){return"or"===e.op}function wp(e){return wg(e)&&wd(e)}function wg(e){for(let t of e.filters)if(t instanceof wh)return!1;return!0}function wm(e,t){let r=e.filters.concat(t);return wh.create(r,e.op)}class wy extends wc{constructor(e,t,r){super(e,t,r),this.key=yU.fromName(r.referenceValue)}matches(e){let t=yU.comparator(e.key,this.key);return this.matchesComparison(t)}}class wv extends wc{constructor(e,t){super(e,"in",t),this.keys=ww("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class wb extends wc{constructor(e,t){super(e,"not-in",t),this.keys=ww("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ww(e,t){return(t.arrayValue?.values||[]).map(e=>yU.fromName(e.referenceValue))}class wx extends wc{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return b5(t)&&bX(t.arrayValue,this.value)}}class wS extends wc{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return null!==t&&bX(this.value.arrayValue,t)}}class wC extends wc{constructor(e,t){super(e,"not-in",t)}matches(e){if(bX(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!bX(this.value.arrayValue,t)}}class wk extends wc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!b5(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>bX(this.value.arrayValue,e))}}class w_{constructor(e,t=null,r=[],n=[],i=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=n,this.limit=i,this.startAt=o,this.endAt=s,this.Te=null}}function wA(e,t=null,r=[],n=[],i=null,o=null,s=null){return new w_(e,t,r,n,i,o,s)}function wT(e){if(null===e.Te){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(e=>(function e(t){if(t instanceof wc)return t.field.canonicalString()+t.op.toString()+b0(t.value);if(wp(t))return t.filters.map(t=>e(t)).join(",");{let r=t.filters.map(t=>e(t)).join(",");return`${t.op}(${r})`}})(e)).join(","),t+="|ob:",t+=e.orderBy.map(e=>e.field.canonicalString()+e.dir).join(","),vb(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>b0(e)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>b0(e)).join(",")),e.Te=t}return e.Te}function wE(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++){var r,n;if(r=e.orderBy[i],n=t.orderBy[i],!(r.dir===n.dir&&r.field.isEqual(n.field)))return!1}if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!function e(t,r){return t instanceof wc?r instanceof wc&&t.op===r.op&&t.field.isEqual(r.field)&&bQ(t.value,r.value):t instanceof wh?r instanceof wh&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((t,n,i)=>t&&e(n,r.filters[i]),!0):void yv(19439)}(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!wa(e.startAt,t.startAt)&&wa(e.endAt,t.endAt)}function wI(e){return yU.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function wD(e,t){return e.filters.filter(e=>e instanceof wc&&e.field.isEqual(t))}function wF(e,t,r){let n=bG,i=!0;for(let r of wD(e,t)){let e=bG,t=!0;switch(r.op){case"<":case"<=":var o;e="nullValue"in(o=r.value)?bG:"booleanValue"in o?{booleanValue:!1}:"integerValue"in o||"doubleValue"in o?{doubleValue:NaN}:"timestampValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in o?{stringValue:""}:"bytesValue"in o?{bytesValue:""}:"referenceValue"in o?b1(bV.empty(),yU.empty()):"geoPointValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in o?{arrayValue:{}}:"mapValue"in o?b8(o)?we:{mapValue:{}}:yv(35942,{value:o});break;case"==":case"in":case">=":e=r.value;break;case">":e=r.value,t=!1;break;case"!=":case"not-in":e=bG}0>wt({value:n,inclusive:i},{value:e,inclusive:t})&&(n=e,i=t)}if(null!==r){for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){let e=r.position[o];0>wt({value:n,inclusive:i},{value:e,inclusive:r.inclusive})&&(n=e,i=r.inclusive);break}}return{value:n,inclusive:i}}function wN(e,t,r){let n=bW,i=!0;for(let r of wD(e,t)){let e=bW,t=!0;switch(r.op){case">=":case">":var o;e="nullValue"in(o=r.value)?{booleanValue:!1}:"booleanValue"in o?{doubleValue:NaN}:"integerValue"in o||"doubleValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in o?{stringValue:""}:"stringValue"in o?{bytesValue:""}:"bytesValue"in o?b1(bV.empty(),yU.empty()):"referenceValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in o?{arrayValue:{}}:"arrayValue"in o?we:"mapValue"in o?b8(o)?{mapValue:{}}:bW:yv(61959,{value:o}),t=!1;break;case"==":case"in":case"<=":e=r.value;break;case"<":e=r.value,t=!1;break;case"!=":case"not-in":e=bW}wr({value:n,inclusive:i},{value:e,inclusive:t})>0&&(n=e,i=t)}if(null!==r){for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){let e=r.position[o];wr({value:n,inclusive:i},{value:e,inclusive:r.inclusive})>0&&(n=e,i=r.inclusive);break}}return{value:n,inclusive:i}}class wP{constructor(e,t=null,r=[],n=[],i=null,o="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=n,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function wR(e){return new wP(e)}function wO(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function wM(e){return null!==e.collectionGroup}function wB(e){if(null===e.Ie){let t;e.Ie=[];let r=new Set;for(let t of e.explicitOrderBy)e.Ie.push(t),r.add(t.field.canonicalString());let n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(t=new bS(yV.comparator),e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t).forEach(t=>{r.has(t.canonicalString())||t.isKeyField()||e.Ie.push(new wl(t,n))}),r.has(yV.keyField().canonicalString())||e.Ie.push(new wl(yV.keyField(),n))}return e.Ie}function wL(e){return e.Ee||(e.Ee=wj(e,wB(e))),e.Ee}function wj(e,t){if("F"===e.limitType)return wA(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{let t="desc"===e.dir?"asc":"desc";return new wl(e.field,t)});let r=e.endAt?new wo(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new wo(e.startAt.position,e.startAt.inclusive):null;return wA(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function wz(e,t){let r=e.filters.concat([t]);return new wP(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function wV(e,t,r){return new wP(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function wU(e,t){return wE(wL(e),wL(t))&&e.limitType===t.limitType}function w$(e){return`${wT(wL(e))}|lt:${e.limitType}`}function wW(e){var t;let r;return`Query(target=${r=(t=wL(e)).path.canonicalString(),null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(e=>(function e(t){return t instanceof wc?`${t.field.canonicalString()} ${t.op} ${b0(t.value)}`:t instanceof wh?t.op.toString()+" {"+t.getFilters().map(e).join(" ,")+"}":"Filter"})(e)).join(", ")}]`),vb(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(e=>`${e.field.canonicalString()} (${e.dir})`).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(e=>b0(e)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(e=>b0(e)).join(",")),`Target(${r})`}; limitType=${e.limitType})`}function wq(e,t){var r,n,i,o;let s,a,l;return t.isFoundDocument()&&(s=t.key.path,null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(s):yU.isDocumentKey(e.path)?e.path.isEqual(s):e.path.isImmediateParentOf(s))&&function(e,t){for(let r of wB(e))if(!r.field.isKeyField()&&null===t.data.field(r.field))return!1;return!0}(e,t)&&function(e,t){for(let r of e.filters)if(!r.matches(t))return!1;return!0}(e,t)&&(r=e,n=t,(!r.startAt||(i=r.startAt,a=ws(i,wB(r),n),i.inclusive?!!(a<=0):!!(a<0)))&&(!r.endAt||(o=r.endAt,l=ws(o,wB(r),n),o.inclusive?!!(l>=0):!!(l>0))))}function wK(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function wG(e){return(t,r)=>{let n=!1;for(let i of wB(e)){let e=function(e,t,r){var n;let i,o,s=e.field.isKeyField()?yU.comparator(t.key,r.key):(n=e.field,i=t.data.field(n),o=r.data.field(n),null!==i&&null!==o?bJ(i,o):yv(42886));switch(e.dir){case"asc":return s;case"desc":return -1*s;default:return yv(19790,{direction:e.dir})}}(i,t,r);if(0!==e)return e;n=n||i.field.isKeyField()}return 0}}class wH{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r){for(let[t,n]of r)if(this.equalsFn(t,e))return n}}has(e){return void 0!==this.get(e)}set(e,t){let r=this.mapKeyFn(e),n=this.inner[r];if(void 0===n)return this.inner[r]=[[e,t]],void this.innerSize++;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return void(n[r]=[e,t]);n.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return 1===r.length?delete this.inner[t]:r.splice(n,1),this.innerSize--,!0;return!1}forEach(e){by(this.inner,(t,r)=>{for(let[t,n]of r)e(t,n)})}isEmpty(){return bv(this.inner)}size(){return this.innerSize}}let wQ=new bb(yU.comparator),wX=new bb(yU.comparator);function wJ(...e){let t=wX;for(let r of e)t=t.insert(r.key,r);return t}function wY(e){let t=wX;return e.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function wZ(){return new wH(e=>e.toString(),(e,t)=>e.isEqual(t))}let w0=new bb(yU.comparator),w1=new bS(yU.comparator);function w2(...e){let t=w1;for(let r of e)t=t.add(r);return t}let w5=new bS(yP);function w3(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vw(t)?"-0":t}}function w4(e){return{integerValue:""+e}}class w6{constructor(){this._=void 0}}function w8(e,t){return e instanceof xn?b2(t)||t&&"doubleValue"in t?t:{integerValue:0}:null}class w9 extends w6{}class w7 extends w6{constructor(e){super(),this.elements=e}}function xe(e,t){let r=xo(t);for(let t of e.elements)r.some(e=>bQ(e,t))||r.push(t);return{arrayValue:{values:r}}}class xt extends w6{constructor(e){super(),this.elements=e}}function xr(e,t){let r=xo(t);for(let t of e.elements)r=r.filter(e=>!bQ(e,t));return{arrayValue:{values:r}}}class xn extends w6{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function xi(e){return bD(e.integerValue||e.doubleValue)}function xo(e){return b5(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class xs{constructor(e,t){this.field=e,this.transform=t}}class xa{constructor(e,t){this.version=e,this.transformResults=t}}class xl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xl}static exists(e){return new xl(void 0,e)}static updateTime(e){return new xl(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class xc{}function xh(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new xb(e.key,xl.none()):new xp(e.key,e.data,xl.none());{let r=e.data,n=wn.empty(),i=new bS(yV.comparator);for(let e of t.fields)if(!i.has(e)){let t=r.field(e);null===t&&e.length>1&&(e=e.popLast(),t=r.field(e)),null===t?n.delete(e):n.set(e,t),i=i.add(e)}return new xg(e.key,n,new b_(i.toArray()),xl.none())}}function xd(e,t,r,n){return e instanceof xp?function(e,t,r,n){if(!xu(e.precondition,t))return r;let i=e.value.clone(),o=xv(e.fieldTransforms,n,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,r,n):e instanceof xg?function(e,t,r,n){if(!xu(e.precondition,t))return r;let i=xv(e.fieldTransforms,n,t),o=t.data;return(o.setAll(xm(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===r)?null:r.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,r,n):xu(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):r}function xf(e,t){var r,n;return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(r=e.fieldTransforms,n=t.fieldTransforms,!!(void 0===r&&void 0===n||!(!r||!n)&&yM(r,n,(e,t)=>{var r,n;return e.field.isEqual(t.field)&&(r=e.transform,n=t.transform,r instanceof w7&&n instanceof w7||r instanceof xt&&n instanceof xt?yM(r.elements,n.elements,bQ):r instanceof xn&&n instanceof xn?bQ(r.Ae,n.Ae):r instanceof w9&&n instanceof w9)})))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class xp extends xc{constructor(e,t,r,n=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}class xg extends xc{constructor(e,t,r,n,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=n,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function xm(e){let t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){let n=e.data.field(r);t.set(r,n)}}),t}function xy(e,t,r){let n=new Map;yw(e.length===r.length,32656,{Ve:r.length,de:e.length});for(let o=0;o<r.length;o++){var i;let s=e[o],a=s.transform,l=t.data.field(s.field);n.set(s.field,(i=r[o],a instanceof w7?xe(a,l):a instanceof xt?xr(a,l):i))}return n}function xv(e,t,r){let n=new Map;for(let i of e){let e=i.transform,o=r.data.field(i.field);n.set(i.field,function(e,t,r){var n;let i,o,s;return e instanceof w9?(n=t,i={fields:{[bP]:{stringValue:bN},[bO]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}},n&&bM(n)&&(n=bB(n)),n&&(i.fields[bR]=n),{mapValue:i}):e instanceof w7?xe(e,t):e instanceof xt?xr(e,t):(s=xi(o=w8(e,t))+xi(e.Ae),b2(o)&&b2(e.Ae)?w4(s):w3(e.serializer,s))}(e,o,t))}return n}class xb extends xc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xw extends xc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xx{constructor(e,t,r,n){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=n}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let n=this.mutations[t];n.key.isEqual(e.key)&&function(e,t,r){let n,i;e instanceof xp?(n=e.value.clone(),i=xy(e.fieldTransforms,t,r.transformResults),n.setAll(i),t.convertToFoundDocument(r.version,n).setHasCommittedMutations()):e instanceof xg?function(e,t,r){if(!xu(e.precondition,t))return t.convertToUnknownDocument(r.version);let n=xy(e.fieldTransforms,t,r.transformResults),i=t.data;i.setAll(xm(e)),i.setAll(n),t.convertToFoundDocument(r.version,i).setHasCommittedMutations()}(e,t,r):t.convertToNoDocument(r.version).setHasCommittedMutations()}(n,e,r[t])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=xd(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=xd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=wZ();return this.mutations.forEach(n=>{let i=e.get(n.key),o=i.overlayedDocument,s=this.applyToLocalView(o,i.mutatedFields),a=xh(o,s=t.has(n.key)?null:s);null!==a&&r.set(n.key,a),o.isValidDocument()||o.convertToNoDocument(yZ.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),w2())}isEqual(e){return this.batchId===e.batchId&&yM(this.mutations,e.mutations,(e,t)=>xf(e,t))&&yM(this.baseMutations,e.baseMutations,(e,t)=>xf(e,t))}}class xS{constructor(e,t,r,n){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=n}static from(e,t,r){yw(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let n=w0,i=e.mutations;for(let e=0;e<i.length;e++)n=n.insert(i[e].key,r[e].version);return new xS(e,t,r,n)}}class xC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class xk{constructor(e,t,r){this.alias=e,this.aggregateType=t,this.fieldPath=r}}class x_{constructor(e,t){this.count=e,this.unchangedNames=t}}function xA(e){switch(e){case yx.OK:return yv(64938);case yx.CANCELLED:case yx.UNKNOWN:case yx.DEADLINE_EXCEEDED:case yx.RESOURCE_EXHAUSTED:case yx.INTERNAL:case yx.UNAVAILABLE:case yx.UNAUTHENTICATED:return!1;case yx.INVALID_ARGUMENT:case yx.NOT_FOUND:case yx.ALREADY_EXISTS:case yx.PERMISSION_DENIED:case yx.FAILED_PRECONDITION:case yx.ABORTED:case yx.OUT_OF_RANGE:case yx.UNIMPLEMENTED:case yx.DATA_LOSS:return!0;default:return yv(15467,{code:e})}}function xT(e){if(void 0===e)return yg("GRPC error has no .code"),yx.UNKNOWN;switch(e){case eP.OK:return yx.OK;case eP.CANCELLED:return yx.CANCELLED;case eP.UNKNOWN:return yx.UNKNOWN;case eP.DEADLINE_EXCEEDED:return yx.DEADLINE_EXCEEDED;case eP.RESOURCE_EXHAUSTED:return yx.RESOURCE_EXHAUSTED;case eP.INTERNAL:return yx.INTERNAL;case eP.UNAVAILABLE:return yx.UNAVAILABLE;case eP.UNAUTHENTICATED:return yx.UNAUTHENTICATED;case eP.INVALID_ARGUMENT:return yx.INVALID_ARGUMENT;case eP.NOT_FOUND:return yx.NOT_FOUND;case eP.ALREADY_EXISTS:return yx.ALREADY_EXISTS;case eP.PERMISSION_DENIED:return yx.PERMISSION_DENIED;case eP.FAILED_PRECONDITION:return yx.FAILED_PRECONDITION;case eP.ABORTED:return yx.ABORTED;case eP.OUT_OF_RANGE:return yx.OUT_OF_RANGE;case eP.UNIMPLEMENTED:return yx.UNIMPLEMENTED;case eP.DATA_LOSS:return yx.DATA_LOSS;default:return yv(39323,{code:e})}}(eR=eP||(eP={}))[eR.OK=0]="OK",eR[eR.CANCELLED=1]="CANCELLED",eR[eR.UNKNOWN=2]="UNKNOWN",eR[eR.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",eR[eR.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",eR[eR.NOT_FOUND=5]="NOT_FOUND",eR[eR.ALREADY_EXISTS=6]="ALREADY_EXISTS",eR[eR.PERMISSION_DENIED=7]="PERMISSION_DENIED",eR[eR.UNAUTHENTICATED=16]="UNAUTHENTICATED",eR[eR.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",eR[eR.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",eR[eR.ABORTED=10]="ABORTED",eR[eR.OUT_OF_RANGE=11]="OUT_OF_RANGE",eR[eR.UNIMPLEMENTED=12]="UNIMPLEMENTED",eR[eR.INTERNAL=13]="INTERNAL",eR[eR.UNAVAILABLE=14]="UNAVAILABLE",eR[eR.DATA_LOSS=15]="DATA_LOSS";let xE=null;function xI(){return new TextEncoder}let xD=new eC([0xffffffff,0xffffffff],0);function xF(e){let t=xI().encode(e),r=new ek;return r.update(t),new Uint8Array(r.digest())}function xN(e){let t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new eC([r,n],0),new eC([i,o],0)]}class xP{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new xR(`Invalid padding: ${t}`);if(r<0||e.length>0&&0===this.hashCount)throw new xR(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new xR(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=eC.fromNumber(this.ge)}ye(e,t,r){let n=e.add(t.multiply(eC.fromNumber(r)));return 1===n.compare(xD)&&(n=new eC([n.getBits(0),n.getBits(1)],0)),n.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;let[t,r]=xN(xF(e));for(let e=0;e<this.hashCount;e++){let n=this.ye(t,r,e);if(!this.we(n))return!1}return!0}static create(e,t,r){let n=new xP(new Uint8Array(Math.ceil(e/8)),e%8==0?0:8-e%8,t);return r.forEach(e=>n.insert(e)),n}insert(e){if(0===this.ge)return;let[t,r]=xN(xF(e));for(let e=0;e<this.hashCount;e++){let n=this.ye(t,r,e);this.be(n)}}be(e){let t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class xR extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xO{constructor(e,t,r,n,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=n,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let n=new Map;return n.set(e,xM.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new xO(yZ.min(),n,new bb(yP),wQ,w2())}}class xM{constructor(e,t,r,n,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=n,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new xM(r,t,w2(),w2(),w2())}}class xB{constructor(e,t,r,n){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=n}}class xL{constructor(e,t){this.targetId=e,this.Ce=t}}class xj{constructor(e,t,r=bT.EMPTY_BYTE_STRING,n=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=n}}class xz{constructor(){this.ve=0,this.Fe=x$(),this.Me=bT.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=w2(),t=w2(),r=w2();return this.Fe.forEach((n,i)=>{switch(i){case 0:e=e.add(n);break;case 2:t=t.add(n);break;case 1:r=r.add(n);break;default:yv(38017,{changeType:i})}}),new xM(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=x$()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,yw(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class xV{constructor(e){this.Ge=e,this.ze=new Map,this.je=wQ,this.He=xU(),this.Je=xU(),this.Ze=new bb(yP)}Xe(e){for(let t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{let r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:yv(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,r)=>{this.rt(r)&&t(r)})}st(e){let t=e.targetId,r=e.Ce.count,n=this.ot(t);if(n){let s=n.target;if(wI(s))if(0===r){let e=new yU(s.path);this.et(t,e,wi.newNoDocument(e,yZ.min()))}else yw(1===r,20013,{expectedCount:r});else{let n=this._t(t);if(n!==r){var i,o;let r,s,a=this.ut(e),l=a?this.ct(a,e,n):1;0!==l&&(this.it(t),this.Ze=this.Ze.insert(t,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),xE?.lt((i=e.Ce,o=this.Ge.ht(),r={localCacheCount:n,existenceFilterCount:i.count,databaseId:o.database,projectId:o.projectId},(s=i.unchangedNames)&&(r.bloomFilter={applied:0===l,hashCount:s?.hashCount??0,bitmapLength:s?.bits?.bitmap?.length??0,padding:s?.bits?.padding??0,mightContain:e=>a?.mightContain(e)??!1}),r))}}}}ut(e){let t,r,n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:o=0},hashCount:s=0}=n;try{t=bF(i).toUint8Array()}catch(e){if(e instanceof bA)return ym("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new xP(t,o,s)}catch(e){return ym(e instanceof xR?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.ge?null:r}ct(e,t,r){return 2*(t.Ce.count!==r-this.Pt(e,t.targetId))}Pt(e,t){let r=this.Ge.getRemoteKeysForTarget(t),n=0;return r.forEach(r=>{let i=this.Ge.ht(),o=`projects/${i.projectId}/databases/${i.database}/documents/${r.path.canonicalString()}`;e.mightContain(o)||(this.et(t,r,null),n++)}),n}Tt(e){let t=new Map;this.ze.forEach((r,n)=>{let i=this.ot(n);if(i){if(r.current&&wI(i.target)){let t=new yU(i.target.path);this.It(t).has(n)||this.Et(n,t)||this.et(n,t,wi.newNoDocument(t,e))}r.Be&&(t.set(n,r.ke()),r.Ke())}});let r=w2();this.Je.forEach((e,t)=>{let n=!0;t.forEachWhile(e=>{let t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(n=!1,!1)}),n&&(r=r.add(e))}),this.je.forEach((t,r)=>r.setReadTime(e));let n=new xO(e,t,this.Ze,this.je,r);return this.je=wQ,this.He=xU(),this.Je=xU(),this.Ze=new bb(yP),n}Ye(e,t){if(!this.rt(e))return;let r=2*!!this.Et(e,t.key);this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;let n=this.nt(e);this.Et(e,t)?n.qe(t,1):n.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new xz,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new bS(yP),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new bS(yP),this.He=this.He.insert(e,t)),t}rt(e){let t=null!==this.ot(e);return t||yp("WatchChangeAggregator","Detected inactive target",e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new xz),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function xU(){return new bb(yU.comparator)}function x$(){return new bb(yU.comparator)}let xW={asc:"ASCENDING",desc:"DESCENDING"},xq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xK={and:"AND",or:"OR"};class xG{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xH(e,t){return e.useProto3Json||vb(t)?t:{value:t}}function xQ(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function xX(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function xJ(e){let t;return yw(!!e,49232),yZ.fromTimestamp(new yY((t=bI(e)).seconds,t.nanos))}function xY(e,t){return xZ(e,t).canonicalString()}function xZ(e,t){let r=new yj(["projects",e.projectId,"databases",e.database]).child("documents");return void 0===t?r:r.child(t)}function x0(e){let t=yj.fromString(e);return yw(Ss(t),10190,{key:t.toString()}),t}function x1(e,t){return xY(e.databaseId,t.path)}function x2(e,t){let r=x0(t);if(r.get(1)!==e.databaseId.projectId)throw new yS(yx.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new yS(yx.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new yU(x6(r))}function x5(e,t){return xY(e.databaseId,t)}function x3(e){let t=x0(e);return 4===t.length?yj.emptyPath():x6(t)}function x4(e){return new yj(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function x6(e){return yw(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function x8(e,t,r){return{name:x1(e,t),fields:r.value.mapValue.fields}}function x9(e,t,r){let n=x2(e,t.name),i=xJ(t.updateTime),o=t.createTime?xJ(t.createTime):yZ.min(),s=new wn({mapValue:{fields:t.fields}}),a=wi.newFoundDocument(n,i,o,s);return r&&a.setHasCommittedMutations(),r?a.setHasCommittedMutations():a}function x7(e,t){var r,n;let i;if(t instanceof xp)i={update:x8(e,t.key,t.value)};else if(t instanceof xb)i={delete:x1(e,t.key)};else if(t instanceof xg){let r;i={update:x8(e,t.key,t.data),updateMask:(n=t.fieldMask,r=[],n.fields.forEach(e=>r.push(e.canonicalString())),{fieldPaths:r})}}else{if(!(t instanceof xw))return yv(16599,{dt:t.type});i={verify:x1(e,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(e=>(function(e,t){let r=t.transform;if(r instanceof w9)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(r instanceof w7)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:r.elements}};if(r instanceof xt)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:r.elements}};if(r instanceof xn)return{fieldPath:t.field.canonicalString(),increment:r.Ae};throw yv(20930,{transform:t.transform})})(0,e))),t.precondition.isNone||(i.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:xQ(e,r.updateTime.toTimestamp())}:void 0!==r.exists?{exists:r.exists}:yv(27497)),i}function Se(e,t){var r;let n=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?xl.updateTime(xJ(r.updateTime)):void 0!==r.exists?xl.exists(r.exists):xl.none():xl.none(),i=t.updateTransforms?t.updateTransforms.map(t=>{let r;return r=null,"setToServerValue"in t?(yw("REQUEST_TIME"===t.setToServerValue,16630,{proto:t}),r=new w9):"appendMissingElements"in t?r=new w7(t.appendMissingElements.values||[]):"removeAllFromArray"in t?r=new xt(t.removeAllFromArray.values||[]):"increment"in t?r=new xn(e,t.increment):yv(16584,{proto:t}),new xs(yV.fromServerFormat(t.fieldPath),r)}):[];if(t.update){t.update.name;let r=x2(e,t.update.name),o=new wn({mapValue:{fields:t.update.fields}});return t.updateMask?new xg(r,o,new b_((t.updateMask.fieldPaths||[]).map(e=>yV.fromServerFormat(e))),n,i):new xp(r,o,n,i)}return t.delete?new xb(x2(e,t.delete),n):t.verify?new xw(x2(e,t.verify),n):yv(1463,{proto:t})}function St(e,t){return{documents:[x5(e,t.path)]}}function Sr(e,t){var r,n;let i,o={structuredQuery:{}},s=t.path;null!==t.collectionGroup?(i=s,o.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=s.popLast(),o.structuredQuery.from=[{collectionId:s.lastSegment()}]),o.parent=x5(e,i);let a=function(e){if(0!==e.length)return function e(t){var r;let n;return t instanceof wc?function(e){if("=="===e.op){if(b4(e.value))return{unaryFilter:{field:Si(e.field),op:"IS_NAN"}};if(b3(e.value))return{unaryFilter:{field:Si(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(b4(e.value))return{unaryFilter:{field:Si(e.field),op:"IS_NOT_NAN"}};if(b3(e.value))return{unaryFilter:{field:Si(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Si(e.field),op:xq[e.op],value:e.value}}}(t):t instanceof wh?1===(n=(r=t).getFilters().map(t=>e(t))).length?n[0]:{compositeFilter:{op:xK[r.op],filters:n}}:yv(54877,{filter:t})}(wh.create(e,"and"))}(t.filters);a&&(o.structuredQuery.where=a);let l=function(e){if(0!==e.length)return e.map(e=>({field:Si(e.field),direction:xW[e.dir]}))}(t.orderBy);l&&(o.structuredQuery.orderBy=l);let u=xH(e,t.limit);return null!==u&&(o.structuredQuery.limit=u),t.startAt&&(o.structuredQuery.startAt={before:(r=t.startAt).inclusive,values:r.position}),t.endAt&&(o.structuredQuery.endAt={before:!(n=t.endAt).inclusive,values:n.position}),{ft:o,parent:i}}function Sn(e){var t,r,n;let i,o,s,a,l=x3(e.parent),u=e.structuredQuery,c=u.from?u.from.length:0,h=null;if(c>0){yw(1===c,65062);let e=u.from[0];e.allDescendants?h=e.collectionId:l=l.child(e.collectionId)}let d=[];u.where&&(d=(i=function e(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":let t=So(e.unaryFilter.field);return wc.create(t,"==",{doubleValue:NaN});case"IS_NULL":let r=So(e.unaryFilter.field);return wc.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let n=So(e.unaryFilter.field);return wc.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let i=So(e.unaryFilter.field);return wc.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yv(61313);default:return yv(60726)}}(t):void 0!==t.fieldFilter?wc.create(So(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yv(58110);default:return yv(50506)}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==t.compositeFilter?wh.create(t.compositeFilter.filters.map(t=>e(t)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return yv(1026)}}(t.compositeFilter.op)):yv(30097,{filter:t})}(u.where))instanceof wh&&wp(i)?i.getFilters():[i]);let f=[];u.orderBy&&(f=u.orderBy.map(e=>new wl(So(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))));let p=null;u.limit&&(p=vb(o="object"==typeof(t=u.limit)?t.value:t)?null:o);let g=null;u.startAt&&(s=!!(r=u.startAt).before,g=new wo(r.values||[],s));let m=null;return u.endAt&&(a=!(n=u.endAt).before,m=new wo(n.values||[],a)),new wP(l,h,f,d,p,"F",g,m)}function Si(e){return{fieldPath:e.canonicalString()}}function So(e){return yV.fromServerFormat(e.fieldPath)}function Ss(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Sa(e){return!!e&&"function"==typeof e._toProto&&"ProtoValue"===e._protoValueType}class Sl{constructor(e,t,r,n,i=yZ.min(),o=yZ.min(),s=bT.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=n,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Sl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Sl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Su{constructor(e){this.yt=e}}function Sc(e,t){let r=t.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Sh(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument()){var i;n.document={name:x1(i=e.yt,t.key),fields:t.data.value.mapValue.fields,updateTime:xQ(i,t.version.toTimestamp()),createTime:xQ(i,t.createTime.toTimestamp())}}else if(t.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:Sd(t.version)};else{if(!t.isUnknownDocument())return yv(57904,{document:t});n.unknownDocument={path:r.path.toArray(),version:Sd(t.version)}}return n}function Sh(e){let t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Sd(e){let t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Sf(e){let t=new yY(e.seconds,e.nanoseconds);return yZ.fromTimestamp(t)}function Sp(e,t){let r=(t.baseMutations||[]).map(t=>Se(e.yt,t));for(let e=0;e<t.mutations.length-1;++e){let r=t.mutations[e];e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform&&(r.updateTransforms=t.mutations[e+1].transform.fieldTransforms,t.mutations.splice(e+1,1),++e)}let n=t.mutations.map(t=>Se(e.yt,t)),i=yY.fromMillis(t.localWriteTimeMs);return new xx(t.batchId,i,r,n)}function Sg(e){var t;let r,n=Sf(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Sf(e.lastLimboFreeSnapshotVersion):yZ.min();return new Sl(void 0!==e.query.documents?(yw(1===(r=(t=e.query).documents.length),1966,{count:r}),wL(wR(x3(t.documents[0])))):wL(Sn(e.query)),e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,i,bT.fromBase64String(e.resumeToken))}function Sm(e,t){let r,n=Sd(t.snapshotVersion),i=Sd(t.lastLimboFreeSnapshotVersion);r=wI(t.target)?St(e.yt,t.target):Sr(e.yt,t.target).ft;let o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:wT(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Sy(e){let t=Sn({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?wV(t,t.limit,"L"):t}function Sv(e,t){return new xC(t.largestBatchId,Se(e.yt,t.overlayMutation))}function Sb(e,t){let r=t.path.lastSegment();return[e,vS(t.path.popLast()),r]}function Sw(e,t,r,n){return{indexId:e,uid:t,sequenceNumber:r,readTime:Sd(n.readTime),documentKey:vS(n.documentKey.path),largestBatchId:n.largestBatchId}}class Sx{getBundleMetadata(e,t){return bg(e,v0).get(t).next(e=>{if(e)return{id:e.bundleId,createTime:Sf(e.createTime),version:e.version}})}saveBundleMetadata(e,t){return bg(e,v0).put({bundleId:t.id,createTime:Sd(xJ(t.createTime)),version:t.version})}getNamedQuery(e,t){return bg(e,v1).get(t).next(e=>{if(e)return{name:e.name,query:Sy(e.bundledQuery),readTime:Sf(e.readTime)}})}saveNamedQuery(e,t){return bg(e,v1).put({name:t.name,readTime:Sd(xJ(t.readTime)),bundledQuery:t.bundledQuery})}}class SS{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){return new SS(e,t.uid||"")}getOverlay(e,t){return bg(e,br).get(Sb(this.userId,t)).next(e=>e?Sv(this.serializer,e):null)}getOverlays(e,t){let r=wZ();return vn.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&r.set(t,e)})).next(()=>r)}saveOverlays(e,t,r){let n=[];return r.forEach((r,i)=>{let o=new xC(t,i);n.push(this.bt(e,o))}),vn.waitFor(n)}removeOverlaysForBatchId(e,t,r){let n=new Set;t.forEach(e=>n.add(vS(e.getCollectionPath())));let i=[];return n.forEach(t=>{let n=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,r+1],!1,!0);i.push(bg(e,br).X(bi,n))}),vn.waitFor(i)}getOverlaysForCollection(e,t,r){let n=wZ(),i=vS(t),o=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,1/0],!0);return bg(e,br).H(bi,o).next(e=>{for(let t of e){let e=Sv(this.serializer,t);n.set(e.getKey(),e)}return n})}getOverlaysForCollectionGroup(e,t,r,n){let i,o=wZ(),s=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,1/0],!0);return bg(e,br).ee({index:bs,range:s},(e,t,r)=>{let s=Sv(this.serializer,t);o.size()<n||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):r.done()}).next(()=>o)}bt(e,t){return bg(e,br).put(function(e,t,r){let[n,i,o]=Sb(t,r.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:r.mutation.key.getCollectionGroup(),largestBatchId:r.largestBatchId,overlayMutation:x7(e.yt,r.mutation)}}(this.serializer,this.userId,t))}}class SC{St(e){return bg(e,bl)}getSessionToken(e){return this.St(e).get("sessionToken").next(e=>{let t=e?.value;return t?bT.fromUint8Array(t):bT.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.St(e).put({name:"sessionToken",value:t.toUint8Array()})}}class Sk{Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(+!!e.booleanValue);else if("integerValue"in e)this.Ft(t,15),t.Mt(bD(e.integerValue));else if("doubleValue"in e){let r=bD(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),vw(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),"string"==typeof r&&(r=bI(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(bF(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?b7(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):b8(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):yv(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){let r=e.fields||{};for(let e of(this.Ft(t,55),Object.keys(r)))this.Ot(e,t),this.Ct(r[e],t)}kt(e,t){let r=e.fields||{};this.Ft(t,53);let n=r[bK].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(bD(n)),this.Ot(bK,t),this.Ct(r[bK],t)}qt(e,t){let r=e.values||[];for(let e of(this.Ft(t,50),r))this.Ct(e,t)}Lt(e,t){this.Ft(t,37),yU.fromName(e).path.forEach(e=>{this.Ft(t,60),this.$t(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}function S_(e){return Math.ceil((64-function(e){let t=0;for(let r=0;r<8;++r){let n=function(e){if(0===e)return 8;let t=0;return e>>4||(t+=4,e<<=4),e>>6||(t+=2,e<<=2),e>>7||(t+=1),t}(255&e[r]);if(t+=n,8!==n)break}return t}(e))/8)}Sk.Wt=new Sk;class SA{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.Ht(r.value),r=t.next();this.Jt()}Zt(e){for(let t of e){let e=t.charCodeAt(0);if(e<128)this.Gt(e);else if(e<2048)this.Gt(960|e>>>6),this.Gt(128|63&e);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|e>>>12),this.Gt(128|63&e>>>6),this.Gt(128|63&e);else{let e=t.codePointAt(0);this.Gt(240|e>>>18),this.Gt(128|63&e>>>12),this.Gt(128|63&e>>>6),this.Gt(128|63&e)}}this.zt()}Xt(e){for(let t of e){let e=t.charCodeAt(0);if(e<128)this.Ht(e);else if(e<2048)this.Ht(960|e>>>6),this.Ht(128|63&e);else if(t<"\uD800"||"\uDBFF"<t)this.Ht(480|e>>>12),this.Ht(128|63&e>>>6),this.Ht(128|63&e);else{let e=t.codePointAt(0);this.Ht(240|e>>>18),this.Ht(128|63&e>>>12),this.Ht(128|63&e>>>6),this.Ht(128|63&e)}}this.Jt()}Yt(e){let t=this.en(e),r=S_(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let e=t.length-r;e<t.length;++e)this.buffer[this.position++]=255&t[e]}nn(e){let t=this.en(e),r=S_(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let e=t.length-r;e<t.length;++e)this.buffer[this.position++]=~(255&t[e])}rn(){this.sn(255),this.sn(255)}_n(){this.an(255),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){let t,r=((t=new DataView(new ArrayBuffer(8))).setFloat64(0,e,!1),new Uint8Array(t.buffer)),n=!!(128&r[0]);r[0]^=n?255:128;for(let e=1;e<r.length;++e)r[e]^=255*!!n;return r}Gt(e){let t=255&e;0===t?(this.sn(0),this.sn(255)):255===t?(this.sn(255),this.sn(0)):this.sn(t)}Ht(e){let t=255&e;0===t?(this.an(0),this.an(255)):255===t?(this.an(255),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){let t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);let n=new Uint8Array(r);n.set(this.buffer),this.buffer=n}}class ST{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class SE{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class SI{constructor(){this.cn=new SA,this.ascending=new ST(this.cn),this.descending=new SE(this.cn)}seed(e){this.cn.seed(e)}ln(e){return 0===e?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class SD{constructor(e,t,r,n){this.hn=e,this.Pn=t,this.Tn=r,this.In=n}En(){let e=this.In.length,t=0===e||255===this.In[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.In,0),t!==e?r.set([0],this.In.length):++r[r.length-1],new SD(this.hn,this.Pn,this.Tn,r)}Rn(e,t,r){return{indexId:this.hn,uid:e,arrayValue:SP(this.Tn),directionalValue:SP(this.In),orderedDocumentKey:SP(t),documentKey:r.path.toArray()}}An(e,t,r){let n=this.Rn(e,t,r);return[n.indexId,n.uid,n.arrayValue,n.directionalValue,n.orderedDocumentKey,n.documentKey]}}function SF(e,t){let r=e.hn-t.hn;return 0!==r||0!==(r=SN(e.Tn,t.Tn))||0!==(r=SN(e.In,t.In))?r:yU.comparator(e.Pn,t.Pn)}function SN(e,t){for(let r=0;r<e.length&&r<t.length;++r){let n=e[r]-t[r];if(0!==n)return n}return e.length-t.length}function SP(e){return g9()?function(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}(e):e}function SR(e){return"string"!=typeof e?e:function(e){let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(e)}class SO{constructor(e){for(const t of(this.Vn=new bS((e,t)=>yV.comparator(e.field,t.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[],e.filters))t.isInequality()?this.Vn=this.Vn.add(t):this.mn.push(t)}get fn(){return this.Vn.size>1}gn(e){if(yw(e.collectionGroup===this.collectionId,49279),this.fn)return!1;let t=y1(e);if(void 0!==t&&!this.pn(t))return!1;let r=y2(e),n=new Set,i=0,o=0;for(;i<r.length&&this.pn(r[i]);++i)n=n.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.Vn.size>0){let e=this.Vn.getIterator().getNext();if(!n.has(e.field.canonicalString())){let t=r[i];if(!this.yn(e,t)||!this.wn(this.dn[o++],t))return!1}++i}for(;i<r.length;++i){let e=r[i];if(o>=this.dn.length||!this.wn(this.dn[o++],e))return!1}return!0}bn(){if(this.fn)return null;let e=new bS(yV.comparator),t=[];for(let r of this.mn)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new y3(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new y3(r.field,0))}for(let r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new y3(r.field,+("asc"!==r.dir))));return new y0(y0.UNKNOWN_ID,this.collectionId,t,y4.empty())}pn(e){for(let t of this.mn)if(this.yn(t,e))return!0;return!1}yn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;let r="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===r}wn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function SM(e){return e instanceof wc}function SB(e){return e instanceof wh&&wp(e)}function SL(e){return SM(e)||SB(e)||function(e){if(e instanceof wh&&wf(e)){for(let t of e.getFilters())if(!SM(t)&&!SB(t))return!1;return!0}return!1}(e)}function Sj(e,t){return yw(e instanceof wc||e instanceof wh,38388),yw(t instanceof wc||t instanceof wh,25473),SV(e instanceof wc?t instanceof wc?wh.create([e,t],"and"):Sz(e,t):t instanceof wc?Sz(t,e):function(e,t){if(yw(e.filters.length>0&&t.filters.length>0,48005),wd(e)&&wd(t))return wm(e,t.getFilters());let r=wf(e)?e:t,n=wf(e)?t:e,i=r.filters.map(e=>Sj(e,n));return wh.create(i,"or")}(e,t))}function Sz(e,t){if(wd(t))return wm(t,e.getFilters());{let r=t.filters.map(t=>Sj(e,t));return wh.create(r,"or")}}function SV(e){if(yw(e instanceof wc||e instanceof wh,11850),e instanceof wc)return e;let t=e.getFilters();if(1===t.length)return SV(t[0]);if(wg(e))return e;let r=t.map(e=>SV(e)),n=[];return r.forEach(t=>{t instanceof wc?n.push(t):t instanceof wh&&(t.op===e.op?n.push(...t.filters):n.push(t))}),1===n.length?n[0]:wh.create(n,e.op)}class SU{constructor(){this.Sn=new S$}addToCollectionParentIndex(e,t){return this.Sn.add(t),vn.resolve()}getCollectionParents(e,t){return vn.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return vn.resolve()}deleteFieldIndex(e,t){return vn.resolve()}deleteAllFieldIndexes(e){return vn.resolve()}createTargetIndexes(e,t){return vn.resolve()}getDocumentsMatchingTarget(e,t){return vn.resolve(null)}getIndexType(e,t){return vn.resolve(0)}getFieldIndexes(e,t){return vn.resolve([])}getNextCollectionGroupToUpdate(e){return vn.resolve(null)}getMinOffset(e,t){return vn.resolve(y9.min())}getMinOffsetFromCollectionGroup(e,t){return vn.resolve(y9.min())}updateCollectionGroup(e,t,r){return vn.resolve()}updateIndexEntries(e,t){return vn.resolve()}}class S${constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),n=this.index[t]||new bS(yj.comparator),i=!n.has(r);return this.index[t]=n.add(r),i}has(e){let t=e.lastSegment(),r=e.popLast(),n=this.index[t];return n&&n.has(r)}getEntries(e){return(this.index[e]||new bS(yj.comparator)).toArray()}}let SW="IndexedDbIndexManager",Sq=new Uint8Array(0);class SK{constructor(e,t){this.databaseId=t,this.Dn=new S$,this.Cn=new wH(e=>wT(e),(e,t)=>wE(e,t)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Dn.has(t)){let r=t.lastSegment(),n=t.popLast();e.addOnCommittedListener(()=>{this.Dn.add(t)});let i={collectionId:r,parent:vS(n)};return bg(e,vJ).put(i)}return vn.resolve()}getCollectionParents(e,t){let r=[],n=IDBKeyRange.bound([t,""],[t+"\0",""],!1,!0);return bg(e,vJ).H(n).next(e=>{for(let n of e){if(n.collectionId!==t)break;r.push(vC(n.parent))}return r})}addFieldIndex(e,t){let r=bg(e,v2),n={indexId:t.indexId,collectionGroup:t.collectionGroup,fields:t.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])};delete n.indexId;let i=r.add(n);if(t.indexState){let r=bg(e,v3);return i.next(e=>{r.put(Sw(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return i.next()}deleteFieldIndex(e,t){let r=bg(e,v2),n=bg(e,v3),i=bg(e,v9);return r.delete(t.indexId).next(()=>n.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let t=bg(e,v2),r=bg(e,v9),n=bg(e,v3);return t.X().next(()=>r.X()).next(()=>n.X())}createTargetIndexes(e,t){return vn.forEach(this.vn(t),t=>this.getIndexType(e,t).next(r=>{if(0===r||1===r){let r=new SO(t).bn();if(null!=r)return this.addFieldIndex(e,r)}}))}getDocumentsMatchingTarget(e,t){let r=bg(e,v9),n=!0,i=new Map;return vn.forEach(this.vn(t),t=>this.Fn(e,t).next(e=>{n&&(n=!!e),i.set(t,e)})).next(()=>{if(n){let e=w2(),n=[];return vn.forEach(i,(i,o)=>{yp(SW,`Using index id=${i.indexId}|cg=${i.collectionGroup}|f=${i.fields.map(e=>`${e.fieldPath}:${e.kind}`).join(",")} to execute ${wT(t)}`);let s=function(e,t){let r=y1(t);if(void 0===r)return null;for(let t of wD(e,r.fieldPath))switch(t.op){case"array-contains-any":return t.value.arrayValue.values||[];case"array-contains":return[t.value]}return null}(o,i),a=function(e,t){let r=new Map;for(let n of y2(t))for(let t of wD(e,n.fieldPath))switch(t.op){case"==":case"in":r.set(n.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return r.set(n.fieldPath.canonicalString(),t.value),Array.from(r.values())}return null}(o,i),l=function(e,t){let r=[],n=!0;for(let i of y2(t)){let t=0===i.kind?wF(e,i.fieldPath,e.startAt):wN(e,i.fieldPath,e.startAt);r.push(t.value),n&&(n=t.inclusive)}return new wo(r,n)}(o,i),u=function(e,t){let r=[],n=!0;for(let i of y2(t)){let t=0===i.kind?wN(e,i.fieldPath,e.endAt):wF(e,i.fieldPath,e.endAt);r.push(t.value),n&&(n=t.inclusive)}return new wo(r,n)}(o,i),c=this.Mn(i,o,l),h=this.Mn(i,o,u),d=this.xn(i,o,a),f=this.On(i.indexId,s,c,l.inclusive,h,u.inclusive,d);return vn.forEach(f,i=>r.Z(i,t.limit).next(t=>{t.forEach(t=>{let r=yU.fromSegments(t.documentKey);e.has(r)||(e=e.add(r),n.push(r))})}))}).next(()=>n)}return vn.resolve(null)})}vn(e){let t=this.Cn.get(e);return t||(t=0===e.filters.length?[e]:(function(e){if(0===e.getFilters().length)return[];let t=function e(t){if(yw(t instanceof wc||t instanceof wh,34018),t instanceof wc)return t;if(1===t.filters.length)return e(t.filters[0]);let r=t.filters.map(t=>e(t)),n=wh.create(r,t.op);return SL(n=SV(n))?n:(yw(n instanceof wh,64498),yw(wd(n),40251),yw(n.filters.length>1,57927),n.filters.reduce((e,t)=>Sj(e,t)))}(function e(t){if(yw(t instanceof wc||t instanceof wh,20012),t instanceof wc){if(t instanceof wS){let e=t.value.arrayValue?.values?.map(e=>wc.create(t.field,"==",e))||[];return wh.create(e,"or")}return t}let r=t.filters.map(t=>e(t));return wh.create(r,t.op)}(e));return yw(SL(t),7391),SM(t)||SB(t)?[t]:t.getFilters()})(wh.create(e.filters,"and")).map(t=>wA(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)),this.Cn.set(e,t)),t}On(e,t,r,n,i,o,s){let a=(null!=t?t.length:1)*Math.max(r.length,i.length),l=a/(null!=t?t.length:1),u=[];for(let c=0;c<a;++c){let a=t?this.Nn(t[c/l]):Sq,h=this.Bn(e,a,r[c%l],n),d=this.Ln(e,a,i[c%l],o),f=s.map(t=>this.Bn(e,a,t,!0));u.push(...this.createRange(h,d,f))}return u}Bn(e,t,r,n){let i=new SD(e,yU.empty(),t,r);return n?i:i.En()}Ln(e,t,r,n){let i=new SD(e,yU.empty(),t,r);return n?i.En():i}Fn(e,t){let r=new SO(t),n=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,n).next(e=>{let t=null;for(let n of e)r.gn(n)&&(!t||n.fields.length>t.fields.length)&&(t=n);return t})}getIndexType(e,t){let r=2,n=this.vn(t);return vn.forEach(n,t=>this.Fn(e,t).next(e=>{e?0!==r&&e.fields.length<function(e){let t=new bS(yV.comparator),r=!1;for(let n of e.filters)for(let e of n.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?r=!0:t=t.add(e.field));for(let r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+ +!!r}(t)&&(r=1):r=0})).next(()=>null!==t.limit&&n.length>1&&2===r?1:r)}kn(e,t){let r=new SI;for(let n of y2(e)){let e=t.data.field(n.fieldPath);if(null==e)return null;let i=r.ln(n.kind);Sk.Wt.Dt(e,i)}return r.un()}Nn(e){let t=new SI;return Sk.Wt.Dt(e,t.ln(0)),t.un()}Kn(e,t){let r,n=new SI;return Sk.Wt.Dt(b1(this.databaseId,t),n.ln(0===(r=y2(e)).length?0:r[r.length-1].kind)),n.un()}xn(e,t,r){if(null===r)return[];let n=[];n.push(new SI);let i=0;for(let o of y2(e)){let e=r[i++];for(let r of n)if(this.qn(t,o.fieldPath)&&b5(e))n=this.Un(n,o,e);else{let t=r.ln(o.kind);Sk.Wt.Dt(e,t)}}return this.$n(n)}Mn(e,t,r){return this.xn(e,t,r.position)}$n(e){let t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Un(e,t,r){let n=[...e],i=[];for(let e of r.arrayValue.values||[])for(let r of n){let n=new SI;n.seed(r.un()),Sk.Wt.Dt(e,n.ln(t.kind)),i.push(n)}return i}qn(e,t){return!!e.filters.find(e=>e instanceof wc&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){let r=bg(e,v2),n=bg(e,v3);return(t?r.H(v5,IDBKeyRange.bound(t,t)):r.H()).next(e=>{let t=[];return vn.forEach(e,e=>n.get([e.indexId,this.uid]).next(r=>{let n,i;t.push((n=r?new y4(r.sequenceNumber,new y9(Sf(r.readTime),new yU(vC(r.documentKey)),r.largestBatchId)):y4.empty(),i=e.fields.map(([e,t])=>new y3(yV.fromServerFormat(e),t)),new y0(e.indexId,e.collectionGroup,i,n)))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{let r=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==r?r:yP(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,r){let n=bg(e,v2),i=bg(e,v3);return this.Wn(e).next(e=>n.H(v5,IDBKeyRange.bound(t,t)).next(t=>vn.forEach(t,t=>i.put(Sw(t.indexId,this.uid,e,r)))))}updateIndexEntries(e,t){let r=new Map;return vn.forEach(t,(t,n)=>{let i=r.get(t.collectionGroup);return(i?vn.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next(i=>(r.set(t.collectionGroup,i),vn.forEach(i,r=>this.Qn(e,t,r).next(t=>{let i=this.Gn(n,r);return t.isEqual(i)?vn.resolve():this.zn(e,n,r,t,i)}))))})}jn(e,t,r,n){return bg(e,v9).put(n.Rn(this.uid,this.Kn(r,t.key),t.key))}Hn(e,t,r,n){return bg(e,v9).delete(n.An(this.uid,this.Kn(r,t.key),t.key))}Qn(e,t,r){let n=bg(e,v9),i=new bS(SF);return n.ee({index:be,range:IDBKeyRange.only([r.indexId,this.uid,SP(this.Kn(r,t))])},(e,n)=>{i=i.add(new SD(r.indexId,t,SR(n.arrayValue),SR(n.directionalValue)))}).next(()=>i)}Gn(e,t){let r=new bS(SF),n=this.kn(t,e);if(null==n)return r;let i=y1(t);if(null!=i){let o=e.data.field(i.fieldPath);if(b5(o))for(let i of o.arrayValue.values||[])r=r.add(new SD(t.indexId,e.key,this.Nn(i),n))}else r=r.add(new SD(t.indexId,e.key,Sq,n));return r}zn(e,t,r,n,i){yp(SW,"Updating index entries for document '%s'",t.key);let o=[];return function(e,t,r,n,i){let o=e.getIterator(),s=t.getIterator(),a=bk(o),l=bk(s);for(;a||l;){let e=!1,t=!1;if(a&&l){let n=r(a,l);n<0?t=!0:n>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(n(l),l=bk(s)):t?(i(a),a=bk(o)):(a=bk(o),l=bk(s))}}(n,i,SF,n=>{o.push(this.jn(e,t,r,n))},n=>{o.push(this.Hn(e,t,r,n))}),vn.waitFor(o)}Wn(e){let t=1;return bg(e,v3).ee({index:v6,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,r,n)=>{n.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((e,t)=>SF(e,t)).filter((e,t,r)=>!t||0!==SF(e,r[t-1]));let n=[];for(let i of(n.push(e),r)){let r=SF(i,e),o=SF(i,t);if(0===r)n[0]=e.En();else if(r>0&&o<0)n.push(i),n.push(i.En());else if(o>0)break}n.push(t);let i=[];for(let e=0;e<n.length;e+=2){if(this.Jn(n[e],n[e+1]))return[];let t=n[e].An(this.uid,Sq,yU.empty()),r=n[e+1].An(this.uid,Sq,yU.empty());i.push(IDBKeyRange.bound(t,r))}return i}Jn(e,t){return SF(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(SG)}getMinOffset(e,t){return vn.mapArray(this.vn(t),t=>this.Fn(e,t).next(e=>e||yv(44426))).next(SG)}}function SG(e){yw(0!==e.length,28825);let t=e[0].indexState.offset,r=t.largestBatchId;for(let n=1;n<e.length;n++){let i=e[n].indexState.offset;0>y7(i,t)&&(t=i),r<i.largestBatchId&&(r=i.largestBatchId)}return new y9(t.readTime,t.documentKey,r)}let SH={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class SQ{static withCacheSize(e){return new SQ(e,SQ.DEFAULT_COLLECTION_PERCENTILE,SQ.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}function SX(e,t,r){let n=e.store(vE),i=e.store(vP),o=[],s=IDBKeyRange.only(r.batchId),a=0,l=n.ee({range:s},(e,t,r)=>(a++,r.delete()));o.push(l.next(()=>{yw(1===a,47070,{batchId:r.batchId})}));let u=[];for(let e of r.mutations){var c,h;let n=(c=e.key.path,h=r.batchId,[t,vS(c),h]);o.push(i.delete(n)),u.push(e.key)}return vn.waitFor(o).next(()=>u)}function SJ(e){let t;if(!e)return 0;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw yv(14731);t=e.noDocument}return JSON.stringify(t).length}SQ.DEFAULT_COLLECTION_PERCENTILE=10,SQ.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,SQ.DEFAULT=new SQ(0x2800000,SQ.DEFAULT_COLLECTION_PERCENTILE,SQ.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),SQ.DISABLED=new SQ(-1,0,0);class SY{constructor(e,t,r,n){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=n,this.Zn={}}static wt(e,t,r,n){return yw(""!==e.uid,64387),new SY(e.isAuthenticated()?e.uid:"",t,r,n)}checkEmpty(e){let t=!0,r=IDBKeyRange.bound([this.userId,-1/0],[this.userId,1/0]);return S0(e).ee({index:vD,range:r},(e,r,n)=>{t=!1,n.done()}).next(()=>t)}addMutationBatch(e,t,r,n){let i=bg(e,vP),o=S0(e);return o.add({}).next(s=>{var a,l,u,c;let h,d;yw("number"==typeof s,49019);let f=new xx(s,t,r,n),p=(a=this.serializer,l=this.userId,h=f.baseMutations.map(e=>x7(a.yt,e)),d=f.mutations.map(e=>x7(a.yt,e)),{userId:l,batchId:f.batchId,localWriteTimeMs:f.localWriteTime.toMillis(),baseMutations:h,mutations:d}),g=[],m=new bS((e,t)=>yP(e.canonicalString(),t.canonicalString()));for(let e of n){let t=(u=this.userId,c=e.key.path,[u,vS(c),s]);m=m.add(e.key.path.popLast()),g.push(o.put(p)),g.push(i.put(t,vN))}return m.forEach(t=>{g.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Zn[s]=f.keys()}),vn.waitFor(g).next(()=>f)})}lookupMutationBatch(e,t){return S0(e).get(t).next(e=>e?(yw(e.userId===this.userId,48,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),Sp(this.serializer,e)):null)}Xn(e,t){return this.Zn[t]?vn.resolve(this.Zn[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){let r=e.keys();return this.Zn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){let r=t+1,n=IDBKeyRange.lowerBound([this.userId,r]),i=null;return S0(e).ee({index:vD,range:n},(e,t,n)=>{t.userId===this.userId&&(yw(t.batchId>=r,47524,{Yn:r}),i=Sp(this.serializer,t)),n.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,1/0]),r=-1;return S0(e).ee({index:vD,range:t,reverse:!0},(e,t,n)=>{r=t.batchId,n.done()}).next(()=>r)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,-1],[this.userId,1/0]);return S0(e).H(vD,t).next(e=>e.map(e=>Sp(this.serializer,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){let r=[this.userId,vS(t.path)],n=IDBKeyRange.lowerBound(r),i=[];return bg(e,vP).ee({range:n},(r,n,o)=>{let[s,a,l]=r,u=vC(a);if(s===this.userId&&t.path.isEqual(u))return S0(e).get(l).next(e=>{if(!e)throw yv(61480,{er:r,batchId:l});yw(e.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:e.userId,batchId:l}),i.push(Sp(this.serializer,e))});o.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bS(yP),n=[];return t.forEach(t=>{let i=[this.userId,vS(t.path)],o=IDBKeyRange.lowerBound(i),s=bg(e,vP).ee({range:o},(e,n,i)=>{let[o,s,a]=e,l=vC(s);o===this.userId&&t.path.isEqual(l)?r=r.add(a):i.done()});n.push(s)}),vn.waitFor(n).next(()=>this.tr(e,r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,n=r.length+1,i=[this.userId,vS(r)],o=IDBKeyRange.lowerBound(i),s=new bS(yP);return bg(e,vP).ee({range:o},(e,t,i)=>{let[o,a,l]=e,u=vC(a);o===this.userId&&r.isPrefixOf(u)?u.length===n&&(s=s.add(l)):i.done()}).next(()=>this.tr(e,s))}tr(e,t){let r=[],n=[];return t.forEach(t=>{n.push(S0(e).get(t).next(e=>{if(null===e)throw yv(35274,{batchId:t});yw(e.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),r.push(Sp(this.serializer,e))}))}),vn.waitFor(n).next(()=>r)}removeMutationBatch(e,t){return SX(e.le,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.nr(t.batchId)}),vn.forEach(r,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return vn.resolve();let r=IDBKeyRange.lowerBound([this.userId]),n=[];return bg(e,vP).ee({range:r},(e,t,r)=>{if(e[0]===this.userId){let t=vC(e[1]);n.push(t)}else r.done()}).next(()=>{yw(0===n.length,56720,{rr:n.map(e=>e.canonicalString())})})})}containsKey(e,t){return SZ(e,this.userId,t)}ir(e){return bg(e,vT).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function SZ(e,t,r){let n=[t,vS(r.path)],i=n[1],o=IDBKeyRange.lowerBound(n),s=!1;return bg(e,vP).ee({range:o,Y:!0},(e,r,n)=>{let[o,a,l]=e;o===t&&a===i&&(s=!0),n.done()}).next(()=>s)}function S0(e){return bg(e,vE)}class S1{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new S1(0)}static ar(){return new S1(-1)}}class S2{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.ur(e).next(t=>{let r=new S1(t.highestTargetId);return t.highestTargetId=r.next(),this.cr(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.ur(e).next(e=>yZ.fromTimestamp(new yY(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.ur(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.ur(e).next(n=>(n.highestListenSequenceNumber=t,r&&(n.lastRemoteSnapshotVersion=r.toTimestamp()),t>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t),this.cr(e,n)))}addTargetData(e,t){return this.lr(e,t).next(()=>this.ur(e).next(r=>(r.targetCount+=1,this.hr(t,r),this.cr(e,r))))}updateTargetData(e,t){return this.lr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>bg(e,vU).delete(t.targetId)).next(()=>this.ur(e)).next(t=>(yw(t.targetCount>0,8065),t.targetCount-=1,this.cr(e,t)))}removeTargets(e,t,r){let n=0,i=[];return bg(e,vU).ee((o,s)=>{let a=Sg(s);a.sequenceNumber<=t&&null===r.get(a.targetId)&&(n++,i.push(this.removeTargetData(e,a)))}).next(()=>vn.waitFor(i)).next(()=>n)}forEachTarget(e,t){return bg(e,vU).ee((e,r)=>{t(Sg(r))})}ur(e){return bg(e,vX).get(vQ).next(e=>(yw(null!==e,2888),e))}cr(e,t){return bg(e,vX).put(vQ,t)}lr(e,t){return bg(e,vU).put(Sm(this.serializer,t))}hr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next(e=>e.targetCount)}getTargetData(e,t){let r=wT(t),n=IDBKeyRange.bound([r,-1/0],[r,1/0]),i=null;return bg(e,vU).ee({range:n,index:v$},(e,r,n)=>{let o=Sg(r);wE(t,o.target)&&(i=o,n.done())}).next(()=>i)}addMatchingKeys(e,t,r){let n=[],i=S5(e);return t.forEach(t=>{let o=vS(t.path);n.push(i.put({targetId:r,path:o})),n.push(this.referenceDelegate.addReference(e,r,t))}),vn.waitFor(n)}removeMatchingKeys(e,t,r){let n=S5(e);return vn.forEach(t,t=>{let i=vS(t.path);return vn.waitFor([n.delete([r,i]),this.referenceDelegate.removeReference(e,r,t)])})}removeMatchingKeysForTargetId(e,t){let r=S5(e),n=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(n)}getMatchingKeysForTargetId(e,t){let r=IDBKeyRange.bound([t],[t+1],!1,!0),n=S5(e),i=w2();return n.ee({range:r,Y:!0},(e,t,r)=>{let n=new yU(vC(e[1]));i=i.add(n)}).next(()=>i)}containsKey(e,t){let r=vS(t.path),n=IDBKeyRange.bound([r],[r+"\0"],!1,!0),i=0;return S5(e).ee({index:vG,Y:!0,range:n},([e,t],r,n)=>{0!==e&&(i++,n.done())}).next(()=>i>0)}At(e,t){return bg(e,vU).get(t).next(e=>e?Sg(e):null)}}function S5(e){return bg(e,vq)}let S3="LruGarbageCollector";function S4([e,t],[r,n]){let i=yP(e,r);return 0===i?yP(t,n):i}class S6{constructor(e){this.Pr=e,this.buffer=new bS(S4),this.Tr=0}Ir(){return++this.Tr}Er(e){let t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{let e=this.buffer.last();0>S4(t,e)&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class S8{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Ar(e){yp(S3,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){vc(e)?yp(S3,"Ignoring IndexedDB error during garbage collection: ",e):await vr(e)}await this.Ar(3e5)})}}class S9{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return vn.resolve(vv.ce);let r=new S6(t);return this.Vr.forEachTarget(e,e=>r.Er(e.sequenceNumber)).next(()=>this.Vr.mr(e,e=>r.Er(e))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return -1===this.params.cacheSizeCollectionThreshold?(yp("LruGarbageCollector","Garbage collection skipped; disabled"),vn.resolve(SH)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(yp("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SH):this.gr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,n,i,o,s,a,l,u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(yp("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),n=this.params.maximumSequenceNumbersToCollect):n=t,o=Date.now(),this.nthSequenceNumber(e,n))).next(n=>(r=n,s=Date.now(),this.removeTargets(e,r,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,r))).next(e=>(l=Date.now(),yf()<=eS.DEBUG&&yp("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${n} in `+(s-o)+"ms\n"+`	Removed ${i} targets in `+(a-s)+"ms\n"+`	Removed ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-u}ms`),vn.resolve({didRun:!0,sequenceNumbersCollected:n,targetsRemoved:i,documentsRemoved:e})))}}class S7{constructor(e,t){this.db=e,this.garbageCollector=new S9(this,t)}dr(e){let t=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}pr(e){let t=0;return this.mr(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}mr(e,t){return this.yr(e,(e,r)=>t(r))}addReference(e,t,r){return Ce(e,r)}removeReference(e,t,r){return Ce(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Ce(e,t)}wr(e,t){let r;return r=!1,bg(e,vT).te(n=>SZ(e,n,t).next(e=>(e&&(r=!0),vn.resolve(!e)))).next(()=>r)}removeOrphanedDocuments(e,t){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),n=[],i=0;return this.yr(e,(o,s)=>{if(s<=t){let t=this.wr(e,o).next(t=>{if(!t)return i++,r.getEntry(e,o).next(()=>(r.removeEntry(o,yZ.min()),S5(e).delete([0,vS(o.path)])))});n.push(t)}}).next(()=>vn.waitFor(n)).next(()=>r.apply(e)).next(()=>i)}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Ce(e,t)}yr(e,t){let r=S5(e),n,i=vv.ce;return r.ee({index:vG},([e,r],{path:o,sequenceNumber:s})=>{0===e?(i!==vv.ce&&t(new yU(vC(n)),i),i=s,n=o):i=vv.ce}).next(()=>{i!==vv.ce&&t(new yU(vC(n)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ce(e,t){var r;return S5(e).put((r=e.currentSequenceNumber,{targetId:0,path:vS(t.path),sequenceNumber:r}))}class Ct{constructor(){this.changes=new wH(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return void 0!==r?vn.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Cr{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return bg(e,vR).put(r)}removeEntry(e,t,r){let n;return bg(e,vR).delete([(n=t.path.toArray()).slice(0,n.length-2),n[n.length-2],Sh(r),n[n.length-1]])}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.br(e,r)))}getEntry(e,t){let r=wi.newInvalidDocument(t);return bg(e,vR).ee({index:vM,range:IDBKeyRange.only(Ci(t))},(e,n)=>{r=this.Sr(t,n)}).next(()=>r)}Dr(e,t){let r={size:0,document:wi.newInvalidDocument(t)};return bg(e,vR).ee({index:vM,range:IDBKeyRange.only(Ci(t))},(e,n)=>{r={document:this.Sr(t,n),size:SJ(n)}}).next(()=>r)}getEntries(e,t){let r=wQ;return this.Cr(e,t,(e,t)=>{let n=this.Sr(e,t);r=r.insert(e,n)}).next(()=>r)}vr(e,t){let r=wQ,n=new bb(yU.comparator);return this.Cr(e,t,(e,t)=>{let i=this.Sr(e,t);r=r.insert(e,i),n=n.insert(e,SJ(t))}).next(()=>({documents:r,Fr:n}))}Cr(e,t,r){if(t.isEmpty())return vn.resolve();let n=new bS(Cs);t.forEach(e=>n=n.add(e));let i=IDBKeyRange.bound(Ci(n.first()),Ci(n.last())),o=n.getIterator(),s=o.getNext();return bg(e,vR).ee({index:vM,range:i},(e,t,n)=>{let i=yU.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&0>Cs(s,i);)r(s,null),s=o.getNext();s&&s.isEqual(i)&&(r(s,t),s=o.hasNext()?o.getNext():null),s?n.j(Ci(s)):n.done()}).next(()=>{for(;s;)r(s,null),s=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,r,n,i){let o=t.path,s=[o.popLast().toArray(),o.lastSegment(),Sh(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return bg(e,vR).H(IDBKeyRange.bound(s,a,!0)).next(e=>{i?.incrementDocumentReadCount(e.length);let r=wQ;for(let i of e){let e=this.Sr(yU.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(wq(t,e)||n.has(e.key))&&(r=r.insert(e.key,e))}return r})}getAllFromCollectionGroup(e,t,r,n){let i=wQ,o=Co(t,r),s=Co(t,y9.max());return bg(e,vR).ee({index:vL,range:IDBKeyRange.bound(o,s,!0)},(e,t,r)=>{let o=this.Sr(yU.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(i=i.insert(o.key,o)).size===n&&r.done()}).next(()=>i)}newChangeBuffer(e){return new Cn(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return bg(e,vz).get(vV).next(e=>(yw(!!e,20021),e))}br(e,t){return bg(e,vz).put(vV,t)}Sr(e,t){if(t){let e=function(e,t){var r;let n,i;if(t.document)n=x9(e.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){let e=yU.fromSegments(t.noDocument.path),r=Sf(t.noDocument.readTime);n=wi.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return yv(56709);{let e=yU.fromSegments(t.unknownDocument.path),r=Sf(t.unknownDocument.version);n=wi.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime((i=new yY((r=t.readTime)[0],r[1]),yZ.fromTimestamp(i))),n}(this.serializer,t);if(!(e.isNoDocument()&&e.version.isEqual(yZ.min())))return e}return wi.newInvalidDocument(e)}}class Cn extends Ct{constructor(e,t){super(),this.Mr=e,this.trackRemovals=t,this.Or=new wH(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){let t=[],r=0,n=new bS((e,t)=>yP(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,o)=>{let s=this.Or.get(i);if(t.push(this.Mr.removeEntry(e,i,s.readTime)),o.isValidDocument()){let a=Sc(this.Mr.serializer,o);n=n.add(i.path.popLast());let l=SJ(a);r+=l-s.size,t.push(this.Mr.addEntry(e,i,a))}else if(r-=s.size,this.trackRemovals){let r=Sc(this.Mr.serializer,o.convertToNoDocument(yZ.min()));t.push(this.Mr.addEntry(e,i,r))}}),n.forEach(r=>{t.push(this.Mr.indexManager.addToCollectionParentIndex(e,r))}),t.push(this.Mr.updateMetadata(e,r)),vn.waitFor(t)}getFromCache(e,t){return this.Mr.Dr(e,t).next(e=>(this.Or.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.Mr.vr(e,t).next(({documents:e,Fr:t})=>(t.forEach((t,r)=>{this.Or.set(t,{size:r,readTime:e.get(t).readTime})}),e))}}function Ci(e){let t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Co(e,t){let r=t.documentKey.path.toArray();return[e,Sh(t.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Cs(e,t){let r=e.path.toArray(),n=t.path.toArray(),i=0;for(let e=0;e<r.length-2&&e<n.length-2;++e)if(i=yP(r[e],n[e]))return i;return(i=yP(r.length,n.length))||(i=yP(r[r.length-2],n[n.length-2]))||yP(r[r.length-1],n[n.length-1])}class Ca{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Cl{constructor(e,t,r,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=n}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(n=>(r=n,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==r&&xd(r.mutation,e,b_.empty(),yY.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,w2()).next(()=>t))}getLocalViewOfDocuments(e,t,r=w2()){let n=wZ();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,r).next(e=>{let t=wJ();return e.forEach((e,r)=>{t=t.insert(e,r.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){let r=wZ();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,w2()))}populateOverlays(e,t,r){let n=[];return r.forEach(e=>{t.has(e)||n.push(e)}),this.documentOverlayCache.getOverlays(e,n).next(e=>{e.forEach((e,r)=>{t.set(e,r)})})}computeViews(e,t,r,n){let i=wQ,o=wZ(),s=wZ();return t.forEach((e,t)=>{let s=r.get(t.key);n.has(t.key)&&(void 0===s||s.mutation instanceof xg)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),xd(s.mutation,t,s.mutation.getFieldMask(),yY.now())):o.set(t.key,b_.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>s.set(e,new Ca(t,o.get(e)??null))),s))}recalculateAndSaveOverlays(e,t){let r=wZ(),n=new bb((e,t)=>e-t),i=w2();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(let i of e)i.keys().forEach(e=>{let o=t.get(e);if(null===o)return;let s=r.get(e)||b_.empty();s=i.applyToLocalView(o,s),r.set(e,s);let a=(n.get(i.batchId)||w2()).add(e);n=n.insert(i.batchId,a)})}).next(()=>{let o=[],s=n.getReverseIterator();for(;s.hasNext();){let n=s.getNext(),a=n.key,l=n.value,u=wZ();l.forEach(e=>{if(!i.has(e)){let n=xh(t.get(e),r.get(e));null!==n&&u.set(e,n),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,a,u))}return vn.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,r,n){return yU.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):wM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,n):this.getDocumentsMatchingCollectionQuery(e,t,r,n)}getNextDocuments(e,t,r,n){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,n).next(i=>{let o=n-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,n-i.size):vn.resolve(wZ()),s=-1,a=i;return o.next(t=>vn.forEach(t,(t,r)=>(s<r.largestBatchId&&(s=r.largestBatchId),i.get(t)?vn.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,w2())).next(e=>({batchId:s,changes:wY(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new yU(t)).next(e=>{let t=wJ();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,r,n){let i=t.collectionGroup,o=wJ();return this.indexManager.getCollectionParents(e,i).next(s=>vn.forEach(s,s=>{let a=new wP(s.child(i),null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt);return this.getDocumentsMatchingCollectionQuery(e,a,r,n).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,n){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,n))).next(e=>{i.forEach((t,r)=>{let n=r.getKey();null===e.get(n)&&(e=e.insert(n,wi.newInvalidDocument(n)))});let r=wJ();return e.forEach((e,n)=>{let o=i.get(e);void 0!==o&&xd(o.mutation,n,b_.empty(),yY.now()),wq(t,n)&&(r=r.insert(e,n))}),r})}}class Cu{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return vn.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,{id:t.id,version:t.version,createTime:xJ(t.createTime)}),vn.resolve()}getNamedQuery(e,t){return vn.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,{name:t.name,query:Sy(t.bundledQuery),readTime:xJ(t.readTime)}),vn.resolve()}}class Cc{constructor(){this.overlays=new bb(yU.comparator),this.Lr=new Map}getOverlay(e,t){return vn.resolve(this.overlays.get(t))}getOverlays(e,t){let r=wZ();return vn.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&r.set(t,e)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((r,n)=>{this.bt(e,t,n)}),vn.resolve()}removeOverlaysForBatchId(e,t,r){let n=this.Lr.get(r);return void 0!==n&&(n.forEach(e=>this.overlays=this.overlays.remove(e)),this.Lr.delete(r)),vn.resolve()}getOverlaysForCollection(e,t,r){let n=wZ(),i=t.length+1,o=new yU(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){let e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>r&&n.set(e.getKey(),e)}return vn.resolve(n)}getOverlaysForCollectionGroup(e,t,r,n){let i=new bb((e,t)=>e-t),o=this.overlays.getIterator();for(;o.hasNext();){let e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>r){let t=i.get(e.largestBatchId);null===t&&(t=wZ(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let s=wZ(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=n)););return vn.resolve(s)}bt(e,t,r){let n=this.overlays.get(r.key);if(null!==n){let e=this.Lr.get(n.largestBatchId).delete(r.key);this.Lr.set(n.largestBatchId,e)}this.overlays=this.overlays.insert(r.key,new xC(t,r));let i=this.Lr.get(t);void 0===i&&(i=w2(),this.Lr.set(t,i)),this.Lr.set(t,i.add(r.key))}}class Ch{constructor(){this.sessionToken=bT.EMPTY_BYTE_STRING}getSessionToken(e){return vn.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,vn.resolve()}}class Cd{constructor(){this.kr=new bS(Cf.Kr),this.qr=new bS(Cf.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){let r=new Cf(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Wr(new Cf(e,t))}Qr(e,t){e.forEach(e=>this.removeReference(e,t))}Gr(e){let t=new yU(new yj([])),r=new Cf(t,e),n=new Cf(t,e+1),i=[];return this.qr.forEachInRange([r,n],e=>{this.Wr(e),i.push(e.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){let t=new yU(new yj([])),r=new Cf(t,e),n=new Cf(t,e+1),i=w2();return this.qr.forEachInRange([r,n],e=>{i=i.add(e.key)}),i}containsKey(e){let t=new Cf(e,0),r=this.kr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Cf{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return yU.comparator(e.key,t.key)||yP(e.Hr,t.Hr)}static Ur(e,t){return yP(e.Hr,t.Hr)||yU.comparator(e.key,t.key)}}class Cp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new bS(Cf.Kr)}checkEmpty(e){return vn.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,n){let i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new xx(i,t,r,n);for(let t of(this.mutationQueue.push(o),n))this.Jr=this.Jr.add(new Cf(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return vn.resolve(o)}lookupMutationBatch(e,t){return vn.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=this.Xr(t+1),n=r<0?0:r;return vn.resolve(this.mutationQueue.length>n?this.mutationQueue[n]:null)}getHighestUnacknowledgedBatchId(){return vn.resolve(0===this.mutationQueue.length?-1:this.Yn-1)}getAllMutationBatches(e){return vn.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Cf(t,0),n=new Cf(t,1/0),i=[];return this.Jr.forEachInRange([r,n],e=>{let t=this.Zr(e.Hr);i.push(t)}),vn.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bS(yP);return t.forEach(e=>{let t=new Cf(e,0),n=new Cf(e,1/0);this.Jr.forEachInRange([t,n],e=>{r=r.add(e.Hr)})}),vn.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,n=r.length+1,i=r;yU.isDocumentKey(i)||(i=i.child(""));let o=new Cf(new yU(i),0),s=new bS(yP);return this.Jr.forEachWhile(e=>{let t=e.key.path;return!!r.isPrefixOf(t)&&(t.length===n&&(s=s.add(e.Hr)),!0)},o),vn.resolve(this.Yr(s))}Yr(e){let t=[];return e.forEach(e=>{let r=this.Zr(e);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){yw(0===this.ei(t.batchId,"removed"),55003),this.mutationQueue.shift();let r=this.Jr;return vn.forEach(t.mutations,n=>{let i=new Cf(n.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,n.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,t){let r=new Cf(t,0),n=this.Jr.firstAfterOrEqual(r);return vn.resolve(t.isEqual(n&&n.key))}performConsistencyCheck(e){return this.mutationQueue.length,vn.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Cg{constructor(e){this.ti=e,this.docs=new bb(yU.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,n=this.docs.get(r),i=n?n.size:0,o=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return vn.resolve(r?r.document.mutableCopy():wi.newInvalidDocument(t))}getEntries(e,t){let r=wQ;return t.forEach(e=>{let t=this.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():wi.newInvalidDocument(e))}),vn.resolve(r)}getDocumentsMatchingQuery(e,t,r,n){let i=wQ,o=t.path,s=new yU(o.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){let{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||0>=y7(y8(s),r)||(n.has(s.key)||wq(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return vn.resolve(i)}getAllFromCollectionGroup(e,t,r,n){yv(9500)}ni(e,t){return vn.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Cm(this)}getSize(e){return vn.resolve(this.size)}}class Cm extends Ct{constructor(e){super(),this.Mr=e}applyChanges(e){let t=[];return this.changes.forEach((r,n)=>{n.isValidDocument()?t.push(this.Mr.addEntry(e,n)):this.Mr.removeEntry(r)}),vn.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class Cy{constructor(e){this.persistence=e,this.ri=new wH(e=>wT(e),wE),this.lastRemoteSnapshotVersion=yZ.min(),this.highestTargetId=0,this.ii=0,this.si=new Cd,this.targetCount=0,this.oi=S1._r()}forEachTarget(e,t){return this.ri.forEach((e,r)=>t(r)),vn.resolve()}getLastRemoteSnapshotVersion(e){return vn.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return vn.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),vn.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),vn.resolve()}lr(e){this.ri.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.oi=new S1(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,vn.resolve()}updateTargetData(e,t){return this.lr(t),vn.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,vn.resolve()}removeTargets(e,t,r){let n=0,i=[];return this.ri.forEach((o,s)=>{s.sequenceNumber<=t&&null===r.get(s.targetId)&&(this.ri.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),n++)}),vn.waitFor(i).next(()=>n)}getTargetCount(e){return vn.resolve(this.targetCount)}getTargetData(e,t){let r=this.ri.get(t)||null;return vn.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),vn.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);let n=this.persistence.referenceDelegate,i=[];return n&&t.forEach(t=>{i.push(n.markPotentiallyOrphaned(e,t))}),vn.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),vn.resolve()}getMatchingKeysForTargetId(e,t){let r=this.si.jr(t);return vn.resolve(r)}containsKey(e,t){return vn.resolve(this.si.containsKey(t))}}class Cv{constructor(e,t){this._i={},this.overlays={},this.ai=new vv(0),this.ui=!1,this.ui=!0,this.ci=new Ch,this.referenceDelegate=e(this),this.li=new Cy(this),this.indexManager=new SU,this.remoteDocumentCache=new Cg(e=>this.referenceDelegate.hi(e)),this.serializer=new Su(t),this.Pi=new Cu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Cc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new Cp(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){yp("MemoryPersistence","Starting transaction:",e);let n=new Cb(this.ai.next());return this.referenceDelegate.Ti(),r(n).next(e=>this.referenceDelegate.Ii(n).next(()=>e)).toPromise().then(e=>(n.raiseOnCommittedEvent(),e))}Ei(e,t){return vn.or(Object.values(this._i).map(r=>()=>r.containsKey(e,t)))}}class Cb extends vt{constructor(e){super(),this.currentSequenceNumber=e}}class Cw{constructor(e){this.persistence=e,this.Ri=new Cd,this.Ai=null}static Vi(e){return new Cw(e)}get di(){if(this.Ai)return this.Ai;throw yv(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),vn.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),vn.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),vn.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach(e=>this.di.add(e.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.di.add(e.toString()))}).next(()=>r.removeTargetData(e,t))}Ti(){this.Ai=new Set}Ii(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vn.forEach(this.di,r=>{let n=yU.fromPath(r);return this.mi(e,n).next(e=>{e||t.removeEntry(n,yZ.min())})}).next(()=>(this.Ai=null,t.apply(e)))}updateLimboDocument(e,t){return this.mi(e,t).next(e=>{e?this.di.delete(t.toString()):this.di.add(t.toString())})}hi(e){return 0}mi(e,t){return vn.or([()=>vn.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Cx{constructor(e,t){this.persistence=e,this.fi=new wH(e=>vS(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=new S9(this,t)}static Vi(e,t){return new Cx(e,t)}Ti(){}Ii(e){return vn.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){let t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}pr(e){let t=0;return this.mr(e,e=>{t++}).next(()=>t)}mr(e,t){return vn.forEach(this.fi,(r,n)=>this.wr(e,r,n).next(e=>e?vn.resolve():t(n)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,n=this.persistence.getRemoteDocumentCache(),i=n.newChangeBuffer();return n.ni(e,n=>this.wr(e,n,t).next(e=>{e||(r++,i.removeEntry(n,yZ.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),vn.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),vn.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),vn.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),vn.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=function e(t){switch(bH(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let r=bB(t);return r?16+e(r):16;case 5:return 2*t.stringValue.length;case 6:return bF(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(t.arrayValue.values||[]).reduce((t,r)=>t+e(r),0);case 10:case 11:var n;let i;return n=t.mapValue,i=0,by(n.fields,(t,r)=>{i+=t.length+e(r)}),i;default:throw yv(13486,{value:t})}}(e.data.value)),t}wr(e,t,r){return vn.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let e=this.fi.get(t);return vn.resolve(void 0!==e&&e>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class CS{constructor(e){this.serializer=e}k(e,t,r,n){let i=new vo("createOrUpgrade",t);r<1&&n>=1&&(e.createObjectStore(v_),e.createObjectStore(vT,{keyPath:"userId"}),e.createObjectStore(vE,{keyPath:vI,autoIncrement:!0}).createIndex(vD,vF,{unique:!0}),e.createObjectStore(vP),CC(e),e.createObjectStore(vk));let o=vn.resolve();return r<3&&n>=3&&(0!==r&&(e.deleteObjectStore(vq),e.deleteObjectStore(vU),e.deleteObjectStore(vX),CC(e)),o=o.next(()=>{let e,t;return e=i.store(vX),t={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:yZ.min().toTimestamp(),targetCount:0},e.put(vQ,t)})),r<4&&n>=4&&(0!==r&&(o=o.next(()=>i.store(vE).H().next(t=>{e.deleteObjectStore(vE),e.createObjectStore(vE,{keyPath:vI,autoIncrement:!0}).createIndex(vD,vF,{unique:!0});let r=i.store(vE),n=t.map(e=>r.put(e));return vn.waitFor(n)}))),o=o.next(()=>{e.createObjectStore(vZ,{keyPath:"clientId"})})),r<5&&n>=5&&(o=o.next(()=>this.gi(i))),r<6&&n>=6&&(o=o.next(()=>(e.createObjectStore(vz),this.pi(i)))),r<7&&n>=7&&(o=o.next(()=>this.yi(i))),r<8&&n>=8&&(o=o.next(()=>this.wi(e,i))),r<9&&n>=9&&(o=o.next(()=>{e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")})),r<10&&n>=10&&(o=o.next(()=>this.bi(i))),r<11&&n>=11&&(o=o.next(()=>{e.createObjectStore(v0,{keyPath:"bundleId"}),e.createObjectStore(v1,{keyPath:"name"})})),r<12&&n>=12&&(o=o.next(()=>{let t;(t=e.createObjectStore(br,{keyPath:bn})).createIndex(bi,bo,{unique:!1}),t.createIndex(bs,ba,{unique:!1})})),r<13&&n>=13&&(o=o.next(()=>{let t;(t=e.createObjectStore(vR,{keyPath:vO})).createIndex(vM,vB),t.createIndex(vL,vj)}).next(()=>this.Si(e,i)).next(()=>e.deleteObjectStore(vk))),r<14&&n>=14&&(o=o.next(()=>this.Di(e,i))),r<15&&n>=15&&(o=o.next(()=>{e.createObjectStore(v2,{keyPath:"indexId",autoIncrement:!0}).createIndex(v5,"collectionGroup",{unique:!1}),e.createObjectStore(v3,{keyPath:v4}).createIndex(v6,v8,{unique:!1}),e.createObjectStore(v9,{keyPath:v7}).createIndex(be,bt,{unique:!1})})),r<16&&n>=16&&(o=o.next(()=>{t.objectStore(v3).clear()}).next(()=>{t.objectStore(v9).clear()})),r<17&&n>=17&&(o=o.next(()=>{e.createObjectStore(bl,{keyPath:"name"})})),r<18&&n>=18&&g9()&&(o=o.next(()=>{t.objectStore(v3).clear()}).next(()=>{t.objectStore(v9).clear()})),o}pi(e){let t=0;return e.store(vk).ee((e,r)=>{t+=SJ(r)}).next(()=>{let r={byteSize:t};return e.store(vz).put(vV,r)})}gi(e){let t=e.store(vT),r=e.store(vE);return t.H().next(t=>vn.forEach(t,t=>{let n=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return r.H(vD,n).next(r=>vn.forEach(r,r=>{yw(r.userId===t.userId,18650,"Cannot process batch from unexpected user",{batchId:r.batchId});let n=Sp(this.serializer,r);return SX(e,t.userId,n).next(()=>{})}))}))}yi(e){let t=e.store(vq),r=e.store(vk);return e.store(vX).get(vQ).next(e=>{let n=[];return r.ee((r,i)=>{let o=new yj(r),s=[0,vS(o)];n.push(t.get(s).next(r=>r?vn.resolve():t.put({targetId:0,path:vS(o),sequenceNumber:e.highestListenSequenceNumber})))}).next(()=>vn.waitFor(n))})}wi(e,t){e.createObjectStore(vJ,{keyPath:vY});let r=t.store(vJ),n=new S$,i=e=>{if(n.add(e)){let t=e.lastSegment(),n=e.popLast();return r.put({collectionId:t,parent:vS(n)})}};return t.store(vk).ee({Y:!0},(e,t)=>i(new yj(e).popLast())).next(()=>t.store(vP).ee({Y:!0},([e,t,r],n)=>i(vC(t).popLast())))}bi(e){let t=e.store(vU);return t.ee((e,r)=>{let n=Sg(r),i=Sm(this.serializer,n);return t.put(i)})}Si(e,t){let r=t.store(vk),n=[];return r.ee((e,r)=>{let i=t.store(vR),o=(r.document?new yU(yj.fromString(r.document.name).popFirst(5)):r.noDocument?yU.fromSegments(r.noDocument.path):r.unknownDocument?yU.fromSegments(r.unknownDocument.path):yv(36783)).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:r.readTime||[0,0],unknownDocument:r.unknownDocument,noDocument:r.noDocument,document:r.document,hasCommittedMutations:!!r.hasCommittedMutations};n.push(i.put(s))}).next(()=>vn.waitFor(n))}Di(e,t){let r=t.store(vE),n=new Cr(this.serializer),i=new Cv(Cw.Vi,this.serializer.yt);return r.H().next(e=>{let r=new Map;return e.forEach(e=>{let t=r.get(e.userId)??w2();Sp(this.serializer,e).keys().forEach(e=>t=t.add(e)),r.set(e.userId,t)}),vn.forEach(r,(e,r)=>{let o=new yc(r),s=SS.wt(this.serializer,o),a=i.getIndexManager(o);return new Cl(n,SY.wt(o,this.serializer,a,i.referenceDelegate),s,a).recalculateAndSaveOverlaysForDocumentKeys(new bp(t,vv.ce),e).next()})})}}function CC(e){e.createObjectStore(vq,{keyPath:vK}).createIndex(vG,vH,{unique:!0}),e.createObjectStore(vU,{keyPath:"targetId"}).createIndex(v$,vW,{unique:!0}),e.createObjectStore(vX)}let Ck="IndexedDbPersistence",C_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class CA{constructor(e,t,r,n,i,o,s,a,l,u,c=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ci=i,this.window=o,this.document=s,this.Fi=l,this.Mi=u,this.xi=c,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=-1/0,this.ki=e=>Promise.resolve(),!CA.v())throw new yS(yx.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new S7(this,n),this.Ki=t+"main",this.serializer=new Su(a),this.qi=new vs(this.Ki,this.xi,new CS(this.serializer)),this.ci=new SC,this.li=new S2(this.referenceDelegate,this.serializer),this.remoteDocumentCache=new Cr(this.serializer),this.Pi=new Sx,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,!1===u&&yg(Ck,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new yS(yx.FAILED_PRECONDITION,C_);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.li.getHighestSequenceNumber(e))}).then(e=>{this.ai=new vv(e,this.Fi)}).then(()=>{this.ui=!0}).catch(e=>(this.qi&&this.qi.close(),Promise.reject(e)))}zi(e){return this.ki=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget(async()=>{this.started&&await this.$i()}))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>bg(e,vZ).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ji(e).next(e=>{e||(this.isPrimary=!1,this.Ci.enqueueRetryable(()=>this.ki(!1)))})}).next(()=>this.Hi(e)).next(t=>this.isPrimary&&!t?this.Ji(e).next(()=>!1):!!t&&this.Zi(e).next(()=>!0))).catch(e=>{if(vc(e))return yp(Ck,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return yp(Ck,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable(()=>this.ki(e)),this.isPrimary=e})}ji(e){return bg(e,v_).get(vA).next(e=>vn.resolve(this.Xi(e)))}Yi(e){return bg(e,vZ).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,18e5)){this.Li=Date.now();let e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{let t=bg(e,vZ);return t.H().next(e=>{let r=this.ns(e,18e5),n=e.filter(e=>-1===r.indexOf(e));return vn.forEach(n,e=>t.delete(e.clientId)).next(()=>n)})}).catch(()=>[]);if(this.Ui)for(let t of e)this.Ui.removeItem(this.rs(t.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.$i().then(()=>this.es()).then(()=>this.Gi()))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?vn.resolve(!0):bg(e,v_).get(vA).next(t=>{if(null!==t&&this.ts(t.leaseTimestampMs,5e3)&&!this.ss(t.ownerId)){if(this.Xi(t)&&this.networkEnabled)return!0;if(!this.Xi(t)){if(!t.allowTabSynchronization)throw new yS(yx.FAILED_PRECONDITION,C_);return!1}}return!(!this.networkEnabled||!this.inForeground)||bg(e,vZ).H().next(e=>void 0===this.ns(e,5e3).find(e=>{if(this.clientId!==e.clientId){let t=!this.networkEnabled&&e.networkEnabled,r=!this.inForeground&&e.inForeground,n=this.networkEnabled===e.networkEnabled;if(t||r&&n)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&yp(Ck,`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[v_,vZ],e=>{let t=new bp(e,vv.ce);return this.Ji(t).next(()=>this.Yi(t))}),this.qi.close(),this.ls()}ns(e,t){return e.filter(e=>this.ts(e.updateTimeMs,t)&&!this.ss(e.clientId))}hs(){return this.runTransaction("getActiveClients","readonly",e=>bg(e,vZ).H().next(e=>this.ns(e,18e5).map(e=>e.clientId)))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,t){return SY.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new SK(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return SS.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,t,r){var n;let i;yp(Ck,"Starting transaction:",e);let o=18===(n=this.xi)||17===n?bf:16===n||15===n?bd:14===n||13===n?bh:12===n?bc:11===n?bu:void yv(60245);return this.qi.runTransaction(e,"readonly"===t?"readonly":"readwrite",o,n=>(i=new bp(n,this.ai?this.ai.next():vv.ce),"readwrite-primary"===t?this.ji(i).next(e=>!!e||this.Hi(i)).next(t=>{if(!t)throw yg(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable(()=>this.ki(!1)),new yS(yx.FAILED_PRECONDITION,ve);return r(i)}).next(e=>this.Zi(i).next(()=>e)):this.Ps(i).next(()=>r(i)))).then(e=>(i.raiseOnCommittedEvent(),e))}Ps(e){return bg(e,v_).get(vA).next(e=>{if(null!==e&&this.ts(e.leaseTimestampMs,5e3)&&!this.ss(e.ownerId)&&!this.Xi(e)&&!(this.Mi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new yS(yx.FAILED_PRECONDITION,C_)})}Zi(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return bg(e,v_).put(vA,t)}static v(){return vs.v()}Ji(e){let t=bg(e,v_);return t.get(vA).next(e=>this.Xi(e)?(yp(Ck,"Releasing primary lease."),t.delete(vA)):vn.resolve())}ts(e,t){let r=Date.now();return!(e<r-t)&&(!(e>r)||(yg(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ni=()=>{this.Ci.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.$i()))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground="visible"===this.document.visibilityState)}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){"function"==typeof this.window?.addEventListener&&(this.Oi=()=>{this._s();let e=/(?:Version|Mobile)\/1[456]/;g8()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){try{let t=null!==this.Ui?.getItem(this.rs(e));return yp(Ck,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(e){return yg(Ck,"Failed to get zombied client id.",e),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){yg("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch(e){}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function CT(e,t){let r=e.projectId;return e.isDefaultDatabase||(r+="."+e.database),"firestore/"+t+"/"+r+"/"}class CE{constructor(e,t,r,n){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=n}static Es(e,t){let r=w2(),n=w2();for(let e of t.docChanges)switch(e.type){case 0:r=r.add(e.doc.key);break;case 1:n=n.add(e.doc.key)}return new CE(e,t.fromCache,r,n)}}class CI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class CD{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=g8()?8:va(g3())>0?6:4}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,n){let i={result:null};return this.gs(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ps(e,t,n,r).next(e=>{i.result=e})}).next(()=>{if(i.result)return;let r=new CI;return this.ys(e,t,r).next(n=>{if(i.result=n,this.As)return this.ws(e,t,r,n.size)})}).next(()=>i.result)}ws(e,t,r,n){return r.documentReadCount<this.Vs?(yf()<=eS.DEBUG&&yp("QueryEngine","SDK will not create cache indexes for query:",wW(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),vn.resolve()):(yf()<=eS.DEBUG&&yp("QueryEngine","Query:",wW(t),"scans",r.documentReadCount,"local documents and returns",n,"documents as results."),r.documentReadCount>this.ds*n?(yf()<=eS.DEBUG&&yp("QueryEngine","The SDK decides to create cache indexes for query:",wW(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wL(t))):vn.resolve())}gs(e,t){if(wO(t))return vn.resolve(null);let r=wL(t);return this.indexManager.getIndexType(e,r).next(n=>0===n?null:(null!==t.limit&&1===n&&(r=wL(t=wV(t,null,"F"))),this.indexManager.getDocumentsMatchingTarget(e,r).next(n=>{let i=w2(...n);return this.fs.getDocuments(e,i).next(n=>this.indexManager.getMinOffset(e,r).next(r=>{let o=this.bs(t,n);return this.Ss(t,o,i,r.readTime)?this.gs(e,wV(t,null,"F")):this.Ds(e,o,t,r)}))})))}ps(e,t,r,n){return wO(t)||n.isEqual(yZ.min())?vn.resolve(null):this.fs.getDocuments(e,r).next(i=>{let o=this.bs(t,i);return this.Ss(t,o,r,n)?vn.resolve(null):(yf()<=eS.DEBUG&&yp("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),wW(t)),this.Ds(e,o,t,y6(n,-1)).next(e=>e))})}bs(e,t){let r=new bS(wG(e));return t.forEach((t,n)=>{wq(e,n)&&(r=r.add(n))}),r}Ss(e,t,r,n){if(null===e.limit)return!1;if(r.size!==t.size)return!0;let i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(n)>0)}ys(e,t,r){return yf()<=eS.DEBUG&&yp("QueryEngine","Using full collection scan to execute query:",wW(t)),this.fs.getDocumentsMatchingQuery(e,t,y9.min(),r)}Ds(e,t,r,n){return this.fs.getDocumentsMatchingQuery(e,r,n).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}let CF="LocalStore";class CN{constructor(e,t,r,n){this.persistence=e,this.Cs=t,this.serializer=n,this.vs=new bb(yP),this.Fs=new wH(e=>wT(e),wE),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cl(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.vs))}}async function CP(e,t){return await e.persistence.runTransaction("Handle user change","readonly",r=>{let n;return e.mutationQueue.getAllMutationBatches(r).next(i=>(n=i,e.Os(t),e.mutationQueue.getAllMutationBatches(r))).next(t=>{let i=[],o=[],s=w2();for(let e of n)for(let t of(i.push(e.batchId),e.mutations))s=s.add(t.key);for(let e of t)for(let t of(o.push(e.batchId),e.mutations))s=s.add(t.key);return e.localDocuments.getDocuments(r,s).next(e=>({Ns:e,removedBatchIds:i,addedBatchIds:o}))})})}function CR(e){return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.li.getLastRemoteSnapshotVersion(t))}function CO(e,t,r){let n=w2(),i=w2();return r.forEach(e=>n=n.add(e)),t.getEntries(e,n).next(e=>{let n=wQ;return r.forEach((r,o)=>{let s=e.get(r);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(r)),o.isNoDocument()&&o.version.isEqual(yZ.min())?(t.removeEntry(r,o.readTime),n=n.insert(r,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),n=n.insert(r,o)):yp(CF,"Ignoring outdated watch update for ",r,". Current version:",s.version," Watch version:",o.version)}),{Bs:n,Ls:i}})}function CM(e,t){return e.persistence.runTransaction("Allocate target","readwrite",r=>{let n;return e.li.getTargetData(r,t).next(i=>i?(n=i,vn.resolve(n)):e.li.allocateTargetId(r).next(i=>(n=new Sl(t,i,"TargetPurposeListen",r.currentSequenceNumber),e.li.addTargetData(r,n).next(()=>n))))}).then(r=>{let n=e.vs.get(r.targetId);return(null===n||r.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(e.vs=e.vs.insert(r.targetId,r),e.Fs.set(t,r.targetId)),r})}async function CB(e,t,r){let n=e.vs.get(t);try{r||await e.persistence.runTransaction("Release target",r?"readwrite":"readwrite-primary",t=>e.persistence.referenceDelegate.removeTarget(t,n))}catch(e){if(!vc(e))throw e;yp(CF,`Failed to update sequence numbers for target ${t}: ${e}`)}e.vs=e.vs.remove(t),e.Fs.delete(n.target)}function CL(e,t,r){let n=yZ.min(),i=w2();return e.persistence.runTransaction("Execute query","readwrite",o=>{var s;let a;return(s=wL(t),void 0!==(a=e.Fs.get(s))?vn.resolve(e.vs.get(a)):e.li.getTargetData(o,s)).next(t=>{if(t)return n=t.lastLimboFreeSnapshotVersion,e.li.getMatchingKeysForTargetId(o,t.targetId).next(e=>{i=e})}).next(()=>e.Cs.getDocumentsMatchingQuery(o,t,r?n:yZ.min(),r?i:w2())).next(r=>(CV(e,wK(t),r),{documents:r,ks:i}))})}function Cj(e,t){let r=e.li,n=e.vs.get(t);return n?Promise.resolve(n.target):e.persistence.runTransaction("Get target data","readonly",e=>r.At(e,t).next(e=>e?e.target:null))}function Cz(e,t){let r=e.Ms.get(t)||yZ.min();return e.persistence.runTransaction("Get new document changes","readonly",n=>e.xs.getAllFromCollectionGroup(n,t,y6(r,-1),Number.MAX_SAFE_INTEGER)).then(r=>(CV(e,t,r),r))}function CV(e,t,r){let n=e.Ms.get(t)||yZ.min();r.forEach((e,t)=>{t.readTime.compareTo(n)>0&&(n=t.readTime)}),e.Ms.set(t,n)}async function CU(e,t,r,n){let i=w2(),o=wQ;for(let e of r){let r=t.Ks(e.metadata.name);e.document&&(i=i.add(r));let n=t.qs(e);n.setReadTime(t.Us(e.metadata.readTime)),o=o.insert(r,n)}let s=e.xs.newChangeBuffer({trackRemovals:!0}),a=await CM(e,wL(wR(yj.fromString(`__bundle__/docs/${n}`))));return e.persistence.runTransaction("Apply bundle documents","readwrite",t=>CO(t,s,o).next(e=>(s.apply(t),e)).next(r=>e.li.removeMatchingKeysForTargetId(t,a.targetId).next(()=>e.li.addMatchingKeys(t,i,a.targetId)).next(()=>e.localDocuments.getLocalViewOfDocuments(t,r.Bs,r.Ls)).next(()=>r.Bs)))}async function C$(e,t,r=w2()){let n=await CM(e,wL(Sy(t.bundledQuery)));return e.persistence.runTransaction("Save named query","readwrite",i=>{let o=xJ(t.readTime);if(n.snapshotVersion.compareTo(o)>=0)return e.Pi.saveNamedQuery(i,t);let s=n.withResumeToken(bT.EMPTY_BYTE_STRING,o);return e.vs=e.vs.insert(s.targetId,s),e.li.updateTargetData(i,s).next(()=>e.li.removeMatchingKeysForTargetId(i,n.targetId)).next(()=>e.li.addMatchingKeys(i,r,n.targetId)).next(()=>e.Pi.saveNamedQuery(i,t))})}let CW="firestore_clients";function Cq(e,t){return`${CW}_${e}_${t}`}let CK="firestore_mutations";function CG(e,t,r){let n=`${CK}_${e}_${r}`;return t.isAuthenticated()&&(n+=`_${t.uid}`),n}let CH="firestore_targets";function CQ(e,t){return`${CH}_${e}_${t}`}let CX="SharedClientState";class CJ{constructor(e,t,r,n){this.user=e,this.batchId=t,this.state=r,this.error=n}static $s(e,t,r){let n=JSON.parse(r),i,o="object"==typeof n&&-1!==["pending","acknowledged","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return o&&n.error&&(o="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(i=new yS(n.error.code,n.error.message)),o?new CJ(e,t,n.state,i):(yg(CX,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ws(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class CY{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static $s(e,t){let r=JSON.parse(t),n,i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(n=new yS(r.error.code,r.error.message)),i?new CY(e,r.state,n):(yg(CX,`Failed to parse target state for ID '${e}': ${t}`),null)}Ws(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class CZ{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){let r=JSON.parse(t),n="object"==typeof r&&r.activeTargetIds instanceof Array,i=w5;for(let e=0;n&&e<r.activeTargetIds.length;++e)n=vx(r.activeTargetIds[e]),i=i.add(r.activeTargetIds[e]);return n?new CZ(e,i):(yg(CX,`Failed to parse client data for instance '${e}': ${t}`),null)}}class C0{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){let t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new C0(t.clientId,t.onlineState):(yg(CX,`Failed to parse online state: ${e}`),null)}}class C1{constructor(){this.activeTargetIds=w5}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){return JSON.stringify({activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()})}}class C2{constructor(e,t,r,n,i){var o,s,a;this.window=e,this.Ci=t,this.persistenceKey=r,this.zs=n,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new bb(yP),this.started=!1,this.Zs=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Xs=Cq(this.persistenceKey,this.zs),this.Ys=(o=this.persistenceKey,`firestore_sequence_number_${o}`),this.Js=this.Js.insert(this.zs,new C1),this.eo=RegExp(`^${CW}_${l}_([^_]*)$`),this.no=RegExp(`^${CK}_${l}_(\\d+)(?:_(.*))?$`),this.ro=RegExp(`^${CH}_${l}_(\\d+)$`),this.io=(s=this.persistenceKey,`firestore_online_state_${s}`),this.so=(a=this.persistenceKey,`firestore_bundle_loaded_v2_${a}`),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){for(let e of(await this.syncEngine.hs())){if(e===this.zs)continue;let t=this.getItem(Cq(this.persistenceKey,e));if(t){let r=CZ.$s(e,t);r&&(this.Js=this.Js.insert(r.clientId,r))}}this.oo();let e=this.storage.getItem(this.io);if(e){let t=this._o(e);t&&this.ao(t)}for(let e of this.Zs)this.Hs(e);this.Zs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let t=!1;return this.Js.forEach((r,n)=>{n.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,t,r){this.co(e,t,r),this.lo(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){let t=this.storage.getItem(CQ(this.persistenceKey,e));if(t){let n=CY.$s(e,t);n&&(r=n.state)}}return t&&this.ho.Qs(e),this.oo(),r}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(CQ(this.persistenceKey,e))}updateQueryState(e,t,r){this.Po(e,t,r)}handleUserChange(e,t,r){t.forEach(e=>{this.lo(e)}),this.currentUser=e,r.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){let t=this.storage.getItem(e);return yp(CX,"READ",e,t),t}setItem(e,t){yp(CX,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){yp(CX,"REMOVE",e),this.storage.removeItem(e)}Hs(e){if(e.storageArea===this.storage){if(yp(CX,"EVENT",e.key,e.newValue),e.key===this.Xs)return void yg("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable(async()=>{if(this.started){if(null!==e.key){if(this.eo.test(e.key)){if(null==e.newValue){let t=this.Eo(e.key);return this.Ro(t,null)}{let t=this.Ao(e.key,e.newValue);if(t)return this.Ro(t.clientId,t)}}else if(this.no.test(e.key)){if(null!==e.newValue){let t=this.Vo(e.key,e.newValue);if(t)return this.mo(t)}}else if(this.ro.test(e.key)){if(null!==e.newValue){let t=this.fo(e.key,e.newValue);if(t)return this.po(t)}}else if(e.key===this.io){if(null!==e.newValue){let t=this._o(e.newValue);if(t)return this.ao(t)}}else if(e.key===this.Ys){let t=function(e){let t=vv.ce;if(null!=e)try{let r=JSON.parse(e);yw("number"==typeof r,30636,{yo:e}),t=r}catch(e){yg(CX,"Failed to read sequence number from WebStorage",e)}return t}(e.newValue);t!==vv.ce&&this.sequenceNumberHandler(t)}else if(e.key===this.so){let t=this.wo(e.newValue);await Promise.all(t.map(e=>this.syncEngine.bo(e)))}}}else this.Zs.push(e)})}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,t,r){let n=new CJ(this.currentUser,e,t,r),i=CG(this.persistenceKey,this.currentUser,e);this.setItem(i,n.Ws())}lo(e){let t=CG(this.persistenceKey,this.currentUser,e);this.removeItem(t)}To(e){let t={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(t))}Po(e,t,r){let n=CQ(this.persistenceKey,e),i=new CY(e,t,r);this.setItem(n,i.Ws())}Io(e){let t=JSON.stringify(Array.from(e));this.setItem(this.so,t)}Eo(e){let t=this.eo.exec(e);return t?t[1]:null}Ao(e,t){let r=this.Eo(e);return CZ.$s(r,t)}Vo(e,t){let r=this.no.exec(e),n=Number(r[1]),i=void 0!==r[2]?r[2]:null;return CJ.$s(new yc(i),n,t)}fo(e,t){let r=Number(this.ro.exec(e)[1]);return CY.$s(r,t)}_o(e){return C0.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);yp(CX,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,t){let r=t?this.Js.insert(e,t):this.Js.remove(e),n=this.uo(this.Js),i=this.uo(r),o=[],s=[];return i.forEach(e=>{n.has(e)||o.push(e)}),n.forEach(e=>{i.has(e)||s.push(e)}),this.syncEngine.Co(o,s).then(()=>{this.Js=r})}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let t=w5;return e.forEach((e,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class C5{constructor(){this.vo=new C1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new C1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class C3{Mo(e){}shutdown(){}}let C4="ConnectivityMonitor";class C6{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){for(let e of(yp(C4,"Network connectivity changed: AVAILABLE"),this.Lo))e(0)}Bo(){for(let e of(yp(C4,"Network connectivity changed: UNAVAILABLE"),this.Lo))e(1)}static v(){return"u">typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let C8=null;function C9(){return null===C8?C8=0x10000000+Math.round(0x80000000*Math.random()):C8++,"0x"+C8.toString(16)}let C7="RestConnection",ke={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class kt{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),n=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${n}`,this.$o=this.databaseId.database===bz?`project_id=${r}`:`project_id=${r}&database_id=${n}`}Wo(e,t,r,n,i){let o=C9(),s=this.Qo(e,t.toUriEncodedString());yp(C7,`Sending RPC '${e}' ${o}:`,s,r);let a={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(a,n,i);let{host:l}=new URL(s),u=g0(l);return this.zo(e,s,a,r,u).then(t=>(yp(C7,`Received RPC '${e}' ${o}: `,t),t),t=>{throw ym(C7,`RPC '${e}' ${o} failed with error: `,t,"url: ",s,"request:",r),t})}jo(e,t,r,n,i,o){return this.Wo(e,t,r,n,i)}Go(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+yh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,r)=>e[r]=t),r&&r.headers.forEach((t,r)=>e[r]=t)}Qo(e,t){let r=ke[e],n=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(n=`${n}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),n}terminate(){}}class kr{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}let kn="WebChannelConnection",ki=(e,t,r)=>{e.listen(t,e=>{try{r(e)}catch(e){setTimeout(()=>{throw e},0)}})};class ko extends kt{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){ko.c_||(ki(eF(),eD.STAT_EVENT,e=>{e.stat===eI.PROXY?yp(kn,"STAT_EVENT: detected buffering proxy"):e.stat===eI.NOPROXY&&yp(kn,"STAT_EVENT: detected no buffering proxy")}),ko.c_=!0)}zo(e,t,r,n,i){let o=C9();return new Promise((i,s)=>{let a=new e_;a.setWithCredentials(!0),a.listenOnce(eT.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case eE.NO_ERROR:let t=a.getResponseJson();yp(kn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(t)),i(t);break;case eE.TIMEOUT:yp(kn,`RPC '${e}' ${o} timed out`),s(new yS(yx.DEADLINE_EXCEEDED,"Request time out"));break;case eE.HTTP_ERROR:let r=a.getStatus();if(yp(kn,`RPC '${e}' ${o} failed with status:`,r,"response text:",a.getResponseText()),r>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=e?.error;if(t&&t.status&&t.message){let e,r=(e=t.status.toLowerCase().replace(/_/g,"-"),Object.values(yx).indexOf(e)>=0?e:yx.UNKNOWN);s(new yS(r,t.message))}else s(new yS(yx.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new yS(yx.UNAVAILABLE,"Connection failed."));break;default:yv(9055,{l_:e,streamId:o,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{yp(kn,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(n);yp(kn,`RPC '${e}' ${o} sending request:`,n),a.send(t,"POST",l,r,15)})}T_(e,t,r){let n=C9(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},a=this.longPollingOptions.timeoutSeconds;void 0!==a&&(s.longPollingTimeout=Math.round(1e3*a)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Go(s.initMessageHeaders,t,r),s.encodeInitMessageHeaders=!0;let l=i.join("");yp(kn,`Creating RPC '${e}' stream ${n}: ${l}`,s);let u=o.createWebChannel(l,s);this.I_(u);let c=!1,h=!1,d=new kr({Ho:t=>{h?yp(kn,`Not sending because RPC '${e}' stream ${n} is closed:`,t):(c||(yp(kn,`Opening RPC '${e}' stream ${n} transport.`),u.open(),c=!0),yp(kn,`RPC '${e}' stream ${n} sending:`,t),u.send(t))},Jo:()=>u.close()});return ki(u,eA.EventType.OPEN,()=>{h||(yp(kn,`RPC '${e}' stream ${n} transport opened.`),d.i_())}),ki(u,eA.EventType.CLOSE,()=>{h||(h=!0,yp(kn,`RPC '${e}' stream ${n} transport closed`),d.o_(),this.E_(u))}),ki(u,eA.EventType.ERROR,t=>{h||(h=!0,ym(kn,`RPC '${e}' stream ${n} transport errored. Name:`,t.name,"Message:",t.message),d.o_(new yS(yx.UNAVAILABLE,"The operation could not be completed")))}),ki(u,eA.EventType.MESSAGE,t=>{if(!h){let r=t.data[0];yw(!!r,16349);let i=r?.error||r[0]?.error;if(i){yp(kn,`RPC '${e}' stream ${n} received error:`,i);let t=i.status,r=function(e){let t=eP[e];if(void 0!==t)return xT(t)}(t),o=i.message;void 0===r&&(r=yx.INTERNAL,o="Unknown error status: "+t+" with message "+i.message),h=!0,d.o_(new yS(r,o)),u.close()}else yp(kn,`RPC '${e}' stream ${n} received:`,r),d.__(r)}}),ko.u_(),setTimeout(()=>{d.s_()},0),d}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(t=>t===e)}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return eN()}}function ks(){return"u">typeof window?window:null}function ka(){return"u">typeof document?document:null}function kl(e){return new xG(e,!0)}ko.c_=!1;class ku{constructor(e,t,r=1e3,n=1.5,i=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=n,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();let t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),n=Math.max(0,t-r);n>0&&yp("ExponentialBackoff",`Backing off for ${n} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,n,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}let kc="PersistentStream";class kh{constructor(e,t,r,n,i,o,s,a){this.Ci=e,this.b_=r,this.S_=n,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ku(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===yx.RESOURCE_EXHAUSTED?(yg(t.toString()),yg("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===yx.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;let e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,r])=>{this.D_===t&&this.G_(e,r)},t=>{e(()=>{let e=new yS(yx.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){let r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(e=>{r(()=>this.z_(e))}),this.stream.onMessage(e=>{r(()=>1==++this.F_?this.H_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return yp(kc,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget(()=>this.D_===e?t():(yp(kc,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kd extends kh{constructor(e,t,r,n,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,n,o),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=function(e,t){let r;if("targetChange"in t){var n,i;t.targetChange;let o="NO_CHANGE"===(n=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===n?1:"REMOVE"===n?2:"CURRENT"===n?3:"RESET"===n?4:yv(39313,{state:n}),s=t.targetChange.targetIds||[],a=(i=t.targetChange.resumeToken,e.useProto3Json?(yw(void 0===i||"string"==typeof i,58123),bT.fromBase64String(i||"")):(yw(void 0===i||i instanceof yo.Buffer||i instanceof Uint8Array,16193),bT.fromUint8Array(i||new Uint8Array))),l=t.targetChange.cause;r=new xj(o,s,a,l&&new yS(void 0===l.code?yx.UNKNOWN:xT(l.code),l.message||"")||null)}else if("documentChange"in t){t.documentChange;let n=t.documentChange;n.document,n.document.name,n.document.updateTime;let i=x2(e,n.document.name),o=xJ(n.document.updateTime),s=n.document.createTime?xJ(n.document.createTime):yZ.min(),a=new wn({mapValue:{fields:n.document.fields}}),l=wi.newFoundDocument(i,o,s,a);r=new xB(n.targetIds||[],n.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){t.documentDelete;let n=t.documentDelete;n.document;let i=x2(e,n.document),o=n.readTime?xJ(n.readTime):yZ.min(),s=wi.newNoDocument(i,o);r=new xB([],n.removedTargetIds||[],s.key,s)}else if("documentRemove"in t){t.documentRemove;let n=t.documentRemove;n.document;let i=x2(e,n.document);r=new xB([],n.removedTargetIds||[],i,null)}else{if(!("filter"in t))return yv(11601,{Vt:t});{t.filter;let e=t.filter;e.targetId;let{count:n=0,unchangedNames:i}=e,o=new x_(n,i);r=new xL(e.targetId,o)}}return r}(this.serializer,e),r=function(e){if(!("targetChange"in e))return yZ.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?yZ.min():t.readTime?xJ(t.readTime):yZ.min()}(e);return this.listener.J_(t,r)}Z_(e){let t,r={};r.database=x4(this.serializer),r.addTarget=function(e,t){let r,n=t.target;if((r=wI(n)?{documents:St(e,n)}:{query:Sr(e,n).ft}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){r.resumeToken=xX(e,t.resumeToken);let n=xH(e,t.expectedCount);null!==n&&(r.expectedCount=n)}else if(t.snapshotVersion.compareTo(yZ.min())>0){r.readTime=xQ(e,t.snapshotVersion.toTimestamp());let n=xH(e,t.expectedCount);null!==n&&(r.expectedCount=n)}return r}(this.serializer,e);let n=(this.serializer,null==(t=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yv(28987,{purpose:e})}}(e.purpose))?null:{"goog-listen-tags":t});n&&(r.labels=n),this.K_(r)}X_(e){let t={};t.database=x4(this.serializer),t.removeTarget=e,this.K_(t)}}class kf extends kh{constructor(e,t,r,n,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,n,o),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return yw(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,yw(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){var t,r;yw(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let n=(t=e.writeResults,r=e.commitTime,t&&t.length>0?(yw(void 0!==r,14353),t.map(e=>{let t;return(t=e.updateTime?xJ(e.updateTime):xJ(r)).isEqual(yZ.min())&&(t=xJ(r)),new xa(t,e.transformResults||[])})):[]),i=xJ(e.commitTime);return this.listener.na(i,n)}ra(){let e={};e.database=x4(this.serializer),this.K_(e)}ea(e){let t={streamToken:this.lastStreamToken,writes:e.map(e=>x7(this.serializer,e))};this.K_(t)}}class kp{}class kg extends kp{constructor(e,t,r,n){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=n,this.ia=!1}sa(){if(this.ia)throw new yS(yx.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,n){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,xZ(t,r),n,i,o)).catch(e=>{throw"FirebaseError"===e.name?(e.code===yx.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new yS(yx.UNKNOWN,e.toString())})}jo(e,t,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.jo(e,xZ(t,r),n,o,s,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===yx.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new yS(yx.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class km{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yg(t),this.aa=!1):yp("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}let ky="RemoteStore";class kv{constructor(e,t,r,n,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(e=>{r.enqueueAndForget(async()=>{kT(this)&&(yp(ky,"Restarting streams for network reachability change."),await async function(e){e.Ea.add(4),await kw(e),e.Va.set("Unknown"),e.Ea.delete(4),await kb(e)}(this))})}),this.Va=new km(r,n)}}async function kb(e){if(kT(e))for(let t of e.Ra)await t(!0)}async function kw(e){for(let t of e.Ra)await t(!1)}function kx(e,t){e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),kA(e)?k_(e):k$(e).O_()&&kC(e,t))}function kS(e,t){let r=k$(e);e.Ia.delete(t),r.O_()&&kk(e,t),0===e.Ia.size&&(r.O_()?r.L_():kT(e)&&e.Va.set("Unknown"))}function kC(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yZ.min())>0){let r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}k$(e).Z_(t)}function kk(e,t){e.da.$e(t),k$(e).X_(t)}function k_(e){e.da=new xV({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),k$(e).start(),e.Va.ua()}function kA(e){return kT(e)&&!k$(e).x_()&&e.Ia.size>0}function kT(e){return 0===e.Ea.size}async function kE(e){e.Va.set("Online")}async function kI(e){e.Ia.forEach((t,r)=>{kC(e,t)})}async function kD(e,t){e.da=void 0,kA(e)?(e.Va.ha(t),k_(e)):e.Va.set("Unknown")}async function kF(e,t,r){if(e.Va.set("Online"),t instanceof xj&&2===t.state&&t.cause)try{await async function(e,t){let r=t.cause;for(let n of t.targetIds)e.Ia.has(n)&&(await e.remoteSyncer.rejectListen(n,r),e.Ia.delete(n),e.da.removeTarget(n))}(e,t)}catch(r){yp(ky,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await kN(e,r)}else if(t instanceof xB?e.da.Xe(t):t instanceof xL?e.da.st(t):e.da.tt(t),!r.isEqual(yZ.min()))try{let t,n=await CR(e.localStore);r.compareTo(n)>=0&&await ((t=e.da.Tt(r)).targetChanges.forEach((t,n)=>{if(t.resumeToken.approximateByteSize()>0){let i=e.Ia.get(n);i&&e.Ia.set(n,i.withResumeToken(t.resumeToken,r))}}),t.targetMismatches.forEach((t,r)=>{let n=e.Ia.get(t);if(!n)return;e.Ia.set(t,n.withResumeToken(bT.EMPTY_BYTE_STRING,n.snapshotVersion)),kk(e,t);let i=new Sl(n.target,t,r,n.sequenceNumber);kC(e,i)}),e.remoteSyncer.applyRemoteEvent(t))}catch(t){yp(ky,"Failed to raise snapshot:",t),await kN(e,t)}}async function kN(e,t,r){if(!vc(t))throw t;e.Ea.add(1),await kw(e),e.Va.set("Offline"),r||(r=()=>CR(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{yp(ky,"Retrying IndexedDB access"),await r(),e.Ea.delete(1),await kb(e)})}function kP(e,t){return t().catch(r=>kN(e,r,t))}async function kR(e){var t;let r=kW(e),n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:-1;for(;kT(t=e)&&t.Ta.length<10;)try{let t=await function(e,t){return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}(e.localStore,n);if(null===t){0===e.Ta.length&&r.L_();break}n=t.batchId,function(e,t){e.Ta.push(t);let r=kW(e);r.O_()&&r.Y_&&r.ea(t.mutations)}(e,t)}catch(t){await kN(e,t)}kO(e)&&kM(e)}function kO(e){return kT(e)&&!kW(e).x_()&&e.Ta.length>0}function kM(e){kW(e).start()}async function kB(e){kW(e).ra()}async function kL(e){let t=kW(e);for(let r of e.Ta)t.ea(r.mutations)}async function kj(e,t,r){let n=e.Ta.shift(),i=xS.from(n,t,r);await kP(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await kR(e)}async function kz(e,t){t&&kW(e).Y_&&await async function(e,t){var r;if(xA(r=t.code)&&r!==yx.ABORTED){let r=e.Ta.shift();kW(e).B_(),await kP(e,()=>e.remoteSyncer.rejectFailedWrite(r.batchId,t)),await kR(e)}}(e,t),kO(e)&&kM(e)}async function kV(e,t){e.asyncQueue.verifyOperationInProgress(),yp(ky,"RemoteStore received new credentials");let r=kT(e);e.Ea.add(3),await kw(e),r&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await kb(e)}async function kU(e,t){t?(e.Ea.delete(2),await kb(e)):t||(e.Ea.add(2),await kw(e),e.Va.set("Unknown"))}function k$(e){var t,r,n;return e.ma||(t=e.datastore,r=e.asyncQueue,n={Zo:kE.bind(null,e),Yo:kI.bind(null,e),t_:kD.bind(null,e),J_:kF.bind(null,e)},t.sa(),e.ma=new kd(r,t.connection,t.authCredentials,t.appCheckCredentials,t.serializer,n),e.Ra.push(async t=>{t?(e.ma.B_(),kA(e)?k_(e):e.Va.set("Unknown")):(await e.ma.stop(),e.da=void 0)})),e.ma}function kW(e){var t,r,n;return e.fa||(t=e.datastore,r=e.asyncQueue,n={Zo:()=>Promise.resolve(),Yo:kB.bind(null,e),t_:kz.bind(null,e),ta:kL.bind(null,e),na:kj.bind(null,e)},t.sa(),e.fa=new kf(r,t.connection,t.authCredentials,t.appCheckCredentials,t.serializer,n),e.Ra.push(async t=>{t?(e.fa.B_(),await kR(e)):(await e.fa.stop(),e.Ta.length>0&&(yp(ky,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}class kq{constructor(e,t,r,n,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=n,this.removalCallback=i,this.deferred=new yC,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,n,i){let o=new kq(e,t,Date.now()+r,n,i);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yS(yx.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kK(e,t){if(yg("AsyncQueue",`${t}: ${e}`),vc(e))return new yS(yx.UNAVAILABLE,`${t}: ${e}`);throw e}class kG{static emptySet(e){return new kG(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||yU.comparator(t.key,r.key):(e,t)=>yU.comparator(e.key,t.key),this.keyedMap=wJ(),this.sortedSet=new bb(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof kG)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let e=t.getNext().key,n=r.getNext().key;if(!e.isEqual(n))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){let r=new kG;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class kH{constructor(){this.ga=new bb(yU.comparator)}track(e){let t=e.doc.key,r=this.ga.get(t);r?0!==e.type&&3===r.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==r.type?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.ga=this.ga.remove(t):1===e.type&&2===r.type?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):yv(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}}class kQ{constructor(e,t,r,n,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=n,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,n,i){let o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new kQ(e,t,kG.emptySet(t),o,r,n,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wU(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==r[e].type||!t[e].doc.isEqual(r[e].doc))return!1;return!0}}class kX{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class kJ{constructor(){this.queries=kY(),this.onlineState="Unknown",this.Ca=new Set}terminate(){var e;let t;e=new yS(yx.ABORTED,"Firestore shutting down"),t=this.queries,this.queries=kY(),t.forEach((t,r)=>{for(let t of r.ba)t.onError(e)})}}function kY(){return new wH(e=>w$(e),wU)}async function kZ(e,t){let r=3,n=t.query,i=e.queries.get(n);i?!i.Sa()&&t.Da()&&(r=2):(i=new kX,r=+!t.Da());try{switch(r){case 0:i.wa=await e.onListen(n,!0);break;case 1:i.wa=await e.onListen(n,!1);break;case 2:await e.onFirstRemoteStoreListen(n)}}catch(r){let e=kK(r,`Initialization of query '${wW(t.query)}' failed`);return void t.onError(e)}e.queries.set(n,i),i.ba.push(t),t.va(e.onlineState),i.wa&&t.Fa(i.wa)&&k5(e)}async function k0(e,t){let r=t.query,n=3,i=e.queries.get(r);if(i){let e=i.ba.indexOf(t);e>=0&&(i.ba.splice(e,1),0===i.ba.length?n=+!t.Da():!i.Sa()&&t.Da()&&(n=2))}switch(n){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function k1(e,t){let r=!1;for(let n of t){let t=n.query,i=e.queries.get(t);if(i){for(let e of i.ba)e.Fa(n)&&(r=!0);i.wa=n}}r&&k5(e)}function k2(e,t,r){let n=e.queries.get(t);if(n)for(let e of n.ba)e.onError(r);e.queries.delete(t)}function k5(e){e.Ca.forEach(e=>{e.next()})}(eM=eO||(eO={})).Ma="default",eM.Cache="cache";class k3{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let t=[];for(let r of e.docChanges)3!==r.type&&t.push(r);e=new kQ(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){return!(e.fromCache&&this.Da())||(!this.options.Ka||"Offline"===t)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=kQ.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==eO.Cache}}class k4{constructor(e,t){this.qa=e,this.byteLength=t}Ua(){return"metadata"in this.qa}}class k6{constructor(e){this.serializer=e}Ks(e){return x2(this.serializer,e)}qs(e){return e.metadata.exists?x9(this.serializer,e.document,!1):wi.newNoDocument(this.Ks(e.metadata.name),this.Us(e.metadata.readTime))}Us(e){return xJ(e)}}class k8{constructor(e,t){this.$a=e,this.serializer=t,this.Wa=[],this.Qa=[],this.collectionGroups=new Set,this.progress=k9(e)}get queries(){return this.Wa}get documents(){return this.Qa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.qa.namedQuery)this.Wa.push(e.qa.namedQuery);else if(e.qa.documentMetadata){this.Qa.push({metadata:e.qa.documentMetadata}),e.qa.documentMetadata.exists||++t;let r=yj.fromString(e.qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.qa.document&&(this.Qa[this.Qa.length-1].document=e.qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,{...this.progress}):null}za(e){let t=new Map,r=new k6(this.serializer);for(let n of e)if(n.metadata.queries){let e=r.Ks(n.metadata.name);for(let r of n.metadata.queries){let n=(t.get(r)||w2()).add(e);t.set(r,n)}}return t}async ja(e){let t=await CU(e,new k6(this.serializer),this.Qa,this.$a.id),r=this.za(this.documents);for(let t of this.Wa)await C$(e,t,r.get(t.name));return this.progress.taskState="Success",{progress:this.progress,Ha:this.collectionGroups,Ja:t}}}function k9(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class k7{constructor(e){this.key=e}}class _e{constructor(e){this.key=e}}class _t{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=w2(),this.mutatedKeys=w2(),this.eu=wG(e),this.tu=new kG(this.eu)}get nu(){return this.Za}ru(e,t){let r=t?t.iu:new kH,n=t?t.tu:this.tu,i=t?t.mutatedKeys:this.mutatedKeys,o=n,s=!1,a="F"===this.query.limitType&&n.size===this.query.limit?n.last():null,l="L"===this.query.limitType&&n.size===this.query.limit?n.first():null;if(e.inorderTraversal((e,t)=>{let u=n.get(e),c=wq(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations),f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(r.track({type:3,doc:c}),f=!0):this.su(u,c)||(r.track({type:2,doc:c}),f=!0,(a&&this.eu(c,a)>0||l&&0>this.eu(c,l))&&(s=!0)):!u&&c?(r.track({type:0,doc:c}),f=!0):u&&!c&&(r.track({type:1,doc:u}),f=!0,(a||l)&&(s=!0)),f&&(c?(o=o.add(c),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){let e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),r.track({type:1,doc:e})}return{tu:o,iu:r,Ss:s,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,n){let i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let o=e.iu.ya();o.sort((e,t)=>{var r,n;let i;return r=e.type,n=t.type,(i=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yv(20277,{Vt:e})}})(r)-i(n)||this.eu(e.doc,t.doc)}),this.ou(r),n=n??!1;let s=t&&!n?this._u():[],a=0===this.Ya.size&&this.current&&!n?1:0,l=a!==this.Xa;return(this.Xa=a,0!==o.length||l)?{snapshot:new kQ(this.query,e.tu,i,o,e.mutatedKeys,0===a,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new kH,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Za=this.Za.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Za=this.Za.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Ya;this.Ya=w2(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Ya=this.Ya.add(e.key))});let t=[];return e.forEach(e=>{this.Ya.has(e)||t.push(new _e(e))}),this.Ya.forEach(r=>{e.has(r)||t.push(new k7(r))}),t}cu(e){this.Za=e.ks,this.Ya=w2();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return kQ.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Xa,this.hasCachedResults)}}let _r="SyncEngine";class _n{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class _i{constructor(e){this.key=e,this.hu=!1}}class _o{constructor(e,t,r,n,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=n,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new wH(e=>w$(e),wU),this.Iu=new Map,this.Eu=new Set,this.Ru=new bb(yU.comparator),this.Au=new Map,this.Vu=new Cd,this.du={},this.mu=new Map,this.fu=S1.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function _s(e,t,r=!0){let n,i=_M(e),o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),n=o.view.lu()):n=await _l(i,t,r,!0),n}async function _a(e,t){let r=_M(e);await _l(r,t,!0,!1)}async function _l(e,t,r,n){let i,o=await CM(e.localStore,wL(t)),s=o.targetId,a=e.sharedClientState.addLocalQueryTarget(s,r);return n&&(i=await _u(e,t,s,"current"===a,o.resumeToken)),e.isPrimaryClient&&r&&kx(e.remoteStore,o),i}async function _u(e,t,r,n,i){e.pu=(t,r,n)=>(async function(e,t,r,n){let i=t.view.ru(r);i.Ss&&(i=await CL(e.localStore,t.query,!1).then(({documents:e})=>t.view.ru(e,i)));let o=n&&n.targetChanges.get(t.targetId),s=n&&null!=n.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return _S(e,t.targetId,a.au),a.snapshot})(e,t,r,n);let o=await CL(e.localStore,t,!0),s=new _t(t,o.ks),a=s.ru(o.documents),l=xM.createSynthesizedTargetChangeForCurrentChange(r,n&&"Offline"!==e.onlineState,i),u=s.applyChanges(a,e.isPrimaryClient,l);_S(e,r,u.au);let c=new _n(t,r,s);return e.Tu.set(t,c),e.Iu.has(r)?e.Iu.get(r).push(t):e.Iu.set(r,[t]),u.snapshot}async function _c(e,t,r){let n=e.Tu.get(t),i=e.Iu.get(n.targetId);i.length>1?(e.Iu.set(n.targetId,i.filter(e=>!wU(e,t))),e.Tu.delete(t)):e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(n.targetId),e.sharedClientState.isActiveQueryTarget(n.targetId)||await CB(e.localStore,n.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(n.targetId),r&&kS(e.remoteStore,n.targetId),_w(e,n.targetId)}).catch(vr)):(_w(e,n.targetId),await CB(e.localStore,n.targetId,!0))}async function _h(e,t){let r=e.Tu.get(t),n=e.Iu.get(r.targetId);e.isPrimaryClient&&1===n.length&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),kS(e.remoteStore,r.targetId))}async function _d(e,t,r){let n=_B(e);try{var i,o;let e,s,a,l,u,c=await (i=n.localStore,a=yY.now(),l=t.reduce((e,t)=>e.add(t.key),w2()),i.persistence.runTransaction("Locally write mutations","readwrite",r=>{let n=wQ,o=w2();return i.xs.getEntries(r,l).next(e=>{(n=e).forEach((e,t)=>{t.isValidDocument()||(o=o.add(e))})}).next(()=>i.localDocuments.getOverlayedDocuments(r,n)).next(n=>{e=n;let o=[];for(let r of t){let t=function(e,t){let r=null;for(let n of e.fieldTransforms){let e=t.data.field(n.field),i=w8(n.transform,e||null);null!=i&&(null===r&&(r=wn.empty()),r.set(n.field,i))}return r||null}(r,e.get(r.key).overlayedDocument);null!=t&&o.push(new xg(r.key,t,function e(t){let r=[];return by(t.fields,(t,n)=>{let i=new yV([t]);if(b6(n)){let t=e(n.mapValue).fields;if(0===t.length)r.push(i);else for(let e of t)r.push(i.child(e))}else r.push(i)}),new b_(r)}(t.value.mapValue),xl.exists(!0)))}return i.mutationQueue.addMutationBatch(r,a,o,t)}).next(t=>{s=t;let n=t.applyToLocalDocumentSet(e,o);return i.documentOverlayCache.saveOverlays(r,t.batchId,n)})}).then(()=>({batchId:s.batchId,changes:wY(e)})));n.sharedClientState.addPendingMutation(c.batchId),o=c.batchId,(u=n.du[n.currentUser.toKey()])||(u=new bb(yP)),u=u.insert(o,r),n.du[n.currentUser.toKey()]=u,await _k(n,c.changes),await kR(n.remoteStore)}catch(t){let e=kK(t,"Failed to persist write");r.reject(e)}}async function _f(e,t){var r;try{let n,i,o=await (r=e.localStore,n=t.snapshotVersion,i=r.vs,r.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{let o=r.xs.newChangeBuffer({trackRemovals:!0});i=r.vs;let s=[];t.targetChanges.forEach((o,a)=>{var l;let u=i.get(a);if(!u)return;s.push(r.li.removeMatchingKeys(e,o.removedDocuments,a).next(()=>r.li.addMatchingKeys(e,o.addedDocuments,a)));let c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(bT.EMPTY_BYTE_STRING,yZ.min()).withLastLimboFreeSnapshotVersion(yZ.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,n)),i=i.insert(a,c),l=c,(0===u.resumeToken.approximateByteSize()||l.snapshotVersion.toMicroseconds()-u.snapshotVersion.toMicroseconds()>=3e8||o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size>0)&&s.push(r.li.updateTargetData(e,c))});let a=wQ,l=w2();if(t.documentUpdates.forEach(n=>{t.resolvedLimboDocuments.has(n)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(e,n))}),s.push(CO(e,o,t.documentUpdates).next(e=>{a=e.Bs,l=e.Ls})),!n.isEqual(yZ.min())){let t=r.li.getLastRemoteSnapshotVersion(e).next(t=>r.li.setTargetsMetadata(e,e.currentSequenceNumber,n));s.push(t)}return vn.waitFor(s).next(()=>o.apply(e)).next(()=>r.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(r.vs=i,e)));t.targetChanges.forEach((t,r)=>{let n=e.Au.get(r);n&&(yw(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1,22616),t.addedDocuments.size>0?n.hu=!0:t.modifiedDocuments.size>0?yw(n.hu,14607):t.removedDocuments.size>0&&(yw(n.hu,42227),n.hu=!1))}),await _k(e,o,t)}catch(e){await vr(e)}}function _p(e,t,r){var n;if(e.isPrimaryClient&&0===r||!e.isPrimaryClient&&1===r){let r,i=[];e.Tu.forEach((e,r)=>{let n=r.view.va(t);n.snapshot&&i.push(n.snapshot)}),(n=e.eventManager).onlineState=t,r=!1,n.queries.forEach((e,n)=>{for(let e of n.ba)e.va(t)&&(r=!0)}),r&&k5(n),i.length&&e.Pu.J_(i),e.onlineState=t,e.isPrimaryClient&&e.sharedClientState.setOnlineState(t)}}async function _g(e,t,r){e.sharedClientState.updateQueryState(t,"rejected",r);let n=e.Au.get(t),i=n&&n.key;if(i){let r=new bb(yU.comparator);r=r.insert(i,wi.newNoDocument(i,yZ.min()));let n=w2().add(i),o=new xO(yZ.min(),new Map,new bb(yP),r,n);await _f(e,o),e.Ru=e.Ru.remove(i),e.Au.delete(t),_C(e)}else await CB(e.localStore,t,!1).then(()=>_w(e,t,r)).catch(vr)}async function _m(e,t){var r;let n=t.batch.batchId;try{let i=await (r=e.localStore,r.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{let n,i,o,s=t.batch.keys(),a=r.xs.newChangeBuffer({trackRemovals:!0});return(i=(n=t.batch).keys(),o=vn.resolve(),i.forEach(r=>{o=o.next(()=>a.getEntry(e,r)).next(e=>{let i=t.docVersions.get(r);yw(null!==i,48541),0>e.version.compareTo(i)&&(n.applyToRemoteDocument(e,t),e.isValidDocument()&&(e.setReadTime(t.commitVersion),a.addEntry(e)))})}),o.next(()=>r.mutationQueue.removeMutationBatch(e,n))).next(()=>a.apply(e)).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,s,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=w2();for(let r=0;r<e.mutationResults.length;++r)e.mutationResults[r].transformResults.length>0&&(t=t.add(e.batch.mutations[r].key));return t}(t))).next(()=>r.localDocuments.getDocuments(e,s))}));_b(e,n,null),_v(e,n),e.sharedClientState.updateMutationState(n,"acknowledged"),await _k(e,i)}catch(e){await vr(e)}}async function _y(e,t,r){var n;try{let i=await (n=e.localStore,n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(yw(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))}));_b(e,t,r),_v(e,t),e.sharedClientState.updateMutationState(t,"rejected",r),await _k(e,i)}catch(e){await vr(e)}}function _v(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function _b(e,t,r){let n=e.du[e.currentUser.toKey()];if(n){let i=n.get(t);i&&(r?i.reject(r):i.resolve(),n=n.remove(t)),e.du[e.currentUser.toKey()]=n}}function _w(e,t,r=null){for(let n of(e.sharedClientState.removeLocalQueryTarget(t),e.Iu.get(t)))e.Tu.delete(n),r&&e.Pu.yu(n,r);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach(t=>{e.Vu.containsKey(t)||_x(e,t)})}function _x(e,t){e.Eu.delete(t.path.canonicalString());let r=e.Ru.get(t);null!==r&&(kS(e.remoteStore,r),e.Ru=e.Ru.remove(t),e.Au.delete(r),_C(e))}function _S(e,t,r){for(let n of r)n instanceof k7?(e.Vu.addReference(n.key,t),function(e,t){let r=t.key,n=r.path.canonicalString();e.Ru.get(r)||e.Eu.has(n)||(yp(_r,"New document in limbo: "+r),e.Eu.add(n),_C(e))}(e,n)):n instanceof _e?(yp(_r,"Document no longer in limbo: "+n.key),e.Vu.removeReference(n.key,t),e.Vu.containsKey(n.key)||_x(e,n.key)):yv(19791,{wu:n})}function _C(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){let t=e.Eu.values().next().value;e.Eu.delete(t);let r=new yU(yj.fromString(t)),n=e.fu.next();e.Au.set(n,new _i(r)),e.Ru=e.Ru.insert(r,n),kx(e.remoteStore,new Sl(wL(wR(r.path)),n,"TargetPurposeLimboResolution",vv.ce))}}async function _k(e,t,r){let n=[],i=[],o=[];e.Tu.isEmpty()||(e.Tu.forEach((s,a)=>{o.push(e.pu(a,t,r).then(t=>{if((t||r)&&e.isPrimaryClient){let n=t?!t.fromCache:r?.targetChanges.get(a.targetId)?.current;e.sharedClientState.updateQueryState(a.targetId,n?"current":"not-current")}if(t){n.push(t);let e=CE.Es(a.targetId,t);i.push(e)}}))}),await Promise.all(o),e.Pu.J_(n),await async function(e,t){try{await e.persistence.runTransaction("notifyLocalViewChanges","readwrite",r=>vn.forEach(t,t=>vn.forEach(t.Ts,n=>e.persistence.referenceDelegate.addReference(r,t.targetId,n)).next(()=>vn.forEach(t.Is,n=>e.persistence.referenceDelegate.removeReference(r,t.targetId,n)))))}catch(e){if(!vc(e))throw e;yp(CF,"Failed to update sequence numbers: "+e)}for(let r of t){let t=r.targetId;if(!r.fromCache){let r=e.vs.get(t),n=r.snapshotVersion,i=r.withLastLimboFreeSnapshotVersion(n);e.vs=e.vs.insert(t,i)}}}(e.localStore,i))}async function __(e,t){if(!e.currentUser.isEqual(t)){yp(_r,"User change. New user:",t.toKey());let r=await CP(e.localStore,t);e.currentUser=t,e.mu.forEach(e=>{e.forEach(e=>{e.reject(new yS(yx.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.mu.clear(),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await _k(e,r.Ns)}}function _A(e,t){let r=e.Au.get(t);if(r&&r.hu)return w2().add(r.key);{let r=w2(),n=e.Iu.get(t);if(!n)return r;for(let t of n){let n=e.Tu.get(t);r=r.unionWith(n.view.nu)}return r}}async function _T(e,t){let r=await CL(e.localStore,t.query,!0),n=t.view.cu(r);return e.isPrimaryClient&&_S(e,t.targetId,n.au),n}async function _E(e,t){return Cz(e.localStore,t).then(t=>_k(e,t))}async function _I(e,t,r,n){var i,o;let s,a=await (i=e.localStore,s=i.mutationQueue,i.persistence.runTransaction("Lookup mutation documents","readonly",e=>s.Xn(e,t).next(t=>t?i.localDocuments.getDocuments(e,t):vn.resolve(null))));null!==a?("pending"===r?await kR(e.remoteStore):"acknowledged"===r||"rejected"===r?(_b(e,t,n||null),_v(e,t),o=e.localStore,o.mutationQueue.nr(t)):yv(6720,"Unknown batchState",{bu:r}),await _k(e,a)):yp(_r,"Cannot apply mutation batch with id: "+t)}async function _D(e,t){if(_M(e),_B(e),!0===t&&!0!==e.gu){let t=e.sharedClientState.getAllActiveQueryTargets(),r=await _F(e,t.toArray());for(let t of(e.gu=!0,await kU(e.remoteStore,!0),r))kx(e.remoteStore,t)}else if(!1===t&&!1!==e.gu){let t=[],r=Promise.resolve();e.Iu.forEach((n,i)=>{e.sharedClientState.isLocalQueryTarget(i)?t.push(i):r=r.then(()=>(_w(e,i),CB(e.localStore,i,!0))),kS(e.remoteStore,i)}),await r,await _F(e,t),e.Au.forEach((t,r)=>{kS(e.remoteStore,r)}),e.Vu.zr(),e.Au=new Map,e.Ru=new bb(yU.comparator),e.gu=!1,await kU(e.remoteStore,!1)}}async function _F(e,t,r){let n=[],i=[];for(let r of t){let t,o=e.Iu.get(r);if(o&&0!==o.length)for(let r of(t=await CM(e.localStore,wL(o[0])),o)){let t=e.Tu.get(r),n=await _T(e,t);n.snapshot&&i.push(n.snapshot)}else{let n=await Cj(e.localStore,r);t=await CM(e.localStore,n),await _u(e,_N(n),r,!1,t.resumeToken)}n.push(t)}return e.Pu.J_(i),n}function _N(e){var t,r,n,i,o;return t=e.path,r=e.collectionGroup,n=e.orderBy,i=e.filters,o=e.limit,new wP(t,r,n,i,o,"F",e.startAt,e.endAt)}function _P(e){return e.localStore.persistence.hs()}async function _R(e,t,r,n){if(e.gu)return void yp(_r,"Ignoring unexpected query state notification.");let i=e.Iu.get(t);if(i&&i.length>0)switch(r){case"current":case"not-current":{let n=await Cz(e.localStore,wK(i[0])),o=xO.createSynthesizedRemoteEventForCurrentChange(t,"current"===r,bT.EMPTY_BYTE_STRING);await _k(e,n,o);break}case"rejected":await CB(e.localStore,t,!0),_w(e,t,n);break;default:yv(64155,r)}}async function _O(e,t,r){let n=_M(e);if(n.gu){for(let e of t){if(n.Iu.has(e)&&n.sharedClientState.isActiveQueryTarget(e)){yp(_r,"Adding an already active target "+e);continue}let t=await Cj(n.localStore,e),r=await CM(n.localStore,t);await _u(n,_N(t),r.targetId,!1,r.resumeToken),kx(n.remoteStore,r)}for(let e of r)n.Iu.has(e)&&await CB(n.localStore,e,!1).then(()=>{kS(n.remoteStore,e),_w(n,e)}).catch(vr)}}function _M(e){return e.remoteStore.remoteSyncer.applyRemoteEvent=_f.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_A.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_g.bind(null,e),e.Pu.J_=k1.bind(null,e.eventManager),e.Pu.yu=k2.bind(null,e.eventManager),e}function _B(e){return e.remoteStore.remoteSyncer.applySuccessfulWrite=_m.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_y.bind(null,e),e}class _L{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kl(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){var t,r;return t=this.persistence,r=new CD,new CN(t,r,e.initialUser,this.serializer)}Cu(e){return new Cv(Cw.Vi,this.serializer)}Du(e){return new C5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_L.provider={build:()=>new _L};class _j extends _L{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){return yw(this.persistence.referenceDelegate instanceof Cx,46915),new S8(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Cu(e){let t=void 0!==this.cacheSizeBytes?SQ.withCacheSize(this.cacheSizeBytes):SQ.DEFAULT;return new Cv(e=>Cx.Vi(e,t),this.serializer)}}class _z extends _L{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await _B(this.xu.syncEngine),await kR(this.xu.remoteStore),await this.persistence.zi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){var t,r;return t=this.persistence,r=new CD,new CN(t,r,e.initialUser,this.serializer)}Fu(e,t){return new S8(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Mu(e,t){let r=new vy(t,this.persistence);return new vm(e.asyncQueue,r)}Cu(e){let t=CT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?SQ.withCacheSize(this.cacheSizeBytes):SQ.DEFAULT;return new CA(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,ks(),ka(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new C5}}class _V extends _z{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);let t=this.xu.syncEngine;this.sharedClientState instanceof C2&&(this.sharedClientState.syncEngine={So:_I.bind(null,t),Do:_R.bind(null,t),Co:_O.bind(null,t),hs:_P.bind(null,t),bo:_E.bind(null,t)},await this.sharedClientState.start()),await this.persistence.zi(async e=>{await _D(this.xu.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())})}Du(e){let t=ks();if(!C2.v(t))throw new yS(yx.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let r=CT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new C2(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class _U{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>_p(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=__.bind(null,this.syncEngine),await kU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new kJ}createDatastore(e){var t;let r=kl(e.databaseInfo.databaseId),n=new ko(e.databaseInfo);return t=e.authCredentials,new kg(t,e.appCheckCredentials,n,r)}createRemoteStore(e){var t,r;return t=this.localStore,r=this.datastore,new kv(t,r,e.asyncQueue,e=>_p(this.syncEngine,e,0),C6.v()?new C6:new C3)}createSyncEngine(e,t){var r,n,i,o,s,a;let l;return r=this.localStore,n=this.remoteStore,i=this.eventManager,o=this.sharedClientState,s=e.initialUser,a=e.maxConcurrentLimboResolutions,l=new _o(r,n,i,o,s,a),t&&(l.gu=!0),l}async terminate(){await async function(e){yp(ky,"RemoteStore shutting down."),e.Ea.add(5),await kw(e),e.Aa.shutdown(),e.Va.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}function _$(e,t=10240){let r=0;return{async read(){if(r<e.byteLength){let n={value:e.slice(r,r+t),done:!1};return r+=t,n}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}_U.provider={build:()=>new _U};class _W{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yg("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class _q{constructor(e,t){this.Bu=e,this.serializer=t,this.metadata=new yC,this.buffer=new Uint8Array,this.Lu=new TextDecoder("utf-8"),this.ku().then(e=>{e&&e.Ua()?this.metadata.resolve(e.qa.metadata):this.metadata.reject(Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(e?.qa)}`))},e=>this.metadata.reject(e))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async Su(){return await this.getMetadata(),this.ku()}async ku(){let e=await this.Ku();if(null===e)return null;let t=this.Lu.decode(e),r=Number(t);return isNaN(r)&&this.qu(`length string (${t}) is not valid number`),new k4(JSON.parse(await this.Uu(r)),e.length+r)}$u(){return this.buffer.findIndex(e=>123===e)}async Ku(){for(;0>this.$u()&&!await this.Wu(););if(0===this.buffer.length)return null;let e=this.$u();e<0&&this.qu("Reached the end of bundle when a length string is expected.");let t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Uu(e){for(;this.buffer.length<e;)await this.Wu()&&this.qu("Reached the end of bundle when more is expected.");let t=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}qu(e){throw this.Bu.cancel(),Error(`Invalid bundle format: ${e}`)}async Wu(){let e=await this.Bu.read();if(!e.done){let t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class _K{constructor(e,t){this.bundleData=e,this.serializer=t,this.cursor=0,this.elements=[];let r=this.Su();if(!r||!r.Ua())throw Error(`The first element of the bundle is not a metadata object, it is
         ${JSON.stringify(r?.qa)}`);this.metadata=r;do null!==(r=this.Su())&&this.elements.push(r);while(null!==r)}getMetadata(){return this.metadata}Qu(){return this.elements}Su(){if(this.cursor===this.bundleData.length)return null;let e=this.Ku();return new k4(JSON.parse(this.Uu(e)),e)}Uu(e){if(this.cursor+e>this.bundleData.length)throw new yS(yx.INTERNAL,"Reached the end of bundle when more is expected.");return this.bundleData.slice(this.cursor,this.cursor+=e)}Ku(){let e=this.cursor,t=this.cursor;for(;t<this.bundleData.length;){if("{"===this.bundleData[t]){if(t===e)throw Error("First character is a bracket and not a number");return this.cursor=t,Number(this.bundleData.slice(e,t))}t++}throw Error("Reached the end of bundle when more is expected.")}}class _G{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new yS(yx.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let t=await async function(e,t){let r={documents:t.map(t=>x1(e.serializer,t))},n=await e.jo("BatchGetDocuments",e.serializer.databaseId,yj.emptyPath(),r,t.length),i=new Map;n.forEach(t=>{var r;let n,o,s,a,l,u,c=(r=e.serializer,"found"in t?(yw(!!t.found,43571),t.found.name,t.found.updateTime,n=x2(r,t.found.name),o=xJ(t.found.updateTime),s=t.found.createTime?xJ(t.found.createTime):yZ.min(),a=new wn({mapValue:{fields:t.found.fields}}),wi.newFoundDocument(n,o,s,a)):"missing"in t?(yw(!!t.missing,3894),yw(!!t.readTime,22933),l=x2(r,t.missing),u=xJ(t.readTime),wi.newNoDocument(l,u)):yv(7234,{result:t}));i.set(c.key.toString(),c)});let o=[];return t.forEach(e=>{let t=i.get(e.toString());yw(!!t,55234,{key:e}),o.push(t)}),o}(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new xb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{let r=yU.fromPath(t);this.mutations.push(new xw(r,this.precondition(r)))}),await async function(e,t){let r={writes:t.map(t=>x7(e.serializer,t))};await e.Wo("Commit",e.serializer.databaseId,yj.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw yv(50498,{Gu:e.constructor.name});t=yZ.min()}let r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new yS(yx.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){let t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(yZ.min())?xl.exists(!1):xl.updateTime(t):xl.none()}preconditionForUpdate(e){let t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(yZ.min()))throw new yS(yx.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xl.updateTime(t)}return xl.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class _H{constructor(e,t,r,n,i){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=n,this.deferred=i,this.zu=r.maxAttempts,this.M_=new ku(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_(async()=>{let e=new _G(this.datastore),t=this.Ju(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.Zu(e)}))}).catch(e=>{this.Zu(e)})})}Ju(e){try{let t=this.updateFunction(e);return!vb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Hu(),Promise.resolve()))):this.deferred.reject(e)}Xu(e){if("FirebaseError"===e?.name){let t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!xA(t)}return!1}}let _Q="FirestoreClient";class _X{constructor(e,t,r,n,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=n,this.user=yc.UNAUTHENTICATED,this.clientId=yN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async e=>{yp(_Q,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(r,e=>(yp(_Q,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new yC;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){let t=kK(r,"Failed to shutdown persistence");e.reject(t)}}),e.promise}}async function _J(e,t){e.asyncQueue.verifyOperationInProgress(),yp(_Q,"Initializing OfflineComponentProvider");let r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async e=>{n.isEqual(e)||(await CP(t.localStore,e),n=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function _Y(e,t){e.asyncQueue.verifyOperationInProgress();let r=await _Z(e);yp(_Q,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(e=>kV(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,r)=>kV(t.remoteStore,r)),e._onlineComponents=t}async function _Z(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){yp(_Q,"Using user provided OfflineComponentProvider");try{await _J(e,e._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===t.name?t.code===yx.FAILED_PRECONDITION||t.code===yx.UNIMPLEMENTED:!("u">typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code))throw t;ym("Error using user provided cache. Falling back to memory cache: "+t),await _J(e,new _L)}}else yp(_Q,"Using default OfflineComponentProvider"),await _J(e,new _j(void 0));return e._offlineComponents}async function _0(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(yp(_Q,"Using user provided OnlineComponentProvider"),await _Y(e,e._uninitializedComponentsProvider._online)):(yp(_Q,"Using default OnlineComponentProvider"),await _Y(e,new _U))),e._onlineComponents}function _1(e){return _Z(e).then(e=>e.localStore)}function _2(e){return _0(e).then(e=>e.syncEngine)}function _5(e){return _0(e).then(e=>e.datastore)}async function _3(e){let t=await _0(e),r=t.eventManager;return r.onListen=_s.bind(null,t.syncEngine),r.onUnlisten=_c.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=_a.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=_h.bind(null,t.syncEngine),r}function _4(e,t,r={}){let n=new yC;return e.asyncQueue.enqueueAndForget(async()=>{var i,o;let s,a;return i=await _3(e),o=e.asyncQueue,s=new _W({next:e=>{s.Nu(),o.enqueueAndForget(()=>k0(i,a));let l=e.docs.has(t);!l&&e.fromCache?n.reject(new yS(yx.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&e.fromCache&&r&&"server"===r.source?n.reject(new yS(yx.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):n.resolve(e)},error:e=>n.reject(e)}),kZ(i,a=new k3(wR(t.path),s,{includeMetadataChanges:!0,Ka:!0}))}),n.promise}function _6(e,t,r={}){let n=new yC;return e.asyncQueue.enqueueAndForget(async()=>{var i,o;let s,a;return i=await _3(e),o=e.asyncQueue,a=new k3(t,s=new _W({next:e=>{s.Nu(),o.enqueueAndForget(()=>k0(i,a)),e.fromCache&&"server"===r.source?n.reject(new yS(yx.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):n.resolve(e)},error:e=>n.reject(e)}),{includeMetadataChanges:!0,Ka:!0}),kZ(i,a)}),n.promise}function _8(e){let t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}let _9=new Map,_7="firestore.googleapis.com";class Ae{constructor(e){if(void 0===e.host){if(void 0!==e.ssl)throw new yS(yx.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_7,this.ssl=!0}else this.host=e.host,this.ssl=e.ssl??!0;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=0x2800000;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new yS(yx.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,r,n){if(!0===t&&!0===n)throw new yS(yx.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_8(e.experimentalLongPollingOptions??{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new yS(yx.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new yS(yx.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new yS(yx.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){var t,r;return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,t.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class At{constructor(e,t,r,n){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ae({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yS(yx.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new yS(yx.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ae(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new y_;switch(e.type){case"firstParty":return new yI(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new yS(yx.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){let e;return(e=_9.get(this))&&(yp("ComponentProvider","Removing Datastore"),_9.delete(this),e.terminate()),Promise.resolve()}}class Ar{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ar(this.firestore,e,this._query)}}class An{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new An(this.firestore,e,this._key)}toJSON(){return{type:An._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(yJ(t,An._jsonSchema))return new An(e,r||null,new yU(yj.fromString(t.referencePath)))}}An._jsonSchemaVersion="firestore/documentReference/1.0",An._jsonSchema={type:yX("string",An._jsonSchemaVersion),referencePath:yX("string")};class Ai extends Ar{constructor(e,t,r){super(e,t,wR(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new An(this.firestore,null,new yU(e))}withConverter(e){return new Ai(this.firestore,e,this._path)}}function Ao(e,t,...r){if(e=mo(e),1==arguments.length&&(t=yN.newId()),y$("doc","path",t),e instanceof At){let n=yj.fromString(t,...r);return yW(n),new An(e,null,new yU(n))}{if(!(e instanceof An||e instanceof Ai))throw new yS(yx.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=e._path.child(yj.fromString(t,...r));return yW(n),new An(e.firestore,e instanceof Ai?e.converter:null,new yU(n))}}function As(e,t){return e=mo(e),t=mo(t),e instanceof Ar&&t instanceof Ar&&e.firestore===t.firestore&&wU(e._query,t._query)&&e.converter===t.converter}let Aa="AsyncQueue";class Al{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ku(this,"async_queue_retry"),this._c=()=>{let e=ka();e&&yp(Aa,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=ka();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=ka();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let t=new yC;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(0!==this.Yu.length){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!vc(e))throw e;yp(Aa,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,yg("INTERNAL UNHANDLED ERROR: ",Au(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let n=kq.createAndSchedule(this,e,t,r,e=>this.hc(e));return this.tc.push(n),n}uc(){this.nc&&yv(47125,{Pc:Au(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{for(let t of(this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs),this.tc))if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Au(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class Ac{constructor(){this._progressObserver={},this._taskCompletionResolver=new yC,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ah extends At{constructor(e,t,r,n){super(e,t,r,n),this.type="firestore",this._queue=new Al,this._persistenceKey=n?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Al(e),this._firestoreClient=void 0,await e}}}function Ad(e){if(e._terminated)throw new yS(yx.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){var t,r,n,i,o;let s,a=e._freezeSettings(),l=(t=e._databaseId,r=e._app?.options.appId||"",n=e._persistenceKey,i=e._app?.options.apiKey,new bj(t,r,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,_8(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i));e._componentsProvider||a.localCache?._offlineComponentProvider&&a.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new _X(e._authCredentials,e._appCheckCredentials,e._queue,l,e._componentsProvider&&(o=e._componentsProvider,s=o?._online.build(),{_offline:o?._offline.build(s),_online:s}))}(e),e._firestoreClient}function Af(e,t){let r=Ad(e=yH(e,Ah)),n=new Ac;return function(e,t,r,n){var i;let o=(i=kl(t),new _q(function(e,t){if(e instanceof Uint8Array)return _$(e,void 0);if(e instanceof ArrayBuffer)return _$(new Uint8Array(e),void 0);if(e instanceof ReadableStream)return e.getReader();throw Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof r?xI().encode(r):r),i));e.asyncQueue.enqueueAndForget(async()=>{var t;(async function(e,t,r){try{var n,i;let o,s=await t.getMetadata();if(await (n=e.localStore,o=xJ(s.createTime),n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Pi.getBundleMetadata(e,s.id)).then(e=>!!e&&e.createTime.compareTo(o)>=0)))return await t.close(),r._completeWith({taskState:"Success",documentsLoaded:s.totalDocuments,bytesLoaded:s.totalBytes,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}),Promise.resolve(new Set);r._updateProgress(k9(s));let a=new k8(s,t.serializer),l=await t.Su();for(;l;){let e=await a.Ga(l);e&&r._updateProgress(e),l=await t.Su()}let u=await a.ja(e.localStore);return await _k(e,u.Ja,void 0),await (i=e.localStore,i.persistence.runTransaction("Save bundle","readwrite",e=>i.Pi.saveBundleMetadata(e,s))),r._completeWith(u.progress),Promise.resolve(u.Ha)}catch(e){return ym(_r,`Loading bundle failed with ${e}`),r._failWith(e),Promise.resolve(new Set)}})(t=await _2(e),o,n).then(e=>{t.sharedClientState.notifyBundleLoaded(e)})})}(r,e._databaseId,t,n),n}class Ap{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ap(bT.fromBase64String(e))}catch(e){throw new yS(yx.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Ap(bT.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ap._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yJ(e,Ap._jsonSchema))return Ap.fromBase64String(e.bytes)}}Ap._jsonSchemaVersion="firestore/bytes/1.0",Ap._jsonSchema={type:yX("string",Ap._jsonSchemaVersion),bytes:yX("string")};class Ag{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new yS(yx.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yV(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Am{constructor(e){this._methodName=e}}class Ay{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new yS(yx.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new yS(yx.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return yP(this._lat,e._lat)||yP(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ay._jsonSchemaVersion}}static fromJSON(e){if(yJ(e,Ay._jsonSchema))return new Ay(e.latitude,e.longitude)}}Ay._jsonSchemaVersion="firestore/geoPoint/1.0",Ay._jsonSchema={type:yX("string",Ay._jsonSchemaVersion),latitude:yX("number"),longitude:yX("number")};class Av{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Av._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yJ(e,Av._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Av(e.vectorValues);throw new yS(yx.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Av._jsonSchemaVersion="firestore/vectorValue/1.0",Av._jsonSchema={type:yX("string",Av._jsonSchemaVersion),vectorValues:yX("object")};let Ab=/^__.*__$/;class Aw{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new xg(e,this.data,this.fieldMask,t,this.fieldTransforms):new xp(e,this.data,t,this.fieldTransforms)}}class Ax{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new xg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function AS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yv(40011,{dataSource:e})}}class AC{constructor(e,t,r,n,i,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=n,void 0===i&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new AC({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){let t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){let t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return AL(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(0===e.length)throw this.createError("Document fields must not be empty");if(AS(this.dataSource)&&Ab.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Ak{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||kl(e)}createContext(e,t,r,n=!1){return new AC({dataSource:e,methodName:t,targetDoc:r,path:yV.emptyPath(),arrayElement:!1,hasConverter:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function A_(e){let t=e._freezeSettings(),r=kl(e._databaseId);return new Ak(e._databaseId,!!t.ignoreUndefinedProperties,r)}function AA(e,t,r,n,i,o={}){let s,a,l=e.createContext(o.merge||o.mergeFields?2:0,t,r,i);AR("Data must be an object, but it was:",l,n);let u=AN(n,l);if(o.merge)s=new b_(l.fieldMask),a=l.fieldTransforms;else if(o.mergeFields){let e=[];for(let n of o.mergeFields){let i=AO(t,n,r);if(!l.contains(i))throw new yS(yx.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Aj(e,i)||e.push(i)}s=new b_(e),a=l.fieldTransforms.filter(e=>s.covers(e.field))}else s=null,a=l.fieldTransforms;return new Aw(new wn(u),s,a)}class AT extends Am{_toFieldTransform(e){if(2!==e.dataSource)throw 1===e.dataSource?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof AT}}function AE(e,t,r,n){let i=e.createContext(1,t,r);AR("Data must be an object, but it was:",i,n);let o=[],s=wn.empty();return by(n,(e,n)=>{let a=AB(t,e,r);n=mo(n);let l=i.childContextForFieldPath(a);if(n instanceof AT)o.push(a);else{let e=AF(n,l);null!=e&&(o.push(a),s.set(a,e))}}),new Ax(s,new b_(o),i.fieldTransforms)}function AI(e,t,r,n,i,o){let s=e.createContext(1,t,r),a=[AO(t,n,r)],l=[i];if(o.length%2!=0)throw new yS(yx.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<o.length;e+=2)a.push(AO(t,o[e])),l.push(o[e+1]);let u=[],c=wn.empty();for(let e=a.length-1;e>=0;--e)if(!Aj(u,a[e])){let t=a[e],r=l[e];r=mo(r);let n=s.childContextForFieldPath(t);if(r instanceof AT)u.push(t);else{let e=AF(r,n);null!=e&&(u.push(t),c.set(t,e))}}return new Ax(c,new b_(u),s.fieldTransforms)}function AD(e,t,r,n=!1){return AF(r,e.createContext(n?4:3,t))}function AF(e,t){if(AP(e=mo(e)))return AR("Unsupported field value:",t,e),AN(e,t);if(e instanceof Am)return function(e,t){if(!AS(t.dataSource))throw t.createError(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.createError(`${e._methodName}() is not currently supported inside arrays`);let r=e._toFieldTransform(t);r&&t.fieldTransforms.push(r)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&4!==t.dataSource)throw t.createError("Nested arrays are not supported");let r=[],n=0;for(let i of e){let e=AF(i,t.childContextForArray(n));null==e&&(e={nullValue:"NULL_VALUE"}),r.push(e),n++}return{arrayValue:{values:r}}}return function(e,t){var r,n,i;if(null===(e=mo(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return r=t.serializer,vx(n=e)?w4(n):w3(r,n);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){let r=yY.fromDate(e);return{timestampValue:xQ(t.serializer,r)}}if(e instanceof yY){let r=new yY(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:xQ(t.serializer,r)}}if(e instanceof Ay)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ap)return{bytesValue:xX(t.serializer,e._byteString)};if(e instanceof An){let r=t.databaseId,n=e.firestore._databaseId;if(!n.isEqual(r))throw t.createError(`Document reference is for database ${n.projectId}/${n.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:xY(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Av)return{mapValue:{fields:{[bU]:{stringValue:bq},[bK]:{arrayValue:{values:((i=e)instanceof Av?i.toArray():i).map(e=>{if("number"!=typeof e)throw t.createError("VectorValues must only contain numeric values.");return w3(t.serializer,e)})}}}}};if(Sa(e))return e._toProto(t.serializer);throw t.createError(`Unsupported field value: ${yG(e)}`)}(e,t)}function AN(e,t){let r={};return bv(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):by(e,(e,n)=>{let i=AF(n,t.childContextForField(e));null!=i&&(r[e]=i)}),{mapValue:{fields:r}}}function AP(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof yY||e instanceof Ay||e instanceof Ap||e instanceof An||e instanceof Am||e instanceof Av||Sa(e))}function AR(e,t,r){if(!AP(r)||!yK(r)){let n=yG(r);throw"an object"===n?t.createError(e+" a custom object"):t.createError(e+" "+n)}}function AO(e,t,r){if((t=mo(t))instanceof Ag)return t._internalPath;if("string"==typeof t)return AB(e,t);throw AL("Field path arguments must be of type string or ",e,!1,void 0,r)}let AM=RegExp("[~\\*/\\[\\]]");function AB(e,t,r){if(t.search(AM)>=0)throw AL(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new Ag(...t.split("."))._internalPath}catch(n){throw AL(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function AL(e,t,r,n,i){let o=n&&!n.isEmpty(),s=void 0!==i,a=`Function ${t}() called with invalid data`;r&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${n}`),s&&(l+=` in document ${i}`),l+=")"),new yS(yx.INVALID_ARGUMENT,a+e+l)}function Aj(e,t){return e.some(e=>e.isEqual(t))}class Az{convertValue(e,t="none"){switch(bH(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bD(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bF(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw yv(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return by(e,(e,n)=>{r[e]=this.convertValue(n,t)}),r}convertVectorValue(e){return new Av(e.fields?.[bK].arrayValue?.values?.map(e=>bD(e.doubleValue)))}convertGeoPoint(e){return new Ay(bD(e.latitude),bD(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=bB(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(bL(e));default:return null}}convertTimestamp(e){let t=bI(e);return new yY(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=yj.fromString(e);yw(Ss(r),9688,{name:e});let n=new bV(r.get(1),r.get(3)),i=new yU(r.popFirst(5));return n.isEqual(t)||yg(`Document ${i} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}class AV extends Az{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ap(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new An(this.firestore,null,t)}}let AU="@firebase/firestore",A$="4.10.0";function AW(e){if("object"!=typeof e||null===e)return!1;for(let t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}class Aq{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class AK{constructor(e,t,r){this._userDataWriter=t,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}_fieldsProto(){return new wn({mapValue:{fields:this._data}}).clone().value.mapValue.fields}}class AG{constructor(e,t,r,n,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=n,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new An(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){let e=new AH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){let t=this._document.data.field(AO("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class AH extends AG{data(){return super.data()}}function AQ(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new yS(yx.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AX{}class AJ extends AX{}function AY(e,t,...r){let n=[];for(let i of(t instanceof AX&&n.push(t),function(e){let t=e.filter(e=>e instanceof A1).length,r=e.filter(e=>e instanceof AZ).length;if(t>1||t>0&&r>0)throw new yS(yx.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(r)),n))e=i._apply(e);return e}class AZ extends AJ{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new AZ(e,t,r)}_apply(e){let t=this._parse(e);return Tl(e._query,t),new Ar(e.firestore,e.converter,wz(e._query,t))}_parse(e){let t=A_(e.firestore);return function(e,t,r,n,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new yS(yx.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){Ta(s,o);let t=[];for(let r of s)t.push(Ts(n,e,r));a={arrayValue:{values:t}}}else a=Ts(n,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Ta(s,o),a=AD(r,t,s,"in"===o||"not-in"===o);return wc.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function A0(e,t,r){let n=AO("where",e);return AZ._create(n,t,r)}class A1 extends AX{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new A1(e,t)}_parse(e){let t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:wh.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let r=e;for(let e of t.getFlattenedFilters())Tl(r,e),r=wz(r,e)}(e._query,t),new Ar(e.firestore,e.converter,wz(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function A2(...e){return e.forEach(e=>Tu("or",e)),A1._create("or",e)}function A5(...e){return e.forEach(e=>Tu("and",e)),A1._create("and",e)}class A3 extends AJ{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new A3(e,t)}_apply(e){var t;let r,n=function(e,t,r){if(null!==e.startAt)throw new yS(yx.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new yS(yx.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wl(t,r)}(e._query,this._field,this._direction);return new Ar(e.firestore,e.converter,(t=e._query,r=t.explicitOrderBy.concat([n]),new wP(t.path,t.collectionGroup,r,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)))}}function A4(e,t="asc"){let r=AO("orderBy",e);return A3._create(r,t)}class A6 extends AJ{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new A6(e,t,r)}_apply(e){return new Ar(e.firestore,e.converter,wV(e._query,this._limit,this._limitType))}}function A8(e){return yQ("limit",e),A6._create("limit",e,"F")}function A9(e){return yQ("limitToLast",e),A6._create("limitToLast",e,"L")}class A7 extends AJ{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new A7(e,t,r)}_apply(e){var t;let r=To(e,this.type,this._docOrFields,this._inclusive);return new Ar(e.firestore,e.converter,(t=e._query,new wP(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,r,t.endAt)))}}function Te(...e){return A7._create("startAt",e,!0)}function Tt(...e){return A7._create("startAfter",e,!1)}class Tr extends AJ{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Tr(e,t,r)}_apply(e){var t;let r=To(e,this.type,this._docOrFields,this._inclusive);return new Ar(e.firestore,e.converter,(t=e._query,new wP(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,r)))}}function Tn(...e){return Tr._create("endBefore",e,!1)}function Ti(...e){return Tr._create("endAt",e,!0)}function To(e,t,r,n){if(r[0]=mo(r[0]),r[0]instanceof AG)return function(e,t,r,n,i){if(!n)throw new yS(yx.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${r}().`);let o=[];for(let r of wB(e))if(r.field.isKeyField())o.push(b1(t,n.key));else{let e=n.data.field(r.field);if(bM(e))throw new yS(yx.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+r.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){let e=r.field.canonicalString();throw new yS(yx.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}o.push(e)}return new wo(o,i)}(e._query,e.firestore._databaseId,t,r[0]._document,n);{let i=A_(e.firestore);return function(e,t,r,n,i,o){let s=e.explicitOrderBy;if(i.length>s.length)throw new yS(yx.INVALID_ARGUMENT,`Too many arguments provided to ${n}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let a=[];for(let o=0;o<i.length;o++){let l=i[o];if(s[o].field.isKeyField()){if("string"!=typeof l)throw new yS(yx.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${n}(), but got a ${typeof l}`);if(!wM(e)&&-1!==l.indexOf("/"))throw new yS(yx.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${n}() must be a plain document ID, but '${l}' contains a slash.`);let r=e.path.child(yj.fromString(l));if(!yU.isDocumentKey(r))throw new yS(yx.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${n}() must result in a valid document path, but '${r}' is not because it contains an odd number of segments.`);let i=new yU(r);a.push(b1(t,i))}else{let e=AD(r,n,l);a.push(e)}}return new wo(a,o)}(e._query,e.firestore._databaseId,i,t,r,n)}}function Ts(e,t,r){if("string"==typeof(r=mo(r))){if(""===r)throw new yS(yx.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wM(t)&&-1!==r.indexOf("/"))throw new yS(yx.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);let n=t.path.child(yj.fromString(r));if(!yU.isDocumentKey(n))throw new yS(yx.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return b1(e,new yU(n))}if(r instanceof An)return b1(e,r._key);throw new yS(yx.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yG(r)}.`)}function Ta(e,t){if(!Array.isArray(e)||0===e.length)throw new yS(yx.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Tl(e,t){let r=function(e,t){for(let r of e)for(let e of r.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==r)throw r===t.op?new yS(yx.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new yS(yx.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}function Tu(e,t){if(!(t instanceof AZ||t instanceof A1))throw new yS(yx.INVALID_ARGUMENT,`Function ${e}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}function Tc(e,t,r){return e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t}class Th extends Az{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ap(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new An(this.firestore,null,t)}}function Td(e){return new Aq("sum",AO("sum",e))}function Tf(e){return new Aq("avg",AO("average",e))}function Tp(){return new Aq("count")}function Tg(e,t){return e instanceof Aq&&t instanceof Aq&&e.aggregateType===t.aggregateType&&e._internalFieldPath?.canonicalString()===t._internalFieldPath?.canonicalString()}function Tm(e,t){return As(e.query,t.query)&&mn(e.data(),t.data())}function Ty(e){return Tv(e,{count:Tp()})}function Tv(e,t){var r;let n,i=yH(e.firestore,Ah),o=Ad(i),s=function(e,t){let r=[];for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.push(t(e[n],n,e));return r}(t,(e,t)=>new xk(t,e.aggregateType,e._internalFieldPath));return(r=e._query,n=new yC,o.asyncQueue.enqueueAndForget(async()=>{try{let e=await _5(o);n.resolve(async function(e,t,r){let{request:n,gt:i,parent:o}=function(e,t,r,n){let{ft:i,parent:o}=Sr(e,t),s={},a=[],l=0;return r.forEach(e=>{let t="aggregate_"+l++;s[t]=e.alias,"count"===e.aggregateType?a.push({alias:t,count:{}}):"avg"===e.aggregateType?a.push({alias:t,avg:{field:Si(e.fieldPath)}}):"sum"===e.aggregateType&&a.push({alias:t,sum:{field:Si(e.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:a,structuredQuery:i.structuredQuery},parent:i.parent},gt:s,parent:o}}(e.serializer,(t.Re||(t.Re=wj(t,t.explicitOrderBy)),t.Re),r);e.connection.Ko||delete n.parent;let s=(await e.jo("RunAggregationQuery",e.serializer.databaseId,o,n,1)).filter(e=>!!e.result);yw(1===s.length,64727);let a=s[0].result?.aggregateFields;return Object.keys(a).reduce((e,t)=>(e[i[t]]=a[t],e),{})}(e,r,s))}catch(e){n.reject(e)}}),n.promise).then(t=>new AK(e,new AV(i),t))}class Tb{constructor(e){this.kind="memory",this._onlineComponentProvider=_U.provider,this._offlineComponentProvider=e?.garbageCollector?e.garbageCollector._offlineComponentProvider:{build:()=>new _j(void 0)}}toJSON(){return{kind:this.kind}}}class Tw{constructor(e){let t;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=TI(void 0))._initialize(e),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class Tx{constructor(){this.kind="memoryEager",this._offlineComponentProvider=_L.provider}toJSON(){return{kind:this.kind}}}class TS{constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new _j(e)}}toJSON(){return{kind:this.kind}}}function TC(){return new Tx}function Tk(e){return new TS(e?.cacheSizeBytes)}function T_(e){return new Tb(e)}function TA(e){return new Tw(e)}class TT{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=_U.provider,this._offlineComponentProvider={build:t=>new _z(t,e?.cacheSizeBytes,this.forceOwnership)}}}class TE{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=_U.provider,this._offlineComponentProvider={build:t=>new _V(t,e?.cacheSizeBytes)}}}function TI(e){return new TT(e?.forceOwnership)}function TD(){return new TE}let TF="NOT SUPPORTED";class TN{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class TP extends AG{constructor(e,t,r,n,i,o){super(e,t,r,n,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new TO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(AO("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yS(yx.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=TP._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()&&(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),this._firestore,this.ref.path,t.bundle="NOT SUPPORTED"),t}}function TR(e,t,r){if(yJ(t,TP._jsonSchema)){var n;if(t.bundle===TF)throw new yS(yx.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");let i=kl(e._databaseId),o=(n=t.bundle,new _K(n,i)),s=o.t(),a=new k8(o.getMetadata(),i);for(let e of s)a.o(e);let l=a.documents;if(1!==l.length)throw new yS(yx.INVALID_ARGUMENT,`Expected bundle data to contain 1 document, but it contains ${l.length} documents.`);let u=x9(i,l[0].document),c=new yU(yj.fromString(t.bundleName));return new TP(e,new Th(e),c,u,new TN(!1,!1),r||null)}}TP._jsonSchemaVersion="firestore/documentSnapshot/1.0",TP._jsonSchema={type:yX("string",TP._jsonSchemaVersion),bundleSource:yX("string","DocumentSnapshot"),bundleName:yX("string"),bundle:yX("string")};class TO extends TP{data(e={}){return super.data(e)}}class TM{constructor(e,t,r,n){this._firestore=e,this._userDataWriter=t,this._snapshot=n,this.metadata=new TN(n.hasPendingWrites,n.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new TO(this._firestore,this._userDataWriter,r.key,r,new TN(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new yS(yx.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(r=>{let n=new TO(e._firestore,e._userDataWriter,r.doc.key,r.doc,new TN(e._snapshot.mutatedKeys.has(r.doc.key),e._snapshot.fromCache),e.query.converter);return r.doc,{type:"added",doc:n,oldIndex:-1,newIndex:t++}})}{let r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{let n=new TO(e._firestore,e._userDataWriter,t.doc.key,t.doc,new TN(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yv(61501,{type:e})}}(t.type),doc:n,oldIndex:i,newIndex:o}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yS(yx.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=TM._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yN.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],n=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),r.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),n.push(e.ref.path))}),this._firestore,this.query._query,e.bundleName,e.bundle="NOT SUPPORTED",e}}function TB(e,t,r){if(yJ(t,TM._jsonSchema)){var n;if(t.bundle===TF)throw new yS(yx.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");let i=kl(e._databaseId),o=(n=t.bundle,new _K(n,i)),s=o.t(),a=new k8(o.getMetadata(),i);for(let e of s)a.o(e);if(1!==a.queries.length)throw new yS(yx.INVALID_ARGUMENT,`Snapshot data expected 1 query but found ${a.queries.length} queries.`);let l=Sy(a.queries[0].bundledQuery),u=a.documents,c=new kG;u.map(e=>{let t=x9(i,e.document);c=c.add(t)});let h=kQ.fromInitialDocuments(l,c,w2(),!1,!1),d=new Ar(e,r||null,l);return new TM(e,new Th(e),d,h)}}function TL(e,t){return e instanceof TP&&t instanceof TP?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof TM&&t instanceof TM&&e._firestore===t._firestore&&As(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}TM._jsonSchemaVersion="firestore/querySnapshot/1.0",TM._jsonSchema={type:yX("string",TM._jsonSchemaVersion),bundleSource:yX("string","QuerySnapshot"),bundleName:yX("string"),bundle:yX("string")};let Tj={maxAttempts:5};class Tz{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=A_(e)}set(e,t,r){this._verifyNotCommitted();let n=TV(e,this._firestore),i=Tc(n.converter,t,r),o=AA(this._dataReader,"WriteBatch.set",n._key,i,null!==n.converter,r);return this._mutations.push(o.toMutation(n._key,xl.none())),this}update(e,t,r,...n){let i;this._verifyNotCommitted();let o=TV(e,this._firestore);return i="string"==typeof(t=mo(t))||t instanceof Ag?AI(this._dataReader,"WriteBatch.update",o._key,t,r,n):AE(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(i.toMutation(o._key,xl.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=TV(e,this._firestore);return this._mutations=this._mutations.concat(new xb(t._key,xl.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new yS(yx.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function TV(e,t){if((e=mo(e)).firestore!==t)throw new yS(yx.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class TU{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=A_(e)}get(e){let t=TV(e,this._firestore),r=new Th(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return yv(24041);let n=e[0];if(n.isFoundDocument())return new AG(this._firestore,r,n.key,n,t.converter);if(n.isNoDocument())return new AG(this._firestore,r,t._key,null,t.converter);throw yv(18433,{doc:n})})}set(e,t,r){let n=TV(e,this._firestore),i=Tc(n.converter,t,r),o=AA(this._dataReader,"Transaction.set",n._key,i,null!==n.converter,r);return this._transaction.set(n._key,o),this}update(e,t,r,...n){let i,o=TV(e,this._firestore);return i="string"==typeof(t=mo(t))||t instanceof Ag?AI(this._dataReader,"Transaction.update",o._key,t,r,n):AE(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,i),this}delete(e){let t=TV(e,this._firestore);return this._transaction.delete(t._key),this}}class T$ extends TU{constructor(e,t){super(e,t),this._firestore=e}get(e){let t=TV(e,this._firestore),r=new AV(this._firestore);return super.get(e).then(e=>new TP(this._firestore,r,t._key,e._document,new TN(!1,!1),t.converter))}}function TW(e,t,r){var n,i;let o;e=yH(e,Ah);let s={...Tj,...r};if(s.maxAttempts<1)throw new yS(yx.INVALID_ARGUMENT,"Max attempts must be at least 1");return n=Ad(e),i=r=>t(new T$(e,r)),o=new yC,n.asyncQueue.enqueueAndForget(async()=>{let e=await _5(n);new _H(n.asyncQueue,e,s,i,o).ju()}),o.promise}function Tq(e){e=yH(e,An);let t=yH(e.firestore,Ah);return _4(Ad(t),e._key).then(r=>T4(t,e,r))}function TK(e){var t;let r;e=yH(e,An);let n=yH(e.firestore,Ah),i=Ad(n),o=new AV(n);return(t=e._key,r=new yC,i.asyncQueue.enqueueAndForget(async()=>(async function(e,t,r){try{let n=await e.persistence.runTransaction("read document","readonly",r=>e.localDocuments.getDocument(r,t));n.isFoundDocument()?r.resolve(n):n.isNoDocument()?r.resolve(null):r.reject(new yS(yx.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(n){let e=kK(n,`Failed to get document '${t} from cache`);r.reject(e)}})(await _1(i),t,r)),r.promise).then(t=>new TP(n,o,e._key,t,new TN(null!==t&&t.hasLocalMutations,!0),e.converter))}function TG(e){e=yH(e,An);let t=yH(e.firestore,Ah);return _4(Ad(t),e._key,{source:"server"}).then(r=>T4(t,e,r))}function TH(e){e=yH(e,Ar);let t=yH(e.firestore,Ah),r=Ad(t),n=new AV(t);return AQ(e._query),_6(r,e._query).then(r=>new TM(t,n,e,r))}function TQ(e){var t;let r;e=yH(e,Ar);let n=yH(e.firestore,Ah),i=Ad(n),o=new AV(n);return(t=e._query,r=new yC,i.asyncQueue.enqueueAndForget(async()=>(async function(e,t,r){try{let n=await CL(e,t,!0),i=new _t(t,n.ks),o=i.ru(n.documents),s=i.applyChanges(o,!1);r.resolve(s.snapshot)}catch(n){let e=kK(n,`Failed to execute query '${t} against cache`);r.reject(e)}})(await _1(i),t,r)),r.promise).then(t=>new TM(n,o,e,t))}function TX(e){e=yH(e,Ar);let t=yH(e.firestore,Ah),r=Ad(t),n=new AV(t);return _6(r,e._query,{source:"server"}).then(r=>new TM(t,n,e,r))}function TJ(e,t,r){e=yH(e,An);let n=yH(e.firestore,Ah),i=Tc(e.converter,t,r),o=A_(n);return T3(n,[AA(o,"setDoc",e._key,i,null!==e.converter,r).toMutation(e._key,xl.none())])}function TY(e,t,r,...n){e=yH(e,An);let i=yH(e.firestore,Ah),o=A_(i);return T3(i,[("string"==typeof(t=mo(t))||t instanceof Ag?AI(o,"updateDoc",e._key,t,r,n):AE(o,"updateDoc",e._key,t)).toMutation(e._key,xl.exists(!0))])}function TZ(e){return T3(yH(e.firestore,Ah),[new xb(e._key,xl.none())])}function T0(e,t){let r=yH(e.firestore,Ah),n=Ao(e),i=Tc(e.converter,t);return T3(r,[AA(A_(e.firestore),"addDoc",n._key,i,null!==e.converter,{}).toMutation(n._key,xl.exists(!1))]).then(()=>n)}function T1(e,...t){var r;let n,i,o,s,a;e=mo(e);let l={includeMetadataChanges:!1,source:"default"},u=0;"object"!=typeof t[0]||AW(t[u])||(l=t[u++]);let c={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(AW(t[u])){let e=t[u];t[u]=e.next?.bind(e),t[u+1]=e.error?.bind(e),t[u+2]=e.complete?.bind(e)}if(e instanceof An)i=yH(e.firestore,Ah),o=wR(e._key.path),n={next:r=>{t[u]&&t[u](T4(i,e,r))},error:t[u+1],complete:t[u+2]};else{let r=yH(e,Ar);i=yH(r.firestore,Ah),o=r._query;let s=new AV(i);n={next:e=>{t[u]&&t[u](new TM(i,s,r,e))},error:t[u+1],complete:t[u+2]},AQ(e._query)}return r=Ad(i),a=new k3(o,s=new _W(n),c),r.asyncQueue.enqueueAndForget(async()=>kZ(await _3(r),a)),()=>{s.Nu(),r.asyncQueue.enqueueAndForget(async()=>k0(await _3(r),a))}}function T2(e,t,...r){var n,i,o,s,a,l;let u=mo(e),c=function(e){let t={bundle:"",bundleName:"",bundleSource:""};for(let r of["bundle","bundleName","bundleSource"]){if(!(r in e)){t.error=`snapshotJson missing required field: ${r}`;break}let n=e[r];if("string"!=typeof n){t.error=`snapshotJson field '${r}' must be a string.`;break}if(0===n.length){t.error=`snapshotJson field '${r}' cannot be an empty string.`;break}"bundle"===r?t.bundle=n:"bundleName"===r?t.bundleName=n:"bundleSource"===r&&(t.bundleSource=n)}return t}(t);if(c.error)throw new yS(yx.INVALID_ARGUMENT,c.error);let h,d=0;if("object"!=typeof r[0]||AW(r[d])||(h=r[d++]),"QuerySnapshot"===c.bundleSource){let e,t,s=null;if("object"==typeof r[d]&&AW(r[d])){let e=r[d++];s={next:e.next,error:e.error,complete:e.complete}}else s={next:r[d++],error:r[d++],complete:r[d++]};return n=h,i=s,o=r[d],t=!1,Af(u,c.bundle).then(()=>{var e,t,r;return e=u,t=c.bundleName,(r=Ad(e=yH(e,Ah)),r.asyncQueue.enqueue(async()=>{var e;return e=await _1(r),e.persistence.runTransaction("Get named query","readonly",r=>e.Pi.getNamedQuery(r,t))})).then(t=>t?new Ar(e,null,t.query):null)}).then(r=>{r&&!t&&(o&&r.withConverter(o),e=T1(r,n||{},i))}).catch(e=>(i.error&&i.error(e),()=>{})),()=>{t||(t=!0,e&&e())}}if("DocumentSnapshot"===c.bundleSource){let e,t,n=null;if("object"==typeof r[d]&&AW(r[d])){let e=r[d++];n={next:e.next,error:e.error,complete:e.complete}}else n={next:r[d++],error:r[d++],complete:r[d++]};return s=h,a=n,l=r[d],t=!1,Af(u,c.bundle).then(()=>{t||(e=T1(new An(u,l||null,yU.fromPath(c.bundleName)),s||{},a))}).catch(e=>(a.error&&a.error(e),()=>{})),()=>{t||(t=!0,e&&e())}}throw new yS(yx.INVALID_ARGUMENT,`unsupported bundle source: ${c.bundleSource}`)}function T5(e,t){let r,n=Ad(e=yH(e,Ah));return r=new _W(AW(t)?t:{next:t}),n.asyncQueue.enqueueAndForget(async()=>{var e;return e=await _3(n),void(e.Ca.add(r),r.next())}),()=>{r.Nu(),n.asyncQueue.enqueueAndForget(async()=>{var e;return e=await _3(n),void e.Ca.delete(r)})}}function T3(e,t){var r;let n;return r=Ad(e),n=new yC,r.asyncQueue.enqueueAndForget(async()=>_d(await _2(r),t,n)),n.promise}function T4(e,t,r){let n=r.docs.get(t._key),i=new AV(e);return new TP(e,i,t._key,n,new TN(r.hasPendingWrites,r.fromCache),t.converter)}function T6(e){return Ad(e=yH(e,Ah)),new Tz(e,t=>T3(e,t))}function T8(e,t){let r=Ad(e=yH(e,Ah));if(!r._uninitializedComponentsProvider||"memory"===r._uninitializedComponentsProvider._offline.kind)return ym("Cannot enable indexes when persistence is disabled"),Promise.resolve();let n=function(e){let t="string"==typeof e?function(e){try{return JSON.parse(e)}catch(e){throw new yS(yx.INVALID_ARGUMENT,"Failed to parse JSON: "+e?.message)}}(e):e,r=[];if(Array.isArray(t.indexes))for(let e of t.indexes){let t=T9(e,"collectionGroup"),n=[];if(Array.isArray(e.fields))for(let t of e.fields){let e=AB("setIndexConfiguration",T9(t,"fieldPath"));"CONTAINS"===t.arrayConfig?n.push(new y3(e,2)):"ASCENDING"===t.order?n.push(new y3(e,0)):"DESCENDING"===t.order&&n.push(new y3(e,1))}r.push(new y0(y0.UNKNOWN_ID,t,n,y4.empty()))}return r}(t);return r.asyncQueue.enqueue(async()=>(async function(e,t){let r=e.indexManager,n=[];return e.persistence.runTransaction("Configure indexes","readwrite",e=>r.getFieldIndexes(e).next(i=>(function(e,t,r,n,i){t=[...t],(e=[...e]).sort(r),t.sort(r);let o=e.length,s=t.length,a=0,l=0;for(;a<s&&l<o;){let o=r(e[l],t[a]);o<0?i(e[l++]):o>0?n(t[a++]):(a++,l++)}for(;a<s;)n(t[a++]);for(;l<o;)i(e[l++])})(i,t,y5,t=>{n.push(r.addFieldIndex(e,t))},t=>{n.push(r.deleteFieldIndex(e,t))})).next(()=>vn.waitFor(n)))})(await _1(r),n))}function T9(e,t){if("string"!=typeof e[t])throw new yS(yx.INVALID_ARGUMENT,"Missing string value for: "+t);return e[t]}class T7{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function Ee(e){e=yH(e,Ah);let t=Eo.get(e);if(t)return t;let r=Ad(e);if("persistent"!==r._uninitializedComponentsProvider?._offline.kind)return null;let n=new T7(e);return Eo.set(e,n),n}function Et(e){Ei(e,!0)}function Er(e){Ei(e,!1)}function En(e){var t;(t=Ad(e._firestore)).asyncQueue.enqueue(async()=>{var e;let r;return r=(e=await _1(t)).indexManager,e.persistence.runTransaction("Delete All Indexes","readwrite",e=>r.deleteAllFieldIndexes(e))}).then(e=>yp("deleting all persistent cache indexes succeeded")).catch(e=>ym("deleting all persistent cache indexes failed",e))}function Ei(e,t){var r;(r=Ad(e._firestore),r.asyncQueue.enqueue(async()=>{var e;return e=await _1(r),void(e.Cs.As=t)})).then(e=>yp(`setting persistent cache index auto creation isEnabled=${t} succeeded`)).catch(e=>ym(`setting persistent cache index auto creation isEnabled=${t} failed`,e))}let Eo=new WeakMap;class Es{constructor(){throw Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return Ea.instance.onExistenceFilterMismatch(e)}}class Ea{constructor(){this.i=new Map}static get instance(){return El||function(e){if(xE)throw Error("a TestingHooksSpi instance is already set");xE=e}(El=new Ea),El}u(e){this.i.forEach(t=>t(e))}onExistenceFilterMismatch(e){let t=Symbol(),r=this.i;return r.set(t,e),()=>r.delete(t)}}let El=null;!function(e=!0){yh=mX,mj(new ms("firestore",(t,{instanceIdentifier:r,options:n})=>{let i=t.getProvider("app").getImmediate(),o=new Ah(new yT(t.getProvider("auth-internal")),new yF(i,t.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new yS(yx.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bV(e.options.projectId,t)}(i,r),i);return n={useFetchStreams:e,...n},o._setSettings(n),o},"PUBLIC").setMultipleInstances(!0)),m2(AU,A$,void 0),m2(AU,A$,"esm2020")}(),e.s(["AggregateField",()=>Aq,"AggregateQuerySnapshot",()=>AK,"DocumentSnapshot",()=>TP,"PersistentCacheIndexManager",()=>T7,"QueryCompositeFilterConstraint",()=>A1,"QueryConstraint",()=>AJ,"QueryDocumentSnapshot",()=>TO,"QueryEndAtConstraint",()=>Tr,"QueryFieldFilterConstraint",()=>AZ,"QueryLimitConstraint",()=>A6,"QueryOrderByConstraint",()=>A3,"QuerySnapshot",()=>TM,"QueryStartAtConstraint",()=>A7,"SnapshotMetadata",()=>TN,"Transaction",()=>T$,"WriteBatch",()=>Tz,"_TestingHooks",()=>Es,"addDoc",()=>T0,"aggregateFieldEqual",()=>Tg,"aggregateQuerySnapshotEqual",()=>Tm,"and",()=>A5,"average",()=>Tf,"count",()=>Tp,"deleteAllPersistentCacheIndexes",()=>En,"deleteDoc",()=>TZ,"disablePersistentCacheIndexAutoCreation",()=>Er,"documentSnapshotFromJSON",()=>TR,"enablePersistentCacheIndexAutoCreation",()=>Et,"endAt",()=>Ti,"endBefore",()=>Tn,"executeWrite",()=>T3,"getAggregateFromServer",()=>Tv,"getCountFromServer",()=>Ty,"getDoc",()=>Tq,"getDocFromCache",()=>TK,"getDocFromServer",()=>TG,"getDocs",()=>TH,"getDocsFromCache",()=>TQ,"getDocsFromServer",()=>TX,"getPersistentCacheIndexManager",()=>Ee,"limit",()=>A8,"limitToLast",()=>A9,"memoryEagerGarbageCollector",()=>TC,"memoryLocalCache",()=>T_,"memoryLruGarbageCollector",()=>Tk,"onSnapshot",()=>T1,"onSnapshotResume",()=>T2,"onSnapshotsInSync",()=>T5,"or",()=>A2,"orderBy",()=>A4,"persistentLocalCache",()=>TA,"persistentMultipleTabManager",()=>TD,"persistentSingleTabManager",()=>TI,"query",()=>AY,"querySnapshotFromJSON",()=>TB,"runTransaction",()=>TW,"setDoc",()=>TJ,"setIndexConfiguration",()=>T8,"snapshotEqual",()=>TL,"startAfter",()=>Tt,"startAt",()=>Te,"sum",()=>Td,"updateDoc",()=>TY,"where",()=>A0,"writeBatch",()=>T6],63802),e.i(63802),m2("firebase","12.8.0","app"),e.i(92953);let Eu=function(e,t){let r=mz("object"==typeof e?e:mZ(),"firestore").getImmediate({identifier:"string"==typeof e?e:bz});if(!r._initialized){let e=(e=>{let t=gJ()?.emulatorHosts?.[e];if(!t)return;let r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let n=parseInt(t.substring(r+1),10);return"["===t[0]?[t.substring(1,r-1),n]:[t.substring(0,r),n]})("firestore");e&&function(e,t,r,n={}){e=yH(e,At);let i=g0(t),o=e._getSettings(),s={...o,emulatorOptions:e._getEmulatorOptions()},a=`${t}:${r}`;i&&(g1(`https://${a}`),function(e,t){if("u"<typeof window||"u"<typeof document||!g0(window.location.host)||g2[e]===t||g2[e]||g5)return;function r(e){return`__firebase__banner__${e}`}g2[e]=t;let n="__firebase__banner",i=function(){let e={prod:[],emulator:[]};for(let t of Object.keys(g2))g2[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){let e,t,o=(e=document.getElementById(n),t=!1,e||((e=document.createElement("div")).setAttribute("id",n),t=!0),{created:t,element:e}),s=r("text"),a=document.getElementById(s)||document.createElement("span"),l=r("learnmore"),u=document.getElementById(l)||document.createElement("a"),c=r("preprendIcon"),h=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(o.created){let e,t=o.element;t.style.display="flex",t.style.background="#7faaf0",t.style.position="fixed",t.style.bottom="5px",t.style.left="5px",t.style.padding=".5em",t.style.borderRadius="5px",t.style.alignItems="center",u.setAttribute("id",l),u.innerText="Learn more",u.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",u.setAttribute("target","__blank"),u.style.paddingLeft="5px",u.style.textDecoration="underline";let r=((e=document.createElement("span")).style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{let e;g5=!0,(e=document.getElementById(n))&&e.remove()},e);h.setAttribute("width","24"),h.setAttribute("id",c),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px",t.append(h,a,u,r),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",h.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(h.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,a.innerText="Preview backend running in this workspace."),a.setAttribute("id",s)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}("Firestore",!0)),o.host!==_7&&o.host!==a&&ym("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l={...o,host:a,ssl:i,emulatorOptions:n};if(!mn(l,s)&&(e._setSettings(l),n.mockUserToken)){let t,r;if("string"==typeof n.mockUserToken)t=n.mockUserToken,r=yc.MOCK_USER;else{t=function(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let r=t||"demo-project",n=e.iat||0,i=e.sub||e.user_id;if(!i)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:n,exp:n+3600,auth_time:n,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[gH(JSON.stringify({alg:"none",type:"JWT"})),gH(JSON.stringify(o)),""].join(".")}(n.mockUserToken,e._app?.options.projectId);let i=n.mockUserToken.sub||n.mockUserToken.user_id;if(!i)throw new yS(yx.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");r=new yc(i)}e._authCredentials=new yA(new yk(t,r))}}(r,...e)}return r}(m0().length>0?mZ():mJ({apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""})),Ec={presiding:"",conducting:"",organist:"",chorister:"",opening_hymn:"",invocation:"",sacrament_hymn:"",speaker1:"",speaker2:"",intermediate_hymn:"",speaker3:"",speaker4:"",closing_hymn:"",benediction:""},Eh=(o=Ec,s=new Set,{subscribe:e=>{let t=T1(Ao(Eu,"",""),e=>{e.exists()&&(o=e.data()),s.forEach(e=>e())});return s.add(e),()=>{t(),s.delete(e)}},getSnapshot:()=>o,updateData:async e=>{try{let t=Ao(Eu,"","");return await TY(t,e),!0}catch(e){return console.error("Error updating document:",e),!1}},getServerSnapshot:()=>Ec,addData:async e=>{try{return await T0(function(e,t,...r){if(e=mo(e),y$("collection","path",""),e instanceof At){let t=yj.fromString("",...r);return yq(t),new Ai(e,null,t)}{if(!(e instanceof An||e instanceof Ai))throw new yS(yx.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let t=e._path.child(yj.fromString("",...r));return yq(t),new Ai(e.firestore,null,t)}}(Eu,0),e),!0}catch(e){return console.error("Error:",e),!1}}});e.s(["default",0,()=>{let e=(0,eL.useSyncExternalStore)(Eh.subscribe,Eh.getSnapshot,Eh.getServerSnapshot),{register:t,handleSubmit:r,reset:n,watch:i,formState:{errors:o,isDirty:s}}=function(e={}){let t=eL.default.useRef(void 0),r=eL.default.useRef(void 0),[n,i]=eL.default.useState({isDirty:!1,isValidating:!1,isLoading:eH(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:eH(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!eH(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{let{formControl:r,...i}=function(e={}){let t,r={...tk,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:eH(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},o=(eV(r.defaultValues)||eV(r.values))&&e$(r.defaultValues||r.values)||{},s=r.shouldUnregister?{}:e$(o),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u=0,c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...c},d={...h},f={array:e9(),state:e9()},p="all"===r.criteriaMode,g=async e=>{if(!a.keepIsValid&&!r.disabled&&(h.isValid||d.isValid||e)){let e;r.resolver?(e=e7((await b()).errors),m()):e=await x(i,!0),e!==n.isValid&&f.state.next({isValid:e})}},m=(e,t)=>{!r.disabled&&(h.isValidating||h.validatingFields||d.isValidating||d.validatingFields)&&((e||Array.from(l.mount)).forEach(e=>{e&&(t?eQ(n.validatingFields,e,t):tr(n.validatingFields,e))}),f.state.next({validatingFields:n.validatingFields,isValidating:!e7(n.validatingFields)}))},y=(e,t,r,n)=>{let l=eG(i,e);if(l){let i=eG(s,e,eW(r)?eG(o,e):r);eW(i)||n&&n.defaultChecked||t?eQ(s,e,t?i:td(l._f)):k(e,i),a.mount&&!a.action&&g()}},v=(e,t,i,s,a)=>{let l=!1,u=!1,c={name:e};if(!r.disabled){if(!i||s){(h.isDirty||d.isDirty)&&(u=n.isDirty,n.isDirty=c.isDirty=S(),l=u!==c.isDirty);let r=e4(eG(o,e),t);u=!!eG(n.dirtyFields,e),r?tr(n.dirtyFields,e):eQ(n.dirtyFields,e,!0),c.dirtyFields=n.dirtyFields,l=l||(h.dirtyFields||d.dirtyFields)&&!r!==u}if(i){let t=eG(n.touchedFields,e);t||(eQ(n.touchedFields,e,i),c.touchedFields=n.touchedFields,l=l||(h.touchedFields||d.touchedFields)&&t!==i)}l&&a&&f.state.next(c)}return l?c:{}},b=async e=>(m(e,!0),await r.resolver(s,r.context,((e,t,r,n)=>{let i={};for(let r of e){let e=eG(t,r);e&&eQ(i,r,e._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}})(e||l.mount,i,r.criteriaMode,r.shouldUseNativeValidation))),w=async e=>{let{errors:t}=await b(e);if(m(e),e)for(let r of e){let e=eG(t,r);e?eQ(n.errors,r,e):tr(n.errors,r)}else n.errors=t;return t},x=async(t,i,o={valid:!0})=>{for(let a in t){let u=t[a];if(u){let{_f:t,...a}=u;if(t){let a=l.array.has(t.name),c=u._f&&tm(u._f);c&&h.validatingFields&&m([t.name],!0);let d=await tC(u,l.disabled,s,p,r.shouldUseNativeValidation&&!i,a);if(c&&h.validatingFields&&m([t.name]),d[t.name]&&(o.valid=!1,i||e.shouldUseNativeValidation))break;i||(eG(d,t.name)?a?tw(n.errors,d,t.name):eQ(n.errors,t.name,d[t.name]):tr(n.errors,t.name))}e7(a)||await x(a,i,o)}}return o.valid},S=(e,t)=>!r.disabled&&(e&&t&&eQ(s,e,t),!e4(D(),o)),C=(e,t,r)=>{var n,i;return n=l,i={...a.mount?s:eW(t)?o:e5(e)?{[e]:t}:t},e5(e)?(r&&n.watch.add(e),eG(i,e,t)):Array.isArray(e)?e.map(e=>(r&&n.watch.add(e),eG(i,e))):(r&&(n.watchAll=!0),i)},k=(e,t,r={})=>{let n=eG(i,e),o=t;if(n){let r=n._f;r&&(r.disabled||eQ(s,e,tu(t,r)),o=te(r.ref)&&ez(t)?"":t,"select-multiple"===r.ref.type?[...r.ref.options].forEach(e=>e.selected=o.includes(e.value)):r.refs?"checkbox"===r.ref.type?r.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(o)?e.checked=!!o.find(t=>t===e.value):e.checked=o===e.value||!!o)}):r.refs.forEach(e=>e.checked=e.value===o):"file"===r.ref.type?r.ref.value="":(r.ref.value=o,r.ref.type||f.state.next({name:e,values:e$(s)})))}(r.shouldDirty||r.shouldTouch)&&v(e,o,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&I(e)},_=(e,t,r)=>{for(let n in t){if(!t.hasOwnProperty(n))return;let o=t[n],s=e+"."+n,a=eG(i,s);(l.array.has(e)||eV(o)||a&&!a._f)&&!ej(o)?_(s,o,r):k(s,o,r)}},A=(e,t,r={})=>{let u=eG(i,e),c=l.array.has(e),p=e$(t);eQ(s,e,p),c?(f.array.next({name:e,values:e$(s)}),(h.isDirty||h.dirtyFields||d.isDirty||d.dirtyFields)&&r.shouldDirty&&f.state.next({name:e,dirtyFields:to(o,s),isDirty:S(e,p)})):!u||u._f||ez(p)?k(e,p,r):_(e,p,r),ty(e,l)?f.state.next({...n,name:e,values:e$(s)}):f.state.next({name:a.mount?e:void 0,values:e$(s)})},T=async e=>{a.mount=!0;let o=e.target,c=o.name,y=!0,w=eG(i,c),S=e=>{y=Number.isNaN(e)||ej(e)&&isNaN(e.getTime())||e4(e,eG(s,c,e))},C=tp(r.mode),k=tp(r.reValidateMode);if(w){let a,R,O,M,B=o.type?td(w._f):eV(a=e)&&a.target?"checkbox"===a.target.type?a.target.checked:a.target.value:a,L="blur"===e.type||"focusout"===e.type,j=!((M=w._f).mount&&(M.required||M.min||M.max||M.maxLength||M.minLength||M.pattern||M.validate))&&!r.resolver&&!eG(n.errors,c)&&!w._f.deps||(_=L,A=eG(n.touchedFields,c),T=n.isSubmitted,E=k,!(D=C).isOnAll&&(!T&&D.isOnTouch?!(A||_):(T?E.isOnBlur:D.isOnBlur)?!_:(T?!E.isOnChange:!D.isOnChange)||_)),z=ty(c,l,L);eQ(s,c,B),L?o&&o.readOnly||(w._f.onBlur&&w._f.onBlur(e),t&&t(0)):w._f.onChange&&w._f.onChange(e);let V=v(c,B,L),U=!e7(V)||z;if(L||f.state.next({name:c,type:e.type,values:e$(s)}),j)return(h.isValid||d.isValid)&&("onBlur"===r.mode?L&&g():L||g()),U&&f.state.next({name:c,...z?{}:V});if(!L&&z&&f.state.next({...n}),r.resolver){let{errors:e}=await b([c]);if(m([c]),S(B),y){let t=tb(n.errors,i,c),r=tb(e,i,t.name||c);R=r.error,c=r.name,O=e7(e)}}else m([c],!0),R=(await tC(w,l.disabled,s,p,r.shouldUseNativeValidation))[c],m([c]),S(B),y&&(R?O=!1:(h.isValid||d.isValid)&&(O=await x(i,!0)));if(y){w._f.deps&&(!Array.isArray(w._f.deps)||w._f.deps.length>0)&&I(w._f.deps);var _,A,T,E,D,F=c,N=O,P=R;let e=eG(n.errors,F),i=(h.isValid||d.isValid)&&"boolean"==typeof N&&n.isValid!==N;if(r.delayError&&P){let e;e=()=>{eQ(n.errors,F,P),f.state.next({errors:n.errors})},(t=t=>{clearTimeout(u),u=setTimeout(e,t)})(r.delayError)}else clearTimeout(u),t=null,P?eQ(n.errors,F,P):tr(n.errors,F);if((P?!e4(e,P):e)||!e7(V)||i){let e={...V,...i&&"boolean"==typeof N?{isValid:N}:{},errors:n.errors,name:F};n={...n,...e},f.state.next(e)}}}},E=(e,t)=>{if(eG(n.errors,t)&&e.focus)return e.focus(),1},I=async(e,t={})=>{let o,s,a=e8(e);if(r.resolver){let t=await w(eW(e)?e:a);o=e7(t),s=e?!a.some(e=>eG(t,e)):o}else e?((s=(await Promise.all(a.map(async e=>{let t=eG(i,e);return await x(t&&t._f?{[e]:t}:t)}))).every(Boolean))||n.isValid)&&g():s=o=await x(i);return f.state.next({...!e5(e)||(h.isValid||d.isValid)&&o!==n.isValid?{}:{name:e},...r.resolver||!e?{isValid:o}:{},errors:n.errors}),t.shouldFocus&&!s&&tv(i,E,e?a:l.mount),s},D=(e,t)=>{let r={...a.mount?s:o};return t&&(r=function e(t,r){let n={};for(let i in t)if(t.hasOwnProperty(i)){let o=t[i],s=r[i];if(o&&eV(o)&&s){let t=e(o,s);eV(t)&&(n[i]=t)}else t[i]&&(n[i]=s)}return n}(t.dirtyFields?n.dirtyFields:n.touchedFields,r)),eW(e)?r:e5(e)?eG(r,e):e.map(e=>eG(r,e))},F=(e,t)=>({invalid:!!eG((t||n).errors,e),isDirty:!!eG((t||n).dirtyFields,e),error:eG((t||n).errors,e),isValidating:!!eG(n.validatingFields,e),isTouched:!!eG((t||n).touchedFields,e)}),N=(e,t,r)=>{let o=(eG(i,e,{_f:{}})._f||{}).ref,{ref:s,message:a,type:l,...u}=eG(n.errors,e)||{};eQ(n.errors,e,{...u,...t,ref:o}),f.state.next({name:e,errors:n.errors,isValid:!1}),r&&r.shouldFocus&&o&&o.focus&&o.focus()},P=e=>f.state.subscribe({next:t=>{let r,i,a;r=e.name,i=t.name,a=e.exact,(!r||!i||r===i||e8(r).some(e=>e&&(a?e===i:e.startsWith(i)||i.startsWith(e))))&&((e,t,r,n)=>{r(e);let{name:i,...o}=e;return e7(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(e=>t[e]===(!n||"all"))})(t,e.formState||h,V,e.reRenderRoot)&&e.callback({values:{...s},...n,...t,defaultValues:o})}}).unsubscribe,R=(e,t={})=>{for(let a of e?e8(e):l.mount)l.mount.delete(a),l.array.delete(a),t.keepValue||(tr(i,a),tr(s,a)),t.keepError||tr(n.errors,a),t.keepDirty||tr(n.dirtyFields,a),t.keepTouched||tr(n.touchedFields,a),t.keepIsValidating||tr(n.validatingFields,a),r.shouldUnregister||t.keepDefaultValue||tr(o,a);f.state.next({values:e$(s)}),f.state.next({...n,...!t.keepDirty?{}:{isDirty:S()}}),t.keepIsValid||g()},O=({disabled:e,name:t})=>{if("boolean"==typeof e&&a.mount||e||l.disabled.has(t)){let r=l.disabled.has(t);e?l.disabled.add(t):l.disabled.delete(t),!!e!==r&&a.mount&&!a.action&&g()}},M=(e,t={})=>{let n=eG(i,e),s="boolean"==typeof t.disabled||"boolean"==typeof r.disabled;return(eQ(i,e,{...n||{},_f:{...n&&n._f?n._f:{ref:{name:e}},name:e,mount:!0,...t}}),l.mount.add(e),n)?O({disabled:"boolean"==typeof t.disabled?t.disabled:r.disabled,name:e}):y(e,!0,t.value),{...s?{disabled:t.disabled||r.disabled}:{},...r.progressive?{required:!!t.required,min:tf(t.min),max:tf(t.max),minLength:tf(t.minLength),maxLength:tf(t.maxLength),pattern:tf(t.pattern)}:{},name:e,onChange:T,onBlur:T,ref:s=>{if(s){let r;M(e,t),n=eG(i,e);let a=eW(s.value)&&s.querySelectorAll&&s.querySelectorAll("input,select,textarea")[0]||s,l="radio"===(r=a).type||"checkbox"===r.type,u=n._f.refs||[];(l?u.find(e=>e===a):a===n._f.ref)||(eQ(i,e,{_f:{...n._f,...l?{refs:[...u.filter(tt),a,...Array.isArray(eG(o,e))?[{}]:[]],ref:{type:a.type,name:e}}:{ref:a}}}),y(e,!1,void 0,a))}else{var u;(n=eG(i,e,{}))._f&&(n._f.mount=!1),(r.shouldUnregister||t.shouldUnregister)&&(u=l.array,!u.has(e.substring(0,e.search(/\.\d+(\.|$)/))||e)||!a.action)&&l.unMount.add(e)}}}},B=()=>r.shouldFocusError&&tv(i,E,l.mount),L=(e,t)=>async o=>{let a;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let u=e$(s);if(f.state.next({isSubmitting:!0}),r.resolver){let{errors:e,values:t}=await b();m(),n.errors=e,u=e$(t)}else await x(i);if(l.disabled.size)for(let e of l.disabled)tr(u,e);if(tr(n.errors,"root"),e7(n.errors)){f.state.next({errors:{}});try{await e(u,o)}catch(e){a=e}}else t&&await t({...n.errors},o),B(),setTimeout(B);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:e7(n.errors)&&!a,submitCount:n.submitCount+1,errors:n.errors}),a)throw a},j=(e,t={})=>{let u=e?e$(e):o,c=e$(u),d=e7(e),p=d?o:c;if(t.keepDefaultValues||(o=u),!t.keepValues){if(t.keepDirtyValues)for(let e of Array.from(new Set([...l.mount,...Object.keys(to(o,s))]))){let t=eG(n.dirtyFields,e),r=eG(s,e),i=eG(p,e);t&&!eW(r)?eQ(p,e,r):t||eW(i)||A(e,i)}else{if(eU&&eW(e))for(let e of l.mount){let t=eG(i,e);if(t&&t._f){let e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(te(e)){let t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(let e of l.mount)A(e,eG(p,e));else i={}}s=r.shouldUnregister?t.keepDefaultValues?e$(o):{}:e$(p),f.array.next({values:{...p}}),f.state.next({values:{...p}})}l={mount:t.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!t.keepIsValid||!!t.keepDirtyValues||!r.shouldUnregister&&!e7(p),a.watch=!!r.shouldUnregister,a.keepIsValid=!!t.keepIsValid,a.action=!1,t.keepErrors||(n.errors={}),f.state.next({submitCount:t.keepSubmitCount?n.submitCount:0,isDirty:!d&&(t.keepDirty?n.isDirty:!!(t.keepDefaultValues&&!e4(e,o))),isSubmitted:!!t.keepIsSubmitted&&n.isSubmitted,dirtyFields:d?{}:t.keepDirtyValues?t.keepDefaultValues&&s?to(o,s):n.dirtyFields:t.keepDefaultValues&&e?to(o,e):t.keepDirty?n.dirtyFields:{},touchedFields:t.keepTouched?n.touchedFields:{},errors:t.keepErrors?n.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&n.isSubmitSuccessful,isSubmitting:!1,defaultValues:o})},z=(e,t)=>j(eH(e)?e(s):e,{...r.resetOptions,...t}),V=e=>{n={...n,...e}},U={control:{register:M,unregister:R,getFieldState:F,handleSubmit:L,setError:N,_subscribe:P,_runSchema:b,_updateIsValidating:m,_focusError:B,_getWatch:C,_getDirty:S,_setValid:g,_setFieldArray:(e,t=[],l,u,c=!0,p=!0)=>{if(u&&l&&!r.disabled){if(a.action=!0,p&&Array.isArray(eG(i,e))){let t=l(eG(i,e),u.argA,u.argB);c&&eQ(i,e,t)}if(p&&Array.isArray(eG(n.errors,e))){let t,r=l(eG(n.errors,e),u.argA,u.argB);c&&eQ(n.errors,e,r),eq(eG(t=n.errors,e)).length||tr(t,e)}if((h.touchedFields||d.touchedFields)&&p&&Array.isArray(eG(n.touchedFields,e))){let t=l(eG(n.touchedFields,e),u.argA,u.argB);c&&eQ(n.touchedFields,e,t)}(h.dirtyFields||d.dirtyFields)&&(n.dirtyFields=to(o,s)),f.state.next({name:e,isDirty:S(e,t),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else eQ(s,e,t)},_setDisabledField:O,_setErrors:e=>{n.errors=e,f.state.next({errors:n.errors,isValid:!1})},_getFieldArray:e=>eq(eG(a.mount?s:o,e,r.shouldUnregister?eG(o,e,[]):[])),_reset:j,_resetDefaultValues:()=>eH(r.defaultValues)&&r.defaultValues().then(e=>{z(e,r.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(let e of l.unMount){let t=eG(i,e);t&&(t._f.refs?t._f.refs.every(e=>!tt(e)):!tt(t._f.ref))&&R(e)}l.unMount=new Set},_disableForm:e=>{"boolean"==typeof e&&(f.state.next({disabled:e}),tv(i,(t,r)=>{let n=eG(i,r);n&&(t.disabled=n._f.disabled||e,Array.isArray(n._f.refs)&&n._f.refs.forEach(t=>{t.disabled=n._f.disabled||e}))},0,!1))},_subjects:f,_proxyFormState:h,get _fields(){return i},get _formValues(){return s},get _state(){return a},set _state(value){a=value},get _defaultValues(){return o},get _names(){return l},set _names(value){l=value},get _formState(){return n},get _options(){return r},set _options(value){r={...r,...value}}},subscribe:e=>(a.mount=!0,d={...d,...e.formState},P({...e,formState:{...c,...e.formState}})),trigger:I,register:M,handleSubmit:L,watch:(e,t)=>eH(e)?f.state.subscribe({next:r=>"values"in r&&e(C(void 0,t),r)}):C(e,t,!0),setValue:A,getValues:D,reset:z,resetField:(e,t={})=>{eG(i,e)&&(eW(t.defaultValue)?A(e,e$(eG(o,e))):(A(e,t.defaultValue),eQ(o,e,e$(t.defaultValue))),t.keepTouched||tr(n.touchedFields,e),t.keepDirty||(tr(n.dirtyFields,e),n.isDirty=t.defaultValue?S(e,e$(eG(o,e))):S()),!t.keepError&&(tr(n.errors,e),h.isValid&&g()),f.state.next({...n}))},clearErrors:e=>{e&&e8(e).forEach(e=>tr(n.errors,e)),f.state.next({errors:e?n.errors:{}})},unregister:R,setError:N,setFocus:(e,t={})=>{let r=eG(i,e),n=r&&r._f;if(n){let e=n.refs?n.refs[0]:n.ref;e.focus&&setTimeout(()=>{e.focus(),t.shouldSelect&&eH(e.select)&&e.select()})}},getFieldState:F};return{...U,formControl:U}}(e);t.current={...i,formState:n}}let o=t.current.control;return o._options=e,e2(()=>{let e=o._subscribe({formState:o._proxyFormState,callback:()=>i({...o._formState}),reRenderRoot:!0});return i(e=>({...e,isReady:!0})),o._formState.isReady=!0,e},[o]),eL.default.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),eL.default.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),eL.default.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),eL.default.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),eL.default.useEffect(()=>{if(o._proxyFormState.isDirty){let e=o._getDirty();e!==n.isDirty&&o._subjects.state.next({isDirty:e})}},[o,n.isDirty]),eL.default.useEffect(()=>{var t;e.values&&!e4(e.values,r.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),(null==(t=o._options.resetOptions)?void 0:t.keepIsValid)||o._setValid(),r.current=e.values,i(e=>({...e}))):o._resetDefaultValues()},[o,e.values]),eL.default.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=eL.default.useMemo(()=>((e,t,r,n=!0)=>{let i={defaultValues:t._defaultValues};for(let o in e)Object.defineProperty(i,o,{get:()=>("all"!==t._proxyFormState[o]&&(t._proxyFormState[o]=!n||"all"),r&&(r[o]=!0),e[o])});return i})(n,o),[o,n]),t.current}({defaultValues:e}),a=i(),l=async e=>{await Eh.updateData(e),await gV(e)},u=(e,r)=>(0,eB.jsx)(aG,{...t(e),label:r,fullWidth:!0,size:"small",error:!!o[e],helperText:o[e]?.message,slotProps:{inputLabel:{shrink:!0}}});return(0,eL.useEffect)(()=>{Object.values(e).some(e=>""!==e)&&!s&&n(e)},[e,n,s]),(0,eL.useEffect)(()=>{if(!s)return;let e=setTimeout(async()=>{await Eh.updateData(a)},800);return()=>clearTimeout(e)},[a,s]),(0,eB.jsxs)(ai,{elevation:3,sx:{p:4,maxWidth:600,mx:"auto",mt:4},children:[(0,eB.jsxs)(lI,{sx:{mb:3},children:[(0,eB.jsx)(lT,{variant:"h5",sx:{fontWeight:"bold"},children:"Agenda Sacramental"}),(0,eB.jsxs)(lT,{variant:"body2",color:"text.secondary",children:["Prximo domingo: ",(0,eB.jsx)("b",{children:gU()})]})]}),(0,eB.jsx)("form",{onSubmit:r(l),children:(0,eB.jsxs)(lO,{spacing:2,children:[(0,eB.jsx)(lT,{variant:"overline",color:"primary",sx:{mt:1},children:"Liderazgo"}),u("presiding","Preside"),u("conducting","Dirige"),(0,eB.jsx)(lj,{}),(0,eB.jsx)(lT,{variant:"overline",color:"primary",children:"Msica y Oraciones"}),u("organist","Pianista"),u("chorister","Director de Msica"),u("opening_hymn","Himno de Apertura"),u("invocation","Primera Oracin"),u("sacrament_hymn","Himno Sacramental"),(0,eB.jsx)(lj,{}),(0,eB.jsx)(lT,{variant:"overline",color:"primary",children:"Discursantes"}),u("speaker1","Discursante 1"),u("speaker2","Discursante 2"),u("intermediate_hymn","Himno Especial"),u("speaker3","Discursante 3"),u("speaker4","Discursante 4"),(0,eB.jsx)(lj,{}),(0,eB.jsx)(lT,{variant:"overline",color:"primary",children:"Cierre"}),u("closing_hymn","Himno de Final"),u("benediction","Oracin Final"),(0,eB.jsx)(lI,{sx:{pt:2},children:(0,eB.jsx)(lS,{type:"submit",variant:"contained",fullWidth:!0,size:"large",children:"Generar Agenda"})})]})})]})}],94505)}]);