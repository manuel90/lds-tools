(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,76261,(e,t,r)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,h=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function S(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case h:case d:case a:case l:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case f:case y:case m:case u:return e;default:return t}}case o:return t}}}function C(e){return S(e)===d}r.AsyncMode=h,r.ConcurrentMode=d,r.ContextConsumer=c,r.ContextProvider=u,r.Element=i,r.ForwardRef=f,r.Fragment=a,r.Lazy=y,r.Memo=m,r.Portal=o,r.Profiler=l,r.StrictMode=s,r.Suspense=p,r.isAsyncMode=function(e){return C(e)||S(e)===h},r.isConcurrentMode=C,r.isContextConsumer=function(e){return S(e)===c},r.isContextProvider=function(e){return S(e)===u},r.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},r.isForwardRef=function(e){return S(e)===f},r.isFragment=function(e){return S(e)===a},r.isLazy=function(e){return S(e)===y},r.isMemo=function(e){return S(e)===m},r.isPortal=function(e){return S(e)===o},r.isProfiler=function(e){return S(e)===l},r.isStrictMode=function(e){return S(e)===s},r.isSuspense=function(e){return S(e)===p},r.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===l||e===s||e===p||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===b||e.$$typeof===w||e.$$typeof===x||e.$$typeof===v)},r.typeOf=S},2079,(e,t,r)=>{"use strict";t.exports=e.r(76261)},98437,(e,t,r)=>{"use strict";var n=e.r(2079),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return n.isMemo(e)?a:s[e.$$typeof]||i}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;t.exports=function e(t,r,n){if("string"!=typeof r){if(p){var i=f(r);i&&i!==p&&e(t,i,n)}var a=c(r);h&&(a=a.concat(h(r)));for(var s=l(t),g=l(r),m=0;m<a.length;++m){var y=a[m];if(!o[y]&&!(n&&n[y])&&!(g&&g[y])&&!(s&&s[y])){var v=d(r,y);try{u(t,y,v)}catch(e){}}}}return t}},78804,(e,t,r)=>{"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function y(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case s:case a:case h:case d:case g:return e;default:switch(e=e&&e.$$typeof){case u:case c:case p:case f:case l:return e;default:return t}}case i:return t}}}r.ContextConsumer=l,r.ContextProvider=u,r.Element=n,r.ForwardRef=c,r.Fragment=o,r.Lazy=p,r.Memo=f,r.Portal=i,r.Profiler=s,r.StrictMode=a,r.Suspense=h,r.SuspenseList=d,r.isContextConsumer=function(e){return y(e)===l},r.isContextProvider=function(e){return y(e)===u},r.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},r.isForwardRef=function(e){return y(e)===c},r.isFragment=function(e){return y(e)===o},r.isLazy=function(e){return y(e)===p},r.isMemo=function(e){return y(e)===f},r.isPortal=function(e){return y(e)===i},r.isProfiler=function(e){return y(e)===s},r.isStrictMode=function(e){return y(e)===a},r.isSuspense=function(e){return y(e)===h},r.isSuspenseList=function(e){return y(e)===d},r.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===s||e===a||e===h||e===d||"object"==typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===f||e.$$typeof===u||e.$$typeof===l||e.$$typeof===c||e.$$typeof===m||void 0!==e.getModuleId)||!1},r.typeOf=y},79684,(e,t,r)=>{"use strict";t.exports=e.r(78804)},79148,(e,t,r)=>{"use strict";var n="u">typeof Uint8Array&&"u">typeof Uint16Array&&"u">typeof Int32Array;r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw TypeError(r+"must be non-object");for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)return void e.set(t.subarray(r,r+n),i);for(var o=0;o<n;o++)e[i+o]=t[r+o]},flattenChunks:function(e){var t,r,n,i,o,a;for(t=0,n=0,r=e.length;t<r;t++)n+=e[t].length;for(t=0,a=new Uint8Array(n),i=0,r=e.length;t<r;t++)o=e[t],a.set(o,i),i+=o.length;return a}},o={arraySet:function(e,t,r,n,i){for(var o=0;o<n;o++)e[i+o]=t[r+o]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,o))},r.setTyped(n)},18008,(e,t,r)=>{"use strict";var n,i,o,a=e.r(79148);function s(e){for(var t=e.length;--t>=0;)e[t]=0}var l=573,u=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],c=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],d=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],f=Array(576);s(f);var p=Array(60);s(p);var g=Array(512);s(g);var m=Array(256);s(m);var y=Array(29);s(y);var v=Array(30);function b(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function w(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function x(e){return e<256?g[e]:g[256+(e>>>7)]}function S(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function C(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,S(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function k(e,t,r){C(e,r[2*t],r[2*t+1])}function _(e,t){var r=0;do r|=1&e,e>>>=1,r<<=1;while(--t>0)return r>>>1}function A(e,t,r){var n,i,o=Array(16),a=0;for(n=1;n<=15;n++)o[n]=a=a+r[n-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=_(o[s]++,s))}}function T(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function E(e){e.bi_valid>8?S(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function I(e,t,r,n){var i=2*t,o=2*r;return e[i]<e[o]||e[i]===e[o]&&n[t]<=n[r]}function D(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&I(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!I(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function F(e,t,r){var n,i,o,a,s=0;if(0!==e.last_lit)do n=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===n?k(e,i,t):(k(e,(o=m[i])+256+1,t),0!==(a=u[o])&&C(e,i-=y[o],a),k(e,o=x(--n),r),0!==(a=c[o])&&C(e,n-=v[o],a));while(s<e.last_lit)k(e,256,t)}function P(e,t){var r,n,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,c=-1;for(r=0,e.heap_len=0,e.heap_max=l;r<u;r++)0!==o[2*r]?(e.heap[++e.heap_len]=c=r,e.depth[r]=0):o[2*r+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=c,r=e.heap_len>>1;r>=1;r--)D(e,o,r);i=u;do r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],D(e,o,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,o[2*i]=o[2*r]+o[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,o[2*r+1]=o[2*n+1]=i,e.heap[1]=i++,D(e,o,1);while(e.heap_len>=2)e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,o,a,s,u=t.dyn_tree,c=t.max_code,h=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,g=t.stat_desc.max_length,m=0;for(o=0;o<=15;o++)e.bl_count[o]=0;for(u[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<l;r++)(o=u[2*u[2*(n=e.heap[r])+1]+1]+1)>g&&(o=g,m++),u[2*n+1]=o,!(n>c)&&(e.bl_count[o]++,a=0,n>=p&&(a=f[n-p]),s=u[2*n],e.opt_len+=s*(o+a),d&&(e.static_len+=s*(h[2*n+1]+a)));if(0!==m){do{for(o=g-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[g]--,m-=2}while(m>0)for(o=g;0!==o;o--)for(n=e.bl_count[o];0!==n;)!((i=e.heap[--r])>c)&&(u[2*i+1]!==o&&(e.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),n--)}}(e,t),A(o,c,e.bl_count)}function N(e,t,r){var n,i,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)i=a,a=t[(n+1)*2+1],++s<l&&i===a||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=i,0===a?(l=138,u=3):i===a?(l=6,u=3):(l=7,u=4))}function R(e,t,r){var n,i,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),n=0;n<=r;n++)if(i=a,a=t[(n+1)*2+1],!(++s<l)||i!==a){if(s<u)do k(e,i,e.bl_tree);while(0!=--s)else 0!==i?(i!==o&&(k(e,i,e.bl_tree),s--),k(e,16,e.bl_tree),C(e,s-3,2)):s<=10?(k(e,17,e.bl_tree),C(e,s-3,3)):(k(e,18,e.bl_tree),C(e,s-11,7));s=0,o=i,0===a?(l=138,u=3):i===a?(l=6,u=3):(l=7,u=4)}}s(v);var O=!1;function B(e,t,r,n){C(e,0+ +!!n,3),E(e),S(e,r),S(e,~r),a.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}r._tr_init=function(e){O||(!function(){var e,t,r,a,s,l=Array(16);for(a=0,r=0;a<28;a++)for(e=0,y[a]=r;e<1<<u[a];e++)m[r++]=a;for(m[r-1]=a,s=0,a=0;a<16;a++)for(e=0,v[a]=s;e<1<<c[a];e++)g[s++]=a;for(s>>=7;a<30;a++)for(e=0,v[a]=s<<7;e<1<<c[a]-7;e++)g[256+s++]=a;for(t=0;t<=15;t++)l[t]=0;for(e=0;e<=143;)f[2*e+1]=8,e++,l[8]++;for(;e<=255;)f[2*e+1]=9,e++,l[9]++;for(;e<=279;)f[2*e+1]=7,e++,l[7]++;for(;e<=287;)f[2*e+1]=8,e++,l[8]++;for(A(f,287,l),e=0;e<30;e++)p[2*e+1]=5,p[2*e]=_(e,5);n=new b(f,u,257,286,15),i=new b(p,c,0,30,15),o=new b([],h,0,19,7)}(),O=!0),e.l_desc=new w(e.dyn_ltree,n),e.d_desc=new w(e.dyn_dtree,i),e.bl_desc=new w(e.bl_tree,o),e.bi_buf=0,e.bi_valid=0,T(e)},r._tr_stored_block=B,r._tr_flush_block=function(e,t,r,n){var i,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=0xf3ffc07f;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),P(e,e.l_desc),P(e,e.d_desc),a=function(e){var t;for(N(e,e.dyn_ltree,e.l_desc.max_code),N(e,e.dyn_dtree,e.d_desc.max_code),P(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*d[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==t?B(e,t,r,n):4===e.strategy||o===i?(C(e,2+ +!!n,3),F(e,f,p)):(C(e,4+ +!!n,3),function(e,t,r,n){var i;for(C(e,t-257,5),C(e,r-1,5),C(e,n-4,4),i=0;i<n;i++)C(e,e.bl_tree[2*d[i]+1],3);R(e,e.dyn_ltree,t-1),R(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),F(e,e.dyn_ltree,e.dyn_dtree)),T(e),n&&E(e)},r._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[(m[r]+256+1)*2]++,e.dyn_dtree[2*x(t)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){C(e,2,3),k(e,256,f),16===e.bi_valid?(S(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},74049,(e,t,r)=>{"use strict";t.exports=function(e,t,r,n){for(var i=65535&e,o=e>>>16&65535,a=0;0!==r;){a=r>2e3?2e3:r,r-=a;do o=o+(i=i+t[n++]|0)|0;while(--a)i%=65521,o%=65521}return i|o<<16}},63327,(e,t,r)=>{"use strict";var n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?0xedb88320^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t,r,i){var o=i+r;e^=-1;for(var a=i;a<o;a++)e=e>>>8^n[(e^t[a])&255];return -1^e}},19558,(e,t,r)=>{"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},79674,(e,t,r)=>{"use strict";var n,i=e.r(79148),o=e.r(18008),a=e.r(74049),s=e.r(63327),l=e.r(19558),u=573;function c(e,t){return e.msg=l[t],t}function h(e){return(e<<1)-9*(e>4)}function d(e){for(var t=e.length;--t>=0;)e[t]=0}function f(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(i.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function p(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,f(e.strm)}function g(e,t){e.pending_buf[e.pending++]=t}function m(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function y(e,t){var r,n,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,u=e.window,c=e.w_mask,h=e.prev,d=e.strstart+258,f=u[o+a-1],p=u[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(r=t)+a]!==p||u[r+a-1]!==f||u[r]!==u[o]||u[++r]!==u[o+1])continue;o+=2,r++;do;while(u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&o<d)if(n=258-(d-o),o=d-258,n>a){if(e.match_start=t,a=n,n>=s)break;f=u[o+a-1],p=u[o+a]}}while((t=h[t&c])>l&&0!=--i)return a<=e.lookahead?a:e.lookahead}function v(e){var t,r,n,o,l,u=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=u+(u-262)){i.arraySet(e.window,e.window,u,u,0),e.match_start-=u,e.strstart-=u,e.block_start-=u,t=r=e.hash_size;do n=e.head[--t],e.head[t]=n>=u?n-u:0;while(--r)t=r=u;do n=e.prev[--t],e.prev[t]=n>=u?n-u:0;while(--r)o+=u}if(0===e.strm.avail_in)break;if(r=function(e,t,r,n){var o=e.avail_in;return(o>n&&(o=n),0===o)?0:(e.avail_in-=o,i.arraySet(t,e.input,e.next_in,o,r),1===e.state.wrap?e.adler=a(e.adler,t,o,r):2===e.state.wrap&&(e.adler=s(e.adler,t,o,r)),e.next_in+=o,e.total_in+=o,o)}(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=r,e.lookahead+e.insert>=3)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function b(e,t){for(var r,n;;){if(e.lookahead<262){if(v(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-262&&(e.match_length=y(e,r)),e.match_length>=3)if(n=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!=--e.match_length)e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(p(e,!1),0===e.strm.avail_out))return 1}return(e.insert=e.strstart<2?e.strstart:2,4===t)?(p(e,!0),0===e.strm.avail_out)?3:4:e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}function w(e,t){for(var r,n,i;;){if(e.lookahead<262){if(v(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-262&&(e.match_length=y(e,r),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,n=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!=--e.prev_length)if(e.match_available=0,e.match_length=2,e.strstart++,n&&(p(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=o._tr_tally(e,0,e.window[e.strstart-1]))&&p(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return(e.match_available&&(n=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t)?(p(e,!0),0===e.strm.avail_out)?3:4:e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}function x(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function S(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*u),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),d(this.dyn_ltree),d(this.dyn_dtree),d(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),d(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),d(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function C(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=+(2!==t.wrap),t.last_flush=0,o._tr_init(t),0):c(e,-2)}function k(e){var t,r=C(e);return 0===r&&((t=e.state).window_size=2*t.w_size,d(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),r}function _(e,t,r,n,o,a){if(!e)return -2;var s=1;if(-1===t&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),o<1||o>9||8!==r||n<8||n>15||t<0||t>9||a<0||a>4)return c(e,-2);8===n&&(n=9);var l=new S;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=+l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=r,k(e)}n=[new x(0,0,0,0,function(e,t){var r=65535;for(65535>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(v(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,p(e,!1),0===e.strm.avail_out)||e.strstart-e.block_start>=e.w_size-262&&(p(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,4===t)?(p(e,!0),0===e.strm.avail_out)?3:4:(e.strstart>e.block_start&&(p(e,!1),e.strm.avail_out),1)}),new x(4,4,8,4,b),new x(4,5,16,8,b),new x(4,6,32,32,b),new x(4,4,16,16,w),new x(8,16,32,32,w),new x(8,16,128,128,w),new x(8,32,128,256,w),new x(32,128,258,1024,w),new x(32,258,258,4096,w)],r.deflateInit=function(e,t){return _(e,t,8,15,8,0)},r.deflateInit2=_,r.deflateReset=k,r.deflateResetKeep=C,r.deflateSetHeader=function(e,t){return e&&e.state&&2===e.state.wrap?(e.state.gzhead=t,0):-2},r.deflate=function(e,t){if(!e||!e.state||t>5||t<0)return e?c(e,-2):-2;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return c(e,0===e.avail_out?-5:-2);if(i.strm=e,r=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,g(i,31),g(i,139),g(i,8),i.gzhead?(g(i,+!!i.gzhead.text+2*!!i.gzhead.hcrc+4*!!i.gzhead.extra+8*!!i.gzhead.name+16*!!i.gzhead.comment),g(i,255&i.gzhead.time),g(i,i.gzhead.time>>8&255),g(i,i.gzhead.time>>16&255),g(i,i.gzhead.time>>24&255),g(i,9===i.level?2:4*(i.strategy>=2||i.level<2)),g(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(g(i,255&i.gzhead.extra.length),g(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(g(i,0),g(i,0),g(i,0),g(i,0),g(i,0),g(i,9===i.level?2:4*(i.strategy>=2||i.level<2)),g(i,3),i.status=113);else{var r,i,a,l,u=8+(i.w_bits-8<<4)<<8;u|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(u|=32),u+=31-u%31,i.status=113,m(i,u),0!==i.strstart&&(m(i,e.adler>>>16),m(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),f(e),a=i.pending,i.pending!==i.pending_buf_size));)g(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),f(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,g(i,l)}while(0!==l)i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),f(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,g(i,l)}while(0!==l)i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&f(e),i.pending+2<=i.pending_buf_size&&(g(i,255&e.adler),g(i,e.adler>>8&255),e.adler=0,i.status=113)):i.status=113),0!==i.pending){if(f(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&h(t)<=h(r)&&4!==t)return c(e,-5);if(666===i.status&&0!==e.avail_in)return c(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&666!==i.status){var y=2===i.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(v(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(p(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,4===t)?(p(e,!0),0===e.strm.avail_out)?3:4:e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var r,n,i,a,s=e.window;;){if(e.lookahead<=258){if(v(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(n=s[i=e.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){a=e.strstart+258;do;while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a)e.match_length=258-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(p(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,4===t)?(p(e,!0),0===e.strm.avail_out)?3:4:e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}(i,t):n[i.level].func(i,t);if((3===y||4===y)&&(i.status=666),1===y||3===y)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===y&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(d(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),f(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(g(i,255&e.adler),g(i,e.adler>>8&255),g(i,e.adler>>16&255),g(i,e.adler>>24&255),g(i,255&e.total_in),g(i,e.total_in>>8&255),g(i,e.total_in>>16&255),g(i,e.total_in>>24&255)):(m(i,e.adler>>>16),m(i,65535&e.adler)),f(e),i.wrap>0&&(i.wrap=-i.wrap),+(0===i.pending))},r.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?c(e,-2):(e.state=null,113===t?c(e,-3):0):-2},r.deflateSetDictionary=function(e,t){var r,n,o,s,l,u,c,h,f=t.length;if(!e||!e.state||2===(s=(r=e.state).wrap)||1===s&&42!==r.status||r.lookahead)return -2;for(1===s&&(e.adler=a(e.adler,t,f,0)),r.wrap=0,f>=r.w_size&&(0===s&&(d(r.head),r.strstart=0,r.block_start=0,r.insert=0),h=new i.Buf8(r.w_size),i.arraySet(h,t,f-r.w_size,r.w_size,0),t=h,f=r.w_size),l=e.avail_in,u=e.next_in,c=e.input,e.avail_in=f,e.next_in=0,e.input=t,v(r);r.lookahead>=3;){n=r.strstart,o=r.lookahead-2;do r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++;while(--o)r.strstart=n,r.lookahead=2,v(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=u,e.input=c,e.avail_in=l,r.wrap=s,0},r.deflateInfo="pako deflate (from Nodeca project)"},63202,(e,t,r)=>{"use strict";var n=e.r(79148),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new n.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var r="",a=0;a<t;a++)r+=String.fromCharCode(e[a]);return r}a[254]=a[254]=1,r.string2buf=function(e){var t,r,i,o,a,s=e.length,l=0;for(o=0;o<s;o++)(64512&(r=e.charCodeAt(o)))==55296&&o+1<s&&(64512&(i=e.charCodeAt(o+1)))==56320&&(r=65536+(r-55296<<10)+(i-56320),o++),l+=r<128?1:r<2048?2:r<65536?3:4;for(a=0,t=new n.Buf8(l),o=0;a<l;o++)(64512&(r=e.charCodeAt(o)))==55296&&o+1<s&&(64512&(i=e.charCodeAt(o+1)))==56320&&(r=65536+(r-55296<<10)+(i-56320),o++),r<128?t[a++]=r:(r<2048?t[a++]=192|r>>>6:(r<65536?t[a++]=224|r>>>12:(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63),t[a++]=128|r>>>6&63),t[a++]=128|63&r);return t},r.buf2binstring=function(e){return l(e,e.length)},r.binstring2buf=function(e){for(var t=new n.Buf8(e.length),r=0,i=t.length;r<i;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){var r,n,i,o,s=t||e.length,u=Array(2*s);for(n=0,r=0;r<s;){if((i=e[r++])<128){u[n++]=i;continue}if((o=a[i])>4){u[n++]=65533,r+=o-1;continue}for(i&=2===o?31:3===o?15:7;o>1&&r<s;)i=i<<6|63&e[r++],o--;if(o>1){u[n++]=65533;continue}i<65536?u[n++]=i:(i-=65536,u[n++]=55296|i>>10&1023,u[n++]=56320|1023&i)}return l(u,n)},r.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&(192&e[r])==128;)r--;return r<0||0===r?t:r+a[e[r]]>t?r:t}},98899,(e,t,r)=>{"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},48901,(e,t,r)=>{"use strict";var n=e.r(79674),i=e.r(79148),o=e.r(63202),a=e.r(19558),s=e.r(98899),l=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t,r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var c=n.deflateInit2(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(0!==c)throw Error(a[c]);if(r.header&&n.deflateSetHeader(this.strm,r.header),r.dictionary){if(t="string"==typeof r.dictionary?o.string2buf(r.dictionary):"[object ArrayBuffer]"===l.call(r.dictionary)?new Uint8Array(r.dictionary):r.dictionary,0!==(c=n.deflateSetDictionary(this.strm,t)))throw Error(a[c]);this._dict_set=!0}}function c(e,t){var r=new u(t);if(r.push(e,!0),r.err)throw r.msg||a[r.err];return r.result}u.prototype.push=function(e,t){var r,a,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:4*(!0===t),"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(u),s.next_out=0,s.avail_out=u),1!==(r=n.deflate(s,a))&&0!==r)return this.onEnd(r),this.ended=!0,!1;(0===s.avail_out||0===s.avail_in&&(4===a||2===a))&&("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==r)return 4===a?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):(2===a&&(this.onEnd(0),s.avail_out=0),!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=u,r.deflate=c,r.deflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},r.gzip=function(e,t){return(t=t||{}).gzip=!0,c(e,t)}},75531,(e,t,r)=>{"use strict";t.exports=function(e,t){var r,n,i,o,a,s,l,u,c,h,d,f,p,g,m,y,v,b,w,x,S,C,k,_,A;r=e.state,n=e.next_in,_=e.input,i=n+(e.avail_in-5),o=e.next_out,A=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),l=r.dmax,u=r.wsize,c=r.whave,h=r.wnext,d=r.window,f=r.hold,p=r.bits,g=r.lencode,m=r.distcode,y=(1<<r.lenbits)-1,v=(1<<r.distbits)-1;e:do for(p<15&&(f+=_[n++]<<p,p+=8,f+=_[n++]<<p,p+=8),b=g[f&y];;){if(f>>>=w=b>>>24,p-=w,0==(w=b>>>16&255))A[o++]=65535&b;else if(16&w)for(x=65535&b,(w&=15)&&(p<w&&(f+=_[n++]<<p,p+=8),x+=f&(1<<w)-1,f>>>=w,p-=w),p<15&&(f+=_[n++]<<p,p+=8,f+=_[n++]<<p,p+=8),b=m[f&v];;){if(f>>>=w=b>>>24,p-=w,16&(w=b>>>16&255)){if(S=65535&b,p<(w&=15)&&(f+=_[n++]<<p,(p+=8)<w&&(f+=_[n++]<<p,p+=8)),(S+=f&(1<<w)-1)>l){e.msg="invalid distance too far back",r.mode=30;break e}if(f>>>=w,p-=w,S>(w=o-a)){if((w=S-w)>c&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(C=0,k=d,0===h){if(C+=u-w,w<x){x-=w;do A[o++]=d[C++];while(--w)C=o-S,k=A}}else if(h<w){if(C+=u+h-w,(w-=h)<x){x-=w;do A[o++]=d[C++];while(--w)if(C=0,h<x){x-=w=h;do A[o++]=d[C++];while(--w)C=o-S,k=A}}}else if(C+=h-w,w<x){x-=w;do A[o++]=d[C++];while(--w)C=o-S,k=A}for(;x>2;)A[o++]=k[C++],A[o++]=k[C++],A[o++]=k[C++],x-=3;x&&(A[o++]=k[C++],x>1&&(A[o++]=k[C++]))}else{C=o-S;do A[o++]=A[C++],A[o++]=A[C++],A[o++]=A[C++],x-=3;while(x>2)x&&(A[o++]=A[C++],x>1&&(A[o++]=A[C++]))}}else if((64&w)==0){b=m[(65535&b)+(f&(1<<w)-1)];continue}else{e.msg="invalid distance code",r.mode=30;break e}break}else if((64&w)==0){b=g[(65535&b)+(f&(1<<w)-1)];continue}else if(32&w){r.mode=12;break e}else{e.msg="invalid literal/length code",r.mode=30;break e}break}while(n<i&&o<s)n-=x=p>>3,p-=x<<3,f&=(1<<p)-1,e.next_in=n,e.next_out=o,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=o<s?257+(s-o):257-(o-s),r.hold=f,r.bits=p}},73012,(e,t,r)=>{"use strict";var n=e.r(79148),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,l,u,c,h,d){var f,p,g,m,y,v,b,w,x,S=d.bits,C=0,k=0,_=0,A=0,T=0,E=0,I=0,D=0,F=0,P=0,N=null,R=0,O=new n.Buf16(16),B=new n.Buf16(16),M=null,L=0;for(C=0;C<=15;C++)O[C]=0;for(k=0;k<l;k++)O[t[r+k]]++;for(A=15,T=S;A>=1&&0===O[A];A--);if(T>A&&(T=A),0===A)return u[c++]=0x1400000,u[c++]=0x1400000,d.bits=1,0;for(_=1;_<A&&0===O[_];_++);for(T<_&&(T=_),D=1,C=1;C<=15;C++)if(D<<=1,(D-=O[C])<0)return -1;if(D>0&&(0===e||1!==A))return -1;for(C=1,B[1]=0;C<15;C++)B[C+1]=B[C]+O[C];for(k=0;k<l;k++)0!==t[r+k]&&(h[B[t[r+k]]++]=k);if(0===e?(N=M=h,v=19):1===e?(N=i,R-=257,M=o,L-=257,v=256):(N=a,M=s,v=-1),P=0,k=0,C=_,y=c,E=T,I=0,g=-1,m=(F=1<<T)-1,1===e&&F>852||2===e&&F>592)return 1;for(;;){b=C-I,h[k]<v?(w=0,x=h[k]):h[k]>v?(w=M[L+h[k]],x=N[R+h[k]]):(w=96,x=0),f=1<<C-I,_=p=1<<E;do u[y+(P>>I)+(p-=f)]=b<<24|w<<16|x;while(0!==p)for(f=1<<C-1;P&f;)f>>=1;if(0!==f?(P&=f-1,P+=f):P=0,k++,0==--O[C]){if(C===A)break;C=t[r+h[k]]}if(C>T&&(P&m)!==g){for(0===I&&(I=T),y+=_,D=1<<(E=C-I);E+I<A&&!((D-=O[E+I])<=0);)E++,D<<=1;if(F+=1<<E,1===e&&F>852||2===e&&F>592)return 1;u[g=P&m]=T<<24|E<<16|y-c}}return 0!==P&&(u[y+P]=C-I<<24|4194304),d.bits=T,0}},57235,(e,t,r)=>{"use strict";var n,i,o=e.r(79148),a=e.r(74049),s=e.r(63327),l=e.r(75531),u=e.r(73012);function c(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function h(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new o.Buf32(852),t.distcode=t.distdyn=new o.Buf32(592),t.sane=1,t.back=-1,0):-2}function f(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,d(e)):-2}function p(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?-2:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,f(e)):-2}function g(e,t){var r,n;return e?(e.state=n=new h,n.window=null,0!==(r=p(e,t))&&(e.state=null),r):-2}var m=!0;function y(e,t,r,n){var i,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new o.Buf8(a.wsize)),n>=a.wsize?(o.arraySet(a.window,t,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((i=a.wsize-a.wnext)>n&&(i=n),o.arraySet(a.window,t,r-n,i,a.wnext),(n-=i)?(o.arraySet(a.window,t,r-n,n,0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}r.inflateReset=f,r.inflateReset2=p,r.inflateResetKeep=d,r.inflateInit=function(e){return g(e,15)},r.inflateInit2=g,r.inflate=function(e,t){var r,h,d,f,p,g,v,b,w,x,S,C,k,_,A,T,E,I,D,F,P,N,R,O,B=0,M=new o.Buf8(4),L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return -2;12===(r=e.state).mode&&(r.mode=13),p=e.next_out,d=e.output,v=e.avail_out,f=e.next_in,h=e.input,g=e.avail_in,b=r.hold,w=r.bits,x=g,S=v,N=0;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;w<16;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}if(2&r.wrap&&35615===b){r.check=0,M[0]=255&b,M[1]=b>>>8&255,r.check=s(r.check,M,2,0),b=0,w=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&b)<<8)+(b>>8))%31){e.msg="incorrect header check",r.mode=30;break}if((15&b)!=8){e.msg="unknown compression method",r.mode=30;break}if(b>>>=4,w-=4,P=(15&b)+8,0===r.wbits)r.wbits=P;else if(P>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<P,e.adler=r.check=1,r.mode=512&b?10:12,b=0,w=0;break;case 2:for(;w<16;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}if(r.flags=b,(255&r.flags)!=8){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=b>>8&1),512&r.flags&&(M[0]=255&b,M[1]=b>>>8&255,r.check=s(r.check,M,2,0)),b=0,w=0,r.mode=3;case 3:for(;w<32;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}r.head&&(r.head.time=b),512&r.flags&&(M[0]=255&b,M[1]=b>>>8&255,M[2]=b>>>16&255,M[3]=b>>>24&255,r.check=s(r.check,M,4,0)),b=0,w=0,r.mode=4;case 4:for(;w<16;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}r.head&&(r.head.xflags=255&b,r.head.os=b>>8),512&r.flags&&(M[0]=255&b,M[1]=b>>>8&255,r.check=s(r.check,M,2,0)),b=0,w=0,r.mode=5;case 5:if(1024&r.flags){for(;w<16;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}r.length=b,r.head&&(r.head.extra_len=b),512&r.flags&&(M[0]=255&b,M[1]=b>>>8&255,r.check=s(r.check,M,2,0)),b=0,w=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((C=r.length)>g&&(C=g),C&&(r.head&&(P=r.head.extra_len-r.length,r.head.extra||(r.head.extra=Array(r.head.extra_len)),o.arraySet(r.head.extra,h,f,C,P)),512&r.flags&&(r.check=s(r.check,h,C,f)),g-=C,f+=C,r.length-=C),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===g)break t;C=0;do P=h[f+C++],r.head&&P&&r.length<65536&&(r.head.name+=String.fromCharCode(P));while(P&&C<g)if(512&r.flags&&(r.check=s(r.check,h,C,f)),g-=C,f+=C,P)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===g)break t;C=0;do P=h[f+C++],r.head&&P&&r.length<65536&&(r.head.comment+=String.fromCharCode(P));while(P&&C<g)if(512&r.flags&&(r.check=s(r.check,h,C,f)),g-=C,f+=C,P)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;w<16;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}if(b!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}b=0,w=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;w<32;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}e.adler=r.check=c(b),b=0,w=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=p,e.avail_out=v,e.next_in=f,e.avail_in=g,r.hold=b,r.bits=w,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break t;case 13:if(r.last){b>>>=7&w,w-=7&w,r.mode=27;break}for(;w<3;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}switch(r.last=1&b,w-=1,3&(b>>>=1)){case 0:r.mode=14;break;case 1:if(!function(e){if(m){var t;for(n=new o.Buf32(512),i=new o.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(u(1,e.lens,0,288,n,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;u(2,e.lens,0,32,i,0,e.work,{bits:5}),m=!1}e.lencode=n,e.lenbits=9,e.distcode=i,e.distbits=5}(r),r.mode=20,6===t){b>>>=2,w-=2;break t}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}b>>>=2,w-=2;break;case 14:for(b>>>=7&w,w-=7&w;w<32;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}if((65535&b)!=(b>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&b,b=0,w=0,r.mode=15,6===t)break t;case 15:r.mode=16;case 16:if(C=r.length){if(C>g&&(C=g),C>v&&(C=v),0===C)break t;o.arraySet(d,h,f,C,p),g-=C,f+=C,v-=C,p+=C,r.length-=C;break}r.mode=12;break;case 17:for(;w<14;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}if(r.nlen=(31&b)+257,w-=5,r.ndist=(31&(b>>>=5))+1,w-=5,r.ncode=(15&(b>>>=5))+4,b>>>=4,w-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;w<3;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}r.lens[L[r.have++]]=7&b,b>>>=3,w-=3}for(;r.have<19;)r.lens[L[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,R={bits:r.lenbits},N=u(0,r.lens,0,19,r.lencode,0,r.work,R),r.lenbits=R.bits,N){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;A=(B=r.lencode[b&(1<<r.lenbits)-1])>>>24,T=B>>>16&255,E=65535&B,!(A<=w);){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}if(E<16)b>>>=A,w-=A,r.lens[r.have++]=E;else{if(16===E){for(O=A+2;w<O;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}if(b>>>=A,w-=A,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}P=r.lens[r.have-1],C=3+(3&b),b>>>=2,w-=2}else if(17===E){for(O=A+3;w<O;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}b>>>=A,w-=A,P=0,C=3+(7&b),b>>>=3,w-=3}else{for(O=A+7;w<O;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}b>>>=A,w-=A,P=0,C=11+(127&b),b>>>=7,w-=7}if(r.have+C>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;C--;)r.lens[r.have++]=P}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,R={bits:r.lenbits},N=u(1,r.lens,0,r.nlen,r.lencode,0,r.work,R),r.lenbits=R.bits,N){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,R={bits:r.distbits},N=u(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,R),r.distbits=R.bits,N){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break t;case 20:r.mode=21;case 21:if(g>=6&&v>=258){e.next_out=p,e.avail_out=v,e.next_in=f,e.avail_in=g,r.hold=b,r.bits=w,l(e,S),p=e.next_out,d=e.output,v=e.avail_out,f=e.next_in,h=e.input,g=e.avail_in,b=r.hold,w=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;A=(B=r.lencode[b&(1<<r.lenbits)-1])>>>24,T=B>>>16&255,E=65535&B,!(A<=w);){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}if(T&&(240&T)==0){for(I=A,D=T,F=E;A=(B=r.lencode[F+((b&(1<<I+D)-1)>>I)])>>>24,T=B>>>16&255,E=65535&B,!(I+A<=w);){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}b>>>=I,w-=I,r.back+=I}if(b>>>=A,w-=A,r.back+=A,r.length=E,0===T){r.mode=26;break}if(32&T){r.back=-1,r.mode=12;break}if(64&T){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&T,r.mode=22;case 22:if(r.extra){for(O=r.extra;w<O;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}r.length+=b&(1<<r.extra)-1,b>>>=r.extra,w-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;A=(B=r.distcode[b&(1<<r.distbits)-1])>>>24,T=B>>>16&255,E=65535&B,!(A<=w);){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}if((240&T)==0){for(I=A,D=T,F=E;A=(B=r.distcode[F+((b&(1<<I+D)-1)>>I)])>>>24,T=B>>>16&255,E=65535&B,!(I+A<=w);){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}b>>>=I,w-=I,r.back+=I}if(b>>>=A,w-=A,r.back+=A,64&T){e.msg="invalid distance code",r.mode=30;break}r.offset=E,r.extra=15&T,r.mode=24;case 24:if(r.extra){for(O=r.extra;w<O;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}r.offset+=b&(1<<r.extra)-1,b>>>=r.extra,w-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===v)break t;if(C=S-v,r.offset>C){if((C=r.offset-C)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}C>r.wnext?(C-=r.wnext,k=r.wsize-C):k=r.wnext-C,C>r.length&&(C=r.length),_=r.window}else _=d,k=p-r.offset,C=r.length;C>v&&(C=v),v-=C,r.length-=C;do d[p++]=_[k++];while(--C)0===r.length&&(r.mode=21);break;case 26:if(0===v)break t;d[p++]=r.length,v--,r.mode=21;break;case 27:if(r.wrap){for(;w<32;){if(0===g)break t;g--,b|=h[f++]<<w,w+=8}if(S-=v,e.total_out+=S,r.total+=S,S&&(e.adler=r.check=r.flags?s(r.check,d,S,p-S):a(r.check,d,S,p-S)),S=v,(r.flags?b:c(b))!==r.check){e.msg="incorrect data check",r.mode=30;break}b=0,w=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;w<32;){if(0===g)break t;g--,b+=h[f++]<<w,w+=8}if(b!==(0|r.total)){e.msg="incorrect length check",r.mode=30;break}b=0,w=0}r.mode=29;case 29:N=1;break t;case 30:N=-3;break t;case 31:return -4;default:return -2}return e.next_out=p,e.avail_out=v,e.next_in=f,e.avail_in=g,r.hold=b,r.bits=w,(r.wsize||S!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&y(e,e.output,e.next_out,S-e.avail_out),x-=e.avail_in,S-=e.avail_out,e.total_in+=x,e.total_out+=S,r.total+=S,r.wrap&&S&&(e.adler=r.check=r.flags?s(r.check,d,S,e.next_out-S):a(r.check,d,S,e.next_out-S)),e.data_type=r.bits+64*!!r.last+128*(12===r.mode)+256*(20===r.mode||15===r.mode),(0===x&&0===S||4===t)&&0===N&&(N=-5),N},r.inflateEnd=function(e){if(!e||!e.state)return -2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},r.inflateGetHeader=function(e,t){var r;return e&&e.state&&(2&(r=e.state).wrap)!=0?(r.head=t,t.done=!1,0):-2},r.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state&&(0===(r=e.state).wrap||11===r.mode)?11===r.mode&&a(1,t,n,0)!==r.check?-3:y(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,0):-2},r.inflateInfo="pako inflate (from Nodeca project)"},34131,(e,t,r)=>{"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},24448,(e,t,r)=>{"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},82473,(e,t,r)=>{"use strict";var n=e.r(57235),i=e.r(79148),o=e.r(63202),a=e.r(34131),s=e.r(19558),l=e.r(98899),u=e.r(24448),c=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits)==0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,t.windowBits);if(r!==a.Z_OK||(this.header=new u,n.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=o.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw)&&(r=n.inflateSetDictionary(this.strm,t.dictionary))!==a.Z_OK))throw Error(s[r])}function d(e,t){var r=new h(t);if(r.push(e,!0),r.err)throw r.msg||s[r.err];return r.result}h.prototype.push=function(e,t){var r,s,l,u,h,d=this.strm,f=this.options.chunkSize,p=this.options.dictionary,g=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?d.input=o.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new i.Buf8(f),d.next_out=0,d.avail_out=f),(r=n.inflate(d,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&p&&(r=n.inflateSetDictionary(this.strm,p)),r===a.Z_BUF_ERROR&&!0===g&&(r=a.Z_OK,g=!1),r!==a.Z_STREAM_END&&r!==a.Z_OK)return this.onEnd(r),this.ended=!0,!1;d.next_out&&(0===d.avail_out||r===a.Z_STREAM_END||0===d.avail_in&&(s===a.Z_FINISH||s===a.Z_SYNC_FLUSH))&&("string"===this.options.to?(l=o.utf8border(d.output,d.next_out),u=d.next_out-l,h=o.buf2string(d.output,l),d.next_out=u,d.avail_out=f-u,u&&i.arraySet(d.output,d.output,l,u,0),this.onData(h)):this.onData(i.shrinkBuf(d.output,d.next_out))),0===d.avail_in&&0===d.avail_out&&(g=!0)}while((d.avail_in>0||0===d.avail_out)&&r!==a.Z_STREAM_END)return(r===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH)?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===a.Z_OK):(s===a.Z_SYNC_FLUSH&&(this.onEnd(a.Z_OK),d.avail_out=0),!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=h,r.inflate=d,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},r.ungzip=d},9643,(e,t,r)=>{"use strict";var n=e.r(79148).assign,i=e.r(48901),o=e.r(82473),a=e.r(34131),s={};n(s,i,o,a),t.exports=s},81353,(e,t,r)=>{},67034,(e,t,r)=>{var n={675:function(e,t){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,o=l(e),a=o[0],s=o[1],u=new i((a+s)*3/4-s),c=0,h=s>0?a-4:a;for(r=0;r<h;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[c++]=255&t),1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(function(e,t,n){for(var i,o=[],a=t;a<n;a+=3)i=(e[a]<<16&0xff0000)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(r[i>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}(e,a,a+16383>s?s:a+16383));return 1===i?o.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&o.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),o.join("")};for(var r=[],n=[],i="u">typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n[45]=62,n[95]=63},72:function(e,t,r){"use strict";var n=r(675),i=r(783),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return c(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e){var n=e,i=t;if(("string"!=typeof i||""===i)&&(i="utf8"),!s.isEncoding(i))throw TypeError("Unknown encoding: "+i);var o=0|f(n,i),l=a(o),u=l.write(n,i);return u!==o&&(l=l.slice(0,u)),l}if(ArrayBuffer.isView(e))return h(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(I(e,ArrayBuffer)||e&&I(e.buffer,ArrayBuffer)||"u">typeof SharedArrayBuffer&&(I(e,SharedArrayBuffer)||e&&I(e.buffer,SharedArrayBuffer)))return function(e,t,r){var n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),s.prototype),n}(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var c=e.valueOf&&e.valueOf();if(null!=c&&c!==e)return s.from(c,t,r);var p=function(e){if(s.isBuffer(e)){var t=0|d(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?a(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(p)return p;if("u">typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return u(e),a(e<0?0:0|d(e))}function h(e){for(var t=e.length<0?0:0|d(e.length),r=a(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}t.Buffer=s,t.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=0x7fffffff,s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),!s.TYPED_ARRAY_SUPPORT&&"u">typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,r){return(u(e),e<=0)?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)},s.allocUnsafe=function(e){return c(e)},s.allocUnsafeSlow=function(e){return c(e)};function d(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function f(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||I(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return _(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return T(e).length;default:if(i)return n?-1:_(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,r){var i,o,a,s=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=D[e[o]];return i}(this,t,r);case"utf8":case"utf-8":return v(this,t,r);case"ascii":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":return i=this,o=t,a=r,0===o&&a===i.length?n.fromByteArray(i):n.fromByteArray(i.slice(o,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}(this,t,r);default:if(s)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){var o;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(o=r*=1)!=o&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(i)return -1;else r=e.length-1;else if(r<0)if(!i)return -1;else r=0;if("string"==typeof t&&(t=s.from(t,n)),s.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return y(e,[t],r,n,i)}throw TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){var o,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;a=2,s/=2,l/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=r;o<s;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*a}else -1!==c&&(o-=o-c),c=-1}else for(r+l>s&&(r=s-l),o=r;o>=0;o--){for(var h=!0,d=0;d<l;d++)if(u(e,o+d)!==u(t,d)){h=!1;break}if(h)return o}return -1}s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(I(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),I(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:+(n<r)},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,n=s.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(I(o,Uint8Array)&&(o=s.from(o)),!s.isBuffer(o))throw TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},s.byteLength=f,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},s.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?v(this,0,e):p.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(s.prototype[o]=s.prototype.inspect),s.prototype.compare=function(e,t,r,n,i){if(I(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,a=r-t,l=Math.min(o,a),u=this.slice(n,i),c=e.slice(t,r),h=0;h<l;++h)if(u[h]!==c[h]){o=u[h],a=c[h];break}return o<a?-1:+(a<o)},s.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},s.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)};function v(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,l,u=e[i],c=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=r)switch(h){case 1:u<128&&(c=u);break;case 2:(192&(o=e[i+1]))==128&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=e[i+1],a=e[i+2],(192&o)==128&&(192&a)==128&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],(192&o)==128&&(192&a)==128&&(192&s)==128&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=h}var d=n,f=d.length;if(f<=4096)return String.fromCharCode.apply(String,d);for(var p="",g=0;g<f;)p+=String.fromCharCode.apply(String,d.slice(g,g+=4096));return p}function b(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function w(e,t,r,n,i,o){if(!s.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function x(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function S(e,t,r,n,o){return t*=1,r>>>=0,o||x(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function C(e,t,r,n,o){return t*=1,r>>>=0,o||x(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}s.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,o,a,s,l,u,c,h,d=this.length-t;if((void 0===r||r>d)&&(r=d),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var f=!1;;)switch(n){case"hex":return function(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s,l=parseInt(t.substr(2*a,2),16);if((s=l)!=s)break;e[r+a]=l}return a}(this,e,t,r);case"utf8":case"utf-8":return i=t,o=r,E(_(e,this.length-i),this,i,o);case"ascii":return a=t,s=r,E(A(e),this,a,s);case"latin1":case"binary":return function(e,t,r,n){return E(A(t),e,r,n)}(this,e,t,r);case"base64":return l=t,u=r,E(T(e),this,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,h=r,E(function(e,t){for(var r,n,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(e,this.length-c),this,c,h);default:if(f)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),f=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},s.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,s.prototype),n},s.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},s.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},s.prototype.readUInt8=function(e,t){return e>>>=0,t||b(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},s.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return(e>>>=0,t||b(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||b(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},s.prototype.readInt16BE=function(e,t){e>>>=0,t||b(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||b(e,4,this.length),i.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||b(e,4,this.length),i.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||b(e,8,this.length),i.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||b(e,8,this.length),i.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;w(this,e,t,r,i,0)}var o=1,a=0;for(this[t]=255&e;++a<r&&(o*=256);)this[t+a]=e/o&255;return t+r},s.prototype.writeUIntBE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;w(this,e,t,r,i,0)}var o=r-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+r},s.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,r,n){if(e*=1,t>>>=0,!n){var i=Math.pow(2,8*r-1);w(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a|0)-s&255;return t+r},s.prototype.writeIntBE=function(e,t,r,n){if(e*=1,t>>>=0,!n){var i=Math.pow(2,8*r-1);w(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a|0)-s&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,r){return S(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return S(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return C(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return C(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,n){if(!s.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var o=i-1;o>=0;--o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},s.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){var i,o=e.charCodeAt(0);("utf8"===n&&o<128||"latin1"===n)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var a=s.isBuffer(e)?e:s.from(e,n),l=a.length;if(0===l)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=a[i%l]}return this};var k=/[^+/0-9A-Za-z-_]/g;function _(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319||a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function A(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function T(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(k,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function E(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function I(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var D=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()},783:function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,u=l>>1,c=-7,h=r?i-1:0,d=r?-1:1,f=e[t+h];for(h+=d,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+e[t+h],h+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+e[t+h],h+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,n),o-=u}return(f?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,h=c>>1,d=5960464477539062e-23*(23===i),f=n?0:o-1,p=n?1:-1,g=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(s=+!!isNaN(t),a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+h>=1?t+=d/l:t+=d*Math.pow(2,1-h),t*l>=2&&(a++,l/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(t*l-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[r+f]=255&s,f+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+f]=255&a,f+=p,a/=256,u-=8);e[r+f-p]|=128*g}}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}},a=!0;try{n[e](r,r.exports,o),a=!1}finally{a&&delete i[e]}return r.exports}o.ab="/ROOT/node_modules/next/dist/compiled/buffer/",t.exports=o(72)},52683,e=>{"use strict";let t,r,n,i,o,a,s,l,u;var c,h,d,f,p,g,m,y,v,b,w,x,S,C,k,_,A,T,E,I,D,F,P,N,R,O,B,M,L,j,z,V,U,$,W,q,K,H,G,Q,X,J,Y,Z,ee,et,er,en,ei,eo,ea,es,el,eu,ec,eh,ed,ef,ep,eg,em,ey,ev,eb,ew,ex,eS,eC,ek,e_,eA,eT,eE,eI,eD,eF,eP,eN,eR,eO,eB,eM,eL,ej=e.i(43476),ez=e.i(71645),eV=e=>e instanceof Date,eU=e=>null==e,e$=e=>!eU(e)&&!Array.isArray(e)&&"object"==typeof e&&!eV(e),eW="u">typeof window&&void 0!==window.HTMLElement&&"u">typeof document;function eq(e){let t;if(e instanceof Date)return new Date(e);let r="u">typeof FileList&&e instanceof FileList;if(eW&&(e instanceof Blob||r))return e;let n=Array.isArray(e);if(!n&&!(e$(e)&&e$(t=e.constructor&&e.constructor.prototype)&&t.hasOwnProperty("isPrototypeOf")))return e;let i=n?[]:Object.create(Object.getPrototypeOf(e));for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=eq(e[t]));return i}var eK=e=>void 0===e,eH=e=>Array.isArray(e)?e.filter(Boolean):[],eG=e=>eH(e.replace(/["|']|\]/g,"").split(/\.|\[/)),eQ=(e,t,r)=>{if(!t||!e$(e))return r;let n=(/^\w*$/.test(t)?[t]:eG(t)).reduce((e,t)=>eU(e)?e:e[t],e);return eK(n)||n===e?eK(e[t])?r:e[t]:n},eX=e=>"function"==typeof e,eJ=(e,t,r)=>{let n=-1,i=/^\w*$/.test(t)?[t]:eG(t),o=i.length,a=o-1;for(;++n<o;){let t=i[n],o=r;if(n!==a){let r=e[t];o=e$(r)||Array.isArray(r)?r:isNaN(+i[n+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=o,e=e[t]}};let eY="onChange",eZ="onSubmit",e0="maxLength",e1="minLength",e2="pattern",e5="required";ez.default.createContext(null).displayName="HookFormControlContext";let e3="u">typeof window?ez.default.useLayoutEffect:ez.default.useEffect;var e4=e=>"string"==typeof e,e6=e=>eU(e)||"object"!=typeof e;function e8(e,t,r=new WeakSet){if(e6(e)||e6(t))return Object.is(e,t);if(eV(e)&&eV(t))return Object.is(e.getTime(),t.getTime());let n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;if(r.has(e)||r.has(t))return!0;for(let o of(r.add(e),r.add(t),n)){let n=e[o];if(!i.includes(o))return!1;if("ref"!==o){let e=t[o];if(eV(n)&&eV(e)||e$(n)&&e$(e)||Array.isArray(n)&&Array.isArray(e)?!e8(n,e,r):!Object.is(n,e))return!1}}return!0}ez.default.createContext(null).displayName="HookFormContext";var e9=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},e7=e=>Array.isArray(e)?e:[e],te=()=>{let e=[];return{get observers(){return e},next:t=>{for(let r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},tt=e=>e$(e)&&!Object.keys(e).length,tr=e=>{if(!eW)return!1;let t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},tn=e=>tr(e)&&e.isConnected;function ti(e,t){let r=Array.isArray(t)?t:/^\w*$/.test(t)?[t]:eG(t),n=1===r.length?e:function(e,t){let r=t.slice(0,-1).length,n=0;for(;n<r;)e=eK(e)?n++:e[t[n++]];return e}(e,r),i=r.length-1,o=r[i];return n&&delete n[o],0!==i&&(e$(n)&&tt(n)||Array.isArray(n)&&function(e){for(let t in e)if(e.hasOwnProperty(t)&&!eK(e[t]))return!1;return!0}(n))&&ti(e,r.slice(0,-1)),e}function to(e){return Array.isArray(e)||e$(e)&&!(e=>{for(let t in e)if(eX(e[t]))return!0;return!1})(e)}function ta(e,t={}){for(let r in e){let n=e[r];to(n)?(t[r]=Array.isArray(n)?[]:{},ta(n,t[r])):eK(n)||(t[r]=!0)}return t}function ts(e,t,r){for(let n in r||(r=ta(t)),e){let i=e[n];if(to(i))eK(t)||e6(r[n])?r[n]=ta(i,Array.isArray(i)?[]:{}):ts(i,eU(t)?{}:t[n],r[n]);else{let e=t[n];r[n]=!e8(i,e)}}return r}let tl={value:!1,isValid:!1},tu={value:!0,isValid:!0};var tc=e=>{if(Array.isArray(e)){if(e.length>1){let t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!eK(e[0].attributes.value)?eK(e[0].value)||""===e[0].value?tu:{value:e[0].value,isValid:!0}:tu:tl}return tl},th=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>eK(e)?e:t?""===e?NaN:e?+e:e:r&&e4(e)?new Date(e):n?n(e):e;let td={isValid:!1,value:null};var tf=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,td):td;function tp(e){let t=e.ref;return"file"===t.type?t.files:"radio"===t.type?tf(e.refs).value:"select-multiple"===t.type?[...t.selectedOptions].map(({value:e})=>e):"checkbox"===t.type?tc(e.refs).value:th(eK(t.value)?e.ref.value:t.value,e)}var tg=e=>eK(e)?e:e instanceof RegExp?e.source:e$(e)?e.value instanceof RegExp?e.value.source:e.value:e,tm=e=>({isOnSubmit:!e||e===eZ,isOnBlur:"onBlur"===e,isOnChange:e===eY,isOnAll:"all"===e,isOnTouch:"onTouched"===e});let ty="AsyncFunction";var tv=e=>!!e&&!!e.validate&&!!(eX(e.validate)&&e.validate.constructor.name===ty||e$(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===ty)),tb=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));let tw=(e,t,r,n)=>{for(let i of r||Object.keys(e)){let r=eQ(e,i);if(r){let{_f:e,...o}=r;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!n)return!0;else if(e.ref&&t(e.ref,e.name)&&!n)return!0;else if(tw(o,t))break}else if(e$(o)&&tw(o,t))break}}};function tx(e,t,r){let n=eQ(e,r);if(n||/^\w*$/.test(r))return{error:n,name:r};let i=r.split(".");for(;i.length;){let n=i.join("."),o=eQ(t,n),a=eQ(e,n);if(o&&!Array.isArray(o)&&r!==n)break;if(a&&a.type)return{name:n,error:a};if(a&&a.root&&a.root.type)return{name:`${n}.root`,error:a.root};i.pop()}return{name:r}}var tS=(e,t,r)=>{let n=e7(eQ(e,r));return eJ(n,"root",t[r]),eJ(e,r,n),e};function tC(e,t,r="validate"){if(e4(e)||Array.isArray(e)&&e.every(e4)||"boolean"==typeof e&&!e)return{type:r,message:e4(e)?e:"",ref:t}}var tk=e=>!e$(e)||e instanceof RegExp?{value:e,message:""}:e,t_=async(e,t,r,n,i,o)=>{let{ref:a,refs:s,required:l,maxLength:u,minLength:c,min:h,max:d,pattern:f,validate:p,name:g,valueAsNumber:m,mount:y}=e._f,v=eQ(r,g);if(!y||t.has(g))return{};let b=s?s[0]:a,w=e=>{i&&b.reportValidity&&(b.setCustomValidity("boolean"==typeof e?"":e||""),b.reportValidity())},x={},S="radio"===a.type,C="checkbox"===a.type,k=(m||"file"===a.type)&&eK(a.value)&&eK(v)||tr(a)&&""===a.value||""===v||Array.isArray(v)&&!v.length,_=e9.bind(null,g,n,x),A=(e,t,r,n=e0,i=e1)=>{let o=e?t:r;x[g]={type:e?n:i,message:o,ref:a,..._(e?n:i,o)}};if(o?!Array.isArray(v)||!v.length:l&&(!(S||C)&&(k||eU(v))||"boolean"==typeof v&&!v||C&&!tc(s).isValid||S&&!tf(s).isValid)){let{value:e,message:t}=e4(l)?{value:!!l,message:l}:tk(l);if(e&&(x[g]={type:e5,message:t,ref:b,..._(e5,t)},!n))return w(t),x}if(!k&&(!eU(h)||!eU(d))){let e,t,r=tk(d),i=tk(h);if(eU(v)||isNaN(v)){let n=a.valueAsDate||new Date(v),o=e=>new Date(new Date().toDateString()+" "+e),s="time"==a.type,l="week"==a.type;e4(r.value)&&v&&(e=s?o(v)>o(r.value):l?v>r.value:n>new Date(r.value)),e4(i.value)&&v&&(t=s?o(v)<o(i.value):l?v<i.value:n<new Date(i.value))}else{let n=a.valueAsNumber||(v?+v:v);eU(r.value)||(e=n>r.value),eU(i.value)||(t=n<i.value)}if((e||t)&&(A(!!e,r.message,i.message,"max","min"),!n))return w(x[g].message),x}if((u||c)&&!k&&(e4(v)||o&&Array.isArray(v))){let e=tk(u),t=tk(c),r=!eU(e.value)&&v.length>+e.value,i=!eU(t.value)&&v.length<+t.value;if((r||i)&&(A(r,e.message,t.message),!n))return w(x[g].message),x}if(f&&!k&&e4(v)){let{value:e,message:t}=tk(f);if(e instanceof RegExp&&!v.match(e)&&(x[g]={type:e2,message:t,ref:a,..._(e2,t)},!n))return w(t),x}if(p){if(eX(p)){let e=tC(await p(v,r),b);if(e&&(x[g]={...e,..._("validate",e.message)},!n))return w(e.message),x}else if(e$(p)){let e={};for(let t in p){if(!tt(e)&&!n)break;let i=tC(await p[t](v,r),b,t);i&&(e={...i,..._(t,i.message)},w(i.message),n&&(x[g]=e))}if(!tt(e)&&(x[g]={ref:b,...e},!n))return x}}return w(!0),x};let tA={mode:eZ,reValidateMode:eY,shouldFocusError:!0};var tT=e.i(47167),tE=e.i(7670);function tI(e,t,r){let n={};for(let i in e){let o=e[i],a="",s=!0;for(let e=0;e<o.length;e+=1){let n=o[e];n&&(a+=(!0===s?"":" ")+t(n),s=!1,r&&r[n]&&(a+=" "+r[n]))}n[i]=a}return n}let tD=0,tF={...ez}.useId;function tP(e){if(void 0!==tF){let t=tF();return e??t}return function(e){let[t,r]=ez.useState(e),n=e||t;return ez.useEffect(()=>{null==t&&(tD+=1,r(`mui-${tD}`))},[t]),n}(e)}function tN(){return(tN=Object.assign.bind()).apply(null,arguments)}var tR=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(((t=document.createElement("style")).setAttribute("data-emotion",this.key),void 0!==this.nonce&&t.setAttribute("nonce",this.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t));var t,r=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(r);try{n.insertRule(e,n.cssRules.length)}catch(e){}}else r.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),tO=Math.abs,tB=String.fromCharCode,tM=Object.assign;function tL(e,t,r){return e.replace(t,r)}function tj(e,t){return e.indexOf(t)}function tz(e,t){return 0|e.charCodeAt(t)}function tV(e,t,r){return e.slice(t,r)}function tU(e){return e.length}function t$(e,t){return t.push(e),e}var tW=1,tq=1,tK=0,tH=0,tG=0,tQ="";function tX(e,t,r,n,i,o,a){return{value:e,root:t,parent:r,type:n,props:i,children:o,line:tW,column:tq,length:a,return:""}}function tJ(e,t){return tM(tX("",null,null,"",null,null,0),e,{length:-e.length},t)}function tY(){return tG=tH<tK?tz(tQ,tH++):0,tq++,10===tG&&(tq=1,tW++),tG}function tZ(){return tz(tQ,tH)}function t0(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function t1(e){return tW=tq=1,tK=tU(tQ=e),tH=0,[]}function t2(e){var t,r;return(t=tH-1,r=function e(t){for(;tY();)switch(tG){case t:return tH;case 34:case 39:34!==t&&39!==t&&e(tG);break;case 40:41===t&&e(t);break;case 92:tY()}return tH}(91===e?e+2:40===e?e+1:e),tV(tQ,t,r)).trim()}var t5="-ms-",t3="-moz-",t4="-webkit-",t6="comm",t8="rule",t9="decl",t7="@keyframes";function re(e,t){for(var r="",n=e.length,i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function rt(e,t,r,n){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case t9:return e.return=e.return||e.value;case t6:return"";case t7:return e.return=e.value+"{"+re(e.children,n)+"}";case t8:e.value=e.props.join(",")}return tU(r=re(e.children,n))?e.return=e.value+"{"+r+"}":""}function rr(e,t,r,n,i,o,a,s,l,u,c){for(var h=i-1,d=0===i?o:[""],f=d.length,p=0,g=0,m=0;p<n;++p)for(var y=0,v=tV(e,h+1,h=tO(g=a[p])),b=e;y<f;++y)(b=(g>0?d[y]+" "+v:tL(v,/&\f/g,d[y])).trim())&&(l[m++]=b);return tX(e,t,r,0===i?t8:s,l,u,c)}function rn(e,t,r,n){return tX(e,t,r,t9,tV(e,0,n),tV(e,n+1,-1),n)}function ri(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}var ro=function(e,t,r){for(var n=0,i=0;n=i,i=tZ(),38===n&&12===i&&(t[r]=1),!t0(i);)tY();return tV(tQ,e,tH)},ra=function(e,t){var r=-1,n=44;do switch(t0(n)){case 0:38===n&&12===tZ()&&(t[r]=1),e[r]+=ro(tH-1,t,r);break;case 2:e[r]+=t2(n);break;case 4:if(44===n){e[++r]=58===tZ()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=tB(n)}while(n=tY())return e},rs=function(e,t){var r;return r=ra(t1(e),t),tQ="",r},rl=new WeakMap,ru=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||rl.get(r))&&!n){rl.set(e,!0);for(var i=[],o=rs(t,i),a=r.props,s=0,l=0;s<o.length;s++)for(var u=0;u<a.length;u++,l++)e.props[l]=i[s]?o[s].replace(/&\f/g,a[u]):a[u]+" "+o[s]}}},rc=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},rh=[function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case t9:e.return=function e(t,r){switch(45^tz(t,0)?(((r<<2^tz(t,0))<<2^tz(t,1))<<2^tz(t,2))<<2^tz(t,3):0){case 5103:return t4+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return t4+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return t4+t+t3+t+t5+t+t;case 6828:case 4268:return t4+t+t5+t+t;case 6165:return t4+t+t5+"flex-"+t+t;case 5187:return t4+t+tL(t,/(\w+).+(:[^]+)/,t4+"box-$1$2"+t5+"flex-$1$2")+t;case 5443:return t4+t+t5+"flex-item-"+tL(t,/flex-|-self/,"")+t;case 4675:return t4+t+t5+"flex-line-pack"+tL(t,/align-content|flex-|-self/,"")+t;case 5548:return t4+t+t5+tL(t,"shrink","negative")+t;case 5292:return t4+t+t5+tL(t,"basis","preferred-size")+t;case 6060:return t4+"box-"+tL(t,"-grow","")+t4+t+t5+tL(t,"grow","positive")+t;case 4554:return t4+tL(t,/([^-])(transform)/g,"$1"+t4+"$2")+t;case 6187:return tL(tL(tL(t,/(zoom-|grab)/,t4+"$1"),/(image-set)/,t4+"$1"),t,"")+t;case 5495:case 3959:return tL(t,/(image-set\([^]*)/,t4+"$1$`$1");case 4968:return tL(tL(t,/(.+:)(flex-)?(.*)/,t4+"box-pack:$3"+t5+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+t4+t+t;case 4095:case 3583:case 4068:case 2532:return tL(t,/(.+)-inline(.+)/,t4+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(tU(t)-1-r>6)switch(tz(t,r+1)){case 109:if(45!==tz(t,r+4))break;case 102:return tL(t,/(.+:)(.+)-([^]+)/,"$1"+t4+"$2-$3$1"+t3+(108==tz(t,r+3)?"$3":"$2-$3"))+t;case 115:return~tj(t,"stretch")?e(tL(t,"stretch","fill-available"),r)+t:t}break;case 4949:if(115!==tz(t,r+1))break;case 6444:switch(tz(t,tU(t)-3-(~tj(t,"!important")&&10))){case 107:return tL(t,":",":"+t4)+t;case 101:return tL(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+t4+(45===tz(t,14)?"inline-":"")+"box$3$1"+t4+"$2$3$1"+t5+"$2box$3")+t}break;case 5936:switch(tz(t,r+11)){case 114:return t4+t+t5+tL(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return t4+t+t5+tL(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return t4+t+t5+tL(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return t4+t+t5+t+t}return t}(e.value,e.length);break;case t7:return re([tJ(e,{value:tL(e.value,"@","@"+t4)})],n);case t8:if(e.length){var i,o;return i=e.props,o=function(t){var r;switch(r=t,(r=/(::plac\w+|:read-\w+)/.exec(r))?r[0]:r){case":read-only":case":read-write":return re([tJ(e,{props:[tL(t,/:(read-\w+)/,":"+t3+"$1")]})],n);case"::placeholder":return re([tJ(e,{props:[tL(t,/:(plac\w+)/,":"+t4+"input-$1")]}),tJ(e,{props:[tL(t,/:(plac\w+)/,":"+t3+"$1")]}),tJ(e,{props:[tL(t,/:(plac\w+)/,t5+"input-$1")]})],n)}return""},i.map(o).join("")}}}];function rd(e,t,r){var n="";return r.split(" ").forEach(function(r){void 0!==e[r]?t.push(e[r]+";"):r&&(n+=r+" ")}),n}e.i(98437);var rf=function(e,t,r){var n=e.key+"-"+t.name;!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles)},rp=function(e,t,r){rf(e,t,r);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do e.insert(t===i?"."+n:"",i,e.sheet,!0),i=i.next;while(void 0!==i)}},rg={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},rm=/[A-Z]|^ms/g,ry=/_EMO_([^_]+?)_([^]*?)_EMO_/g,rv=function(e){return 45===e.charCodeAt(1)},rb=function(e){return null!=e&&"boolean"!=typeof e},rw=ri(function(e){return rv(e)?e:e.replace(rm,"-$&").toLowerCase()}),rx=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(ry,function(e,t,r){return K={name:t,styles:r,next:K},t})}return 1===rg[e]||rv(e)||"number"!=typeof t||0===t?t:t+"px"};function rS(e,t,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return K={name:r.name,styles:r.styles,next:K},r.name;if(void 0!==r.styles){var n=r.next;if(void 0!==n)for(;void 0!==n;)K={name:n.name,styles:n.styles,next:K},n=n.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=rS(e,t,r[i])+";";else for(var o in r){var a=r[o];if("object"!=typeof a)null!=t&&void 0!==t[a]?n+=o+"{"+t[a]+"}":rb(a)&&(n+=rw(o)+":"+rx(o,a)+";");else if(Array.isArray(a)&&"string"==typeof a[0]&&(null==t||void 0===t[a[0]]))for(var s=0;s<a.length;s++)rb(a[s])&&(n+=rw(o)+":"+rx(o,a[s])+";");else{var l=rS(e,t,a);switch(o){case"animation":case"animationName":n+=rw(o)+":"+l+";";break;default:n+=o+"{"+l+"}"}}}return n}(e,t,r);case"function":if(void 0!==e){var i=K,o=r(e);return K=i,rS(e,t,o)}}if(null==t)return r;var a=t[r];return void 0!==a?a:r}var rC=/label:\s*([^\s;{]+)\s*(;|$)/g;function rk(e,t,r){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n,i=!0,o="";K=void 0;var a=e[0];null==a||void 0===a.raw?(i=!1,o+=rS(r,t,a)):o+=a[0];for(var s=1;s<e.length;s++)o+=rS(r,t,e[s]),i&&(o+=a[s]);rC.lastIndex=0;for(var l="";null!==(n=rC.exec(o));)l+="-"+n[1];return{name:function(e){for(var t,r=0,n=0,i=e.length;i>=4;++n,i-=4)t=(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))*0x5bd1e995+((t>>>16)*59797<<16),t^=t>>>24,r=(65535&t)*0x5bd1e995+((t>>>16)*59797<<16)^(65535&r)*0x5bd1e995+((r>>>16)*59797<<16);switch(i){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r^=255&e.charCodeAt(n),r=(65535&r)*0x5bd1e995+((r>>>16)*59797<<16)}return r^=r>>>13,(((r=(65535&r)*0x5bd1e995+((r>>>16)*59797<<16))^r>>>15)>>>0).toString(36)}(o)+l,styles:o,next:K}}var r_=!!ez.useInsertionEffect&&ez.useInsertionEffect,rA=r_||function(e){return e()},rT=r_||ez.useLayoutEffect,rE=ez.createContext("u">typeof HTMLElement?function(e){var t,r,n,i,o,a=e.key;if("css"===a){var s=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(s,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var l=e.stylisPlugins||rh,u={},c=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+a+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)u[t[r]]=!0;c.push(e)});var h=(r=(t=[ru,rc].concat(l,[rt,(n=function(e){o.insert(e)},function(e){!e.root&&(e=e.return)&&n(e)})])).length,function(e,n,i,o){for(var a="",s=0;s<r;s++)a+=t[s](e,n,i,o)||"";return a}),d=function(e){var t,r;return re((r=function e(t,r,n,i,o,a,s,l,u){for(var c,h=0,d=0,f=s,p=0,g=0,m=0,y=1,v=1,b=1,w=0,x="",S=o,C=a,k=i,_=x;v;)switch(m=w,w=tY()){case 40:if(108!=m&&58==tz(_,f-1)){-1!=tj(_+=tL(t2(w),"&","&\f"),"&\f")&&(b=-1);break}case 34:case 39:case 91:_+=t2(w);break;case 9:case 10:case 13:case 32:_+=function(e){for(;tG=tZ();)if(tG<33)tY();else break;return t0(e)>2||t0(tG)>3?"":" "}(m);break;case 92:_+=function(e,t){for(var r;--t&&tY()&&!(tG<48)&&!(tG>102)&&(!(tG>57)||!(tG<65))&&(!(tG>70)||!(tG<97)););return r=tH+(t<6&&32==tZ()&&32==tY()),tV(tQ,e,r)}(tH-1,7);continue;case 47:switch(tZ()){case 42:case 47:t$((c=function(e,t){for(;tY();)if(e+tG===57)break;else if(e+tG===84&&47===tZ())break;return"/*"+tV(tQ,t,tH-1)+"*"+tB(47===e?e:tY())}(tY(),tH),tX(c,r,n,t6,tB(tG),tV(c,2,-2),0)),u);break;default:_+="/"}break;case 123*y:l[h++]=tU(_)*b;case 125*y:case 59:case 0:switch(w){case 0:case 125:v=0;case 59+d:-1==b&&(_=tL(_,/\f/g,"")),g>0&&tU(_)-f&&t$(g>32?rn(_+";",i,n,f-1):rn(tL(_," ","")+";",i,n,f-2),u);break;case 59:_+=";";default:if(t$(k=rr(_,r,n,h,d,o,l,x,S=[],C=[],f),a),123===w)if(0===d)e(_,r,k,k,S,a,f,l,C);else switch(99===p&&110===tz(_,3)?100:p){case 100:case 108:case 109:case 115:e(t,k,k,i&&t$(rr(t,k,k,0,0,o,l,x,o,S=[],f),C),o,C,f,l,i?S:C);break;default:e(_,k,k,k,[""],C,0,l,C)}}h=d=g=0,y=b=1,x=_="",f=s;break;case 58:f=1+tU(_),g=m;default:if(y<1){if(123==w)--y;else if(125==w&&0==y++&&125==(tG=tH>0?tz(tQ,--tH):0,tq--,10===tG&&(tq=1,tW--),tG))continue}switch(_+=tB(w),w*y){case 38:b=d>0?1:(_+="\f",-1);break;case 44:l[h++]=(tU(_)-1)*b,b=1;break;case 64:45===tZ()&&(_+=t2(tY())),p=tZ(),d=f=tU(x=_+=function(e){for(;!t0(tZ());)tY();return tV(tQ,e,tH)}(tH)),w++;break;case 45:45===m&&2==tU(_)&&(y=0)}}return a}("",null,null,null,[""],t=t1(t=e),0,[0],t),tQ="",r),h)},f={key:a,sheet:new tR({key:a,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:u,registered:{},insert:function(e,t,r,n){o=r,d(e?e+"{"+t.styles+"}":t.styles),n&&(f.inserted[t.name]=!0)}};return f.sheet.hydrate(c),f}({key:"css"}):null);rE.Provider;var rI=function(e){return(0,ez.forwardRef)(function(t,r){return e(t,(0,ez.useContext)(rE),r)})},rD=ez.createContext({}),rF={}.hasOwnProperty,rP="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",rN=function(e,t){var r={};for(var n in t)rF.call(t,n)&&(r[n]=t[n]);return r[rP]=e,r},rR=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return rf(t,r,n),rA(function(){return rp(t,r,n)}),null},rO=rI(function(e,t,r){var n=e.css;"string"==typeof n&&void 0!==t.registered[n]&&(n=t.registered[n]);var i=e[rP],o=[n],a="";"string"==typeof e.className?a=rd(t.registered,o,e.className):null!=e.className&&(a=e.className+" ");var s=rk(o,void 0,ez.useContext(rD));a+=t.key+"-"+s.name;var l={};for(var u in e)rF.call(e,u)&&"css"!==u&&u!==rP&&(l[u]=e[u]);return l.className=a,r&&(l.ref=r),ez.createElement(ez.Fragment,null,ez.createElement(rR,{cache:t,serialized:s,isStringTag:"string"==typeof i}),ez.createElement(i,l))}),rB=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,rM=ri(function(e){return rB.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&91>e.charCodeAt(2)}),rL=function(e){return"theme"!==e},rj=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?rM:rL},rz=function(e,t,r){var n;if(t){var i=t.shouldForwardProp;n=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!=typeof n&&r&&(n=e.__emotion_forwardProp),n},rV=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return rf(t,r,n),rA(function(){return rp(t,r,n)}),null},rU=(function e(t,r){var n,i,o=t.__emotion_real===t,a=o&&t.__emotion_base||t;void 0!==r&&(n=r.label,i=r.target);var s=rz(t,r,o),l=s||rj(a),u=!l("as");return function(){var c=arguments,h=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==n&&h.push("label:"+n+";"),null==c[0]||void 0===c[0].raw)h.push.apply(h,c);else{var d=c[0];h.push(d[0]);for(var f=c.length,p=1;p<f;p++)h.push(c[p],d[p])}var g=rI(function(e,t,r){var n=u&&e.as||a,o="",c=[],d=e;if(null==e.theme){for(var f in d={},e)d[f]=e[f];d.theme=ez.useContext(rD)}"string"==typeof e.className?o=rd(t.registered,c,e.className):null!=e.className&&(o=e.className+" ");var p=rk(h.concat(c),t.registered,d);o+=t.key+"-"+p.name,void 0!==i&&(o+=" "+i);var g=u&&void 0===s?rj(n):l,m={};for(var y in e)(!u||"as"!==y)&&g(y)&&(m[y]=e[y]);return m.className=o,r&&(m.ref=r),ez.createElement(ez.Fragment,null,ez.createElement(rV,{cache:t,serialized:p,isStringTag:"string"==typeof n}),ez.createElement(n,m))});return g.displayName=void 0!==n?n:"Styled("+("string"==typeof a?a:a.displayName||a.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=a,g.__emotion_styles=h,g.__emotion_forwardProp=s,Object.defineProperty(g,"toString",{value:function(){return"."+i}}),g.withComponent=function(t,n){return e(t,tN({},r,n,{shouldForwardProp:rz(g,n,!0)})).apply(void 0,h)},g}}).bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){rU[e]=rU(e)});let r$=[];function rW(e){return r$[0]=e,rk(r$)}var rq=e.i(79684);function rK(e){if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function rH(e,t,r={clone:!0}){let n=r.clone?{...e}:e;return rK(e)&&rK(t)&&Object.keys(t).forEach(i=>{ez.isValidElement(t[i])||(0,rq.isValidElementType)(t[i])?n[i]=t[i]:rK(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&rK(e[i])?n[i]=rH(e[i],t[i],r):r.clone?n[i]=rK(t[i])?function e(t){if(ez.isValidElement(t)||(0,rq.isValidElementType)(t)||!rK(t))return t;let r={};return Object.keys(t).forEach(n=>{r[n]=e(t[n])}),r}(t[i]):t[i]:n[i]=t[i]}),n}function rG(e,...t){let r=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(e=>r.searchParams.append("args[]",e)),`Minified MUI error #${e}; visit ${r} for the full message.`}function rQ(e){if("string"!=typeof e)throw Error(rG(7));return e.charAt(0).toUpperCase()+e.slice(1)}function rX(e,t){if(!e.containerQueries)return t;let r=Object.keys(t).filter(e=>e.startsWith("@container")).sort((e,t)=>{let r=/min-width:\s*([0-9.]+)/;return(e.match(r)?.[1]||0)-(t.match(r)?.[1]||0)});return r.length?r.reduce((e,r)=>{let n=t[r];return delete e[r],e[r]=n,e},{...t}):t}let rJ={borderRadius:4},rY=function(e,t){return t?rH(e,t,{clone:!1}):e},rZ={xs:0,sm:600,md:900,lg:1200,xl:1536},r0={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${rZ[e]}px)`},r1={containerQueries:e=>({up:t=>{let r="number"==typeof t?t:rZ[t]||t;return"number"==typeof r&&(r=`${r}px`),e?`@container ${e} (min-width:${r})`:`@container (min-width:${r})`}})};function r2(e,t,r){let n=e.theme||{};if(Array.isArray(t)){let e=n.breakpoints||r0;return t.reduce((n,i,o)=>(n[e.up(e.keys[o])]=r(t[o]),n),{})}if("object"==typeof t){let e=n.breakpoints||r0;return Object.keys(t).reduce((i,o)=>{var a;if(a=e.keys,"@"===o||o.startsWith("@")&&(a.some(e=>o.startsWith(`@${e}`))||o.match(/^@\d/))){let e=function(e,t){let r=t.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;let[,n,i]=r,o=Number.isNaN(+n)?n||0:+n;return e.containerQueries(i).up(o)}(n.containerQueries?n:r1,o);e&&(i[e]=r(t[o],o))}else Object.keys(e.values||rZ).includes(o)?i[e.up(o)]=r(t[o],o):i[o]=t[o];return i},{})}return r(t)}function r5(e={}){return e.keys?.reduce((t,r)=>(t[e.up(r)]={},t),{})||{}}function r3(e,t){return e.reduce((e,t)=>{let r=e[t];return r&&0!==Object.keys(r).length||delete e[t],e},t)}function r4({values:e,breakpoints:t,base:r}){let n,i=Object.keys(r||function(e,t){if("object"!=typeof e)return{};let r={},n=Object.keys(t);return Array.isArray(e)?n.forEach((t,n)=>{n<e.length&&(r[t]=!0)}):n.forEach(t=>{null!=e[t]&&(r[t]=!0)}),r}(e,t));return 0===i.length?e:i.reduce((t,r,i)=>(Array.isArray(e)?(t[r]=null!=e[i]?e[i]:e[n],n=i):"object"==typeof e?(t[r]=null!=e[r]?e[r]:e[n],n=r):t[r]=e,t),{})}function r6(e,t,r=!0){if(!t||"string"!=typeof t)return null;if(e&&e.vars&&r){let r=`vars.${t}`.split(".").reduce((e,t)=>e&&e[t]?e[t]:null,e);if(null!=r)return r}return t.split(".").reduce((e,t)=>e&&null!=e[t]?e[t]:null,e)}function r8(e,t,r,n=r){let i;return i="function"==typeof e?e(r):Array.isArray(e)?e[r]||n:r6(e,r)||n,t&&(i=t(i,n,e)),i}let r9=function(e){let{prop:t,cssProperty:r=e.prop,themeKey:n,transform:i}=e,o=e=>{if(null==e[t])return null;let o=e[t],a=r6(e.theme,n)||{};return r2(e,o,e=>{let n=r8(a,i,e);return(e===n&&"string"==typeof e&&(n=r8(a,i,`${t}${"default"===e?"":rQ(e)}`,e)),!1===r)?n:{[r]:n}})};return o.propTypes={},o.filterProps=[t],o},r7={m:"margin",p:"padding"},ne={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},nt={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},nr=(c=e=>{if(e.length>2)if(!nt[e])return[e];else e=nt[e];let[t,r]=e.split(""),n=r7[t],i=ne[r]||"";return Array.isArray(i)?i.map(e=>n+e):[n+i]},n={},e=>(void 0===n[e]&&(n[e]=c(e)),n[e])),nn=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],ni=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],no=[...nn,...ni];function na(e,t,r,n){let i=r6(e,t,!0)??r;return"number"==typeof i||"string"==typeof i?e=>"string"==typeof e?e:"string"==typeof i?i.startsWith("var(")&&0===e?0:i.startsWith("var(")&&1===e?i:`calc(${e} * ${i})`:i*e:Array.isArray(i)?e=>{if("string"==typeof e)return e;let t=i[Math.abs(e)];return e>=0?t:"number"==typeof t?-t:"string"==typeof t&&t.startsWith("var(")?`calc(-1 * ${t})`:`-${t}`}:"function"==typeof i?i:()=>void 0}function ns(e){return na(e,"spacing",8,"spacing")}function nl(e,t){return"string"==typeof t||null==t?t:e(t)}function nu(e,t){let r=ns(e.theme);return Object.keys(e).map(n=>(function(e,t,r,n){var i;if(!t.includes(r))return null;let o=(i=nr(r),e=>i.reduce((t,r)=>(t[r]=nl(n,e),t),{})),a=e[r];return r2(e,a,o)})(e,t,n,r)).reduce(rY,{})}function nc(e){return nu(e,nn)}function nh(e){return nu(e,ni)}function nd(e){return nu(e,no)}function nf(e=8,t=ns({spacing:e})){if(e.mui)return e;let r=(...e)=>(0===e.length?[1]:e).map(e=>{let r=t(e);return"number"==typeof r?`${r}px`:r}).join(" ");return r.mui=!0,r}nc.propTypes={},nc.filterProps=nn,nh.propTypes={},nh.filterProps=ni,nd.propTypes={},nd.filterProps=no;let np=function(...e){let t=e.reduce((e,t)=>(t.filterProps.forEach(r=>{e[r]=t}),e),{}),r=e=>Object.keys(e).reduce((r,n)=>t[n]?rY(r,t[n](e)):r,{});return r.propTypes={},r.filterProps=e.reduce((e,t)=>e.concat(t.filterProps),[]),r};function ng(e){return"number"!=typeof e?e:`${e}px solid`}function nm(e,t){return r9({prop:e,themeKey:"borders",transform:t})}let ny=nm("border",ng),nv=nm("borderTop",ng),nb=nm("borderRight",ng),nw=nm("borderBottom",ng),nx=nm("borderLeft",ng),nS=nm("borderColor"),nC=nm("borderTopColor"),nk=nm("borderRightColor"),n_=nm("borderBottomColor"),nA=nm("borderLeftColor"),nT=nm("outline",ng),nE=nm("outlineColor"),nI=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){let t=na(e.theme,"shape.borderRadius",4,"borderRadius");return r2(e,e.borderRadius,e=>({borderRadius:nl(t,e)}))}return null};nI.propTypes={},nI.filterProps=["borderRadius"],np(ny,nv,nb,nw,nx,nS,nC,nk,n_,nA,nI,nT,nE);let nD=e=>{if(void 0!==e.gap&&null!==e.gap){let t=na(e.theme,"spacing",8,"gap");return r2(e,e.gap,e=>({gap:nl(t,e)}))}return null};nD.propTypes={},nD.filterProps=["gap"];let nF=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){let t=na(e.theme,"spacing",8,"columnGap");return r2(e,e.columnGap,e=>({columnGap:nl(t,e)}))}return null};nF.propTypes={},nF.filterProps=["columnGap"];let nP=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){let t=na(e.theme,"spacing",8,"rowGap");return r2(e,e.rowGap,e=>({rowGap:nl(t,e)}))}return null};function nN(e,t){return"grey"===t?t:e}function nR(e){return e<=1&&0!==e?`${100*e}%`:e}nP.propTypes={},nP.filterProps=["rowGap"],np(nD,nF,nP,r9({prop:"gridColumn"}),r9({prop:"gridRow"}),r9({prop:"gridAutoFlow"}),r9({prop:"gridAutoColumns"}),r9({prop:"gridAutoRows"}),r9({prop:"gridTemplateColumns"}),r9({prop:"gridTemplateRows"}),r9({prop:"gridTemplateAreas"}),r9({prop:"gridArea"})),np(r9({prop:"color",themeKey:"palette",transform:nN}),r9({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:nN}),r9({prop:"backgroundColor",themeKey:"palette",transform:nN}));let nO=r9({prop:"width",transform:nR}),nB=e=>void 0!==e.maxWidth&&null!==e.maxWidth?r2(e,e.maxWidth,t=>{let r=e.theme?.breakpoints?.values?.[t]||rZ[t];return r?e.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:nR(t)}}):null;nB.filterProps=["maxWidth"];let nM=r9({prop:"minWidth",transform:nR}),nL=r9({prop:"height",transform:nR}),nj=r9({prop:"maxHeight",transform:nR}),nz=r9({prop:"minHeight",transform:nR});r9({prop:"size",cssProperty:"width",transform:nR}),r9({prop:"size",cssProperty:"height",transform:nR}),np(nO,nB,nM,nL,nj,nz,r9({prop:"boxSizing"}));let nV={border:{themeKey:"borders",transform:ng},borderTop:{themeKey:"borders",transform:ng},borderRight:{themeKey:"borders",transform:ng},borderBottom:{themeKey:"borders",transform:ng},borderLeft:{themeKey:"borders",transform:ng},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ng},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:nI},color:{themeKey:"palette",transform:nN},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:nN},backgroundColor:{themeKey:"palette",transform:nN},p:{style:nh},pt:{style:nh},pr:{style:nh},pb:{style:nh},pl:{style:nh},px:{style:nh},py:{style:nh},padding:{style:nh},paddingTop:{style:nh},paddingRight:{style:nh},paddingBottom:{style:nh},paddingLeft:{style:nh},paddingX:{style:nh},paddingY:{style:nh},paddingInline:{style:nh},paddingInlineStart:{style:nh},paddingInlineEnd:{style:nh},paddingBlock:{style:nh},paddingBlockStart:{style:nh},paddingBlockEnd:{style:nh},m:{style:nc},mt:{style:nc},mr:{style:nc},mb:{style:nc},ml:{style:nc},mx:{style:nc},my:{style:nc},margin:{style:nc},marginTop:{style:nc},marginRight:{style:nc},marginBottom:{style:nc},marginLeft:{style:nc},marginX:{style:nc},marginY:{style:nc},marginInline:{style:nc},marginInlineStart:{style:nc},marginInlineEnd:{style:nc},marginBlock:{style:nc},marginBlockStart:{style:nc},marginBlockEnd:{style:nc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:nD},rowGap:{style:nP},columnGap:{style:nF},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:nR},maxWidth:{style:nB},minWidth:{transform:nR},height:{transform:nR},maxHeight:{transform:nR},minHeight:{transform:nR},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},nU=function(){function e(e,t,r,n){let i={[e]:t,theme:r},o=n[e];if(!o)return{[e]:t};let{cssProperty:a=e,themeKey:s,transform:l,style:u}=o;if(null==t)return null;if("typography"===s&&"inherit"===t)return{[e]:t};let c=r6(r,s)||{};return u?u(i):r2(i,t,t=>{let r=r8(c,l,t);return(t===r&&"string"==typeof t&&(r=r8(c,l,`${e}${"default"===t?"":rQ(t)}`,t)),!1===a)?r:{[a]:r}})}return function t(r){let{sx:n,theme:i={},nested:o}=r||{};if(!n)return null;let a=i.unstable_sxConfig??nV;function s(r){let n=r;if("function"==typeof r)n=r(i);else if("object"!=typeof r)return r;if(!n)return null;let s=r5(i.breakpoints),l=Object.keys(s),u=s;return(Object.keys(n).forEach(r=>{var o;let s=(o=n[r],"function"==typeof o?o(i):o);if(null!=s)if("object"==typeof s)if(a[r])u=rY(u,e(r,s,i,a));else{let e=r2({theme:i},s,e=>({[r]:e}));!function(...e){let t=new Set(e.reduce((e,t)=>e.concat(Object.keys(t)),[]));return e.every(e=>t.size===Object.keys(e).length)}(e,s)?u=rY(u,e):u[r]=t({sx:s,theme:i,nested:!0})}else u=rY(u,e(r,s,i,a))}),!o&&i.modularCssLayers)?{"@layer sx":rX(i,r3(l,u))}:rX(i,r3(l,u))}return Array.isArray(n)?n.map(s):s(n)}}();function n$(e,t){if(this.vars){if(!this.colorSchemes?.[e]||"function"!=typeof this.getColorSchemeSelector)return{};let r=this.getColorSchemeSelector(e);return"&"===r?t:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:t})}return this.palette.mode===e?t:{}}nU.filterProps=["sx"];let nW=function(e={},...t){let{breakpoints:r={},palette:n={},spacing:i,shape:o={},...a}=e,s=function(e){let t,{values:r={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:i=5,...o}=e,a=((t=Object.keys(r).map(e=>({key:e,val:r[e]}))||[]).sort((e,t)=>e.val-t.val),t.reduce((e,t)=>({...e,[t.key]:t.val}),{})),s=Object.keys(a);function l(e){let t="number"==typeof r[e]?r[e]:e;return`@media (min-width:${t}${n})`}function u(e){let t="number"==typeof r[e]?r[e]:e;return`@media (max-width:${t-i/100}${n})`}function c(e,t){let o=s.indexOf(t);return`@media (min-width:${"number"==typeof r[e]?r[e]:e}${n}) and (max-width:${(-1!==o&&"number"==typeof r[s[o]]?r[s[o]]:t)-i/100}${n})`}return{keys:s,values:a,up:l,down:u,between:c,only:function(e){return s.indexOf(e)+1<s.length?c(e,s[s.indexOf(e)+1]):l(e)},not:function(e){let t=s.indexOf(e);return 0===t?l(s[1]):t===s.length-1?u(s[t]):c(e,s[s.indexOf(e)+1]).replace("@media","@media not all and")},unit:n,...o}}(r),l=nf(i),u=rH({breakpoints:s,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:l,shape:{...rJ,...o}},a);return(u=function(e){let t=(e,t)=>e.replace("@media",t?`@container ${t}`:"@container");function r(r,n){r.up=(...r)=>t(e.breakpoints.up(...r),n),r.down=(...r)=>t(e.breakpoints.down(...r),n),r.between=(...r)=>t(e.breakpoints.between(...r),n),r.only=(...r)=>t(e.breakpoints.only(...r),n),r.not=(...r)=>{let i=t(e.breakpoints.not(...r),n);return i.includes("not all and")?i.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):i}}let n={},i=e=>(r(n,e),n);return r(i),{...e,containerQueries:i}}(u)).applyStyles=n$,(u=t.reduce((e,t)=>rH(e,t),u)).unstable_sxConfig={...nV,...a?.unstable_sxConfig},u.unstable_sx=function(e){return nU({sx:e,theme:this})},u};function nq(e){let{variants:t,...r}=e,n={variants:t,style:rW(r),isProcessed:!0};return n.style===r||t&&t.forEach(e=>{"function"!=typeof e.style&&(e.style=rW(e.style))}),n}let nK=nW();function nH(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function nG(e,t){return t&&e&&"object"==typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}function nQ(e,t,r){let n="function"==typeof t?t(e):t;if(Array.isArray(n))return n.flatMap(t=>nQ(e,t,r));if(Array.isArray(n?.variants)){let t;if(n.isProcessed)t=r?nG(n.style,r):n.style;else{let{variants:e,...i}=n;t=r?nG(rW(i),r):i}return nX(e,n.variants,[t],r)}return n?.isProcessed?r?nG(rW(n.style),r):n.style:r?nG(rW(n),r):n}function nX(e,t,r=[],n){let i;r:for(let o=0;o<t.length;o+=1){let a=t[o];if("function"==typeof a.props){if(i??={...e,...e.ownerState,ownerState:e.ownerState},!a.props(i))continue}else for(let t in a.props)if(e[t]!==a.props[t]&&e.ownerState?.[t]!==a.props[t])continue r;"function"==typeof a.style?(i??={...e,...e.ownerState,ownerState:e.ownerState},r.push(n?nG(rW(a.style(i)),n):a.style(i))):r.push(n?nG(rW(a.style),n):a.style)}return r}function nJ(e={}){let{themeId:t,defaultTheme:r=nK,rootShouldForwardProp:n=nH,slotShouldForwardProp:i=nH}=e;function o(e){e.theme=!function(e){for(let t in e)return!1;return!0}(e.theme)?e.theme[t]||e.theme:r}return(e,t={})=>{var r,a,s;Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=(e=>e.filter(e=>e!==nU))(e.__emotion_styles));let{name:l,slot:u,skipVariantsResolver:c,skipSx:h,overridesResolver:d=!(r=(a=u)?a.charAt(0).toLowerCase()+a.slice(1):a)?null:(e,t)=>t[r],...f}=t,p=l&&l.startsWith("Mui")||u?"components":"custom",g=void 0!==c?c:u&&"Root"!==u&&"root"!==u||!1,m=h||!1,y=nH;"Root"===u||"root"===u?y=n:u?y=i:"string"==typeof(s=e)&&s.charCodeAt(0)>96&&(y=void 0);let v=rU(e,{shouldForwardProp:y,label:void 0,...f}),b=e=>{if(e.__emotion_real===e)return e;if("function"==typeof e)return function(t){return nQ(t,e,t.theme.modularCssLayers?p:void 0)};if(rK(e)){let t=nq(e);return function(e){return t.variants?nQ(e,t,e.theme.modularCssLayers?p:void 0):e.theme.modularCssLayers?nG(t.style,p):t.style}}return e},w=(...t)=>{let r=[],n=t.map(b),i=[];if(r.push(o),l&&d&&i.push(function(e){let t=e.theme,r=t.components?.[l]?.styleOverrides;if(!r)return null;let n={};for(let t in r)n[t]=nQ(e,r[t],e.theme.modularCssLayers?"theme":void 0);return d(e,n)}),l&&!g&&i.push(function(e){let t=e.theme,r=t?.components?.[l]?.variants;return r?nX(e,r,[],e.theme.modularCssLayers?"theme":void 0):null}),m||i.push(nU),Array.isArray(n[0])){let e,t=n.shift(),o=Array(r.length).fill(""),a=Array(i.length).fill("");(e=[...o,...t,...a]).raw=[...o,...t.raw,...a],r.unshift(e)}let a=v(...r,...n,...i);return e.muiName&&(a.muiName=e.muiName),a};return v.withConfig&&(w.withConfig=v.withConfig),w}}function nY(e,t=0,r=1){return function(e,t=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,r))}(e,t,r)}function nZ(e){let t;if(e.type)return e;if("#"===e.charAt(0)){var r;let t,n;return nZ((r=(r=e).slice(1),t=RegExp(`.{1,${r.length>=6?2:1}}`,"g"),(n=r.match(t))&&1===n[0].length&&(n=n.map(e=>e+e)),n?`rgb${4===n.length?"a":""}(${n.map((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", ")})`:""))}let n=e.indexOf("("),i=e.substring(0,n);if(!["rgb","rgba","hsl","hsla","color"].includes(i))throw Error(rG(9,e));let o=e.substring(n+1,e.length-1);if("color"===i){if(t=(o=o.split(" ")).shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(t))throw Error(rG(10,t))}else o=o.split(",");return{type:i,values:o=o.map(e=>parseFloat(e)),colorSpace:t}}let n0=(e,t)=>{try{let t;return(t=nZ(e)).values.slice(0,3).map((e,r)=>t.type.includes("hsl")&&0!==r?`${e}%`:e).join(" ")}catch(t){return e}};function n1(e){let{type:t,colorSpace:r}=e,{values:n}=e;return t.includes("rgb")?n=n.map((e,t)=>t<3?parseInt(e,10):e):t.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),n=t.includes("color")?`${r} ${n.join(" ")}`:`${n.join(", ")}`,`${t}(${n})`}function n2(e){let{values:t}=e=nZ(e),r=t[0],n=t[1]/100,i=t[2]/100,o=n*Math.min(i,1-i),a=(e,t=(e+r/30)%12)=>i-o*Math.max(Math.min(t-3,9-t,1),-1),s="rgb",l=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(s+="a",l.push(t[3])),n1({type:s,values:l})}function n5(e){let t="hsl"===(e=nZ(e)).type||"hsla"===e.type?nZ(n2(e)).values:e.values;return Number((.2126*(t=t.map(t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)))[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function n3(e,t){return e=nZ(e),t=nY(t),("rgb"===e.type||"hsl"===e.type)&&(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,n1(e)}function n4(e,t,r){try{return n3(e,t)}catch(t){return e}}function n6(e,t){if(e=nZ(e),t=nY(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]*=1-t;return n1(e)}function n8(e,t,r){try{return n6(e,t)}catch(t){return e}}function n9(e,t){if(e=nZ(e),t=nY(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return n1(e)}function n7(e,t,r){try{return n9(e,t)}catch(t){return e}}function ie(e,t,r){try{return function(e,t=.15){return n5(e)>.5?n6(e,t):n9(e,t)}(e,t)}catch(t){return e}}let it={black:"#000",white:"#fff"},ir={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},ii={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},io={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},ia={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},is={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},il={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},iu={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function ic(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:it.white,default:it.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}let ih=ic();function id(){return{text:{primary:it.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:it.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}let ip=id();function ig(e,t,r,n){let i=n.light||n,o=n.dark||1.5*n;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:"light"===t?e.light=n9(e.main,i):"dark"===t&&(e.dark=n6(e.main,o)))}function im(e,t,r,n,i){let o=i.light||i,a=i.dark||1.5*i;t[r]||(t.hasOwnProperty(n)?t[r]=t[n]:"light"===r?t.light=`color-mix(in ${e}, ${t.main}, #fff ${(100*o).toFixed(0)}%)`:"dark"===r&&(t.dark=`color-mix(in ${e}, ${t.main}, #000 ${(100*a).toFixed(0)}%)`))}function iy(e){let t,{mode:r="light",contrastThreshold:n=3,tonalOffset:i=.2,colorSpace:o,...a}=e,s=e.primary||function(e="light"){return"dark"===e?{main:is[200],light:is[50],dark:is[400]}:{main:is[700],light:is[400],dark:is[800]}}(r),l=e.secondary||function(e="light"){return"dark"===e?{main:ii[200],light:ii[50],dark:ii[400]}:{main:ii[500],light:ii[300],dark:ii[700]}}(r),u=e.error||function(e="light"){return"dark"===e?{main:io[500],light:io[300],dark:io[700]}:{main:io[700],light:io[400],dark:io[800]}}(r),c=e.info||function(e="light"){return"dark"===e?{main:il[400],light:il[300],dark:il[700]}:{main:il[700],light:il[500],dark:il[900]}}(r),h=e.success||function(e="light"){return"dark"===e?{main:iu[400],light:iu[300],dark:iu[700]}:{main:iu[800],light:iu[500],dark:iu[900]}}(r),d=e.warning||function(e="light"){return"dark"===e?{main:ia[400],light:ia[300],dark:ia[700]}:{main:"#ed6c02",light:ia[500],dark:ia[900]}}(r);function f(e){var t;let r,i;return o?`oklch(from ${e} var(--__l) 0 h / var(--__a))`:(t=ip.text.primary,r=n5(e),(Math.max(r,i=n5(t))+.05)/(Math.min(r,i)+.05)>=n)?ip.text.primary:ih.text.primary}let p=({color:e,name:t,mainShade:r=500,lightShade:n=300,darkShade:a=700})=>{if(!(e={...e}).main&&e[r]&&(e.main=e[r]),!e.hasOwnProperty("main"))throw Error(rG(11,t?` (${t})`:"",r));if("string"!=typeof e.main)throw Error(rG(12,t?` (${t})`:"",JSON.stringify(e.main)));return o?(im(o,e,"light",n,i),im(o,e,"dark",a,i)):(ig(e,"light",n,i),ig(e,"dark",a,i)),e.contrastText||(e.contrastText=f(e.main)),e};return"light"===r?t=ic():"dark"===r&&(t=id()),rH({common:{...it},mode:r,primary:p({color:s,name:"primary"}),secondary:p({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:u,name:"error"}),warning:p({color:d,name:"warning"}),info:p({color:c,name:"info"}),success:p({color:h,name:"success"}),grey:ir,contrastThreshold:n,getContrastText:f,augmentColor:p,tonalOffset:i,...t},a)}let iv=(e,t,r,n=[])=>{let i=e;t.forEach((e,o)=>{o===t.length-1?Array.isArray(i)?i[Number(e)]=r:i&&"object"==typeof i&&(i[e]=r):i&&"object"==typeof i&&(i[e]||(i[e]=n.includes(e)?[]:{}),i=i[e])})};function ib(e,t){var r,n;let{prefix:i,shouldSkipGeneratingVar:o}=t||{},a={},s={},l={};return r=(e,t,r)=>{if(("string"==typeof t||"number"==typeof t)&&(!o||!o(e,t))){var n,u;let o=`--${i?`${i}-`:""}${e.join("-")}`,c=(n=e,"number"==typeof(u=t)?["lineHeight","fontWeight","opacity","zIndex"].some(e=>n.includes(e))||n[n.length-1].toLowerCase().includes("opacity")?u:`${u}px`:u);Object.assign(a,{[o]:c}),iv(s,e,`var(${o})`,r),iv(l,e,`var(${o}, ${c})`,r)}},n=e=>"vars"===e[0],function e(t,i=[],o=[]){Object.entries(t).forEach(([t,a])=>{n&&(!n||n([...i,t]))||null==a||("object"==typeof a&&Object.keys(a).length>0?e(a,[...i,t],Array.isArray(a)?[...o,t]:o):r([...i,t],a,o))})}(e),{css:a,vars:s,varsWithDefaults:l}}let iw=function(e,t={}){let{getSelector:r=function(t,r){let n=i;if("class"===i&&(n=".%s"),"data"===i&&(n="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(n=`[${i}="%s"]`),t){if("media"===n){if(e.defaultColorScheme===t)return":root";let n=a[t]?.palette?.mode||t;return{[`@media (prefers-color-scheme: ${n})`]:{":root":r}}}if(n)return e.defaultColorScheme===t?`:root, ${n.replace("%s",String(t))}`:n.replace("%s",String(t))}return":root"},disableCssColorScheme:n,colorSchemeSelector:i,enableContrastVars:o}=t,{colorSchemes:a={},components:s,defaultColorScheme:l="light",...u}=e,{vars:c,css:h,varsWithDefaults:d}=ib(u,t),f=d,p={},{[l]:g,...m}=a;if(Object.entries(m||{}).forEach(([e,r])=>{let{vars:n,css:i,varsWithDefaults:o}=ib(r,t);f=rH(f,o),p[e]={css:i,vars:n}}),g){let{css:e,vars:r,varsWithDefaults:n}=ib(g,t);f=rH(f,n),p[l]={css:e,vars:r}}return{vars:f,generateThemeVars:()=>{let e={...c};return Object.entries(p).forEach(([,{vars:t}])=>{e=rH(e,t)}),e},generateStyleSheets:()=>{let t=[],i=e.defaultColorScheme||"light";function s(e,r){Object.keys(r).length&&t.push("string"==typeof e?{[e]:{...r}}:e)}s(r(void 0,{...h}),h);let{[i]:l,...u}=p;if(l){let{css:e}=l,t=a[i]?.palette?.mode,o=!n&&t?{colorScheme:t,...e}:{...e};s(r(i,{...o}),o)}return Object.entries(u).forEach(([e,{css:t}])=>{let i=a[e]?.palette?.mode,o=!n&&i?{colorScheme:i,...t}:{...t};s(r(e,{...o}),o)}),o&&t.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),t}}},ix={textTransform:"uppercase"},iS='"Roboto", "Helvetica", "Arial", sans-serif';function iC(...e){return`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,0.2),${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,0.14),${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,0.12)`}let ik=["none",iC(0,2,1,-1,0,1,1,0,0,1,3,0),iC(0,3,1,-2,0,2,2,0,0,1,5,0),iC(0,3,3,-2,0,3,4,0,0,1,8,0),iC(0,2,4,-1,0,4,5,0,0,1,10,0),iC(0,3,5,-1,0,5,8,0,0,1,14,0),iC(0,3,5,-1,0,6,10,0,0,1,18,0),iC(0,4,5,-2,0,7,10,1,0,2,16,1),iC(0,5,5,-3,0,8,10,1,0,3,14,2),iC(0,5,6,-3,0,9,12,1,0,3,16,2),iC(0,6,6,-3,0,10,14,1,0,4,18,3),iC(0,6,7,-4,0,11,15,1,0,4,20,3),iC(0,7,8,-4,0,12,17,2,0,5,22,4),iC(0,7,8,-4,0,13,19,2,0,5,24,4),iC(0,7,9,-4,0,14,21,2,0,5,26,4),iC(0,8,9,-5,0,15,22,2,0,6,28,5),iC(0,8,10,-5,0,16,24,2,0,6,30,5),iC(0,8,11,-5,0,17,26,2,0,6,32,5),iC(0,9,11,-5,0,18,28,2,0,7,34,6),iC(0,9,12,-6,0,19,29,2,0,7,36,6),iC(0,10,13,-6,0,20,31,3,0,8,38,7),iC(0,10,13,-6,0,21,33,3,0,8,40,7),iC(0,10,14,-6,0,22,35,3,0,8,42,7),iC(0,11,14,-7,0,23,36,3,0,9,44,8),iC(0,11,15,-7,0,24,38,3,0,9,46,8)],i_={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},iA={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function iT(e){return`${Math.round(e)}ms`}function iE(e){if(!e)return 0;let t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}let iI={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function iD(e={}){let t={...e};return!function e(t){let r=Object.entries(t);for(let n=0;n<r.length;n++){let[i,o]=r[n];!(rK(o)||void 0===o||"string"==typeof o||"boolean"==typeof o||"number"==typeof o||Array.isArray(o))||i.startsWith("unstable_")?delete t[i]:rK(o)&&(t[i]={...o},e(t[i]))}}(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function iF(e){return"number"==typeof e?`${(100*e).toFixed(0)}%`:`calc((${e}) * 100%)`}let iP=function(e={},...t){var r,n;let i,o,{breakpoints:a,mixins:s={},spacing:l,palette:u={},transitions:c={},typography:h={},shape:d,colorSpace:f,...p}=e;if(e.vars&&void 0===e.generateThemeVars)throw Error(rG(20));let g=iy({...u,colorSpace:f}),m=nW(e),y=rH(m,{mixins:(r=m.breakpoints,{toolbar:{minHeight:56,[r.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[r.up("sm")]:{minHeight:64}},...s}),palette:g,shadows:ik.slice(),typography:function(e,t){let{fontFamily:r=iS,fontSize:n=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:s=700,htmlFontSize:l=16,allVariants:u,pxToRem:c,...h}="function"==typeof t?t(e):t,d=n/14,f=c||(e=>`${e/l*d}rem`),p=(e,t,n,i,o)=>({fontFamily:r,fontWeight:e,fontSize:f(t),lineHeight:n,...r===iS?{letterSpacing:`${Math.round(i/t*1e5)/1e5}em`}:{},...o,...u}),g={h1:p(i,96,1.167,-1.5),h2:p(i,60,1.2,-.5),h3:p(o,48,1.167,0),h4:p(o,34,1.235,.25),h5:p(o,24,1.334,0),h6:p(a,20,1.6,.15),subtitle1:p(o,16,1.75,.15),subtitle2:p(a,14,1.57,.1),body1:p(o,16,1.5,.15),body2:p(o,14,1.43,.15),button:p(a,14,1.75,.4,ix),caption:p(o,12,1.66,.4),overline:p(o,12,2.66,1,ix),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return rH({htmlFontSize:l,pxToRem:f,fontFamily:r,fontSize:n,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:s,...g},h,{clone:!1})}(g,h),transitions:(i={...i_,...c.easing},o={...iA,...c.duration},{getAutoHeightDuration:iE,create:(e=["all"],t={})=>{let{duration:r=o.standard,easing:n=i.easeInOut,delay:a=0,...s}=t;return(Array.isArray(e)?e:[e]).map(e=>`${e} ${"string"==typeof r?r:iT(r)} ${n} ${"string"==typeof a?a:iT(a)}`).join(",")},...c,easing:i,duration:o}),zIndex:{...iI}});return y=rH(y,p),(y=t.reduce((e,t)=>rH(e,t),y)).unstable_sxConfig={...nV,...p?.unstable_sxConfig},y.unstable_sx=function(e){return nU({sx:e,theme:this})},y.toRuntimeSource=iD,Object.assign(n=y,{alpha(e,t){let r=this||n;return r.colorSpace?`oklch(from ${e} l c h / ${"string"==typeof t?`calc(${t})`:t})`:r.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${"string"==typeof t?`calc(${t})`:t})`:n3(e,(e=>{if(!Number.isNaN(+e))return+e;let t=e.match(/\d*\.?\d+/g);if(!t)return 0;let r=0;for(let e=0;e<t.length;e+=1)r+=+t[e];return r})(t))},lighten(e,t){let r=this||n;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #fff ${iF(t)})`:n9(e,t)},darken(e,t){let r=this||n;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #000 ${iF(t)})`:n6(e,t)}}),y};function iN(e){return Math.round(10*(e<1?5.11916*e**2:4.5*Math.log(e+1)+2))/1e3}let iR=[...Array(25)].map((e,t)=>{if(0===t)return"none";let r=iN(t);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function iO(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function iB(e){return"dark"===e?iR:[]}function iM(e){return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!!e[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}function iL(e,t,r){!e[t]&&r&&(e[t]=r)}function ij(e){return"string"==typeof e&&e.startsWith("hsl")?n2(e):e}function iz(e,t){`${t}Channel`in e||(e[`${t}Channel`]=n0(ij(e[t]),`MUI: Can't create \`palette.${t}Channel\` because \`palette.${t}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${t}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}let iV=e=>{try{return e()}catch(e){}};function iU(e,t,r,n,i){if(!r)return;r=!0===r?{}:r;let o="dark"===i?"dark":"light";if(!n){t[i]=function(e){let{palette:t={mode:"light"},opacity:r,overlays:n,colorSpace:i,...o}=e,a=iy({...t,colorSpace:i});return{palette:a,opacity:{...iO(a.mode),...r},overlays:n||iB(a.mode),...o}}({...r,palette:{mode:o,...r?.palette},colorSpace:e});return}let{palette:a,...s}=iP({...n,palette:{mode:o,...r?.palette},colorSpace:e});return t[i]={...r,palette:a,opacity:{...iO(o),...r?.opacity},overlays:r?.overlays||iB(o)},s}function i$(e,t,r){e.colorSchemes&&r&&(e.colorSchemes[t]={...!0!==r&&r,palette:iy({...!0===r?{}:r.palette,mode:t})})}function iW(e={},...t){let{palette:r,cssVariables:n=!1,colorSchemes:i=!r?{light:!0}:void 0,defaultColorScheme:o=r?.mode,...a}=e,s=o||"light",l=i?.[s],u={...i,...r?{[s]:{..."boolean"!=typeof l&&l,palette:r}}:void 0};if(!1===n){if(!("colorSchemes"in e))return iP(e,...t);let n=r;"palette"in e||!u[s]||(!0!==u[s]?n=u[s].palette:"dark"===s&&(n={mode:"dark"}));let i=iP({...e,palette:n},...t);return i.defaultColorScheme=s,i.colorSchemes=u,"light"===i.palette.mode&&(i.colorSchemes.light={...!0!==u.light&&u.light,palette:i.palette},i$(i,"dark",u.dark)),"dark"===i.palette.mode&&(i.colorSchemes.dark={...!0!==u.dark&&u.dark,palette:i.palette},i$(i,"light",u.light)),i}return r||"light"in u||"light"!==s||(u.light=!0),function(e={},...t){var r,n;let i,o,a,{colorSchemes:s={light:!0},defaultColorScheme:l,disableCssColorScheme:u=!1,cssVarPrefix:c="mui",nativeColor:h=!1,shouldSkipGeneratingVar:d=iM,colorSchemeSelector:f=s.light&&s.dark?"media":void 0,rootSelector:p=":root",...g}=e,m=Object.keys(s)[0],y=l||(s.light&&"light"!==m?"light":m),v=((e="mui")=>(function(e=""){return(t,...r)=>`var(--${e?`${e}-`:""}${t}${function t(...r){if(!r.length)return"";let n=r[0];return"string"!=typeof n||n.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, ${n}`:`, var(--${e?`${e}-`:""}${n}${t(...r.slice(1))})`}(...r)})`})(e))(c),{[y]:b,light:w,dark:x,...S}=s,C={...S},k=b;if(("dark"!==y||"dark"in s)&&("light"!==y||"light"in s)||(k=!0),!k)throw Error(rG(21,y));h&&(i="oklch");let _=iU(i,C,k,g,y);w&&!C.light&&iU(i,C,w,void 0,"light"),x&&!C.dark&&iU(i,C,x,void 0,"dark");let A={defaultColorScheme:y,..._,cssVarPrefix:c,colorSchemeSelector:f,rootSelector:p,getCssVar:v,colorSchemes:C,font:{...(r=_.typography,o={},Object.entries(r).forEach(e=>{let[t,r]=e;"object"==typeof r&&(o[t]=`${r.fontStyle?`${r.fontStyle} `:""}${r.fontVariant?`${r.fontVariant} `:""}${r.fontWeight?`${r.fontWeight} `:""}${r.fontStretch?`${r.fontStretch} `:""}${r.fontSize||""}${r.lineHeight?`/${r.lineHeight} `:""}${r.fontFamily||""}`)}),o),..._.font},spacing:"number"==typeof(n=g.spacing)?`${n}px`:"string"==typeof n||"function"==typeof n||Array.isArray(n)?n:"8px"};Object.keys(A.colorSchemes).forEach(e=>{let t=A.colorSchemes[e].palette,r=e=>{let r=e.split("-"),n=r[1],i=r[2];return v(e,t[n][i])};function n(e,t,r){if(i){let n;return e===n4&&(n=`transparent ${((1-r)*100).toFixed(0)}%`),e===n8&&(n=`#000 ${(100*r).toFixed(0)}%`),e===n7&&(n=`#fff ${(100*r).toFixed(0)}%`),`color-mix(in ${i}, ${t}, ${n})`}return e(t,r)}if("light"===t.mode&&(iL(t.common,"background","#fff"),iL(t.common,"onBackground","#000")),"dark"===t.mode&&(iL(t.common,"background","#000"),iL(t.common,"onBackground","#fff")),["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"].forEach(e=>{t[e]||(t[e]={})}),"light"===t.mode){iL(t.Alert,"errorColor",n(n8,t.error.light,.6)),iL(t.Alert,"infoColor",n(n8,t.info.light,.6)),iL(t.Alert,"successColor",n(n8,t.success.light,.6)),iL(t.Alert,"warningColor",n(n8,t.warning.light,.6)),iL(t.Alert,"errorFilledBg",r("palette-error-main")),iL(t.Alert,"infoFilledBg",r("palette-info-main")),iL(t.Alert,"successFilledBg",r("palette-success-main")),iL(t.Alert,"warningFilledBg",r("palette-warning-main")),iL(t.Alert,"errorFilledColor",iV(()=>t.getContrastText(t.error.main))),iL(t.Alert,"infoFilledColor",iV(()=>t.getContrastText(t.info.main))),iL(t.Alert,"successFilledColor",iV(()=>t.getContrastText(t.success.main))),iL(t.Alert,"warningFilledColor",iV(()=>t.getContrastText(t.warning.main))),iL(t.Alert,"errorStandardBg",n(n7,t.error.light,.9)),iL(t.Alert,"infoStandardBg",n(n7,t.info.light,.9)),iL(t.Alert,"successStandardBg",n(n7,t.success.light,.9)),iL(t.Alert,"warningStandardBg",n(n7,t.warning.light,.9)),iL(t.Alert,"errorIconColor",r("palette-error-main")),iL(t.Alert,"infoIconColor",r("palette-info-main")),iL(t.Alert,"successIconColor",r("palette-success-main")),iL(t.Alert,"warningIconColor",r("palette-warning-main")),iL(t.AppBar,"defaultBg",r("palette-grey-100")),iL(t.Avatar,"defaultBg",r("palette-grey-400")),iL(t.Button,"inheritContainedBg",r("palette-grey-300")),iL(t.Button,"inheritContainedHoverBg",r("palette-grey-A100")),iL(t.Chip,"defaultBorder",r("palette-grey-400")),iL(t.Chip,"defaultAvatarColor",r("palette-grey-700")),iL(t.Chip,"defaultIconColor",r("palette-grey-700")),iL(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),iL(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),iL(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),iL(t.LinearProgress,"primaryBg",n(n7,t.primary.main,.62)),iL(t.LinearProgress,"secondaryBg",n(n7,t.secondary.main,.62)),iL(t.LinearProgress,"errorBg",n(n7,t.error.main,.62)),iL(t.LinearProgress,"infoBg",n(n7,t.info.main,.62)),iL(t.LinearProgress,"successBg",n(n7,t.success.main,.62)),iL(t.LinearProgress,"warningBg",n(n7,t.warning.main,.62)),iL(t.Skeleton,"bg",i?n(n4,t.text.primary,.11):`rgba(${r("palette-text-primaryChannel")} / 0.11)`),iL(t.Slider,"primaryTrack",n(n7,t.primary.main,.62)),iL(t.Slider,"secondaryTrack",n(n7,t.secondary.main,.62)),iL(t.Slider,"errorTrack",n(n7,t.error.main,.62)),iL(t.Slider,"infoTrack",n(n7,t.info.main,.62)),iL(t.Slider,"successTrack",n(n7,t.success.main,.62)),iL(t.Slider,"warningTrack",n(n7,t.warning.main,.62));let e=i?n(n8,t.background.default,.6825):ie(t.background.default,.8);iL(t.SnackbarContent,"bg",e),iL(t.SnackbarContent,"color",iV(()=>i?ip.text.primary:t.getContrastText(e))),iL(t.SpeedDialAction,"fabHoverBg",ie(t.background.paper,.15)),iL(t.StepConnector,"border",r("palette-grey-400")),iL(t.StepContent,"border",r("palette-grey-400")),iL(t.Switch,"defaultColor",r("palette-common-white")),iL(t.Switch,"defaultDisabledColor",r("palette-grey-100")),iL(t.Switch,"primaryDisabledColor",n(n7,t.primary.main,.62)),iL(t.Switch,"secondaryDisabledColor",n(n7,t.secondary.main,.62)),iL(t.Switch,"errorDisabledColor",n(n7,t.error.main,.62)),iL(t.Switch,"infoDisabledColor",n(n7,t.info.main,.62)),iL(t.Switch,"successDisabledColor",n(n7,t.success.main,.62)),iL(t.Switch,"warningDisabledColor",n(n7,t.warning.main,.62)),iL(t.TableCell,"border",n(n7,n(n4,t.divider,1),.88)),iL(t.Tooltip,"bg",n(n4,t.grey[700],.92))}if("dark"===t.mode){iL(t.Alert,"errorColor",n(n7,t.error.light,.6)),iL(t.Alert,"infoColor",n(n7,t.info.light,.6)),iL(t.Alert,"successColor",n(n7,t.success.light,.6)),iL(t.Alert,"warningColor",n(n7,t.warning.light,.6)),iL(t.Alert,"errorFilledBg",r("palette-error-dark")),iL(t.Alert,"infoFilledBg",r("palette-info-dark")),iL(t.Alert,"successFilledBg",r("palette-success-dark")),iL(t.Alert,"warningFilledBg",r("palette-warning-dark")),iL(t.Alert,"errorFilledColor",iV(()=>t.getContrastText(t.error.dark))),iL(t.Alert,"infoFilledColor",iV(()=>t.getContrastText(t.info.dark))),iL(t.Alert,"successFilledColor",iV(()=>t.getContrastText(t.success.dark))),iL(t.Alert,"warningFilledColor",iV(()=>t.getContrastText(t.warning.dark))),iL(t.Alert,"errorStandardBg",n(n8,t.error.light,.9)),iL(t.Alert,"infoStandardBg",n(n8,t.info.light,.9)),iL(t.Alert,"successStandardBg",n(n8,t.success.light,.9)),iL(t.Alert,"warningStandardBg",n(n8,t.warning.light,.9)),iL(t.Alert,"errorIconColor",r("palette-error-main")),iL(t.Alert,"infoIconColor",r("palette-info-main")),iL(t.Alert,"successIconColor",r("palette-success-main")),iL(t.Alert,"warningIconColor",r("palette-warning-main")),iL(t.AppBar,"defaultBg",r("palette-grey-900")),iL(t.AppBar,"darkBg",r("palette-background-paper")),iL(t.AppBar,"darkColor",r("palette-text-primary")),iL(t.Avatar,"defaultBg",r("palette-grey-600")),iL(t.Button,"inheritContainedBg",r("palette-grey-800")),iL(t.Button,"inheritContainedHoverBg",r("palette-grey-700")),iL(t.Chip,"defaultBorder",r("palette-grey-700")),iL(t.Chip,"defaultAvatarColor",r("palette-grey-300")),iL(t.Chip,"defaultIconColor",r("palette-grey-300")),iL(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),iL(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),iL(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),iL(t.LinearProgress,"primaryBg",n(n8,t.primary.main,.5)),iL(t.LinearProgress,"secondaryBg",n(n8,t.secondary.main,.5)),iL(t.LinearProgress,"errorBg",n(n8,t.error.main,.5)),iL(t.LinearProgress,"infoBg",n(n8,t.info.main,.5)),iL(t.LinearProgress,"successBg",n(n8,t.success.main,.5)),iL(t.LinearProgress,"warningBg",n(n8,t.warning.main,.5)),iL(t.Skeleton,"bg",i?n(n4,t.text.primary,.13):`rgba(${r("palette-text-primaryChannel")} / 0.13)`),iL(t.Slider,"primaryTrack",n(n8,t.primary.main,.5)),iL(t.Slider,"secondaryTrack",n(n8,t.secondary.main,.5)),iL(t.Slider,"errorTrack",n(n8,t.error.main,.5)),iL(t.Slider,"infoTrack",n(n8,t.info.main,.5)),iL(t.Slider,"successTrack",n(n8,t.success.main,.5)),iL(t.Slider,"warningTrack",n(n8,t.warning.main,.5));let e=i?n(n7,t.background.default,.985):ie(t.background.default,.98);iL(t.SnackbarContent,"bg",e),iL(t.SnackbarContent,"color",iV(()=>i?ih.text.primary:t.getContrastText(e))),iL(t.SpeedDialAction,"fabHoverBg",ie(t.background.paper,.15)),iL(t.StepConnector,"border",r("palette-grey-600")),iL(t.StepContent,"border",r("palette-grey-600")),iL(t.Switch,"defaultColor",r("palette-grey-300")),iL(t.Switch,"defaultDisabledColor",r("palette-grey-600")),iL(t.Switch,"primaryDisabledColor",n(n8,t.primary.main,.55)),iL(t.Switch,"secondaryDisabledColor",n(n8,t.secondary.main,.55)),iL(t.Switch,"errorDisabledColor",n(n8,t.error.main,.55)),iL(t.Switch,"infoDisabledColor",n(n8,t.info.main,.55)),iL(t.Switch,"successDisabledColor",n(n8,t.success.main,.55)),iL(t.Switch,"warningDisabledColor",n(n8,t.warning.main,.55)),iL(t.TableCell,"border",n(n8,n(n4,t.divider,1),.68)),iL(t.Tooltip,"bg",n(n4,t.grey[700],.92))}iz(t.background,"default"),iz(t.background,"paper"),iz(t.common,"background"),iz(t.common,"onBackground"),iz(t,"divider"),Object.keys(t).forEach(e=>{let r=t[e];"tonalOffset"!==e&&r&&"object"==typeof r&&(r.main&&iL(t[e],"mainChannel",n0(ij(r.main))),r.light&&iL(t[e],"lightChannel",n0(ij(r.light))),r.dark&&iL(t[e],"darkChannel",n0(ij(r.dark))),r.contrastText&&iL(t[e],"contrastTextChannel",n0(ij(r.contrastText))),"text"===e&&(iz(t[e],"primary"),iz(t[e],"secondary")),"action"===e&&(r.active&&iz(t[e],"active"),r.selected&&iz(t[e],"selected")))})});let T={prefix:c,disableCssColorScheme:u,shouldSkipGeneratingVar:d,getSelector:(a=A=t.reduce((e,t)=>rH(e,t),A),(e,t)=>{let r=a.rootSelector||":root",n=a.colorSchemeSelector,i=n;if("class"===n&&(i=".%s"),"data"===n&&(i="[data-%s]"),n?.startsWith("data-")&&!n.includes("%s")&&(i=`[${n}="%s"]`),a.defaultColorScheme===e){if("dark"===e){let n,o={};return((n=a.cssVarPrefix,[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`]).forEach(e=>{o[e]=t[e],delete t[e]}),"media"===i)?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:o}}:i?{[i.replace("%s",e)]:o,[`${r}, ${i.replace("%s",e)}`]:t}:{[r]:{...t,...o}}}if(i&&"media"!==i)return`${r}, ${i.replace("%s",String(e))}`}else if(e){if("media"===i)return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(i)return i.replace("%s",String(e))}return r}),enableContrastVars:h},{vars:E,generateThemeVars:I,generateStyleSheets:D}=iw(A,T);return A.vars=E,Object.entries(A.colorSchemes[A.defaultColorScheme]).forEach(([e,t])=>{A[e]=t}),A.generateThemeVars=I,A.generateStyleSheets=D,A.generateSpacing=function(){return nf(g.spacing,ns(this))},A.getColorSchemeSelector=function(e){return"media"===f?`@media (prefers-color-scheme: ${e})`:f?f.startsWith("data-")&&!f.includes("%s")?`[${f}="${e}"] &`:"class"===f?`.${e} &`:"data"===f?`[data-${e}] &`:`${f.replace("%s",e)} &`:"&"},A.spacing=A.generateSpacing(),A.shouldSkipGeneratingVar=d,A.unstable_sxConfig={...nV,...g?.unstable_sxConfig},A.unstable_sx=function(e){return nU({sx:e,theme:this})},A.toRuntimeSource=iD,A}({...a,colorSchemes:u,defaultColorScheme:s,..."boolean"!=typeof n&&n},...t)}let iq=iW(),iK="$$material",iH=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},iG=e=>iH(e)&&"classes"!==e,iQ=nJ({themeId:iK,defaultTheme:iq,rootShouldForwardProp:iG});function iX(e,t,r=!1){let n={...t};for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i))if("components"===i||"slots"===i)n[i]={...e[i],...n[i]};else if("componentsProps"===i||"slotProps"===i){let o=e[i],a=t[i];if(a)if(o)for(let e in n[i]={...a},o)Object.prototype.hasOwnProperty.call(o,e)&&(n[i][e]=iX(o[e],a[e],r));else n[i]=a;else n[i]=o||{}}else"className"===i&&r&&t.className?n.className=(0,tE.default)(e?.className,t?.className):"style"===i&&r&&t.style?n.style={...e?.style,...t?.style}:void 0===n[i]&&(n[i]=e[i]);return n}let iJ=ez.createContext(void 0);function iY(e){return function({props:e,name:t}){return function(e){let{theme:t,name:r,props:n}=e;if(!t||!t.components||!t.components[r])return n;let i=t.components[r];return i.defaultProps?iX(i.defaultProps,n,t.components.mergeClassNameAndStyle):i.styleOverrides||i.variants?n:iX(i,n,t.components.mergeClassNameAndStyle)}({props:e,name:t,theme:{components:ez.useContext(iJ)}})}(e)}let iZ=function(e){return"string"==typeof e};function i0(e,t=166){let r;function n(...i){let o=()=>{e.apply(this,i)};clearTimeout(r),r=setTimeout(o,t)}return n.clear=()=>{clearTimeout(r)},n}function i1(...e){let t=ez.useRef(void 0),r=ez.useCallback(t=>{let r=e.map(e=>{if(null==e)return null;if("function"==typeof e){let r=e(t);return"function"==typeof r?r:()=>{e(null)}}return e.current=t,()=>{e.current=null}});return()=>{r.forEach(e=>e?.())}},e);return ez.useMemo(()=>e.every(e=>null==e)?null:e=>{t.current&&(t.current(),t.current=void 0),null!=e&&(t.current=r(e))},e)}let i2="u">typeof window?ez.useLayoutEffect:ez.useEffect,i5=function(e){let t=ez.useRef(e);return i2(()=>{t.current=e}),ez.useRef((...e)=>(0,t.current)(...e)).current};function i3(e){return e&&e.ownerDocument||document}function i4(e){return i3(e).defaultView||window}function i6(e){return parseInt(e,10)||0}let i8={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function i9(e){return function(e){for(let t in e)return!1;return!0}(e)||0===e.outerHeightStyle&&!e.overflowing}let i7=ez.forwardRef(function(e,t){let{onChange:r,maxRows:n,minRows:i=1,style:o,value:a,...s}=e,{current:l}=ez.useRef(null!=a),u=ez.useRef(null),c=i1(t,u),h=ez.useRef(null),d=ez.useRef(null),f=ez.useCallback(()=>{let t=u.current,r=d.current;if(!t||!r)return;let o=i4(t).getComputedStyle(t);if("0px"===o.width)return{outerHeightStyle:0,overflowing:!1};r.style.width=o.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");let a=o.boxSizing,s=i6(o.paddingBottom)+i6(o.paddingTop),l=i6(o.borderBottomWidth)+i6(o.borderTopWidth),c=r.scrollHeight;r.value="x";let h=r.scrollHeight,f=c;return i&&(f=Math.max(Number(i)*h,f)),n&&(f=Math.min(Number(n)*h,f)),{outerHeightStyle:(f=Math.max(f,h))+("border-box"===a?s+l:0),overflowing:1>=Math.abs(f-c)}},[n,i,e.placeholder]),p=i5(()=>{let e=u.current,t=f();if(!e||!t||i9(t))return!1;let r=t.outerHeightStyle;return null!=h.current&&h.current!==r}),g=ez.useCallback(()=>{let e=u.current,t=f();if(!e||!t||i9(t))return;let r=t.outerHeightStyle;h.current!==r&&(h.current=r,e.style.height=`${r}px`),e.style.overflow=t.overflowing?"hidden":""},[f]),m=ez.useRef(-1);return i2(()=>{let e,t=i0(g),r=u?.current;if(!r)return;let n=i4(r);return n.addEventListener("resize",t),"u">typeof ResizeObserver&&(e=new ResizeObserver(()=>{p()&&(e.unobserve(r),cancelAnimationFrame(m.current),g(),m.current=requestAnimationFrame(()=>{e.observe(r)}))})).observe(r),()=>{t.clear(),cancelAnimationFrame(m.current),n.removeEventListener("resize",t),e&&e.disconnect()}},[f,g,p]),i2(()=>{g()}),(0,ej.jsxs)(ez.Fragment,{children:[(0,ej.jsx)("textarea",{value:a,onChange:e=>{l||g();let t=e.target,n=t.value.length,i=t.value.endsWith("\n"),o=t.selectionStart===n;i&&o&&t.setSelectionRange(n,n),r&&r(e)},ref:c,rows:i,style:o,...s}),(0,ej.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:d,tabIndex:-1,style:{...i8,...o,paddingTop:0,paddingBottom:0}})]})});function oe({props:e,states:t,muiFormControl:r}){return t.reduce((t,n)=>(t[n]=e[n],r&&void 0===e[n]&&(t[n]=r[n]),t),{})}let ot=ez.createContext(void 0);function or(){return ez.useContext(ot)}function on(e){let t,r,n,{sx:i,...o}=e,{systemProps:a,otherProps:s}=(r={systemProps:{},otherProps:{}},n=o?.theme?.unstable_sxConfig??nV,Object.keys(o).forEach(e=>{n[e]?r.systemProps[e]=o[e]:r.otherProps[e]=o[e]}),r);return t=Array.isArray(i)?[a,...i]:"function"==typeof i?(...e)=>{let t=i(...e);return rK(t)?{...a,...t}:a}:{...a,...i},{...s,sx:t}}let oi=function(e=null){let t=ez.useContext(rD);return t&&0!==Object.keys(t).length?t:e},oo=nW(),oa=function(e=oo){return oi(e)};function os(){let e=oa(iq);return e[iK]||e}var ol=function(e,t){var r=arguments;if(null==t||!rF.call(t,"css"))return ez.createElement.apply(void 0,r);var n=r.length,i=Array(n);i[0]=rO,i[1]=rN(e,t);for(var o=2;o<n;o++)i[o]=r[o];return ez.createElement.apply(null,i)};h=ol||(ol={}),d||(d=h.JSX||(h.JSX={}));var ou=rI(function(e,t){var r=rk([e.styles],void 0,ez.useContext(rD)),n=ez.useRef();return rT(function(){var e=t.key+"-global",i=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),o=!1,a=document.querySelector('style[data-emotion="'+e+" "+r.name+'"]');return t.sheet.tags.length&&(i.before=t.sheet.tags[0]),null!==a&&(o=!0,a.setAttribute("data-emotion",e),i.hydrate([a])),n.current=[i,o],function(){i.flush()}},[t]),rT(function(){var e=n.current,i=e[0];if(e[1]){e[1]=!1;return}if(void 0!==r.next&&rp(t,r.next,!0),i.tags.length){var o=i.tags[i.tags.length-1].nextElementSibling;i.before=o,i.flush()}t.insert("",r,i,!1)},[t,r.name]),null});function oc(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return rk(t)}function oh(){var e=oc.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function od(e){let{styles:t,defaultTheme:r={}}=e,n="function"==typeof t?e=>t(null==e||0===Object.keys(e).length?r:e):t;return(0,ej.jsx)(ou,{styles:n})}function of(e){let t=rW(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles=`@layer global{${t.styles}}`),t):e}let op=function({styles:e,themeId:t,defaultTheme:r={}}){let n=oa(r),i=t&&n[t]||n,o="function"==typeof e?e(i):e;return i.modularCssLayers&&(o=Array.isArray(o)?o.map(e=>"function"==typeof e?of(e(i)):of(e)):of(o)),(0,ej.jsx)(od,{styles:o})},og=function(e){return(0,ej.jsx)(op,{...e,defaultTheme:iq,themeId:iK})},om={theme:void 0},oy=function(e){let t,r;return function(n){let i=t;return(void 0===i||n.theme!==r)&&(om.theme=n.theme,t=i=nq(e(om)),r=n.theme),i}};function ov(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function ob(e,t=!1){return e&&(ov(e.value)&&""!==e.value||t&&ov(e.defaultValue)&&""!==e.defaultValue)}let ow=e=>e,ox=(i=ow,{configure(e){i=e},generate:e=>i(e),reset(){i=ow}}),oS={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function oC(e,t,r="Mui"){let n=oS[t];return n?`${r}-${n}`:`${ox.generate(e)}-${t}`}function ok(e,t,r="Mui"){let n={};return t.forEach(t=>{n[t]=oC(e,t,r)}),n}function o_(e){return oC("MuiInputBase",e)}let oA=ok("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),oT=(e,t)=>{let{ownerState:r}=e;return[t.root,r.formControl&&t.formControl,r.startAdornment&&t.adornedStart,r.endAdornment&&t.adornedEnd,r.error&&t.error,"small"===r.size&&t.sizeSmall,r.multiline&&t.multiline,r.color&&t[`color${rQ(r.color)}`],r.fullWidth&&t.fullWidth,r.hiddenLabel&&t.hiddenLabel]},oE=(e,t)=>{let{ownerState:r}=e;return[t.input,"small"===r.size&&t.inputSizeSmall,r.multiline&&t.inputMultiline,"search"===r.type&&t.inputTypeSearch,r.startAdornment&&t.inputAdornedStart,r.endAdornment&&t.inputAdornedEnd,r.hiddenLabel&&t.inputHiddenLabel]},oI=iQ("div",{name:"MuiInputBase",slot:"Root",overridesResolver:oT})(oy(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${oA.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:t})=>e.multiline&&"small"===t,style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),oD=iQ("input",{name:"MuiInputBase",slot:"Input",overridesResolver:oE})(oy(({theme:e})=>{let t="light"===e.palette.mode,r={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},n={opacity:"0 !important"},i=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${oA.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${oA.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:e})=>!e.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:e})=>e.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),oF=(f={"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}},function(e){return(0,ej.jsx)(og,{styles:"function"==typeof f?t=>f({theme:t,...e}):f})}),oP=ez.forwardRef(function(e,t){let r=iY({props:e,name:"MuiInputBase"}),{"aria-describedby":n,autoComplete:i,autoFocus:o,className:a,color:s,components:l={},componentsProps:u={},defaultValue:c,disabled:h,disableInjectingGlobalStyles:d,endAdornment:f,error:p,fullWidth:g=!1,id:m,inputComponent:y="input",inputProps:v={},inputRef:b,margin:w,maxRows:x,minRows:S,multiline:C=!1,name:k,onBlur:_,onChange:A,onClick:T,onFocus:E,onKeyDown:I,onKeyUp:D,placeholder:F,readOnly:P,renderSuffix:N,rows:R,size:O,slotProps:B={},slots:M={},startAdornment:L,type:j="text",value:z,...V}=r,U=null!=v.value?v.value:z,{current:$}=ez.useRef(null!=U),W=ez.useRef(),q=ez.useCallback(e=>{},[]),K=i1(W,b,v.ref,q),[G,Q]=ez.useState(!1),X=or(),J=oe({props:r,muiFormControl:X,states:["color","disabled","error","hiddenLabel","size","required","filled"]});J.focused=X?X.focused:G,ez.useEffect(()=>{!X&&h&&G&&(Q(!1),_&&_())},[X,h,G,_]);let Y=X&&X.onFilled,Z=X&&X.onEmpty,ee=ez.useCallback(e=>{ob(e)?Y&&Y():Z&&Z()},[Y,Z]);i2(()=>{$&&ee({value:U})},[U,ee,$]),ez.useEffect(()=>{ee(W.current)},[]);let et=y,er=v;C&&"input"===et&&(er=R?{type:void 0,minRows:R,maxRows:R,...er}:{type:void 0,maxRows:x,minRows:S,...er},et=i7),ez.useEffect(()=>{X&&X.setAdornedStart(!!L)},[X,L]);let en={...r,color:J.color||"primary",disabled:J.disabled,endAdornment:f,error:J.error,focused:J.focused,formControl:X,fullWidth:g,hiddenLabel:J.hiddenLabel,multiline:C,size:J.size,startAdornment:L,type:j},ei=(e=>{let{classes:t,color:r,disabled:n,error:i,endAdornment:o,focused:a,formControl:s,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:h,size:d,startAdornment:f,type:p}=e;return tI({root:["root",`color${rQ(r)}`,n&&"disabled",i&&"error",l&&"fullWidth",a&&"focused",s&&"formControl",d&&"medium"!==d&&`size${rQ(d)}`,c&&"multiline",f&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel",h&&"readOnly"],input:["input",n&&"disabled","search"===p&&"inputTypeSearch",c&&"inputMultiline","small"===d&&"inputSizeSmall",u&&"inputHiddenLabel",f&&"inputAdornedStart",o&&"inputAdornedEnd",h&&"readOnly"]},o_,t)})(en),eo=M.root||l.Root||oI,ea=B.root||u.root||{},es=M.input||l.Input||oD;return er={...er,...B.input??u.input},(0,ej.jsxs)(ez.Fragment,{children:[!d&&"function"==typeof oF&&(H||(H=(0,ej.jsx)(oF,{}))),(0,ej.jsxs)(eo,{...ea,ref:t,onClick:e=>{W.current&&e.currentTarget===e.target&&W.current.focus(),T&&T(e)},...V,...!iZ(eo)&&{ownerState:{...en,...ea.ownerState}},className:(0,tE.default)(ei.root,ea.className,a,P&&"MuiInputBase-readOnly"),children:[L,(0,ej.jsx)(ot.Provider,{value:null,children:(0,ej.jsx)(es,{"aria-invalid":J.error,"aria-describedby":n,autoComplete:i,autoFocus:o,defaultValue:c,disabled:J.disabled,id:m,onAnimationStart:e=>{ee("mui-auto-fill-cancel"===e.animationName?W.current:{value:"x"})},name:k,placeholder:F,readOnly:P,required:J.required,rows:R,value:U,onKeyDown:I,onKeyUp:D,type:j,...er,...!iZ(es)&&{as:et,ownerState:{...en,...er.ownerState}},ref:K,className:(0,tE.default)(ei.input,er.className,P&&"MuiInputBase-readOnly"),onBlur:e=>{_&&_(e),v.onBlur&&v.onBlur(e),X&&X.onBlur?X.onBlur(e):Q(!1)},onChange:(e,...t)=>{if(!$){let t=e.target||W.current;if(null==t)throw Error(rG(1));ee({value:t.value})}v.onChange&&v.onChange(e,...t),A&&A(e,...t)},onFocus:e=>{E&&E(e),v.onFocus&&v.onFocus(e),X&&X.onFocus?X.onFocus(e):Q(!0)}})}),f,N?N({...J,startAdornment:L}):null]})]})});function oN(e=[]){return([,t])=>t&&function(e,t=[]){if("string"!=typeof e.main)return!1;for(let r of t)if(!e.hasOwnProperty(r)||"string"!=typeof e[r])return!1;return!0}(t,e)}function oR(e){return oC("MuiInput",e)}let oO={...oA,...ok("MuiInput",["root","underline","input"])},oB=iQ(oI,{shouldForwardProp:e=>iG(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[...oT(e,t),!r.disableUnderline&&t.underline]}})(oy(({theme:e})=>{let t="light"===e.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(t=e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:e})=>e.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:e})=>!e.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${oO.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${oO.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${oO.disabled}, .${oO.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${oO.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(oN()).map(([t])=>({props:{color:t,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t].main}`}}}))]}})),oM=iQ(oD,{name:"MuiInput",slot:"Input",overridesResolver:oE})({}),oL=ez.forwardRef(function(e,t){let r=iY({props:e,name:"MuiInput"}),{disableUnderline:n=!1,components:i={},componentsProps:o,fullWidth:a=!1,inputComponent:s="input",multiline:l=!1,slotProps:u,slots:c={},type:h="text",...d}=r,f=(e=>{let{classes:t,disableUnderline:r}=e,n=tI({root:["root",!r&&"underline"],input:["input"]},oR,t);return{...t,...n}})(r),p={root:{ownerState:{disableUnderline:n}}},g=u??o?rH(u??o,p):p,m=c.root??i.Root??oB,y=c.input??i.Input??oM;return(0,ej.jsx)(oP,{slots:{root:m,input:y},slotProps:g,fullWidth:a,inputComponent:s,multiline:l,ref:t,type:h,...d,classes:f})});function oj(e){return oC("MuiFilledInput",e)}oL.muiName="Input";let oz={...oA,...ok("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},oV=iQ(oI,{shouldForwardProp:e=>iG(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[...oT(e,t),!r.disableUnderline&&t.underline]}})(oy(({theme:e})=>{let t="light"===e.palette.mode,r=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r}},[`&.${oz.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r},[`&.${oz.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"},variants:[{props:({ownerState:e})=>!e.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${oz.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${oz.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline):t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)"}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${oz.disabled}, .${oz.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${oz.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(oN()).map(([t])=>({props:{disableUnderline:!1,color:t},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t]?.main}`}}})),{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:12}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:12}},{props:({ownerState:e})=>e.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:e,size:t})=>e.multiline&&"small"===t,style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.multiline&&e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.multiline&&e.hiddenLabel&&"small"===e.size,style:{paddingTop:8,paddingBottom:9}}]}})),oU=iQ(oD,{name:"MuiFilledInput",slot:"Input",overridesResolver:oE})(oy(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&"small"===e.size,style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),o$=ez.forwardRef(function(e,t){let r=iY({props:e,name:"MuiFilledInput"}),{disableUnderline:n=!1,components:i={},componentsProps:o,fullWidth:a=!1,hiddenLabel:s,inputComponent:l="input",multiline:u=!1,slotProps:c,slots:h={},type:d="text",...f}=r,p={...r,disableUnderline:n,fullWidth:a,inputComponent:l,multiline:u,type:d},g=(e=>{let{classes:t,disableUnderline:r,startAdornment:n,endAdornment:i,size:o,hiddenLabel:a,multiline:s}=e,l=tI({root:["root",!r&&"underline",n&&"adornedStart",i&&"adornedEnd","small"===o&&`size${rQ(o)}`,a&&"hiddenLabel",s&&"multiline"],input:["input"]},oj,t);return{...t,...l}})(r),m={root:{ownerState:p},input:{ownerState:p}},y=c??o?rH(m,c??o):m,v=h.root??i.Root??oV,b=h.input??i.Input??oU;return(0,ej.jsx)(oP,{slots:{root:v,input:b},slotProps:y,fullWidth:a,inputComponent:l,multiline:u,ref:t,type:d,...f,classes:g})});o$.muiName="Input";let oW=iQ("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:iG})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),oq=iQ("legend",{name:"MuiNotchedOutlined",shouldForwardProp:iG})(oy(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function oK(e){return oC("MuiOutlinedInput",e)}let oH={...oA,...ok("MuiOutlinedInput",["root","notchedOutline","input"])},oG=function(e,t,r){return void 0===e||iZ(e)?t:{...t,ownerState:{...t.ownerState,...r}}},oQ=function(e,t,r){return"function"==typeof e?e(t,r):e},oX=function(e,t=[]){if(void 0===e)return{};let r={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&"function"==typeof e[r]&&!t.includes(r)).forEach(t=>{r[t]=e[t]}),r},oJ=function(e){if(void 0===e)return{};let t={};return Object.keys(e).filter(t=>!(t.match(/^on[A-Z]/)&&"function"==typeof e[t])).forEach(r=>{t[r]=e[r]}),t},oY=function(e){let{getSlotProps:t,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:o}=e;if(!t){let e=(0,tE.default)(r?.className,o,i?.className,n?.className),t={...r?.style,...i?.style,...n?.style},a={...r,...i,...n};return e.length>0&&(a.className=e),Object.keys(t).length>0&&(a.style=t),{props:a,internalRef:void 0}}let a=oX({...i,...n}),s=oJ(n),l=oJ(i),u=t(a),c=(0,tE.default)(u?.className,r?.className,o,i?.className,n?.className),h={...u?.style,...r?.style,...i?.style,...n?.style},d={...u,...r,...l,...s};return c.length>0&&(d.className=c),Object.keys(h).length>0&&(d.style=h),{props:d,internalRef:u.ref}};function oZ(e,t){let{className:r,elementType:n,ownerState:i,externalForwardedProps:o,internalForwardedProps:a,shouldForwardComponentProp:s=!1,...l}=t,{component:u,slots:c={[e]:void 0},slotProps:h={[e]:void 0},...d}=o,f=c[e]||n,p=oQ(h[e],i),{props:{component:g,...m},internalRef:y}=oY({className:r,...l,externalForwardedProps:"root"===e?d:void 0,externalSlotProps:p}),v=i1(y,p?.ref,t.ref),b="root"===e?g||u:g,w=oG(f,{..."root"===e&&!u&&!c[e]&&a,..."root"!==e&&!c[e]&&a,...m,...b&&!s&&{as:b},...b&&s&&{component:b},ref:v},i);return[f,w]}let o0=iQ(oI,{shouldForwardProp:e=>iG(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:oT})(oy(({theme:e})=>{let t="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${oH.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${oH.notchedOutline}`]:{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):t}},[`&.${oH.focused} .${oH.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(oN()).map(([t])=>({props:{color:t},style:{[`&.${oH.focused} .${oH.notchedOutline}`]:{borderColor:(e.vars||e).palette[t].main}}})),{props:{},style:{[`&.${oH.error} .${oH.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${oH.disabled} .${oH.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:14}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:14}},{props:({ownerState:e})=>e.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:e,size:t})=>e.multiline&&"small"===t,style:{padding:"8.5px 14px"}}]}})),o1=iQ(function(e){let{children:t,classes:r,className:n,label:i,notched:o,...a}=e,s=null!=i&&""!==i,l={...e,notched:o,withLabel:s};return(0,ej.jsx)(oW,{"aria-hidden":!0,className:n,ownerState:l,...a,children:(0,ej.jsx)(oq,{ownerState:l,children:s?(0,ej.jsx)("span",{children:i}):G||(G=(0,ej.jsx)("span",{className:"notranslate","aria-hidden":!0,children:""}))})})},{name:"MuiOutlinedInput",slot:"NotchedOutline"})(oy(({theme:e})=>{let t="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):t}})),o2=iQ(oD,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:oE})(oy(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),o5=ez.forwardRef(function(e,t){let r=iY({props:e,name:"MuiOutlinedInput"}),{components:n={},fullWidth:i=!1,inputComponent:o="input",label:a,multiline:s=!1,notched:l,slots:u={},slotProps:c={},type:h="text",...d}=r,f=(e=>{let{classes:t}=e,r=tI({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},oK,t);return{...t,...r}})(r),p=or(),g=oe({props:r,muiFormControl:p,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),m={...r,color:g.color||"primary",disabled:g.disabled,error:g.error,focused:g.focused,formControl:p,fullWidth:i,hiddenLabel:g.hiddenLabel,multiline:s,size:g.size,type:h},y=u.root??n.Root??o0,v=u.input??n.Input??o2,[b,w]=oZ("notchedOutline",{elementType:o1,className:f.notchedOutline,shouldForwardComponentProp:!0,ownerState:m,externalForwardedProps:{slots:u,slotProps:c},additionalProps:{label:null!=a&&""!==a&&g.required?(0,ej.jsxs)(ez.Fragment,{children:[a,"","*"]}):a}});return(0,ej.jsx)(oP,{slots:{root:y,input:v},slotProps:c,renderSuffix:e=>(0,ej.jsx)(b,{...w,notched:void 0!==l?l:!!(e.startAdornment||e.filled||e.focused)}),fullWidth:i,inputComponent:o,multiline:s,ref:t,type:h,...d,classes:{...f,notchedOutline:null}})});function o3(e){return oC("MuiFormLabel",e)}o5.muiName="Input";let o4=ok("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),o6=iQ("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,"secondary"===r.color&&t.colorSecondary,r.filled&&t.filled]}})(oy(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(oN()).map(([t])=>({props:{color:t},style:{[`&.${o4.focused}`]:{color:(e.vars||e).palette[t].main}}})),{props:{},style:{[`&.${o4.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${o4.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),o8=iQ("span",{name:"MuiFormLabel",slot:"Asterisk"})(oy(({theme:e})=>({[`&.${o4.error}`]:{color:(e.vars||e).palette.error.main}}))),o9=ez.forwardRef(function(e,t){let r=iY({props:e,name:"MuiFormLabel"}),{children:n,className:i,color:o,component:a="label",disabled:s,error:l,filled:u,focused:c,required:h,...d}=r,f=oe({props:r,muiFormControl:or(),states:["color","required","focused","disabled","error","filled"]}),p={...r,color:f.color||"primary",component:a,disabled:f.disabled,error:f.error,filled:f.filled,focused:f.focused,required:f.required},g=(e=>{let{classes:t,color:r,focused:n,disabled:i,error:o,filled:a,required:s}=e;return tI({root:["root",`color${rQ(r)}`,i&&"disabled",o&&"error",a&&"filled",n&&"focused",s&&"required"],asterisk:["asterisk",o&&"error"]},o3,t)})(p);return(0,ej.jsxs)(o6,{as:a,ownerState:p,className:(0,tE.default)(g.root,i),ref:t,...d,children:[n,f.required&&(0,ej.jsxs)(o8,{ownerState:p,"aria-hidden":!0,className:g.asterisk,children:["","*"]})]})});function o7(e){return oC("MuiInputLabel",e)}ok("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);let ae=iQ(o9,{shouldForwardProp:e=>iG(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[{[`& .${o4.asterisk}`]:t.asterisk},t.root,r.formControl&&t.formControl,"small"===r.size&&t.sizeSmall,r.shrink&&t.shrink,!r.disableAnimation&&t.animated,r.focused&&t.focused,t[r.variant]]}})(oy(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:t})=>"filled"===e&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:t,size:r})=>"filled"===e&&t.shrink&&"small"===r,style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:t})=>"outlined"===e&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),at=ez.forwardRef(function(e,t){let r=iY({name:"MuiInputLabel",props:e}),{disableAnimation:n=!1,margin:i,shrink:o,variant:a,className:s,...l}=r,u=or(),c=o;void 0===c&&u&&(c=u.filled||u.focused||u.adornedStart);let h=oe({props:r,muiFormControl:u,states:["size","variant","required","focused"]}),d={...r,disableAnimation:n,formControl:u,shrink:c,size:h.size,variant:h.variant,required:h.required,focused:h.focused},f=(e=>{let{classes:t,formControl:r,size:n,shrink:i,disableAnimation:o,variant:a,required:s}=e,l=tI({root:["root",r&&"formControl",!o&&"animated",i&&"shrink",n&&"medium"!==n&&`size${rQ(n)}`,a],asterisk:[s&&"asterisk"]},o7,t);return{...t,...l}})(d);return(0,ej.jsx)(ae,{"data-shrink":c,ref:t,className:(0,tE.default)(f.root,s),...l,ownerState:d,classes:f})}),ar=function(e,t){return ez.isValidElement(e)&&-1!==t.indexOf(e.type.muiName??e.type?._payload?.value?.muiName)};function an(e){return oC("MuiFormControl",e)}ok("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);let ai=iQ("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[`margin${rQ(r.margin)}`],r.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),ao=ez.forwardRef(function(e,t){let r,n=iY({props:e,name:"MuiFormControl"}),{children:i,className:o,color:a="primary",component:s="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:h=!1,hiddenLabel:d=!1,margin:f="none",required:p=!1,size:g="medium",variant:m="outlined",...y}=n,v={...n,color:a,component:s,disabled:l,error:u,fullWidth:h,hiddenLabel:d,margin:f,required:p,size:g,variant:m},b=(e=>{let{classes:t,margin:r,fullWidth:n}=e;return tI({root:["root","none"!==r&&`margin${rQ(r)}`,n&&"fullWidth"]},an,t)})(v),[w,x]=ez.useState(()=>{let e=!1;return i&&ez.Children.forEach(i,t=>{if(!ar(t,["Input","Select"]))return;let r=ar(t,["Select"])?t.props.input:t;r&&r.props.startAdornment&&(e=!0)}),e}),[S,C]=ez.useState(()=>{let e=!1;return i&&ez.Children.forEach(i,t=>{ar(t,["Input","Select"])&&(ob(t.props,!0)||ob(t.props.inputProps,!0))&&(e=!0)}),e}),[k,_]=ez.useState(!1);l&&k&&_(!1);let A=void 0===c||l?k:c;ez.useRef(!1);let T=ez.useCallback(()=>{C(!0)},[]),E=ez.useCallback(()=>{C(!1)},[]),I=ez.useMemo(()=>({adornedStart:w,setAdornedStart:x,color:a,disabled:l,error:u,filled:S,focused:A,fullWidth:h,hiddenLabel:d,size:g,onBlur:()=>{_(!1)},onFocus:()=>{_(!0)},onEmpty:E,onFilled:T,registerEffect:r,required:p,variant:m}),[w,a,l,u,S,A,h,d,r,E,T,p,g,m]);return(0,ej.jsx)(ot.Provider,{value:I,children:(0,ej.jsx)(ai,{as:s,ownerState:v,className:(0,tE.default)(b.root,o),ref:t,...y,children:i})})});function aa(e){return oC("MuiFormHelperText",e)}let as=ok("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),al=iQ("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.size&&t[`size${rQ(r.size)}`],r.contained&&t.contained,r.filled&&t.filled]}})(oy(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${as.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${as.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),au=ez.forwardRef(function(e,t){let r=iY({props:e,name:"MuiFormHelperText"}),{children:n,className:i,component:o="p",disabled:a,error:s,filled:l,focused:u,margin:c,required:h,variant:d,...f}=r,p=oe({props:r,muiFormControl:or(),states:["variant","size","disabled","error","filled","focused","required"]}),g={...r,component:o,contained:"filled"===p.variant||"outlined"===p.variant,variant:p.variant,size:p.size,disabled:p.disabled,error:p.error,filled:p.filled,focused:p.focused,required:p.required};delete g.ownerState;let m=(e=>{let{classes:t,contained:r,size:n,disabled:i,error:o,filled:a,focused:s,required:l}=e;return tI({root:["root",i&&"disabled",o&&"error",n&&`size${rQ(n)}`,r&&"contained",s&&"focused",a&&"filled",l&&"required"]},aa,t)})(g);return(0,ej.jsx)(al,{as:o,className:(0,tE.default)(m.root,i),ref:t,...f,ownerState:g,children:" "===n?Q||(Q=(0,ej.jsx)("span",{className:"notranslate","aria-hidden":!0,children:""})):n})});function ac(e){return parseInt(ez.version,10)>=19?e?.props?.ref||null:e?.ref||null}let ah=ez.createContext(),ad=function(e){let{elementType:t,externalSlotProps:r,ownerState:n,skipResolvingSlotProps:i=!1,...o}=e,a=i?{}:oQ(r,n),{props:s,internalRef:l}=oY({...o,externalSlotProps:a}),u=i1(l,a?.ref,e.additionalProps?.ref);return oG(t,{...s,ref:u},n)},af=ez.createContext({});function ap(e){return oC("MuiList",e)}ok("MuiList",["root","padding","dense","subheader"]);let ag=iQ("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,!r.disablePadding&&t.padding,r.dense&&t.dense,r.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),am=ez.forwardRef(function(e,t){let r=iY({props:e,name:"MuiList"}),{children:n,className:i,component:o="ul",dense:a=!1,disablePadding:s=!1,subheader:l,...u}=r,c=ez.useMemo(()=>({dense:a}),[a]),h={...r,component:o,dense:a,disablePadding:s},d=(e=>{let{classes:t,disablePadding:r,dense:n,subheader:i}=e;return tI({root:["root",!r&&"padding",n&&"dense",i&&"subheader"]},ap,t)})(h);return(0,ej.jsx)(af.Provider,{value:c,children:(0,ej.jsxs)(ag,{as:o,className:(0,tE.default)(d.root,i),ref:t,ownerState:h,...u,children:[l,n]})})}),ay=function(e){let t=e.activeElement;for(;t?.shadowRoot?.activeElement!=null;)t=t.shadowRoot.activeElement;return t};function av(e=window){let t=e.document.documentElement.clientWidth;return e.innerWidth-t}function ab(e,t,r){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r?null:e.firstChild}function aw(e,t,r){return e===t?r?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r?null:e.lastChild}function ax(e,t){if(void 0===t)return!0;let r=e.innerText;return void 0===r&&(r=e.textContent),0!==(r=r.trim().toLowerCase()).length&&(t.repeating?r[0]===t.keys[0]:r.startsWith(t.keys.join("")))}function aS(e,t,r,n,i,o){let a=!1,s=i(e,t,!!t&&r);for(;s;){if(s===e.firstChild){if(a)return!1;a=!0}let t=!n&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&ax(s,o)&&!t)return s.focus(),!0;s=i(e,s,r)}return!1}let aC=ez.forwardRef(function(e,t){let{actions:r,autoFocus:n=!1,autoFocusItem:i=!1,children:o,className:a,disabledItemsFocusable:s=!1,disableListWrap:l=!1,onKeyDown:u,variant:c="selectedMenu",...h}=e,d=ez.useRef(null),f=ez.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});i2(()=>{n&&d.current.focus()},[n]),ez.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(e,{direction:t})=>{let r=!d.current.style.width;if(e.clientHeight<d.current.clientHeight&&r){let r=`${av(i4(e))}px`;d.current.style["rtl"===t?"paddingLeft":"paddingRight"]=r,d.current.style.width=`calc(100% + ${r})`}return d.current}}),[]);let p=i1(d,t),g=-1;ez.Children.forEach(o,(e,t)=>{if(!ez.isValidElement(e)){g===t&&(g+=1)>=o.length&&(g=-1);return}e.props.disabled||("selectedMenu"===c&&e.props.selected?g=t:-1===g&&(g=t)),g===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(g+=1)>=o.length&&(g=-1)});let m=ez.Children.map(o,(e,t)=>{if(t===g){let t={};return i&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===c&&(t.tabIndex=0),ez.cloneElement(e,t)}return e});return(0,ej.jsx)(am,{role:"menu",ref:p,className:a,onKeyDown:e=>{let t=d.current,r=e.key;if(e.ctrlKey||e.metaKey||e.altKey){u&&u(e);return}let n=ay(i3(t));if("ArrowDown"===r)e.preventDefault(),aS(t,n,l,s,ab);else if("ArrowUp"===r)e.preventDefault(),aS(t,n,l,s,aw);else if("Home"===r)e.preventDefault(),aS(t,null,l,s,ab);else if("End"===r)e.preventDefault(),aS(t,null,l,s,aw);else if(1===r.length){let i=f.current,o=r.toLowerCase(),a=performance.now();i.keys.length>0&&(a-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=a,i.keys.push(o);let l=n&&!i.repeating&&ax(n,i);i.previousKeyMatched&&(l||aS(t,n,!1,s,ab,i))?e.preventDefault():i.previousKeyMatched=!1}u&&u(e)},tabIndex:n?0:-1,...h,children:m})}),ak={};function a_(e,t){let r=ez.useRef(ak);return r.current===ak&&(r.current=e(t)),r}let aA=[];class aT{static create(){return new aT}currentId=null;start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function aE(){var e;let t=a_(aT.create).current;return e=t.disposeEffect,ez.useEffect(e,aA),t}function aI(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}function aD(e,t){return(aD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function aF(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,aD(e,t)}var aP=e.i(74080);let aN=ez.default.createContext(null);var aR="unmounted",aO="exited",aB="entering",aM="entered",aL="exiting",aj=function(e){function t(t,r){var n,i=e.call(this,t,r)||this,o=r&&!r.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?o?(n=aO,i.appearStatus=aB):n=aM:n=t.unmountOnExit||t.mountOnEnter?aR:aO,i.state={status:n},i.nextCallback=null,i}aF(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===aR?{status:aO}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==aB&&r!==aM&&(t=aB):(r===aB||r===aM)&&(t=aL)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===aB){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:aP.default.findDOMNode(this);r&&r.scrollTop}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===aO&&this.setState({status:aR})},r.performEnter=function(e){var t=this,r=this.props.enter,n=this.context?this.context.isMounting:e,i=this.props.nodeRef?[n]:[aP.default.findDOMNode(this),n],o=i[0],a=i[1],s=this.getTimeouts(),l=n?s.appear:s.enter;(e||r)&&1?(this.props.onEnter(o,a),this.safeSetState({status:aB},function(){t.props.onEntering(o,a),t.onTransitionEnd(l,function(){t.safeSetState({status:aM},function(){t.props.onEntered(o,a)})})})):this.safeSetState({status:aM},function(){t.props.onEntered(o)})},r.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),n=this.props.nodeRef?void 0:aP.default.findDOMNode(this);t?(this.props.onExit(n),this.safeSetState({status:aL},function(){e.props.onExiting(n),e.onTransitionEnd(r.exit,function(){e.safeSetState({status:aO},function(){e.props.onExited(n)})})})):this.safeSetState({status:aO},function(){e.props.onExited(n)})},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:aP.default.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(!r||n)return void setTimeout(this.nextCallback,0);if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)},r.render=function(){var e=this.state.status;if(e===aR)return null;var t=this.props,r=t.children,n=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,aI(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return ez.default.createElement(aN.Provider,{value:null},"function"==typeof r?r(e,n):ez.default.cloneElement(ez.default.Children.only(r),n))},t}(ez.default.Component);function az(){}function aV(e,t){let{timeout:r,easing:n,style:i={}}=e;return{duration:i.transitionDuration??("number"==typeof r?r:r[t.mode]||0),easing:i.transitionTimingFunction??("object"==typeof n?n[t.mode]:n),delay:i.transitionDelay}}function aU(e){return`scale(${e}, ${e**2})`}aj.contextType=aN,aj.propTypes={},aj.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:az,onEntering:az,onEntered:az,onExit:az,onExiting:az,onExited:az},aj.UNMOUNTED=aR,aj.EXITED=aO,aj.ENTERING=aB,aj.ENTERED=aM,aj.EXITING=aL;let a$={entering:{opacity:1,transform:aU(1)},entered:{opacity:1,transform:"none"}},aW="u">typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),aq=ez.forwardRef(function(e,t){let{addEndListener:r,appear:n=!0,children:i,easing:o,in:a,onEnter:s,onEntered:l,onEntering:u,onExit:c,onExited:h,onExiting:d,style:f,timeout:p="auto",TransitionComponent:g=aj,...m}=e,y=aE(),v=ez.useRef(),b=os(),w=ez.useRef(null),x=i1(w,ac(i),t),S=e=>t=>{if(e){let r=w.current;void 0===t?e(r):e(r,t)}},C=S(u),k=S((e,t)=>{let r;e.scrollTop;let{duration:n,delay:i,easing:a}=aV({style:f,timeout:p,easing:o},{mode:"enter"});"auto"===p?v.current=r=b.transitions.getAutoHeightDuration(e.clientHeight):r=n,e.style.transition=[b.transitions.create("opacity",{duration:r,delay:i}),b.transitions.create("transform",{duration:aW?r:.666*r,delay:i,easing:a})].join(","),s&&s(e,t)}),_=S(l),A=S(d),T=S(e=>{let t,{duration:r,delay:n,easing:i}=aV({style:f,timeout:p,easing:o},{mode:"exit"});"auto"===p?v.current=t=b.transitions.getAutoHeightDuration(e.clientHeight):t=r,e.style.transition=[b.transitions.create("opacity",{duration:t,delay:n}),b.transitions.create("transform",{duration:aW?t:.666*t,delay:aW?n:n||.333*t,easing:i})].join(","),e.style.opacity=0,e.style.transform=aU(.75),c&&c(e)}),E=S(h);return(0,ej.jsx)(g,{appear:n,in:a,nodeRef:w,onEnter:k,onEntered:_,onEntering:C,onExit:T,onExited:E,onExiting:A,addEndListener:e=>{"auto"===p&&y.start(v.current||0,e),r&&r(w.current,e)},timeout:"auto"===p?null:p,...m,children:(e,{ownerState:t,...r})=>ez.cloneElement(i,{style:{opacity:0,transform:aU(.75),visibility:"exited"!==e||a?void 0:"hidden",...a$[e],...f,...i.props.style},ref:x,...r})})});function aK(e){let t=[],r=[];return Array.from(e.querySelectorAll('input,select,textarea,a[href],button,[tabindex],audio[controls],video[controls],[contenteditable]:not([contenteditable="false"])')).forEach((e,n)=>{let i,o=Number.isNaN(i=parseInt(e.getAttribute("tabindex")||"",10))?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:i;-1===o||e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type||!e.name)return!1;let t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`),r=t(`[name="${e.name}"]:checked`);return r||(r=t(`[name="${e.name}"]`)),r!==e}(e)||(0===o?t.push(e):r.push({documentOrder:n,tabIndex:o,node:e}))}),r.sort((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex).map(e=>e.node).concat(t)}function aH(){return!0}aq&&(aq.muiSupportAuto=!0);let aG=function(e){let{children:t,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:o=aK,isEnabled:a=aH,open:s}=e,l=ez.useRef(!1),u=ez.useRef(null),c=ez.useRef(null),h=ez.useRef(null),d=ez.useRef(null),f=ez.useRef(!1),p=ez.useRef(null),g=i1(ac(t),p),m=ez.useRef(null);ez.useEffect(()=>{s&&p.current&&(f.current=!r)},[r,s]),ez.useEffect(()=>{if(!s||!p.current)return;let e=ay(i3(p.current));return!p.current.contains(e)&&(p.current.hasAttribute("tabIndex")||p.current.setAttribute("tabIndex","-1"),f.current&&p.current.focus()),()=>{i||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}},[s]),ez.useEffect(()=>{if(!s||!p.current)return;let e=i3(p.current),t=t=>{m.current=t,n||!a()||"Tab"!==t.key||ay(e)===p.current&&t.shiftKey&&(l.current=!0,c.current&&c.current.focus())},r=()=>{let t=p.current;if(null===t)return;let r=ay(e);if(!e.hasFocus()||!a()||l.current){l.current=!1;return}if(t.contains(r)||n&&r!==u.current&&r!==c.current)return;if(r!==d.current)d.current=null;else if(null!==d.current)return;if(!f.current)return;let i=[];if((r===u.current||r===c.current)&&(i=o(p.current)),i.length>0){let e=!!(m.current?.shiftKey&&m.current?.key==="Tab"),t=i[0],r=i[i.length-1];"string"!=typeof t&&"string"!=typeof r&&(e?r.focus():t.focus())}else t.focus()};e.addEventListener("focusin",r),e.addEventListener("keydown",t,!0);let i=setInterval(()=>{let t=ay(e);t&&"BODY"===t.tagName&&r()},50);return()=>{clearInterval(i),e.removeEventListener("focusin",r),e.removeEventListener("keydown",t,!0)}},[r,n,i,a,s,o]);let y=e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0};return(0,ej.jsxs)(ez.Fragment,{children:[(0,ej.jsx)("div",{tabIndex:s?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),ez.cloneElement(t,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0,d.current=e.target;let r=t.props.onFocus;r&&r(e)}}),(0,ej.jsx)("div",{tabIndex:s?0:-1,onFocus:y,ref:c,"data-testid":"sentinelEnd"})]})};function aQ(e,t){"function"==typeof e?e(t):e&&(e.current=t)}let aX=ez.forwardRef(function(e,t){let{children:r,container:n,disablePortal:i=!1}=e,[o,a]=ez.useState(null),s=i1(ez.isValidElement(r)?ac(r):null,t);return(i2(()=>{i||a(("function"==typeof n?n():n)||document.body)},[n,i]),i2(()=>{if(o&&!i)return aQ(t,o),()=>{aQ(t,null)}},[t,o,i]),i)?ez.isValidElement(r)?ez.cloneElement(r,{ref:s}):r:o?aP.createPortal(r,o):o}),aJ={entering:{opacity:1},entered:{opacity:1}},aY=ez.forwardRef(function(e,t){let r=os(),n={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:o=!0,children:a,easing:s,in:l,onEnter:u,onEntered:c,onEntering:h,onExit:d,onExited:f,onExiting:p,style:g,timeout:m=n,TransitionComponent:y=aj,...v}=e,b=ez.useRef(null),w=i1(b,ac(a),t),x=e=>t=>{if(e){let r=b.current;void 0===t?e(r):e(r,t)}},S=x(h),C=x((e,t)=>{e.scrollTop;let n=aV({style:g,timeout:m,easing:s},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),u&&u(e,t)}),k=x(c),_=x(p),A=x(e=>{let t=aV({style:g,timeout:m,easing:s},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),d&&d(e)}),T=x(f);return(0,ej.jsx)(y,{appear:o,in:l,nodeRef:b,onEnter:C,onEntered:k,onEntering:S,onExit:A,onExited:T,onExiting:_,addEndListener:e=>{i&&i(b.current,e)},timeout:m,...v,children:(e,{ownerState:t,...r})=>ez.cloneElement(a,{style:{opacity:0,visibility:"exited"!==e||l?void 0:"hidden",...aJ[e],...g,...a.props.style},ref:w,...r})})});function aZ(e){return oC("MuiBackdrop",e)}ok("MuiBackdrop",["root","invisible"]);let a0=iQ("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),a1=ez.forwardRef(function(e,t){let r=iY({props:e,name:"MuiBackdrop"}),{children:n,className:i,component:o="div",invisible:a=!1,open:s,components:l={},componentsProps:u={},slotProps:c={},slots:h={},TransitionComponent:d,transitionDuration:f,...p}=r,g={...r,component:o,invisible:a},m=(e=>{let{classes:t,invisible:r}=e;return tI({root:["root",r&&"invisible"]},aZ,t)})(g),y={component:o,slots:{transition:d,root:l.Root,...h},slotProps:{...u,...c}},[v,b]=oZ("root",{elementType:a0,externalForwardedProps:y,className:(0,tE.default)(m.root,i),ownerState:g}),[w,x]=oZ("transition",{elementType:aY,externalForwardedProps:y,ownerState:g});return(0,ej.jsx)(w,{in:s,timeout:f,...p,...x,children:(0,ej.jsx)(v,{"aria-hidden":!0,...b,ref:t,children:n})})});function a2(...e){return e.reduce((e,t)=>null==t?e:function(...r){e.apply(this,r),t.apply(this,r)},()=>{})}function a5(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function a3(e){return parseFloat(i4(e).getComputedStyle(e).paddingRight)||0}function a4(e,t,r,n,i){let o=[t,r,...n];[].forEach.call(e.children,e=>{let t,r,n=!o.includes(e),a=(t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),r="INPUT"===e.tagName&&"hidden"===e.getAttribute("type"),!t&&!r);n&&a&&a5(e,i)})}function a6(e,t){let r=-1;return e.some((e,n)=>!!t(e)&&(r=n,!0)),r}let a8=()=>{},a9=new class{constructor(){this.modals=[],this.containers=[]}add(e,t){let r,n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&a5(e.modalRef,!1);let i=(r=[],[].forEach.call(t.children,e=>{"true"===e.getAttribute("aria-hidden")&&r.push(e)}),r);a4(t,e.mount,e.modalRef,i,!0);let o=a6(this.containers,e=>e.container===t);return -1!==o?this.containers[o].modals.push(e):this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:i}),n}mount(e,t){let r=a6(this.containers,t=>t.modals.includes(e)),n=this.containers[r];n.restore||(n.restore=function(e,t){let r=[],n=e.container;if(!t.disableScrollLock){let e,t;if((t=i3(n)).body===n?i4(n).innerWidth>t.documentElement.clientWidth:n.scrollHeight>n.clientHeight){let e=av(i4(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${a3(n)+e}px`;let t=i3(n).querySelectorAll(".mui-fixed");[].forEach.call(t,t=>{r.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${a3(t)+e}px`})}if(n.parentNode instanceof DocumentFragment)e=i3(n).body;else{let t=n.parentElement,r=i4(n);e=t?.nodeName==="HTML"&&"scroll"===r.getComputedStyle(t).overflowY?t:n}r.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{r.forEach(({value:e,el:t,property:r})=>{e?t.style.setProperty(r,e):t.style.removeProperty(r)})}}(n,t))}remove(e,t=!0){let r=this.modals.indexOf(e);if(-1===r)return r;let n=a6(this.containers,t=>t.modals.includes(e)),i=this.containers[n];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(r,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&a5(e.modalRef,t),a4(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(n,1);else{let e=i.modals[i.modals.length-1];e.modalRef&&a5(e.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}},a7=function(e){let{container:t,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:a,children:s,onClose:l,open:u,rootRef:c}=e,h=ez.useRef({}),d=ez.useRef(null),f=ez.useRef(null),p=i1(f,c),[g,m]=ez.useState(!u),y=!!s&&s.props.hasOwnProperty("in"),v=!0;("false"===e["aria-hidden"]||!1===e["aria-hidden"])&&(v=!1);let b=()=>(h.current.modalRef=f.current,h.current.mount=d.current,h.current),w=()=>{a9.mount(b(),{disableScrollLock:n}),f.current&&(f.current.scrollTop=0)},x=i5(()=>{let e=("function"==typeof t?t():t)||i3(d.current).body;a9.add(b(),e),f.current&&w()}),S=()=>a9.isTopModal(b()),C=i5(e=>{d.current=e,e&&(u&&S()?w():f.current&&a5(f.current,v))}),k=ez.useCallback(()=>{a9.remove(b(),v)},[v]);return ez.useEffect(()=>()=>{k()},[k]),ez.useEffect(()=>{u?x():y&&i||k()},[u,k,y,i,x]),{getRootProps:(t={})=>{let n=oX(e);delete n.onTransitionEnter,delete n.onTransitionExited;let i={...n,...t};return{role:"presentation",...i,onKeyDown:e=>{i.onKeyDown?.(e),"Escape"===e.key&&229!==e.which&&S()&&!r&&(e.stopPropagation(),l&&l(e,"escapeKeyDown"))},ref:p}},getBackdropProps:(e={})=>({"aria-hidden":!0,...e,onClick:t=>{e.onClick?.(t),t.target===t.currentTarget&&l&&l(t,"backdropClick")},open:u}),getTransitionProps:()=>({onEnter:a2(()=>{m(!1),o&&o()},s?.props.onEnter??a8),onExited:a2(()=>{m(!0),a&&a(),i&&k()},s?.props.onExited??a8)}),rootRef:p,portalRef:C,isTopModal:S,exited:g,hasTransition:y}};function se(e){return oC("MuiModal",e)}ok("MuiModal",["root","hidden","backdrop"]);let st=iQ("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,!r.open&&r.exited&&t.hidden]}})(oy(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),sr=iQ(a1,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),sn=ez.forwardRef(function(e,t){let r=iY({name:"MuiModal",props:e}),{BackdropComponent:n=sr,BackdropProps:i,classes:o,className:a,closeAfterTransition:s=!1,children:l,container:u,component:c,components:h={},componentsProps:d={},disableAutoFocus:f=!1,disableEnforceFocus:p=!1,disableEscapeKeyDown:g=!1,disablePortal:m=!1,disableRestoreFocus:y=!1,disableScrollLock:v=!1,hideBackdrop:b=!1,keepMounted:w=!1,onClose:x,onTransitionEnter:S,onTransitionExited:C,open:k,slotProps:_={},slots:A={},theme:T,...E}=r,I={...r,closeAfterTransition:s,disableAutoFocus:f,disableEnforceFocus:p,disableEscapeKeyDown:g,disablePortal:m,disableRestoreFocus:y,disableScrollLock:v,hideBackdrop:b,keepMounted:w},{getRootProps:D,getBackdropProps:F,getTransitionProps:P,portalRef:N,isTopModal:R,exited:O,hasTransition:B}=a7({...I,rootRef:t}),M={...I,exited:O},L=(e=>{let{open:t,exited:r,classes:n}=e;return tI({root:["root",!t&&r&&"hidden"],backdrop:["backdrop"]},se,n)})(M),j={};if(void 0===l.props.tabIndex&&(j.tabIndex="-1"),B){let{onEnter:e,onExited:t}=P();j.onEnter=e,j.onExited=t}let z={slots:{root:h.Root,backdrop:h.Backdrop,...A},slotProps:{...d,..._}},[V,U]=oZ("root",{ref:t,elementType:st,externalForwardedProps:{...z,...E,component:c},getSlotProps:D,ownerState:M,className:(0,tE.default)(a,L?.root,!M.open&&M.exited&&L?.hidden)}),[$,W]=oZ("backdrop",{ref:i?.ref,elementType:n,externalForwardedProps:z,shouldForwardComponentProp:!0,additionalProps:i,getSlotProps:e=>F({...e,onClick:t=>{e?.onClick&&e.onClick(t)}}),className:(0,tE.default)(i?.className,L?.backdrop),ownerState:M});return w||k||B&&!O?(0,ej.jsx)(aX,{ref:N,container:u,disablePortal:m,children:(0,ej.jsxs)(V,{...U,children:[!b&&n?(0,ej.jsx)($,{...W}):null,(0,ej.jsx)(aG,{disableEnforceFocus:p,disableAutoFocus:f,disableRestoreFocus:y,isEnabled:R,open:k,children:ez.cloneElement(l,j)})]})}):null});function si(e){return oC("MuiPaper",e)}ok("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);let so=iQ("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,"elevation"===r.variant&&t[`elevation${r.elevation}`]]}})(oy(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),sa=ez.forwardRef(function(e,t){let r=iY({props:e,name:"MuiPaper"}),n=os(),{className:i,component:o="div",elevation:a=1,square:s=!1,variant:l="elevation",...u}=r,c={...r,component:o,elevation:a,square:s,variant:l},h=(e=>{let{square:t,elevation:r,variant:n,classes:i}=e;return tI({root:["root",n,!t&&"rounded","elevation"===n&&`elevation${r}`]},si,i)})(c);return(0,ej.jsx)(so,{as:o,ownerState:c,className:(0,tE.default)(h.root,i),ref:t,...u,style:{..."elevation"===l&&{"--Paper-shadow":(n.vars||n).shadows[a],...n.vars&&{"--Paper-overlay":n.vars.overlays?.[a]},...!n.vars&&"dark"===n.palette.mode&&{"--Paper-overlay":`linear-gradient(${n3("#fff",iN(a))}, ${n3("#fff",iN(a))})`}},...u.style}})});function ss(e){return oC("MuiPopover",e)}function sl(e,t){let r=0;return"number"==typeof t?r=t:"center"===t?r=e.height/2:"bottom"===t&&(r=e.height),r}function su(e,t){let r=0;return"number"==typeof t?r=t:"center"===t?r=e.width/2:"right"===t&&(r=e.width),r}function sc(e){return[e.horizontal,e.vertical].map(e=>"number"==typeof e?`${e}px`:e).join(" ")}function sh(e){return"function"==typeof e?e():e}ok("MuiPopover",["root","paper"]);let sd=iQ(sn,{name:"MuiPopover",slot:"Root"})({}),sf=iQ(sa,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),sp=ez.forwardRef(function(e,t){let r=iY({props:e,name:"MuiPopover"}),{action:n,anchorEl:i,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:s="anchorEl",children:l,className:u,container:c,elevation:h=8,marginThreshold:d=16,open:f,PaperProps:p={},slots:g={},slotProps:m={},transformOrigin:y={vertical:"top",horizontal:"left"},TransitionComponent:v,transitionDuration:b="auto",TransitionProps:w={},disableScrollLock:x=!1,...S}=r,C=ez.useRef(),k={...r,anchorOrigin:o,anchorReference:s,elevation:h,marginThreshold:d,transformOrigin:y,TransitionComponent:v,transitionDuration:b,TransitionProps:w},_=(e=>{let{classes:t}=e;return tI({root:["root"],paper:["paper"]},ss,t)})(k),A=ez.useCallback(()=>{if("anchorPosition"===s)return a;let e=sh(i),t=(e&&1===e.nodeType?e:i3(C.current).body).getBoundingClientRect();return{top:t.top+sl(t,o.vertical),left:t.left+su(t,o.horizontal)}},[i,o.horizontal,o.vertical,a,s]),T=ez.useCallback(e=>({vertical:sl(e,y.vertical),horizontal:su(e,y.horizontal)}),[y.horizontal,y.vertical]),E=ez.useCallback(e=>{let t={width:e.offsetWidth,height:e.offsetHeight},r=T(t);if("none"===s)return{top:null,left:null,transformOrigin:sc(r)};let n=A(),o=n.top-r.vertical,a=n.left-r.horizontal,l=o+t.height,u=a+t.width,c=i4(sh(i)),h=c.innerHeight-d,f=c.innerWidth-d;if(null!==d&&o<d){let e=o-d;o-=e,r.vertical+=e}else if(null!==d&&l>h){let e=l-h;o-=e,r.vertical+=e}if(null!==d&&a<d){let e=a-d;a-=e,r.horizontal+=e}else if(u>f){let e=u-f;a-=e,r.horizontal+=e}return{top:`${Math.round(o)}px`,left:`${Math.round(a)}px`,transformOrigin:sc(r)}},[i,s,A,T,d]),[I,D]=ez.useState(f),F=ez.useCallback(()=>{let e=C.current;if(!e)return;let t=E(e);null!==t.top&&e.style.setProperty("top",t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,D(!0)},[E]);ez.useEffect(()=>(x&&window.addEventListener("scroll",F),()=>window.removeEventListener("scroll",F)),[i,x,F]),ez.useEffect(()=>{f&&F()}),ez.useImperativeHandle(n,()=>f?{updatePosition:()=>{F()}}:null,[f,F]),ez.useEffect(()=>{if(!f)return;let e=i0(()=>{F()}),t=i4(sh(i));return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[i,f,F]);let P=b,N={slots:{transition:v,...g},slotProps:{transition:w,paper:p,...m}},[R,O]=oZ("transition",{elementType:aq,externalForwardedProps:N,ownerState:k,getSlotProps:e=>({...e,onEntering:(t,r)=>{e.onEntering?.(t,r),F()},onExited:t=>{e.onExited?.(t),D(!1)}}),additionalProps:{appear:!0,in:f}});"auto"!==b||R.muiSupportAuto||(P=void 0);let B=c||(i?i3(sh(i)).body:void 0),[M,{slots:L,slotProps:j,...z}]=oZ("root",{ref:t,elementType:sd,externalForwardedProps:{...N,...S},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:g.backdrop},slotProps:{backdrop:function(e,t){if(!e)return t;function r(e,t){let r={};return Object.keys(t).forEach(n=>{var i;let o;i=t[n],o=n.charCodeAt(2),"o"===n[0]&&"n"===n[1]&&o>=65&&o<=90&&"function"==typeof i&&"function"==typeof e[n]&&(r[n]=(...r)=>{e[n](...r),t[n](...r)})}),r}if("function"==typeof e||"function"==typeof t)return n=>{let i="function"==typeof t?t(n):t,o="function"==typeof e?e({...n,...i}):e,a=(0,tE.default)(n?.className,i?.className,o?.className),s=r(o,i);return{...i,...o,...s,...!!a&&{className:a},...i?.style&&o?.style&&{style:{...i.style,...o.style}},...i?.sx&&o?.sx&&{sx:[...Array.isArray(i.sx)?i.sx:[i.sx],...Array.isArray(o.sx)?o.sx:[o.sx]]}}};let n=r(e,t),i=(0,tE.default)(t?.className,e?.className);return{...t,...e,...n,...!!i&&{className:i},...t?.style&&e?.style&&{style:{...t.style,...e.style}},...t?.sx&&e?.sx&&{sx:[...Array.isArray(t.sx)?t.sx:[t.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}("function"==typeof m.backdrop?m.backdrop(k):m.backdrop,{invisible:!0})},container:B,open:f},ownerState:k,className:(0,tE.default)(_.root,u)}),[V,U]=oZ("paper",{ref:C,className:_.paper,elementType:sf,externalForwardedProps:N,shouldForwardComponentProp:!0,additionalProps:{elevation:h,style:I?void 0:{opacity:0}},ownerState:k});return(0,ej.jsx)(M,{...z,...!iZ(M)&&{slots:L,slotProps:j,disableScrollLock:x},children:(0,ej.jsx)(R,{...O,timeout:P,children:(0,ej.jsx)(V,{...U,children:l})})})});function sg(e){return oC("MuiMenu",e)}ok("MuiMenu",["root","paper","list"]);let sm={vertical:"top",horizontal:"right"},sy={vertical:"top",horizontal:"left"},sv=iQ(sp,{shouldForwardProp:e=>iG(e)||"classes"===e,name:"MuiMenu",slot:"Root"})({}),sb=iQ(sf,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),sw=iQ(aC,{name:"MuiMenu",slot:"List"})({outline:0}),sx=ez.forwardRef(function(e,t){let r=iY({props:e,name:"MuiMenu"}),{autoFocus:n=!0,children:i,className:o,disableAutoFocusItem:a=!1,MenuListProps:s={},onClose:l,open:u,PaperProps:c={},PopoverClasses:h,transitionDuration:d="auto",TransitionProps:{onEntering:f,...p}={},variant:g="selectedMenu",slots:m={},slotProps:y={},...v}=r,b=ez.useContext(ah)??!1,w={...r,autoFocus:n,disableAutoFocusItem:a,MenuListProps:s,onEntering:f,PaperProps:c,transitionDuration:d,TransitionProps:p,variant:g},x=(e=>{let{classes:t}=e;return tI({root:["root"],paper:["paper"],list:["list"]},sg,t)})(w),S=n&&!a&&u,C=ez.useRef(null),k=-1;ez.Children.map(i,(e,t)=>{ez.isValidElement(e)&&(e.props.disabled||("selectedMenu"===g&&e.props.selected?k=t:-1===k&&(k=t)))});let _={slots:m,slotProps:{list:s,transition:p,paper:c,...y}},A=ad({elementType:m.root,externalSlotProps:y.root,ownerState:w,className:[x.root,o]}),[T,E]=oZ("paper",{className:x.paper,elementType:sb,externalForwardedProps:_,shouldForwardComponentProp:!0,ownerState:w}),[I,D]=oZ("list",{className:(0,tE.default)(x.list,s.className),elementType:sw,shouldForwardComponentProp:!0,externalForwardedProps:_,getSlotProps:e=>({...e,onKeyDown:t=>{"Tab"===t.key&&(t.preventDefault(),l&&l(t,"tabKeyDown")),e.onKeyDown?.(t)}}),ownerState:w}),F="function"==typeof _.slotProps.transition?_.slotProps.transition(w):_.slotProps.transition;return(0,ej.jsx)(sv,{onClose:l,anchorOrigin:{vertical:"bottom",horizontal:b?"right":"left"},transformOrigin:b?sm:sy,slots:{root:m.root,paper:T,backdrop:m.backdrop,...m.transition&&{transition:m.transition}},slotProps:{root:A,paper:E,backdrop:"function"==typeof y.backdrop?y.backdrop(w):y.backdrop,transition:{...F,onEntering:(...e)=>{((e,t)=>{C.current&&C.current.adjustStyleForScrollbar(e,{direction:b?"rtl":"ltr"}),f&&f(e,t)})(...e),F?.onEntering?.(...e)}}},open:u,ref:t,transitionDuration:d,ownerState:w,...v,classes:h,children:(0,ej.jsx)(I,{actions:C,autoFocus:n&&(-1===k||a),autoFocusItem:S,variant:g,...D,children:i})})});function sS(e){return oC("MuiNativeSelect",e)}let sC=ok("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),sk=iQ("select",{name:"MuiNativeSelect"})(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${sC.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:e})=>"filled"!==e.variant&&"outlined"!==e.variant,style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),s_=iQ(sk,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:iG,overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.select,t[r.variant],r.error&&t.error,{[`&.${sC.multiple}`]:t.multiple}]}})({}),sA=iQ("svg",{name:"MuiNativeSelect"})(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${sC.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),sT=iQ(sA,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${rQ(r.variant)}`],r.open&&t.iconOpen]}})({}),sE=ez.forwardRef(function(e,t){let{className:r,disabled:n,error:i,IconComponent:o,inputRef:a,variant:s="standard",...l}=e,u={...e,disabled:n,variant:s,error:i},c=(e=>{let{classes:t,variant:r,disabled:n,multiple:i,open:o,error:a}=e;return tI({select:["select",r,n&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${rQ(r)}`,o&&"iconOpen",n&&"disabled"]},sS,t)})(u);return(0,ej.jsxs)(ez.Fragment,{children:[(0,ej.jsx)(s_,{ownerState:u,className:(0,tE.default)(c.select,r),disabled:n,ref:a||t,...l}),e.multiple?null:(0,ej.jsx)(sT,{as:o,ownerState:u,className:c.icon})]})}),sI=function(e){let{controlled:t,default:r,name:n,state:i="value"}=e,{current:o}=ez.useRef(void 0!==t),[a,s]=ez.useState(r),l=ez.useCallback(e=>{o||s(e)},[]);return[o?t:a,l]};function sD(e){return oC("MuiSelect",e)}let sF=ok("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),sP=iQ(sk,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[{[`&.${sF.select}`]:t.select},{[`&.${sF.select}`]:t[r.variant]},{[`&.${sF.error}`]:t.error},{[`&.${sF.multiple}`]:t.multiple}]}})({[`&.${sF.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),sN=iQ(sA,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${rQ(r.variant)}`],r.open&&t.iconOpen]}})({}),sR=iQ("input",{shouldForwardProp:e=>iH(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function sO(e,t){return"object"==typeof t&&null!==t?e===t:String(e)===String(t)}let sB=ez.forwardRef(function(e,t){var r;let n,i,{"aria-describedby":o,"aria-label":a,autoFocus:s,autoWidth:l,children:u,className:c,defaultOpen:h,defaultValue:d,disabled:f,displayEmpty:p,error:g=!1,IconComponent:m,inputRef:y,labelId:v,MenuProps:b={},multiple:w,name:x,onBlur:S,onChange:C,onClose:k,onFocus:_,onKeyDown:A,onMouseDown:T,onOpen:E,open:I,readOnly:D,renderValue:F,required:P,SelectDisplayProps:N={},tabIndex:R,type:O,value:B,variant:M="standard",...L}=e,[j,z]=sI({controlled:B,default:d,name:"Select"}),[V,U]=sI({controlled:I,default:h,name:"Select"}),$=ez.useRef(null),W=ez.useRef(null),[q,K]=ez.useState(null),{current:H}=ez.useRef(null!=I),[G,Q]=ez.useState(),J=i1(t,y),Y=ez.useCallback(e=>{W.current=e,e&&K(e)},[]),Z=q?.parentNode;ez.useImperativeHandle(J,()=>({focus:()=>{W.current.focus()},node:$.current,value:j}),[j]);let ee=null!==q&&V;ez.useEffect(()=>{if(!ee||!Z||l||"u"<typeof ResizeObserver)return;let e=new ResizeObserver(()=>{Q(Z.clientWidth)});return e.observe(Z),()=>{e.disconnect()}},[ee,Z,l]),ez.useEffect(()=>{h&&V&&q&&!H&&(Q(l?null:Z.clientWidth),W.current.focus())},[q,l]),ez.useEffect(()=>{s&&W.current.focus()},[s]),ez.useEffect(()=>{if(!v)return;let e=i3(W.current).getElementById(v);if(e){let t=()=>{getSelection().isCollapsed&&W.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}},[v]);let et=(e,t)=>{e?E&&E(t):k&&k(t),H||(Q(l?null:Z.clientWidth),U(e))},er=ez.Children.toArray(u);delete L["aria-invalid"];let en=[],ei=!1;(ob({value:j})||p)&&(F?n=F(j):ei=!0);let eo=er.map(e=>{let t;if(!ez.isValidElement(e))return null;if(w){if(!Array.isArray(j))throw Error(rG(2));(t=j.some(t=>sO(t,e.props.value)))&&ei&&en.push(e.props.children)}else(t=sO(j,e.props.value))&&ei&&(i=e.props.children);return ez.cloneElement(e,{"aria-selected":t?"true":"false",onClick:t=>{let r;if(t.currentTarget.hasAttribute("tabindex")){if(w){r=Array.isArray(j)?j.slice():[];let t=j.indexOf(e.props.value);-1===t?r.push(e.props.value):r.splice(t,1)}else r=e.props.value;if(e.props.onClick&&e.props.onClick(t),j!==r&&(z(r),C)){let n=t.nativeEvent||t,i=new n.constructor(n.type,n);Object.defineProperty(i,"target",{writable:!0,value:{value:r,name:x}}),C(i,e)}w||et(!1,t)}},onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})});ei&&(n=w?0===en.length?null:en.reduce((e,t,r)=>(e.push(t),r<en.length-1&&e.push(", "),e),[]):i);let ea=G;!l&&H&&q&&(ea=Z.clientWidth);let es=N.id||(x?`mui-component-select-${x}`:void 0),el={...e,variant:M,value:j,open:ee,error:g},eu=(e=>{let{classes:t,variant:r,disabled:n,multiple:i,open:o,error:a}=e;return tI({select:["select",r,n&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${rQ(r)}`,o&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]},sD,t)})(el),ec={...b.PaperProps,..."function"==typeof b.slotProps?.paper?b.slotProps.paper(el):b.slotProps?.paper},eh={...b.MenuListProps,..."function"==typeof b.slotProps?.list?b.slotProps.list(el):b.slotProps?.list},ed=tP();return(0,ej.jsxs)(ez.Fragment,{children:[(0,ej.jsx)(sP,{as:"div",ref:Y,tabIndex:void 0!==R?R:f?null:0,role:"combobox","aria-controls":ee?ed:void 0,"aria-disabled":f?"true":void 0,"aria-expanded":ee?"true":"false","aria-haspopup":"listbox","aria-label":a,"aria-labelledby":[v,es].filter(Boolean).join(" ")||void 0,"aria-describedby":o,"aria-required":P?"true":void 0,"aria-invalid":g?"true":void 0,onKeyDown:e=>{D||([" ","ArrowUp","ArrowDown","Enter"].includes(e.key)&&(e.preventDefault(),et(!0,e)),A?.(e))},onMouseDown:f||D?null:e=>{T?.(e),0===e.button&&(e.preventDefault(),W.current.focus(),et(!0,e))},onBlur:e=>{!ee&&S&&(Object.defineProperty(e,"target",{writable:!0,value:{value:j,name:x}}),S(e))},onFocus:_,...N,ownerState:el,className:(0,tE.default)(N.className,eu.select,c),id:es,children:null!=(r=n)&&("string"!=typeof r||r.trim())?n:X||(X=(0,ej.jsx)("span",{className:"notranslate","aria-hidden":!0,children:""}))}),(0,ej.jsx)(sR,{"aria-invalid":g,value:Array.isArray(j)?j.join(","):j,name:x,ref:$,"aria-hidden":!0,onChange:e=>{let t=er.find(t=>t.props.value===e.target.value);void 0!==t&&(z(t.props.value),C&&C(e,t))},tabIndex:-1,disabled:f,className:eu.nativeInput,autoFocus:s,required:P,...L,ownerState:el}),(0,ej.jsx)(sN,{as:m,className:eu.icon,ownerState:el}),(0,ej.jsx)(sx,{id:`menu-${x||""}`,anchorEl:Z,open:ee,onClose:e=>{et(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...b,slotProps:{...b.slotProps,list:{"aria-labelledby":v,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:ed,...eh},paper:{...ec,style:{minWidth:ea,...null!=ec?ec.style:null}}},children:eo})]})});function sM(e){return oC("MuiSvgIcon",e)}ok("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);let sL=iQ("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,"inherit"!==r.color&&t[`color${rQ(r.color)}`],t[`fontSize${rQ(r.fontSize)}`]]}})(oy(({theme:e})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:e.transitions?.create?.("fill",{duration:(e.vars??e).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:e.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:e.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:e.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,e])=>e&&e.main).map(([t])=>({props:{color:t},style:{color:(e.vars??e).palette?.[t]?.main}})),{props:{color:"action"},style:{color:(e.vars??e).palette?.action?.active}},{props:{color:"disabled"},style:{color:(e.vars??e).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),sj=ez.forwardRef(function(e,t){let r=iY({props:e,name:"MuiSvgIcon"}),{children:n,className:i,color:o="inherit",component:a="svg",fontSize:s="medium",htmlColor:l,inheritViewBox:u=!1,titleAccess:c,viewBox:h="0 0 24 24",...d}=r,f=ez.isValidElement(n)&&"svg"===n.type,p={...r,color:o,component:a,fontSize:s,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:f},g={};u||(g.viewBox=h);let m=(e=>{let{color:t,fontSize:r,classes:n}=e;return tI({root:["root","inherit"!==t&&`color${rQ(t)}`,`fontSize${rQ(r)}`]},sM,n)})(p);return(0,ej.jsxs)(sL,{as:a,className:(0,tE.default)(m.root,i),focusable:"false",color:l,"aria-hidden":!c||void 0,role:c?"img":void 0,ref:t,...g,...d,...f&&n.props,ownerState:p,children:[f?n.props.children:n,c?(0,ej.jsx)("title",{children:c}):null]})});sj.muiName="SvgIcon";let sz=function(e,t){function r(t,r){return(0,ej.jsx)(sj,{"data-testid":void 0,ref:r,...t,children:e})}return r.muiName=sj.muiName,ez.memo(ez.forwardRef(r))}((0,ej.jsx)("path",{d:"M7 10l5 5 5-5z"}),0),sV={name:"MuiSelect",slot:"Root",shouldForwardProp:e=>iG(e)&&"variant"!==e},sU=iQ(oL,sV)(""),s$=iQ(o5,sV)(""),sW=iQ(o$,sV)(""),sq=ez.forwardRef(function(e,t){let r=iY({name:"MuiSelect",props:e}),{autoWidth:n=!1,children:i,classes:o={},className:a,defaultOpen:s=!1,displayEmpty:l=!1,IconComponent:u=sz,id:c,input:h,inputProps:d,label:f,labelId:p,MenuProps:g,multiple:m=!1,native:y=!1,onClose:v,onOpen:b,open:w,renderValue:x,SelectDisplayProps:S,variant:C="outlined",...k}=r,_=oe({props:r,muiFormControl:or(),states:["variant","error"]}),A=_.variant||C,T={...r,variant:A,classes:o},E=(e=>{let{classes:t}=e,r=tI({root:["root"]},sD,t);return{...t,...r}})(T),{root:I,...D}=E,F=h||({standard:(0,ej.jsx)(sU,{ownerState:T}),outlined:(0,ej.jsx)(s$,{label:f,ownerState:T}),filled:(0,ej.jsx)(sW,{ownerState:T})})[A],P=i1(t,ac(F));return(0,ej.jsx)(ez.Fragment,{children:ez.cloneElement(F,{inputComponent:y?sE:sB,inputProps:{children:i,error:_.error,IconComponent:u,variant:A,type:void 0,multiple:m,...y?{id:c}:{autoWidth:n,defaultOpen:s,displayEmpty:l,labelId:p,MenuProps:g,onClose:v,onOpen:b,open:w,renderValue:x,SelectDisplayProps:{id:c,...S}},...d,classes:d?rH(D,d.classes):D,...h?h.props.inputProps:{}},...(m&&y||l)&&"outlined"===A?{notched:!0}:{},ref:P,className:(0,tE.default)(F.props.className,a,E.root),...!h&&{variant:A},...k})})});function sK(e){return oC("MuiTextField",e)}sq.muiName="Select",ok("MuiTextField",["root"]);let sH={standard:oL,filled:o$,outlined:o5},sG=iQ(ao,{name:"MuiTextField",slot:"Root"})({}),sQ=ez.forwardRef(function(e,t){let r=iY({props:e,name:"MuiTextField"}),{autoComplete:n,autoFocus:i=!1,children:o,className:a,color:s="primary",defaultValue:l,disabled:u=!1,error:c=!1,FormHelperTextProps:h,fullWidth:d=!1,helperText:f,id:p,InputLabelProps:g,inputProps:m,InputProps:y,inputRef:v,label:b,maxRows:w,minRows:x,multiline:S=!1,name:C,onBlur:k,onChange:_,onFocus:A,placeholder:T,required:E=!1,rows:I,select:D=!1,SelectProps:F,slots:P={},slotProps:N={},type:R,value:O,variant:B="outlined",...M}=r,L={...r,autoFocus:i,color:s,disabled:u,error:c,fullWidth:d,multiline:S,required:E,select:D,variant:B},j=(e=>{let{classes:t}=e;return tI({root:["root"]},sK,t)})(L),z=tP(p),V=f&&z?`${z}-helper-text`:void 0,U=b&&z?`${z}-label`:void 0,$=sH[B],W={slots:P,slotProps:{input:y,inputLabel:g,htmlInput:m,formHelperText:h,select:F,...N}},q={},K=W.slotProps.inputLabel;"outlined"===B&&(K&&void 0!==K.shrink&&(q.notched=K.shrink),q.label=b),D&&(F&&F.native||(q.id=void 0),q["aria-describedby"]=void 0);let[H,G]=oZ("root",{elementType:sG,shouldForwardComponentProp:!0,externalForwardedProps:{...W,...M},ownerState:L,className:(0,tE.default)(j.root,a),ref:t,additionalProps:{disabled:u,error:c,fullWidth:d,required:E,color:s,variant:B}}),[Q,X]=oZ("input",{elementType:$,externalForwardedProps:W,additionalProps:q,ownerState:L}),[J,Y]=oZ("inputLabel",{elementType:at,externalForwardedProps:W,ownerState:L}),[Z,ee]=oZ("htmlInput",{elementType:"input",externalForwardedProps:W,ownerState:L}),[et,er]=oZ("formHelperText",{elementType:au,externalForwardedProps:W,ownerState:L}),[en,ei]=oZ("select",{elementType:sq,externalForwardedProps:W,ownerState:L}),eo=(0,ej.jsx)(Q,{"aria-describedby":V,autoComplete:n,autoFocus:i,defaultValue:l,fullWidth:d,multiline:S,name:C,rows:I,maxRows:w,minRows:x,type:R,value:O,id:z,inputRef:v,onBlur:k,onChange:_,onFocus:A,placeholder:T,inputProps:ee,slots:{input:P.htmlInput?Z:void 0},...X});return(0,ej.jsxs)(H,{...G,children:[null!=b&&""!==b&&(0,ej.jsx)(J,{htmlFor:z,id:U,...Y,children:b}),D?(0,ej.jsx)(en,{"aria-describedby":V,id:z,labelId:U,value:O,input:eo,...ei,children:o}):eo,f&&(0,ej.jsx)(et,{id:V,...er,children:f})]})});function sX(e){try{return e.matches(":focus-visible")}catch(e){}return!1}class sJ{static create(){return new sJ}static use(){let e=a_(sJ.create).current,[t,r]=ez.useState(!1);return e.shouldMount=t,e.setShouldMount=r,ez.useEffect(e.mountEffect,[t]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){let e,t,r;return this.mounted||(this.mounted=((r=new Promise((r,n)=>{e=r,t=n})).resolve=e,r.reject=t,r),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&null!==this.ref.current&&(this.didMount=!0,this.mounted.resolve())};start(...e){this.mount().then(()=>this.ref.current?.start(...e))}stop(...e){this.mount().then(()=>this.ref.current?.stop(...e))}pulsate(...e){this.mount().then(()=>this.ref.current?.pulsate(...e))}}function sY(e,t){var r=Object.create(null);return e&&ez.Children.map(e,function(e){return e}).forEach(function(e){r[e.key]=t&&(0,ez.isValidElement)(e)?t(e):e}),r}function sZ(e,t,r){return null!=r[t]?r[t]:e.props[t]}var s0=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},s1=function(e){function t(t,r){var n=e.call(this,t,r)||this,i=n.handleExited.bind(function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n));return n.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},n}aF(t,e);var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var r,n,i=t.children,o=t.handleExited;return{children:t.firstRender?sY(e.children,function(t){return(0,ez.cloneElement)(t,{onExited:o.bind(null,t),in:!0,appear:sZ(t,"appear",e),enter:sZ(t,"enter",e),exit:sZ(t,"exit",e)})}):(Object.keys(n=function(e,t){function r(r){return r in t?t[r]:e[r]}e=e||{},t=t||{};var n,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(i[l])for(n=0;n<i[l].length;n++){var u=i[l][n];s[i[l][n]]=r(u)}s[l]=r(l)}for(n=0;n<o.length;n++)s[o[n]]=r(o[n]);return s}(i,r=sY(e.children))).forEach(function(t){var a=n[t];if((0,ez.isValidElement)(a)){var s=t in i,l=t in r,u=i[t],c=(0,ez.isValidElement)(u)&&!u.props.in;l&&(!s||c)?n[t]=(0,ez.cloneElement)(a,{onExited:o.bind(null,a),in:!0,exit:sZ(a,"exit",e),enter:sZ(a,"enter",e)}):l||!s||c?l&&s&&(0,ez.isValidElement)(u)&&(n[t]=(0,ez.cloneElement)(a,{onExited:o.bind(null,a),in:u.props.in,exit:sZ(a,"exit",e),enter:sZ(a,"enter",e)})):n[t]=(0,ez.cloneElement)(a,{in:!1})}}),n),firstRender:!1}},r.handleExited=function(e,t){var r=sY(this.props.children);e.key in r||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var r=tN({},t.children);return delete r[e.key],{children:r}}))},r.render=function(){var e=this.props,t=e.component,r=e.childFactory,n=aI(e,["component","childFactory"]),i=this.state.contextValue,o=s0(this.state.children).map(r);return(delete n.appear,delete n.enter,delete n.exit,null===t)?ez.default.createElement(aN.Provider,{value:i},o):ez.default.createElement(aN.Provider,{value:i},ez.default.createElement(t,n,o))},t}(ez.default.Component);s1.propTypes={},s1.defaultProps={component:"div",childFactory:function(e){return e}};let s2=ok("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),s5=oh`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,s3=oh`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,s4=oh`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,s6=iQ("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),s8=iQ(function(e){let{className:t,classes:r,pulsate:n=!1,rippleX:i,rippleY:o,rippleSize:a,in:s,onExited:l,timeout:u}=e,[c,h]=ez.useState(!1),d=(0,tE.default)(t,r.ripple,r.rippleVisible,n&&r.ripplePulsate),f=(0,tE.default)(r.child,c&&r.childLeaving,n&&r.childPulsate);return s||c||h(!0),ez.useEffect(()=>{if(!s&&null!=l){let e=setTimeout(l,u);return()=>{clearTimeout(e)}}},[l,s,u]),(0,ej.jsx)("span",{className:d,style:{width:a,height:a,top:-(a/2)+o,left:-(a/2)+i},children:(0,ej.jsx)("span",{className:f})})},{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${s2.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${s5};
    animation-duration: ${550}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${s2.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${s2.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${s2.childLeaving} {
    opacity: 0;
    animation-name: ${s3};
    animation-duration: ${550}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${s2.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${s4};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,s9=ez.forwardRef(function(e,t){let{center:r=!1,classes:n={},className:i,...o}=iY({props:e,name:"MuiTouchRipple"}),[a,s]=ez.useState([]),l=ez.useRef(0),u=ez.useRef(null);ez.useEffect(()=>{u.current&&(u.current(),u.current=null)},[a]);let c=ez.useRef(!1),h=aE(),d=ez.useRef(null),f=ez.useRef(null),p=ez.useCallback(e=>{let{pulsate:t,rippleX:r,rippleY:i,rippleSize:o,cb:a}=e;s(e=>[...e,(0,ej.jsx)(s8,{classes:{ripple:(0,tE.default)(n.ripple,s2.ripple),rippleVisible:(0,tE.default)(n.rippleVisible,s2.rippleVisible),ripplePulsate:(0,tE.default)(n.ripplePulsate,s2.ripplePulsate),child:(0,tE.default)(n.child,s2.child),childLeaving:(0,tE.default)(n.childLeaving,s2.childLeaving),childPulsate:(0,tE.default)(n.childPulsate,s2.childPulsate)},timeout:550,pulsate:t,rippleX:r,rippleY:i,rippleSize:o},l.current)]),l.current+=1,u.current=a},[n]),g=ez.useCallback((e={},t={},n=()=>{})=>{let i,o,a,{pulsate:s=!1,center:l=r||t.pulsate,fakeElement:u=!1}=t;if(e?.type==="mousedown"&&c.current){c.current=!1;return}e?.type==="touchstart"&&(c.current=!0);let g=u?null:f.current,m=g?g.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(!l&&void 0!==e&&(0!==e.clientX||0!==e.clientY)&&(e.clientX||e.touches)){let{clientX:t,clientY:r}=e.touches&&e.touches.length>0?e.touches[0]:e;i=Math.round(t-m.left),o=Math.round(r-m.top)}else i=Math.round(m.width/2),o=Math.round(m.height/2);l?(a=Math.sqrt((2*m.width**2+m.height**2)/3))%2==0&&(a+=1):a=Math.sqrt((2*Math.max(Math.abs((g?g.clientWidth:0)-i),i)+2)**2+(2*Math.max(Math.abs((g?g.clientHeight:0)-o),o)+2)**2),e?.touches?null===d.current&&(d.current=()=>{p({pulsate:s,rippleX:i,rippleY:o,rippleSize:a,cb:n})},h.start(80,()=>{d.current&&(d.current(),d.current=null)})):p({pulsate:s,rippleX:i,rippleY:o,rippleSize:a,cb:n})},[r,p,h]),m=ez.useCallback(()=>{g({},{pulsate:!0})},[g]),y=ez.useCallback((e,t)=>{if(h.clear(),e?.type==="touchend"&&d.current){d.current(),d.current=null,h.start(0,()=>{y(e,t)});return}d.current=null,s(e=>e.length>0?e.slice(1):e),u.current=t},[h]);return ez.useImperativeHandle(t,()=>({pulsate:m,start:g,stop:y}),[m,g,y]),(0,ej.jsx)(s6,{className:(0,tE.default)(s2.root,n.root,i),ref:f,...o,children:(0,ej.jsx)(s1,{component:null,exit:!0,children:a})})});function s7(e){return oC("MuiButtonBase",e)}let le=ok("MuiButtonBase",["root","disabled","focusVisible"]),lt=iQ("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${le.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),lr=ez.forwardRef(function(e,t){let r=iY({props:e,name:"MuiButtonBase"}),{action:n,centerRipple:i=!1,children:o,className:a,component:s="button",disabled:l=!1,disableRipple:u=!1,disableTouchRipple:c=!1,focusRipple:h=!1,focusVisibleClassName:d,LinkComponent:f="a",onBlur:p,onClick:g,onContextMenu:m,onDragLeave:y,onFocus:v,onFocusVisible:b,onKeyDown:w,onKeyUp:x,onMouseDown:S,onMouseLeave:C,onMouseUp:k,onTouchEnd:_,onTouchMove:A,onTouchStart:T,tabIndex:E=0,TouchRippleProps:I,touchRippleRef:D,type:F,...P}=r,N=ez.useRef(null),R=sJ.use(),O=i1(R.ref,D),[B,M]=ez.useState(!1);l&&B&&M(!1),ez.useImperativeHandle(n,()=>({focusVisible:()=>{M(!0),N.current.focus()}}),[]);let L=R.shouldMount&&!u&&!l;ez.useEffect(()=>{B&&h&&!u&&R.pulsate()},[u,h,B,R]);let j=ln(R,"start",S,c),z=ln(R,"stop",m,c),V=ln(R,"stop",y,c),U=ln(R,"stop",k,c),$=ln(R,"stop",e=>{B&&e.preventDefault(),C&&C(e)},c),W=ln(R,"start",T,c),q=ln(R,"stop",_,c),K=ln(R,"stop",A,c),H=ln(R,"stop",e=>{sX(e.target)||M(!1),p&&p(e)},!1),G=i5(e=>{N.current||(N.current=e.currentTarget),sX(e.target)&&(M(!0),b&&b(e)),v&&v(e)}),Q=()=>{let e=N.current;return s&&"button"!==s&&!("A"===e.tagName&&e.href)},X=i5(e=>{h&&!e.repeat&&B&&" "===e.key&&R.stop(e,()=>{R.start(e)}),e.target===e.currentTarget&&Q()&&" "===e.key&&e.preventDefault(),w&&w(e),e.target===e.currentTarget&&Q()&&"Enter"===e.key&&!l&&(e.preventDefault(),g&&g(e))}),J=i5(e=>{h&&" "===e.key&&B&&!e.defaultPrevented&&R.stop(e,()=>{R.pulsate(e)}),x&&x(e),g&&e.target===e.currentTarget&&Q()&&" "===e.key&&!e.defaultPrevented&&g(e)}),Y=s;"button"===Y&&(P.href||P.to)&&(Y=f);let Z={};if("button"===Y){let e=!!P.formAction;Z.type=void 0!==F||e?F:"button",Z.disabled=l}else P.href||P.to||(Z.role="button"),l&&(Z["aria-disabled"]=l);let ee=i1(t,N),et={...r,centerRipple:i,component:s,disabled:l,disableRipple:u,disableTouchRipple:c,focusRipple:h,tabIndex:E,focusVisible:B},er=(e=>{let{disabled:t,focusVisible:r,focusVisibleClassName:n,classes:i}=e,o=tI({root:["root",t&&"disabled",r&&"focusVisible"]},s7,i);return r&&n&&(o.root+=` ${n}`),o})(et);return(0,ej.jsxs)(lt,{as:Y,className:(0,tE.default)(er.root,a),ownerState:et,onBlur:H,onClick:g,onContextMenu:z,onFocus:G,onKeyDown:X,onKeyUp:J,onMouseDown:j,onMouseLeave:$,onMouseUp:U,onDragLeave:V,onTouchEnd:q,onTouchMove:K,onTouchStart:W,ref:ee,tabIndex:l?-1:E,type:F,...Z,...P,children:[o,L?(0,ej.jsx)(s9,{ref:O,center:i,...I}):null]})});function ln(e,t,r,n=!1){return i5(i=>(r&&r(i),n||e[t](i),!0))}function li(e){return oC("MuiCircularProgress",e)}ok("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);let lo=oh`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,la=oh`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,ls="string"!=typeof lo?oc`
        animation: ${lo} 1.4s linear infinite;
      `:null,ll="string"!=typeof la?oc`
        animation: ${la} 1.4s ease-in-out infinite;
      `:null,lu=iQ("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[r.variant],t[`color${rQ(r.color)}`]]}})(oy(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:ls||{animation:`${lo} 1.4s linear infinite`}},...Object.entries(e.palette).filter(oN()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),lc=iQ("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),lh=iQ("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.circle,t[`circle${rQ(r.variant)}`],r.disableShrink&&t.circleDisableShrink]}})(oy(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink,style:ll||{animation:`${la} 1.4s ease-in-out infinite`}}]}))),ld=iQ("circle",{name:"MuiCircularProgress",slot:"Track"})(oy(({theme:e})=>({stroke:"currentColor",opacity:(e.vars||e).palette.action.activatedOpacity}))),lf=ez.forwardRef(function(e,t){let r=iY({props:e,name:"MuiCircularProgress"}),{className:n,color:i="primary",disableShrink:o=!1,enableTrackSlot:a=!1,size:s=40,style:l,thickness:u=3.6,value:c=0,variant:h="indeterminate",...d}=r,f={...r,color:i,disableShrink:o,size:s,thickness:u,value:c,variant:h,enableTrackSlot:a},p=(e=>{let{classes:t,variant:r,color:n,disableShrink:i}=e;return tI({root:["root",r,`color${rQ(n)}`],svg:["svg"],track:["track"],circle:["circle",`circle${rQ(r)}`,i&&"circleDisableShrink"]},li,t)})(f),g={},m={},y={};if("determinate"===h){let e=2*Math.PI*((44-u)/2);g.strokeDasharray=e.toFixed(3),y["aria-valuenow"]=Math.round(c),g.strokeDashoffset=`${((100-c)/100*e).toFixed(3)}px`,m.transform="rotate(-90deg)"}return(0,ej.jsx)(lu,{className:(0,tE.default)(p.root,n),style:{width:s,height:s,...m,...l},ownerState:f,ref:t,role:"progressbar",...y,...d,children:(0,ej.jsxs)(lc,{className:p.svg,ownerState:f,viewBox:"22 22 44 44",children:[a?(0,ej.jsx)(ld,{className:p.track,ownerState:f,cx:44,cy:44,r:(44-u)/2,fill:"none",strokeWidth:u,"aria-hidden":"true"}):null,(0,ej.jsx)(lh,{className:p.circle,style:g,ownerState:f,cx:44,cy:44,r:(44-u)/2,fill:"none",strokeWidth:u})]})})});function lp(e){return oC("MuiButton",e)}let lg=ok("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),lm=ez.createContext({}),ly=ez.createContext(void 0),lv=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],lb=iQ(lr,{shouldForwardProp:e=>iG(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${rQ(r.color)}`],t[`size${rQ(r.size)}`],t[`${r.variant}Size${rQ(r.size)}`],"inherit"===r.color&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth,r.loading&&t.loading]}})(oy(({theme:e})=>{let t="light"===e.palette.mode?e.palette.grey[300]:e.palette.grey[800],r="light"===e.palette.mode?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${lg.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${lg.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${lg.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${lg.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(oN()).map(([t])=>({props:{color:t},style:{"--variant-textColor":(e.vars||e).palette[t].main,"--variant-outlinedColor":(e.vars||e).palette[t].main,"--variant-outlinedBorder":e.alpha((e.vars||e).palette[t].main,.5),"--variant-containedColor":(e.vars||e).palette[t].contrastText,"--variant-containedBg":(e.vars||e).palette[t].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[t].dark,"--variant-textBg":e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[t].main,"--variant-outlinedBg":e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${lg.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${lg.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${lg.loading}`]:{color:"transparent"}}}]}})),lw=iQ("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.startIcon,r.loading&&t.startIconLoadingStart,t[`iconSize${rQ(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...lv]})),lx=iQ("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.endIcon,r.loading&&t.endIconLoadingEnd,t[`iconSize${rQ(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...lv]})),lS=iQ("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),lC=iQ("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),lk=ez.forwardRef(function(e,t){let r=ez.useContext(lm),n=ez.useContext(ly),i=iY({props:iX(r,e),name:"MuiButton"}),{children:o,color:a="primary",component:s="button",className:l,disabled:u=!1,disableElevation:c=!1,disableFocusRipple:h=!1,endIcon:d,focusVisibleClassName:f,fullWidth:p=!1,id:g,loading:m=null,loadingIndicator:y,loadingPosition:v="center",size:b="medium",startIcon:w,type:x,variant:S="text",...C}=i,k=tP(g),_=y??(0,ej.jsx)(lf,{"aria-labelledby":k,color:"inherit",size:16}),A={...i,color:a,component:s,disabled:u,disableElevation:c,disableFocusRipple:h,fullWidth:p,loading:m,loadingIndicator:_,loadingPosition:v,size:b,type:x,variant:S},T=(e=>{let{color:t,disableElevation:r,fullWidth:n,size:i,variant:o,loading:a,loadingPosition:s,classes:l}=e,u=tI({root:["root",a&&"loading",o,`${o}${rQ(t)}`,`size${rQ(i)}`,`${o}Size${rQ(i)}`,`color${rQ(t)}`,r&&"disableElevation",n&&"fullWidth",a&&`loadingPosition${rQ(s)}`],startIcon:["icon","startIcon",`iconSize${rQ(i)}`],endIcon:["icon","endIcon",`iconSize${rQ(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},lp,l);return{...l,...u}})(A),E=(w||m&&"start"===v)&&(0,ej.jsx)(lw,{className:T.startIcon,ownerState:A,children:w||(0,ej.jsx)(lC,{className:T.loadingIconPlaceholder,ownerState:A})}),I=(d||m&&"end"===v)&&(0,ej.jsx)(lx,{className:T.endIcon,ownerState:A,children:d||(0,ej.jsx)(lC,{className:T.loadingIconPlaceholder,ownerState:A})}),D="boolean"==typeof m?(0,ej.jsx)("span",{className:T.loadingWrapper,style:{display:"contents"},children:m&&(0,ej.jsx)(lS,{className:T.loadingIndicator,ownerState:A,children:_})}):null;return(0,ej.jsxs)(lb,{ownerState:A,className:(0,tE.default)(r.className,T.root,l,n||""),component:s,disabled:u||m,focusRipple:!h,focusVisibleClassName:(0,tE.default)(T.focusVisible,f),ref:t,type:x,id:m?k:g,...C,classes:T,children:[E,"end"!==v&&D,o,"end"===v&&D,I]})});function l_(e){return oC("MuiTypography",e)}ok("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);let lA={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},lT=iQ("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],"inherit"!==r.align&&t[`align${rQ(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(oy(({theme:e})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([e,t])=>"inherit"!==e&&t&&"object"==typeof t).map(([e,t])=>({props:{variant:e},style:t})),...Object.entries(e.palette).filter(oN()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette?.text||{}).filter(([,e])=>"string"==typeof e).map(([t])=>({props:{color:`text${rQ(t)}`},style:{color:(e.vars||e).palette.text[t]}})),{props:({ownerState:e})=>"inherit"!==e.align,style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),lE={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},lI=ez.forwardRef(function(e,t){let{color:r,...n}=iY({props:e,name:"MuiTypography"}),i=!lA[r],o=on({...n,...i&&{color:r}}),{align:a="inherit",className:s,component:l,gutterBottom:u=!1,noWrap:c=!1,paragraph:h=!1,variant:d="body1",variantMapping:f=lE,...p}=o,g={...o,align:a,color:r,className:s,component:l,gutterBottom:u,noWrap:c,paragraph:h,variant:d,variantMapping:f},m=l||(h?"p":f[d]||lE[d])||"span",y=(e=>{let{align:t,gutterBottom:r,noWrap:n,paragraph:i,variant:o,classes:a}=e;return tI({root:["root",o,"inherit"!==e.align&&`align${rQ(t)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]},l_,a)})(g);return(0,ej.jsx)(lT,{as:m,ref:t,className:(0,tE.default)(y.root,s),...p,ownerState:g,style:{..."inherit"!==a&&{"--Typography-textAlign":a},...p.style}})}),lD=ok("MuiBox",["root"]),lF=function(e={}){var t;let{themeId:r,defaultTheme:n,defaultClassName:i="MuiBox-root",generateClassName:o}=e,a=(t="div",rU("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e}))(nU);return ez.forwardRef(function(e,t){let s=oa(n),{className:l,component:u="div",...c}=on(e);return(0,ej.jsx)(a,{as:u,ref:t,className:(0,tE.default)(l,o?o(i):i),theme:r&&s[r]||s,...c})})}({themeId:iK,defaultTheme:iW(),defaultClassName:lD.root,generateClassName:ox.generate}),lP=nJ(),lN=nW(),lR=lP("div",{name:"MuiStack",slot:"Root"});function lO(e){return function({props:e,name:t,defaultTheme:r,themeId:n}){let i=oa(r);return n&&(i=i[n]||i),function(e){let{theme:t,name:r,props:n}=e;return t&&t.components&&t.components[r]&&t.components[r].defaultProps?iX(t.components[r].defaultProps,n):n}({theme:i,name:t,props:e})}({props:e,name:"MuiStack",defaultTheme:lN})}let lB=({ownerState:e,theme:t})=>{let r={display:"flex",flexDirection:"column",...r2({theme:t},r4({values:e.direction,breakpoints:t.breakpoints.values}),e=>({flexDirection:e}))};if(e.spacing){let n=ns(t),i=Object.keys(t.breakpoints.values).reduce((t,r)=>(("object"==typeof e.spacing&&null!=e.spacing[r]||"object"==typeof e.direction&&null!=e.direction[r])&&(t[r]=!0),t),{}),o=r4({values:e.direction,base:i}),a=r4({values:e.spacing,base:i});"object"==typeof o&&Object.keys(o).forEach((e,t,r)=>{if(!o[e]){let n=t>0?o[r[t-1]]:"column";o[e]=n}}),r=rH(r,r2({theme:t},a,(t,r)=>e.useFlexGap?{gap:nl(n,t)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[r?o[r]:e.direction]}`]:nl(n,t)}}))}return function(e,...t){let r=r5(e),n=[r,...t].reduce((e,t)=>rH(e,t),{});return r3(Object.keys(r),n)}(t.breakpoints,r)},lM=function(e={}){let{createStyledComponent:t=lR,useThemeProps:r=lO,componentName:n="MuiStack"}=e,i=t(lB);return ez.forwardRef(function(e,t){let o,{component:a="div",direction:s="column",spacing:l=0,divider:u,children:c,className:h,useFlexGap:d=!1,...f}=on(r(e)),p=tI({root:["root"]},e=>oC(n,e),{});return(0,ej.jsx)(i,{as:a,ownerState:{direction:s,spacing:l,useFlexGap:d},ref:t,className:(0,tE.default)(p.root,h),...f,children:u?(o=ez.Children.toArray(c).filter(Boolean)).reduce((e,t,r)=>(e.push(t),r<o.length-1&&e.push(ez.cloneElement(u,{key:`separator-${r}`})),e),[]):c})})}({createStyledComponent:iQ("div",{name:"MuiStack",slot:"Root"}),useThemeProps:e=>iY({props:e,name:"MuiStack"})});function lL(e){return oC("MuiDivider",e)}ok("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);let lj=iQ("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,"vertical"===r.orientation&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&"vertical"===r.orientation&&t.withChildrenVertical,"right"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignRight,"left"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignLeft]}})(oy(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.alpha((e.vars||e).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&"vertical"!==e.orientation,style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>"vertical"===e.orientation&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>"right"===e.textAlign&&"vertical"!==e.orientation,style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>"left"===e.textAlign&&"vertical"!==e.orientation,style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),lz=iQ("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.wrapper,"vertical"===r.orientation&&t.wrapperVertical]}})(oy(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),lV=ez.forwardRef(function(e,t){let r=iY({props:e,name:"MuiDivider"}),{absolute:n=!1,children:i,className:o,orientation:a="horizontal",component:s=i||"vertical"===a?"div":"hr",flexItem:l=!1,light:u=!1,role:c="hr"!==s?"separator":void 0,textAlign:h="center",variant:d="fullWidth",...f}=r,p={...r,absolute:n,component:s,flexItem:l,light:u,orientation:a,role:c,textAlign:h,variant:d},g=(e=>{let{absolute:t,children:r,classes:n,flexItem:i,light:o,orientation:a,textAlign:s,variant:l}=e;return tI({root:["root",t&&"absolute",l,o&&"light","vertical"===a&&"vertical",i&&"flexItem",r&&"withChildren",r&&"vertical"===a&&"withChildrenVertical","right"===s&&"vertical"!==a&&"textAlignRight","left"===s&&"vertical"!==a&&"textAlignLeft"],wrapper:["wrapper","vertical"===a&&"wrapperVertical"]},lL,n)})(p);return(0,ej.jsx)(lj,{as:s,className:(0,tE.default)(g.root,o),role:c,ref:t,ownerState:p,"aria-orientation":"separator"===c&&("hr"!==s||"vertical"===a)?a:void 0,...f,children:i?(0,ej.jsx)(lz,{className:g.wrapper,ownerState:p,children:i}):null})});function lU(e){return oC("PrivateSwitchBase",e)}lV&&(lV.muiSkipListHighlight=!0),ok("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);let l$=iQ(lr,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>"start"===e&&"small"!==t.size,style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>"end"===e&&"small"!==t.size,style:{marginRight:-12}}]}),lW=iQ("input",{name:"MuiSwitchBase",shouldForwardProp:iG})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),lq=ez.forwardRef(function(e,t){let{autoFocus:r,checked:n,checkedIcon:i,defaultChecked:o,disabled:a,disableFocusRipple:s=!1,edge:l=!1,icon:u,id:c,inputProps:h,inputRef:d,name:f,onBlur:p,onChange:g,onFocus:m,readOnly:y,required:v=!1,tabIndex:b,type:w,value:x,slots:S={},slotProps:C={},...k}=e,[_,A]=sI({controlled:n,default:!!o,name:"SwitchBase",state:"checked"}),T=or(),E=a;T&&void 0===E&&(E=T.disabled);let I="checkbox"===w||"radio"===w,D={...e,checked:_,disabled:E,disableFocusRipple:s,edge:l},F=(e=>{let{classes:t,checked:r,disabled:n,edge:i}=e;return tI({root:["root",r&&"checked",n&&"disabled",i&&`edge${rQ(i)}`],input:["input"]},lU,t)})(D),P={slots:S,slotProps:{input:h,...C}},[N,R]=oZ("root",{ref:t,elementType:l$,className:F.root,shouldForwardComponentProp:!0,externalForwardedProps:{...P,component:"span",...k},getSlotProps:e=>({...e,onFocus:t=>{e.onFocus?.(t),m&&m(t),T&&T.onFocus&&T.onFocus(t)},onBlur:t=>{e.onBlur?.(t),p&&p(t),T&&T.onBlur&&T.onBlur(t)}}),ownerState:D,additionalProps:{centerRipple:!0,focusRipple:!s,disabled:E,role:void 0,tabIndex:null}}),[O,B]=oZ("input",{ref:d,elementType:lW,className:F.input,externalForwardedProps:P,getSlotProps:e=>({...e,onChange:t=>{e.onChange?.(t),(e=>{if(e.nativeEvent.defaultPrevented||y)return;let t=e.target.checked;A(t),g&&g(e,t)})(t)}}),ownerState:D,additionalProps:{autoFocus:r,checked:n,defaultChecked:o,disabled:E,id:I?c:void 0,name:f,readOnly:y,required:v,tabIndex:b,type:w,..."checkbox"===w&&void 0===x?{}:{value:x}}});return(0,ej.jsxs)(N,{...R,children:[(0,ej.jsx)(O,{...B}),_?i:u]})});function lK(e){return oC("MuiSwitch",e)}let lH=ok("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),lG=iQ("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.edge&&t[`edge${rQ(r.edge)}`],t[`size${rQ(r.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${lH.thumb}`]:{width:16,height:16},[`& .${lH.switchBase}`]:{padding:4,[`&.${lH.checked}`]:{transform:"translateX(16px)"}}}}]}),lQ=iQ(lq,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.switchBase,{[`& .${lH.input}`]:t.input},"default"!==r.color&&t[`color${rQ(r.color)}`]]}})(oy(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${"light"===e.palette.mode?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${lH.checked}`]:{transform:"translateX(20px)"},[`&.${lH.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${lH.checked} + .${lH.track}`]:{opacity:.5},[`&.${lH.disabled} + .${lH.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${"light"===e.palette.mode?.12:.2}`},[`& .${lH.input}`]:{left:"-100%",width:"300%"}})),oy(({theme:e})=>({"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(oN(["light"])).map(([t])=>({props:{color:t},style:{[`&.${lH.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${lH.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${"light"===e.palette.mode?e.lighten(e.palette[t].main,.62):e.darken(e.palette[t].main,.55)}`}},[`&.${lH.checked} + .${lH.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]}))),lX=iQ("span",{name:"MuiSwitch",slot:"Track"})(oy(({theme:e})=>({height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${"light"===e.palette.mode?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${"light"===e.palette.mode?.38:.3}`}))),lJ=iQ("span",{name:"MuiSwitch",slot:"Thumb"})(oy(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),lY=ez.forwardRef(function(e,t){let r=iY({props:e,name:"MuiSwitch"}),{className:n,color:i="primary",edge:o=!1,size:a="medium",sx:s,slots:l={},slotProps:u={},...c}=r,h={...r,color:i,edge:o,size:a},d=(e=>{let{classes:t,edge:r,size:n,color:i,checked:o,disabled:a}=e,s=tI({root:["root",r&&`edge${rQ(r)}`,`size${rQ(n)}`],switchBase:["switchBase",`color${rQ(i)}`,o&&"checked",a&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},lK,t);return{...t,...s}})(h),f={slots:l,slotProps:u},[p,g]=oZ("root",{className:(0,tE.default)(d.root,n),elementType:lG,externalForwardedProps:f,ownerState:h,additionalProps:{sx:s}}),[m,y]=oZ("thumb",{className:d.thumb,elementType:lJ,externalForwardedProps:f,ownerState:h}),v=(0,ej.jsx)(m,{...y}),[b,w]=oZ("track",{className:d.track,elementType:lX,externalForwardedProps:f,ownerState:h});return(0,ej.jsxs)(p,{...g,children:[(0,ej.jsx)(lQ,{type:"checkbox",icon:v,checkedIcon:v,ref:t,ownerState:h,...c,classes:{...d,root:d.switchBase},slots:{...l.switchBase&&{root:l.switchBase},...l.input&&{input:l.input}},slotProps:{...u.switchBase&&{root:"function"==typeof u.switchBase?u.switchBase(h):u.switchBase},input:{role:"switch"},...u.input&&{input:"function"==typeof u.input?u.input(h):u.input}}}),(0,ej.jsx)(b,{...w})]})});function lZ(e){return oC("MuiFormControlLabel",e)}let l0=ok("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),l1=iQ("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[{[`& .${l0.label}`]:t.label},t.root,t[`labelPlacement${rQ(r.labelPlacement)}`]]}})(oy(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${l0.disabled}`]:{cursor:"default"},[`& .${l0.label}`]:{[`&.${l0.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>"start"===e||"top"===e||"bottom"===e,style:{marginLeft:16}}]}))),l2=iQ("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(oy(({theme:e})=>({[`&.${l0.error}`]:{color:(e.vars||e).palette.error.main}}))),l5=ez.forwardRef(function(e,t){let r=iY({props:e,name:"MuiFormControlLabel"}),{checked:n,className:i,componentsProps:o={},control:a,disabled:s,disableTypography:l,inputRef:u,label:c,labelPlacement:h="end",name:d,onChange:f,required:p,slots:g={},slotProps:m={},value:y,...v}=r,b=or(),w=s??a.props.disabled??b?.disabled,x=p??a.props.required,S={disabled:w,required:x};["checked","name","onChange","value","inputRef"].forEach(e=>{void 0===a.props[e]&&void 0!==r[e]&&(S[e]=r[e])});let C=oe({props:r,muiFormControl:b,states:["error"]}),k={...r,disabled:w,labelPlacement:h,required:x,error:C.error},_=(e=>{let{classes:t,disabled:r,labelPlacement:n,error:i,required:o}=e;return tI({root:["root",r&&"disabled",`labelPlacement${rQ(n)}`,i&&"error",o&&"required"],label:["label",r&&"disabled"],asterisk:["asterisk",i&&"error"]},lZ,t)})(k),[A,T]=oZ("typography",{elementType:lI,externalForwardedProps:{slots:g,slotProps:{...o,...m}},ownerState:k}),E=c;return null==E||E.type===lI||l||(E=(0,ej.jsx)(A,{component:"span",...T,className:(0,tE.default)(_.label,T?.className),children:E})),(0,ej.jsxs)(l1,{className:(0,tE.default)(_.root,i),ownerState:k,ref:t,...v,children:[ez.cloneElement(a,S),x?(0,ej.jsxs)("div",{children:[E,(0,ej.jsxs)(l2,{ownerState:k,"aria-hidden":!0,className:_.asterisk,children:["","*"]})]}):E]})});var l3=function(e,t){return(l3=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function l4(e,t){function r(){this.constructor=e}l3(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var l6=function(){return(l6=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function l8(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})}function l9(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){var l=[o,s];if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&l[0]?n.return:l[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,l[1])).done)return i;switch(n=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,n=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===l[0]||2===l[0])){a=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){a.label=l[1];break}if(6===l[0]&&a.label<i[1]){a.label=i[1],i=l;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(l);break}i[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(e){l=[6,e],n=0}finally{r=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}function l7(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}for(var ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ut=new Uint8Array(256),ur=0;ur<ue.length;ur++)ut[ue.charCodeAt(ur)]=ur;var un=function(e){for(var t="",r=e.length,n=0;n<r;n+=3)t+=ue[e[n]>>2],t+=ue[(3&e[n])<<4|e[n+1]>>4],t+=ue[(15&e[n+1])<<2|e[n+2]>>6],t+=ue[63&e[n+2]];return r%3==2?t=t.substring(0,t.length-1)+"=":r%3==1&&(t=t.substring(0,t.length-2)+"=="),t},ui=function(e){var t,r,n,i,o,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new Uint8Array(a);for(t=0;t<s;t+=4)r=ut[e.charCodeAt(t)],n=ut[e.charCodeAt(t+1)],i=ut[e.charCodeAt(t+2)],o=ut[e.charCodeAt(t+3)],u[l++]=r<<2|n>>4,u[l++]=(15&n)<<4|i>>2,u[l++]=(3&i)<<6|63&o;return u},uo=/^(data)?:?([\w\/\+]+)?;?(charset=[\w-]+|base64)?.*,/i,ua=function(e){var t=e.trim(),r=t.substring(0,100).match(uo);if(!r)return ui(t);var n=r[0];return ui(t.substring(n.length))},us=function(e){return e.charCodeAt(0)},ul=function(e,t){return uh(e.toString(16),t,"0").toUpperCase()},uu=function(e){return ul(e,2)},uc=function(e){return String.fromCharCode(e)},uh=function(e,t,r){for(var n="",i=0,o=t-e.length;i<o;i++)n+=r;return n+e},ud=function(e,t,r){for(var n=e.length,i=0;i<n;i++)t[r++]=e.charCodeAt(i);return n},uf=function(e){return e.replace(/\t|\u0085|\u2028|\u2029/g,"    ").replace(/[\b\v]/g,"")},up=["\\n","\\f","\\r","\\u000B"],ug=function(e){return/^[\n\f\r\u000B]$/.test(e)},um=function(e){return e.split(/[\n\f\r\u000B]/)},uy=function(e){return e.replace(/[\n\f\r\u000B]/g," ")},uv=function(e,t){var r,n=e.charCodeAt(t),i=t+1,o=1;return n>=55296&&n<=56319&&e.length>i&&(r=e.charCodeAt(i))>=56320&&r<=57343&&(o=2),[e.slice(t,t+o),o]},ub=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=uv(e,r),o=i[0],a=i[1];t.push(o),r+=a}return t},uw=function(e){for(var t=up.join("|"),r=["$"],n=0,i=e.length;n<i;n++){var o=e[n];if(ug(o))throw TypeError("`wordBreak` must not include "+t);r.push(""===o?".":o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))}return RegExp("("+t+")|((.*?)("+r.join("|")+"))","gm")},ux=function(e,t,r,n){for(var i=uw(t),o=uf(e).match(i),a="",s=0,l=[],u=function(){""!==a&&l.push(a),a="",s=0},c=0,h=o.length;c<h;c++){var d=o[c];if(ug(d))u();else{var f=n(d);s+f>r&&u(),a+=d,s+=f}}return u(),l},uS=/^D:(\d\d\d\d)(\d\d)?(\d\d)?(\d\d)?(\d\d)?(\d\d)?([+\-Z])?(\d\d)?'?(\d\d)?'?$/,uC=function(e){var t=e.match(uS);if(t){var r=t[1],n=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=void 0===l?"Z":l,c=t[8],h=t[9];return new Date(r+"-"+(void 0===n?"01":n)+"-"+(void 0===i?"01":i)+"T"+(void 0===o?"00":o)+":"+(void 0===a?"00":a)+":"+(void 0===s?"00":s)+("Z"===u?"Z":""+u+(void 0===c?"00":c)+":"+(void 0===h?"00":h)))}},uk=function(e,t){for(var r,n,i=0;i<e.length;){var o=e.substring(i).match(t);if(!o)break;n=o,i+=(null!=(r=o.index)?r:0)+o[0].length}return{match:n,pos:i}},u_=function(e){return e[e.length-1]},uA=function(e){if(e instanceof Uint8Array)return e;for(var t=e.length,r=new Uint8Array(t),n=0;n<t;n++)r[n]=e.charCodeAt(n);return r},uT=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=e.length,n=[],i=0;i<r;i++){var o=e[i];n[i]=o instanceof Uint8Array?o:uA(o)}for(var a=0,i=0;i<r;i++)a+=e[i].length;for(var s=new Uint8Array(a),l=0,u=0;u<r;u++)for(var c=n[u],h=0,d=c.length;h<d;h++)s[l++]=c[h];return s},uE=function(e){for(var t=0,r=0,n=e.length;r<n;r++)t+=e[r].length;for(var i=new Uint8Array(t),o=0,r=0,n=e.length;r<n;r++){var a=e[r];i.set(a,o),o+=a.length}return i},uI=function(e){for(var t="",r=0,n=e.length;r<n;r++)t+=uc(e[r]);return t},uD=function(e,t){return e.id-t.id},uF=function(e,t){for(var r=[],n=0,i=e.length;n<i;n++){var o=e[n],a=e[n-1];(0===n||t(o)!==t(a))&&r.push(o)}return r},uP=function(e){for(var t=e.length,r=0,n=Math.floor(t/2);r<n;r++){var i=r,o=t-r-1,a=e[r];e[i]=e[o],e[o]=a}return e},uN=function(e){for(var t=0,r=0,n=e.length;r<n;r++)t+=e[r];return t},uR=function(e,t){for(var r=Array(t-e),n=0,i=r.length;n<i;n++)r[n]=e+n;return r},uO=function(e,t){for(var r=Array(t.length),n=0,i=t.length;n<i;n++)r[n]=e[t[n]];return r},uB=function(e){if("string"==typeof e)return ua(e);if(e instanceof ArrayBuffer)return new Uint8Array(e);if(e instanceof Uint8Array)return e;throw TypeError("`input` must be one of `string | ArrayBuffer | Uint8Array`")},uM=function(){return new Promise(function(e){setTimeout(function(){return e()},0)})},uL=function(e,t){void 0===t&&(t=!0);var r=[];t&&r.push(65279);for(var n=0,i=e.length;n<i;){var o=e.codePointAt(n);if(o<65536)r.push(o),n+=1;else if(o<1114112)r.push(uj(o),uz(o)),n+=2;else throw Error("Invalid code point: 0x"+uu(o))}return new Uint16Array(r)},uj=function(e){return Math.floor((e-65536)/1024)+55296},uz=function(e){return(e-65536)%1024+56320};(p=J||(J={})).BigEndian="BigEndian",p.LittleEndian="LittleEndian";for(var uV=function(e,t){if(void 0===t&&(t=!0),e.length<=1)return String.fromCodePoint(65533);for(var r=t?uq(e):J.BigEndian,n=2*!!t,i=[];e.length-n>=2;){var o=uW(e[n++],e[n++],r);if(uU(o))if(e.length-n<2)i.push(65533);else{var a=uW(e[n++],e[n++],r);u$(a)?i.push(o,a):i.push(65533)}else u$(o)?(n+=2,i.push(65533)):i.push(o)}return n<e.length&&i.push(65533),String.fromCodePoint.apply(String,i)},uU=function(e){return e>=55296&&e<=56319},u$=function(e){return e>=56320&&e<=57343},uW=function(e,t,r){if(r===J.LittleEndian)return t<<8|e;if(r===J.BigEndian)return e<<8|t;throw Error("Invalid byteOrder: "+r)},uq=function(e){return uK(e)?J.BigEndian:uH(e)?J.LittleEndian:J.BigEndian},uK=function(e){return 254===e[0]&&255===e[1]},uH=function(e){return 255===e[0]&&254===e[1]},uG=function(e){return uK(e)||uH(e)},uQ=function(e){var t=String(e);if(1>Math.abs(e)){var r=parseInt(e.toString().split("e-")[1]);if(r){var n=e<0;n&&(e*=-1),e*=Math.pow(10,r-1),t="0."+Array(r).join("0")+e.toString().substring(2),n&&(t="-"+t)}}else{var r=parseInt(e.toString().split("+")[1]);r>20&&(r-=20,e/=Math.pow(10,r),t=e.toString()+Array(r+1).join("0"))}return t},uX=function(e){return Math.ceil(e.toString(2).length/8)},uJ=function(e){for(var t=new Uint8Array(uX(e)),r=1;r<=t.length;r++)t[r-1]=e>>(t.length-r)*8;return t},uY=function(e){throw Error(e)},uZ=e.i(9643),u0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u1=new Uint8Array(256),u2=0;u2<u0.length;u2++)u1[u0.charCodeAt(u2)]=u2;var u5=function(e){var t,r,n,i,o,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new Uint8Array(a);for(t=0;t<s;t+=4)r=u1[e.charCodeAt(t)],n=u1[e.charCodeAt(t+1)],i=u1[e.charCodeAt(t+2)],o=u1[e.charCodeAt(t+3)],u[l++]=r<<2|n>>4,u[l++]=(15&n)<<4|i>>2,u[l++]=(3&i)<<6|63&o;return u},u3=function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},u4=function(e){return u3(uZ.default.inflate(u5(e)))},u6=function(e,t,r){for(var n="",i=0,o=t-e.length;i<o;i++)n+=r;return n+e},u8=e.i(48322),u9=e.i(64216),u7=e.i(87591),ce=e.i(48353),ct=e.i(68564),cr=e.i(63566),cn=e.i(18783),ci=e.i(56510),co=e.i(47934),ca=e.i(40501),cs=e.i(99276),cl=e.i(56608),cu=e.i(74703),cc=e.i(1914),ch={Courier:ce.default,"Courier-Bold":u8.default,"Courier-Oblique":u7.default,"Courier-BoldOblique":u9.default,Helvetica:ci.default,"Helvetica-Bold":ct.default,"Helvetica-Oblique":cn.default,"Helvetica-BoldOblique":cr.default,"Times-Roman":cl.default,"Times-Bold":co.default,"Times-Italic":cs.default,"Times-BoldItalic":ca.default,Symbol:cu.default,ZapfDingbats:cc.default};(g=Y||(Y={})).Courier="Courier",g.CourierBold="Courier-Bold",g.CourierOblique="Courier-Oblique",g.CourierBoldOblique="Courier-BoldOblique",g.Helvetica="Helvetica",g.HelveticaBold="Helvetica-Bold",g.HelveticaOblique="Helvetica-Oblique",g.HelveticaBoldOblique="Helvetica-BoldOblique",g.TimesRoman="Times-Roman",g.TimesRomanBold="Times-Bold",g.TimesRomanItalic="Times-Italic",g.TimesRomanBoldItalic="Times-BoldItalic",g.Symbol="Symbol",g.ZapfDingbats="ZapfDingbats";for(var cd={},cf=function(){function e(){var e=this;this.getWidthOfGlyph=function(t){return e.CharWidths[t]},this.getXAxisKerningForPair=function(t,r){return(e.KernPairXAmounts[t]||{})[r]}}return e.load=function(t){var r=cd[t];if(r)return r;var n=u4(ch[t]),i=Object.assign(new e,JSON.parse(n));return i.CharWidths=i.CharMetrics.reduce(function(e,t){return e[t.N]=t.WX,e},{}),i.KernPairXAmounts=i.KernPairs.reduce(function(e,t){var r=t[0],n=t[1],i=t[2];return e[r]||(e[r]={}),e[r][n]=i,e},{}),cd[t]=i,i},e}(),cp=JSON.parse(u4(e.i(56707).default)),cg=function(e,t){var r=this;this.canEncodeUnicodeCodePoint=function(e){return e in r.unicodeMappings},this.encodeUnicodeCodePoint=function(e){var t=r.unicodeMappings[e];if(!t){var n=String.fromCharCode(e),i="0x"+u6(e.toString(16),4,"0");throw Error(r.name+' cannot encode "'+n+'" ('+i+")")}return{code:t[0],name:t[1]}},this.name=e,this.supportedCodePoints=Object.keys(t).map(Number).sort(function(e,t){return e-t}),this.unicodeMappings=t},cm={Symbol:new cg("Symbol",cp.symbol),ZapfDingbats:new cg("ZapfDingbats",cp.zapfdingbats),WinAnsi:new cg("WinAnsi",cp.win1252)},cy=function(e){return Object.keys(e).map(function(t){return e[t]})},cv=cy(Y),cb=function(e){return cv.includes(e)},cw=function(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height},cx=function(e){return"`"+e+"`"},cS=function(e){var t=typeof e;return"string"===t?"'"+e+"'":"undefined"===t?cx(e):e},cC=function(e,t,r){for(var n=Array(r.length),i=0,o=r.length;i<o;i++){var a=r[i];n[i]=cS(a)}var s=n.join(" or ");return cx(t)+" must be one of "+s+", but was actually "+cS(e)},ck=function(e,t,r){Array.isArray(r)||(r=cy(r));for(var n=0,i=r.length;n<i;n++)if(e===r[n])return;throw TypeError(cC(e,t,r))},c_=function(e,t,r){Array.isArray(r)||(r=cy(r)),ck(e,t,r.concat(void 0))},cA=function(e,t,r){Array.isArray(r)||(r=cy(r));for(var n=0,i=e.length;n<i;n++)ck(e[n],t,r)},cT=function(e,t,r){for(var n=Array(r.length),i=0,o=r.length;i<o;i++){var a=r[i];"null"===a&&(n[i]=cx("null")),"undefined"===a&&(n[i]=cx("undefined")),"string"===a?n[i]=cx("string"):"number"===a?n[i]=cx("number"):"boolean"===a?n[i]=cx("boolean"):"symbol"===a?n[i]=cx("symbol"):"bigint"===a?n[i]=cx("bigint"):a===Array?n[i]=cx("Array"):a===Uint8Array?n[i]=cx("Uint8Array"):a===ArrayBuffer?n[i]=cx("ArrayBuffer"):n[i]=cx(a[1])}var s=n.join(" or ");return cx(t)+" must be of type "+s+", but was actually of type "+cx(null===e?"null":void 0===e?"undefined":"string"==typeof e?"string":isNaN(e)?"NaN":"number"==typeof e?"number":"boolean"==typeof e?"boolean":"symbol"==typeof e?"symbol":"bigint"==typeof e?"bigint":e.constructor&&e.constructor.name?e.constructor.name:e.name?e.name:e.constructor?String(e.constructor):String(e))},cE=function(e,t,r){for(var n,i=0,o=r.length;i<o;i++)if("null"===(n=r[i])?null===e:"undefined"===n?void 0===e:"string"===n?"string"==typeof e:"number"===n?"number"==typeof e&&!isNaN(e):"boolean"===n?"boolean"==typeof e:"symbol"===n?"symbol"==typeof e:"bigint"===n?"bigint"==typeof e:n===Date?e instanceof Date:n===Array?e instanceof Array:n===Uint8Array?e instanceof Uint8Array:n===ArrayBuffer?e instanceof ArrayBuffer:n===Function?e instanceof Function:e instanceof n[0])return;throw TypeError(cT(e,t,r))},cI=function(e,t,r){cE(e,t,r.concat("undefined"))},cD=function(e,t,r){for(var n=0,i=e.length;n<i;n++)cE(e[n],t,r)},cF=function(e,t,r,n){if(cE(e,t,["number"]),cE(r,"min",["number"]),cE(n,"max",["number"]),n=Math.max(r,n),e<r||e>n)throw Error(cx(t)+" must be at least "+r+" and at most "+n+", but was actually "+e)},cP=function(e,t,r,n){cE(e,t,["number","undefined"]),"number"==typeof e&&cF(e,t,r,n)},cN=function(e,t,r){if(cE(e,t,["number"]),e%r!=0)throw Error(cx(t)+" must be a multiple of "+r+", but was actually "+e)},cR=function(e,t){if(!Number.isInteger(e))throw Error(cx(t)+" must be an integer, but was actually "+e)},cO=function(e,t){if(![1,0].includes(Math.sign(e)))throw Error(cx(t)+" must be a positive number or 0, but was actually "+e)},cB=new Uint16Array(256),cM=0;cM<256;cM++)cB[cM]=cM;cB[22]=us("\x17"),cB[24]=us(""),cB[25]=us(""),cB[26]=us(""),cB[27]=us(""),cB[28]=us(""),cB[29]=us(""),cB[30]=us(""),cB[31]=us(""),cB[127]=us(""),cB[128]=us(""),cB[129]=us(""),cB[130]=us(""),cB[131]=us(""),cB[132]=us(""),cB[133]=us(""),cB[134]=us(""),cB[135]=us(""),cB[136]=us(""),cB[137]=us(""),cB[138]=us(""),cB[139]=us(""),cB[140]=us(""),cB[141]=us(""),cB[142]=us(""),cB[143]=us(""),cB[144]=us(""),cB[145]=us(""),cB[146]=us(""),cB[147]=us(""),cB[148]=us(""),cB[149]=us(""),cB[150]=us(""),cB[151]=us(""),cB[152]=us(""),cB[153]=us(""),cB[154]=us(""),cB[155]=us(""),cB[156]=us(""),cB[157]=us(""),cB[158]=us(""),cB[159]=us(""),cB[160]=us(""),cB[173]=us("");var cL=function(e){for(var t=Array(e.length),r=0,n=e.length;r<n;r++)t[r]=cB[e[r]];return String.fromCodePoint.apply(String,t)},cj=function(){function e(e){this.populate=e,this.value=void 0}return e.prototype.getValue=function(){return this.value},e.prototype.access=function(){return this.value||(this.value=this.populate()),this.value},e.prototype.invalidate=function(){this.value=void 0},e.populatedBy=function(t){return new e(t)},e}(),cz=function(e){function t(t,r){return e.call(this,"Method "+t+"."+r+"() not implemented")||this}return l4(t,e),t}(Error),cV=function(e){function t(t){return e.call(this,"Cannot construct "+t+" - it has a private constructor")||this}return l4(t,e),t}(Error),cU=function(e){function t(t,r){var n=function(e){var t,r;return null!=(t=null==e?void 0:e.name)?t:null==(r=null==e?void 0:e.constructor)?void 0:r.name},i="Expected instance of "+(Array.isArray(t)?t.map(n):[n(t)]).join(" or ")+", but got instance of "+(r?n(r):r);return e.call(this,i)||this}return l4(t,e),t}(Error),c$=function(e){function t(t){return e.call(this,t+" stream encoding not supported")||this}return l4(t,e),t}(Error),cW=function(e){function t(t,r){return e.call(this,"Cannot call "+t+"."+r+"() more than once")||this}return l4(t,e),t}(Error);l4(function(e){return m.call(this,"Missing catalog (ref="+e+")")||this},m=Error);var cq=function(e){function t(){return e.call(this,"Can't embed page with missing Contents")||this}return l4(t,e),t}(Error),cK=function(e){function t(t){var r,n,i,o=null!=(i=null!=(n=null==(r=null==t?void 0:t.contructor)?void 0:r.name)?n:null==t?void 0:t.name)?i:t;return e.call(this,"Unrecognized stream type: "+o)||this}return l4(t,e),t}(Error),cH=function(e){function t(){return e.call(this,"Found mismatched contexts while embedding pages. All pages in the array passed to `PDFDocument.embedPages()` must be from the same document.")||this}return l4(t,e),t}(Error),cG=function(e){function t(t){return e.call(this,"Attempted to convert PDFArray with "+t+" elements to rectangle, but must have exactly 4 elements.")||this}return l4(t,e),t}(Error),cQ=function(e){function t(t){return e.call(this,'Attempted to convert "'+t+'" to a date, but it does not match the PDF date string format.')||this}return l4(t,e),t}(Error),cX=function(e){function t(t,r){return e.call(this,"Invalid targetIndex specified: targetIndex="+t+" must be less than Count="+r)||this}return l4(t,e),t}(Error),cJ=function(e){function t(t,r){return e.call(this,"Failed to "+r+" at targetIndex="+t+" due to corrupt page tree: It is likely that one or more 'Count' entries are invalid")||this}return l4(t,e),t}(Error),cY=function(e){function t(t,r,n){return e.call(this,"index should be at least "+r+" and at most "+n+", but was actually "+t)||this}return l4(t,e),t}(Error),cZ=function(e){function t(){return e.call(this,"Attempted to set invalid field value")||this}return l4(t,e),t}(Error),c0=function(e){function t(){return e.call(this,"Attempted to select multiple values for single-select field")||this}return l4(t,e),t}(Error),c1=function(e){function t(t){return e.call(this,"No /DA (default appearance) entry found for field: "+t)||this}return l4(t,e),t}(Error),c2=function(e){function t(t){return e.call(this,"No Tf operator found for DA of field: "+t)||this}return l4(t,e),t}(Error),c5=function(e){function t(t,r){var n="Failed to parse number "+("(line:"+t.line+" col:"+t.column+" offset="+t.offset+'): "')+r+'"';return e.call(this,n)||this}return l4(t,e),t}(Error),c3=function(e){function t(t,r){var n="Failed to parse PDF document "+("(line:"+t.line+" col:"+t.column+" offset="+t.offset)+"): "+r;return e.call(this,n)||this}return l4(t,e),t}(Error),c4=function(e){function t(t,r,n){return e.call(this,t,"Expected next byte to be "+r+" but it was actually "+n)||this}return l4(t,e),t}(c3),c6=function(e){function t(t,r){return e.call(this,t,"Failed to parse PDF object starting with the following byte: "+r)||this}return l4(t,e),t}(c3),c8=function(e){function t(t){return e.call(this,t,"Failed to parse invalid PDF object")||this}return l4(t,e),t}(c3),c9=function(e){function t(t){return e.call(this,t,"Failed to parse PDF stream")||this}return l4(t,e),t}(c3),c7=function(e){function t(t){return e.call(this,t,"Failed to parse PDF literal string due to unbalanced parenthesis")||this}return l4(t,e),t}(c3),he=function(e){function t(t){return e.call(this,t,"Parser stalled")||this}return l4(t,e),t}(c3),ht=function(e){function t(t){return e.call(this,t,"No PDF header found")||this}return l4(t,e),t}(c3),hr=function(e){function t(t,r){var n="Did not find expected keyword '"+uI(r)+"'";return e.call(this,t,n)||this}return l4(t,e),t}(c3);(y=Z||(Z={}))[y.Null=0]="Null",y[y.Backspace=8]="Backspace",y[y.Tab=9]="Tab",y[y.Newline=10]="Newline",y[y.FormFeed=12]="FormFeed",y[y.CarriageReturn=13]="CarriageReturn",y[y.Space=32]="Space",y[y.ExclamationPoint=33]="ExclamationPoint",y[y.Hash=35]="Hash",y[y.Percent=37]="Percent",y[y.LeftParen=40]="LeftParen",y[y.RightParen=41]="RightParen",y[y.Plus=43]="Plus",y[y.Minus=45]="Minus",y[y.Dash=45]="Dash",y[y.Period=46]="Period",y[y.ForwardSlash=47]="ForwardSlash",y[y.Zero=48]="Zero",y[y.One=49]="One",y[y.Two=50]="Two",y[y.Three=51]="Three",y[y.Four=52]="Four",y[y.Five=53]="Five",y[y.Six=54]="Six",y[y.Seven=55]="Seven",y[y.Eight=56]="Eight",y[y.Nine=57]="Nine",y[y.LessThan=60]="LessThan",y[y.GreaterThan=62]="GreaterThan",y[y.A=65]="A",y[y.D=68]="D",y[y.E=69]="E",y[y.F=70]="F",y[y.O=79]="O",y[y.P=80]="P",y[y.R=82]="R",y[y.LeftSquareBracket=91]="LeftSquareBracket",y[y.BackSlash=92]="BackSlash",y[y.RightSquareBracket=93]="RightSquareBracket",y[y.a=97]="a",y[y.b=98]="b",y[y.d=100]="d",y[y.e=101]="e",y[y.f=102]="f",y[y.i=105]="i",y[y.j=106]="j",y[y.l=108]="l",y[y.m=109]="m",y[y.n=110]="n",y[y.o=111]="o",y[y.r=114]="r",y[y.s=115]="s",y[y.t=116]="t",y[y.u=117]="u",y[y.x=120]="x",y[y.LeftCurly=123]="LeftCurly",y[y.RightCurly=125]="RightCurly",y[y.Tilde=126]="Tilde";let hn=Z;var hi=function(){function e(e,t){this.major=String(e),this.minor=String(t)}return e.prototype.toString=function(){var e=uc(129);return"%PDF-"+this.major+"."+this.minor+"\n%"+e+e+e+e},e.prototype.sizeInBytes=function(){return 12+this.major.length+this.minor.length},e.prototype.copyBytesInto=function(e,t){var r=t;return e[t++]=hn.Percent,e[t++]=hn.P,e[t++]=hn.D,e[t++]=hn.F,e[t++]=hn.Dash,t+=ud(this.major,e,t),e[t++]=hn.Period,t+=ud(this.minor,e,t),e[t++]=hn.Newline,e[t++]=hn.Percent,e[t++]=129,e[t++]=129,e[t++]=129,e[t++]=129,t-r},e.forVersion=function(t,r){return new e(t,r)},e}(),ho=function(){function e(){}return e.prototype.clone=function(e){throw new cz(this.constructor.name,"clone")},e.prototype.toString=function(){throw new cz(this.constructor.name,"toString")},e.prototype.sizeInBytes=function(){throw new cz(this.constructor.name,"sizeInBytes")},e.prototype.copyBytesInto=function(e,t){throw new cz(this.constructor.name,"copyBytesInto")},e}(),ha=function(e){function t(t){var r=e.call(this)||this;return r.numberValue=t,r.stringValue=uQ(t),r}return l4(t,e),t.prototype.asNumber=function(){return this.numberValue},t.prototype.value=function(){return this.numberValue},t.prototype.clone=function(){return t.of(this.numberValue)},t.prototype.toString=function(){return this.stringValue},t.prototype.sizeInBytes=function(){return this.stringValue.length},t.prototype.copyBytesInto=function(e,t){return t+=ud(this.stringValue,e,t),this.stringValue.length},t.of=function(e){return new t(e)},t}(ho),hs=function(e){function t(t){var r=e.call(this)||this;return r.array=[],r.context=t,r}return l4(t,e),t.prototype.size=function(){return this.array.length},t.prototype.push=function(e){this.array.push(e)},t.prototype.insert=function(e,t){this.array.splice(e,0,t)},t.prototype.indexOf=function(e){var t=this.array.indexOf(e);return -1===t?void 0:t},t.prototype.remove=function(e){this.array.splice(e,1)},t.prototype.set=function(e,t){this.array[e]=t},t.prototype.get=function(e){return this.array[e]},t.prototype.lookupMaybe=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return(t=this.context).lookupMaybe.apply(t,l7([this.get(e)],r))},t.prototype.lookup=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return(t=this.context).lookup.apply(t,l7([this.get(e)],r))},t.prototype.asRectangle=function(){if(4!==this.size())throw new cG(this.size());var e=this.lookup(0,ha).asNumber(),t=this.lookup(1,ha).asNumber();return{x:e,y:t,width:this.lookup(2,ha).asNumber()-e,height:this.lookup(3,ha).asNumber()-t}},t.prototype.asArray=function(){return this.array.slice()},t.prototype.clone=function(e){for(var r=t.withContext(e||this.context),n=0,i=this.size();n<i;n++)r.push(this.array[n]);return r},t.prototype.toString=function(){for(var e="[ ",t=0,r=this.size();t<r;t++)e+=this.get(t).toString(),e+=" ";return e+"]"},t.prototype.sizeInBytes=function(){for(var e=3,t=0,r=this.size();t<r;t++)e+=this.get(t).sizeInBytes()+1;return e},t.prototype.copyBytesInto=function(e,t){var r=t;e[t++]=hn.LeftSquareBracket,e[t++]=hn.Space;for(var n=0,i=this.size();n<i;n++)t+=this.get(n).copyBytesInto(e,t),e[t++]=hn.Space;return e[t++]=hn.RightSquareBracket,t-r},t.prototype.scalePDFNumbers=function(e,t){for(var r=0,n=this.size();r<n;r++){var i=this.lookup(r);if(i instanceof ha){var o=r%2==0?e:t;this.set(r,ha.of(i.asNumber()*o))}}},t.withContext=function(e){return new t(e)},t}(ho),hl={},hu=function(e){function t(t,r){var n=this;if(t!==hl)throw new cV("PDFBool");return(n=e.call(this)||this).value=r,n}return l4(t,e),t.prototype.asBoolean=function(){return this.value},t.prototype.clone=function(){return this},t.prototype.toString=function(){return String(this.value)},t.prototype.sizeInBytes=function(){return this.value?4:5},t.prototype.copyBytesInto=function(e,t){return this.value?(e[t++]=hn.t,e[t++]=hn.r,e[t++]=hn.u,e[t++]=hn.e,4):(e[t++]=hn.f,e[t++]=hn.a,e[t++]=hn.l,e[t++]=hn.s,e[t++]=hn.e,5)},t.True=new t(hl,!0),t.False=new t(hl,!1),t}(ho),hc=new Uint8Array(256);hc[hn.LeftParen]=1,hc[hn.RightParen]=1,hc[hn.LessThan]=1,hc[hn.GreaterThan]=1,hc[hn.LeftSquareBracket]=1,hc[hn.RightSquareBracket]=1,hc[hn.LeftCurly]=1,hc[hn.RightCurly]=1,hc[hn.ForwardSlash]=1,hc[hn.Percent]=1;var hh=new Uint8Array(256);hh[hn.Null]=1,hh[hn.Tab]=1,hh[hn.Newline]=1,hh[hn.FormFeed]=1,hh[hn.CarriageReturn]=1,hh[hn.Space]=1;for(var hd=new Uint8Array(256),hf=0;hf<256;hf++)hd[hf]=hh[hf]||hc[hf]?1:0;hd[hn.Hash]=1;var hp={},hg=new Map,hm=function(e){function t(t,r){var n=this;if(t!==hp)throw new cV("PDFName");n=e.call(this)||this;for(var i="/",o=0,a=r.length;o<a;o++){var s=r[o],l=us(s);i+=l>=hn.ExclamationPoint&&l<=hn.Tilde&&!hd[l]?s:"#"+uu(l)}return n.encodedName=i,n}return l4(t,e),t.prototype.asBytes=function(){for(var e=[],t="",r=!1,n=function(t){void 0!==t&&e.push(t),r=!1},i=1,o=this.encodedName.length;i<o;i++){var a=this.encodedName[i],s=us(a),l=this.encodedName[i+1];r?s>=hn.Zero&&s<=hn.Nine||s>=hn.a&&s<=hn.f||s>=hn.A&&s<=hn.F?2!==(t+=a).length&&(l>="0"&&l<="9"||l>="a"&&l<="f"||l>="A"&&l<="F")||(n(parseInt(t,16)),t=""):n(s):s===hn.Hash?r=!0:n(s)}return new Uint8Array(e)},t.prototype.decodeText=function(){var e=this.asBytes();return String.fromCharCode.apply(String,Array.from(e))},t.prototype.asString=function(){return this.encodedName},t.prototype.value=function(){return this.encodedName},t.prototype.clone=function(){return this},t.prototype.toString=function(){return this.encodedName},t.prototype.sizeInBytes=function(){return this.encodedName.length},t.prototype.copyBytesInto=function(e,t){return t+=ud(this.encodedName,e,t),this.encodedName.length},t.of=function(e){var r=e.replace(/#([\dABCDEF]{2})/g,function(e,t){return uc(parseInt(t,16))}),n=hg.get(r);return n||(n=new t(hp,r),hg.set(r,n)),n},t.Length=t.of("Length"),t.FlateDecode=t.of("FlateDecode"),t.Resources=t.of("Resources"),t.Font=t.of("Font"),t.XObject=t.of("XObject"),t.ExtGState=t.of("ExtGState"),t.Contents=t.of("Contents"),t.Type=t.of("Type"),t.Parent=t.of("Parent"),t.MediaBox=t.of("MediaBox"),t.Page=t.of("Page"),t.Annots=t.of("Annots"),t.TrimBox=t.of("TrimBox"),t.ArtBox=t.of("ArtBox"),t.BleedBox=t.of("BleedBox"),t.CropBox=t.of("CropBox"),t.Rotate=t.of("Rotate"),t.Title=t.of("Title"),t.Author=t.of("Author"),t.Subject=t.of("Subject"),t.Creator=t.of("Creator"),t.Keywords=t.of("Keywords"),t.Producer=t.of("Producer"),t.CreationDate=t.of("CreationDate"),t.ModDate=t.of("ModDate"),t}(ho);let hy=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l4(t,e),t.prototype.asNull=function(){return null},t.prototype.clone=function(){return this},t.prototype.toString=function(){return"null"},t.prototype.sizeInBytes=function(){return 4},t.prototype.copyBytesInto=function(e,t){return e[t++]=hn.n,e[t++]=hn.u,e[t++]=hn.l,e[t++]=hn.l,4},t}(ho));var hv=function(e){function t(t,r){var n=e.call(this)||this;return n.dict=t,n.context=r,n}return l4(t,e),t.prototype.keys=function(){return Array.from(this.dict.keys())},t.prototype.values=function(){return Array.from(this.dict.values())},t.prototype.entries=function(){return Array.from(this.dict.entries())},t.prototype.set=function(e,t){this.dict.set(e,t)},t.prototype.get=function(e,t){void 0===t&&(t=!1);var r=this.dict.get(e);if(r!==hy||t)return r},t.prototype.has=function(e){var t=this.dict.get(e);return void 0!==t&&t!==hy},t.prototype.lookupMaybe=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=r.includes(hy),o=(t=this.context).lookupMaybe.apply(t,l7([this.get(e,i)],r));if(o!==hy||i)return o},t.prototype.lookup=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=r.includes(hy),o=(t=this.context).lookup.apply(t,l7([this.get(e,i)],r));if(o!==hy||i)return o},t.prototype.delete=function(e){return this.dict.delete(e)},t.prototype.asMap=function(){return new Map(this.dict)},t.prototype.uniqueKey=function(e){void 0===e&&(e="");for(var t=this.keys(),r=hm.of(this.context.addRandomSuffix(e,10));t.includes(r);)r=hm.of(this.context.addRandomSuffix(e,10));return r},t.prototype.clone=function(e){for(var r=t.withContext(e||this.context),n=this.entries(),i=0,o=n.length;i<o;i++){var a=n[i],s=a[0],l=a[1];r.set(s,l)}return r},t.prototype.toString=function(){for(var e="<<\n",t=this.entries(),r=0,n=t.length;r<n;r++){var i=t[r],o=i[0],a=i[1];e+=o.toString()+" "+a.toString()+"\n"}return e+">>"},t.prototype.sizeInBytes=function(){for(var e=5,t=this.entries(),r=0,n=t.length;r<n;r++){var i=t[r],o=i[0],a=i[1];e+=o.sizeInBytes()+a.sizeInBytes()+2}return e},t.prototype.copyBytesInto=function(e,t){var r=t;e[t++]=hn.LessThan,e[t++]=hn.LessThan,e[t++]=hn.Newline;for(var n=this.entries(),i=0,o=n.length;i<o;i++){var a=n[i],s=a[0],l=a[1];t+=s.copyBytesInto(e,t),e[t++]=hn.Space,t+=l.copyBytesInto(e,t),e[t++]=hn.Newline}return e[t++]=hn.GreaterThan,e[t++]=hn.GreaterThan,t-r},t.withContext=function(e){return new t(new Map,e)},t.fromMapWithContext=function(e,r){return new t(e,r)},t}(ho),hb=function(e){function t(t){var r=e.call(this)||this;return r.dict=t,r}return l4(t,e),t.prototype.clone=function(e){throw new cz(this.constructor.name,"clone")},t.prototype.getContentsString=function(){throw new cz(this.constructor.name,"getContentsString")},t.prototype.getContents=function(){throw new cz(this.constructor.name,"getContents")},t.prototype.getContentsSize=function(){throw new cz(this.constructor.name,"getContentsSize")},t.prototype.updateDict=function(){var e=this.getContentsSize();this.dict.set(hm.Length,ha.of(e))},t.prototype.sizeInBytes=function(){return this.updateDict(),this.dict.sizeInBytes()+this.getContentsSize()+18},t.prototype.toString=function(){this.updateDict();var e=this.dict.toString();return e+="\nstream\n",e+=this.getContentsString(),e+="\nendstream"},t.prototype.copyBytesInto=function(e,t){this.updateDict();var r=t;t+=this.dict.copyBytesInto(e,t),e[t++]=hn.Newline,e[t++]=hn.s,e[t++]=hn.t,e[t++]=hn.r,e[t++]=hn.e,e[t++]=hn.a,e[t++]=hn.m,e[t++]=hn.Newline;for(var n=this.getContents(),i=0,o=n.length;i<o;i++)e[t++]=n[i];return e[t++]=hn.Newline,e[t++]=hn.e,e[t++]=hn.n,e[t++]=hn.d,e[t++]=hn.s,e[t++]=hn.t,e[t++]=hn.r,e[t++]=hn.e,e[t++]=hn.a,e[t++]=hn.m,t-r},t}(ho),hw=function(e){function t(t,r){var n=e.call(this,t)||this;return n.contents=r,n}return l4(t,e),t.prototype.asUint8Array=function(){return this.contents.slice()},t.prototype.clone=function(e){return t.of(this.dict.clone(e),this.contents.slice())},t.prototype.getContentsString=function(){return uI(this.contents)},t.prototype.getContents=function(){return this.contents},t.prototype.getContentsSize=function(){return this.contents.length},t.of=function(e,r){return new t(e,r)},t}(hb),hx={},hS=new Map,hC=function(e){function t(t,r,n){var i=this;if(t!==hx)throw new cV("PDFRef");return(i=e.call(this)||this).objectNumber=r,i.generationNumber=n,i.tag=r+" "+n+" R",i}return l4(t,e),t.prototype.clone=function(){return this},t.prototype.toString=function(){return this.tag},t.prototype.sizeInBytes=function(){return this.tag.length},t.prototype.copyBytesInto=function(e,t){return t+=ud(this.tag,e,t),this.tag.length},t.of=function(e,r){void 0===r&&(r=0);var n=e+" "+r+" R",i=hS.get(n);return i||(i=new t(hx,e,r),hS.set(n,i)),i},t}(ho),hk=function(){function e(e,t){this.name=e,this.args=t||[]}return e.prototype.clone=function(t){for(var r=Array(this.args.length),n=0,i=r.length;n<i;n++){var o=this.args[n];r[n]=o instanceof ho?o.clone(t):o}return e.of(this.name,r)},e.prototype.toString=function(){for(var e="",t=0,r=this.args.length;t<r;t++)e+=String(this.args[t])+" ";return e+this.name},e.prototype.sizeInBytes=function(){for(var e=0,t=0,r=this.args.length;t<r;t++){var n=this.args[t];e+=(n instanceof ho?n.sizeInBytes():n.length)+1}return e+this.name.length},e.prototype.copyBytesInto=function(e,t){for(var r=t,n=0,i=this.args.length;n<i;n++){var o=this.args[n];o instanceof ho?t+=o.copyBytesInto(e,t):t+=ud(o,e,t),e[t++]=hn.Space}return(t+=ud(this.name,e,t))-r},e.of=function(t,r){return new e(t,r)},e}();(v=ee||(ee={})).NonStrokingColor="sc",v.NonStrokingColorN="scn",v.NonStrokingColorRgb="rg",v.NonStrokingColorGray="g",v.NonStrokingColorCmyk="k",v.NonStrokingColorspace="cs",v.StrokingColor="SC",v.StrokingColorN="SCN",v.StrokingColorRgb="RG",v.StrokingColorGray="G",v.StrokingColorCmyk="K",v.StrokingColorspace="CS",v.BeginMarkedContentSequence="BDC",v.BeginMarkedContent="BMC",v.EndMarkedContent="EMC",v.MarkedContentPointWithProps="DP",v.MarkedContentPoint="MP",v.DrawObject="Do",v.ConcatTransformationMatrix="cm",v.PopGraphicsState="Q",v.PushGraphicsState="q",v.SetFlatness="i",v.SetGraphicsStateParams="gs",v.SetLineCapStyle="J",v.SetLineDashPattern="d",v.SetLineJoinStyle="j",v.SetLineMiterLimit="M",v.SetLineWidth="w",v.SetTextMatrix="Tm",v.SetRenderingIntent="ri",v.AppendRectangle="re",v.BeginInlineImage="BI",v.BeginInlineImageData="ID",v.EndInlineImage="EI",v.ClipEvenOdd="W*",v.ClipNonZero="W",v.CloseAndStroke="s",v.CloseFillEvenOddAndStroke="b*",v.CloseFillNonZeroAndStroke="b",v.ClosePath="h",v.AppendBezierCurve="c",v.CurveToReplicateFinalPoint="y",v.CurveToReplicateInitialPoint="v",v.EndPath="n",v.FillEvenOddAndStroke="B*",v.FillEvenOdd="f*",v.FillNonZeroAndStroke="B",v.FillNonZero="f",v.LegacyFillNonZero="F",v.LineTo="l",v.MoveTo="m",v.ShadingFill="sh",v.StrokePath="S",v.BeginText="BT",v.EndText="ET",v.MoveText="Td",v.MoveTextSetLeading="TD",v.NextLine="T*",v.SetCharacterSpacing="Tc",v.SetFontAndSize="Tf",v.SetTextHorizontalScaling="Tz",v.SetTextLineHeight="TL",v.SetTextRenderingMode="Tr",v.SetTextRise="Ts",v.SetWordSpacing="Tw",v.ShowText="Tj",v.ShowTextAdjusted="TJ",v.ShowTextLine="'",v.ShowTextLineAndSpace='"',v.Type3D0="d0",v.Type3D1="d1",v.BeginCompatibilitySection="BX",v.EndCompatibilitySection="EX";let h_=ee;var hA=function(e){function t(t,r){var n=e.call(this,t)||this;return n.computeContents=function(){var e=n.getUnencodedContents();return n.encode?uZ.default.deflate(e):e},n.encode=r,r&&t.set(hm.of("Filter"),hm.of("FlateDecode")),n.contentsCache=cj.populatedBy(n.computeContents),n}return l4(t,e),t.prototype.getContents=function(){return this.contentsCache.access()},t.prototype.getContentsSize=function(){return this.contentsCache.access().length},t.prototype.getUnencodedContents=function(){throw new cz(this.constructor.name,"getUnencodedContents")},t}(hb),hT=function(e){function t(t,r,n){void 0===n&&(n=!0);var i=e.call(this,t,n)||this;return i.operators=r,i}return l4(t,e),t.prototype.push=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];(e=this.operators).push.apply(e,t)},t.prototype.clone=function(e){for(var r=Array(this.operators.length),n=0,i=this.operators.length;n<i;n++)r[n]=this.operators[n].clone(e);var o=this.dict,a=this.encode;return t.of(o.clone(e),r,a)},t.prototype.getContentsString=function(){for(var e="",t=0,r=this.operators.length;t<r;t++)e+=this.operators[t]+"\n";return e},t.prototype.getUnencodedContents=function(){for(var e=new Uint8Array(this.getUnencodedContentsSize()),t=0,r=0,n=this.operators.length;r<n;r++)t+=this.operators[r].copyBytesInto(e,t),e[t++]=hn.Newline;return e},t.prototype.getUnencodedContentsSize=function(){for(var e=0,t=0,r=this.operators.length;t<r;t++)e+=this.operators[t].sizeInBytes()+1;return e},t.of=function(e,r,n){return void 0===n&&(n=!0),new t(e,r,n)},t}(hA),hE=function(){function e(e){this.seed=e}return e.prototype.nextInt=function(){var e=1e4*Math.sin(this.seed++);return e-Math.floor(e)},e.withSeed=function(t){return new e(t)},e}(),hI=function(e,t){var r=e[0],n=t[0];return r.objectNumber-n.objectNumber},hD=function(){function e(){this.largestObjectNumber=0,this.header=hi.forVersion(1,7),this.trailerInfo={},this.indirectObjects=new Map,this.rng=hE.withSeed(1)}return e.prototype.assign=function(e,t){this.indirectObjects.set(e,t),e.objectNumber>this.largestObjectNumber&&(this.largestObjectNumber=e.objectNumber)},e.prototype.nextRef=function(){return this.largestObjectNumber+=1,hC.of(this.largestObjectNumber)},e.prototype.register=function(e){var t=this.nextRef();return this.assign(t,e),t},e.prototype.delete=function(e){return this.indirectObjects.delete(e)},e.prototype.lookupMaybe=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=t.includes(hy),i=e instanceof hC?this.indirectObjects.get(e):e;if(i&&(i!==hy||n)){for(var o=0,a=t.length;o<a;o++){var s=t[o];if(s===hy){if(i===hy)return i}else if(i instanceof s)return i}throw new cU(t,i)}},e.prototype.lookup=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=e instanceof hC?this.indirectObjects.get(e):e;if(0===t.length)return n;for(var i=0,o=t.length;i<o;i++){var a=t[i];if(a===hy){if(n===hy)return n}else if(n instanceof a)return n}throw new cU(t,n)},e.prototype.getObjectRef=function(e){for(var t=Array.from(this.indirectObjects.entries()),r=0,n=t.length;r<n;r++){var i=t[r],o=i[0];if(i[1]===e)return o}},e.prototype.enumerateIndirectObjects=function(){return Array.from(this.indirectObjects.entries()).sort(hI)},e.prototype.obj=function(e){if(e instanceof ho)return e;if(null==e)return hy;if("string"==typeof e)return hm.of(e);if("number"==typeof e)return ha.of(e);if("boolean"==typeof e)return e?hu.True:hu.False;else if(Array.isArray(e)){for(var t=hs.withContext(this),r=0,n=e.length;r<n;r++)t.push(this.obj(e[r]));return t}else{for(var i=hv.withContext(this),o=Object.keys(e),r=0,n=o.length;r<n;r++){var a=o[r],s=e[a];void 0!==s&&i.set(hm.of(a),this.obj(s))}return i}},e.prototype.stream=function(e,t){return void 0===t&&(t={}),hw.of(this.obj(t),uA(e))},e.prototype.flateStream=function(e,t){return void 0===t&&(t={}),this.stream(uZ.default.deflate(uA(e)),l6(l6({},t),{Filter:"FlateDecode"}))},e.prototype.contentStream=function(e,t){return void 0===t&&(t={}),hT.of(this.obj(t),e)},e.prototype.formXObject=function(e,t){return void 0===t&&(t={}),this.contentStream(e,l6(l6({BBox:this.obj([0,0,0,0]),Matrix:this.obj([1,0,0,1,0,0])},t),{Type:"XObject",Subtype:"Form"}))},e.prototype.getPushGraphicsStateContentStream=function(){if(this.pushGraphicsStateContentStreamRef)return this.pushGraphicsStateContentStreamRef;var e=this.obj({}),t=hk.of(h_.PushGraphicsState),r=hT.of(e,[t]);return this.pushGraphicsStateContentStreamRef=this.register(r),this.pushGraphicsStateContentStreamRef},e.prototype.getPopGraphicsStateContentStream=function(){if(this.popGraphicsStateContentStreamRef)return this.popGraphicsStateContentStreamRef;var e=this.obj({}),t=hk.of(h_.PopGraphicsState),r=hT.of(e,[t]);return this.popGraphicsStateContentStreamRef=this.register(r),this.popGraphicsStateContentStreamRef},e.prototype.addRandomSuffix=function(e,t){return void 0===t&&(t=4),e+"-"+Math.floor(this.rng.nextInt()*Math.pow(10,t))},e.create=function(){return new e},e}(),hF=function(e){function t(t,r,n){void 0===n&&(n=!0);var i=e.call(this,t,r)||this;return i.normalized=!1,i.autoNormalizeCTM=n,i}return l4(t,e),t.prototype.clone=function(e){for(var r=t.fromMapWithContext(new Map,e||this.context,this.autoNormalizeCTM),n=this.entries(),i=0,o=n.length;i<o;i++){var a=n[i],s=a[0],l=a[1];r.set(s,l)}return r},t.prototype.Parent=function(){return this.lookupMaybe(hm.Parent,hv)},t.prototype.Contents=function(){return this.lookup(hm.of("Contents"))},t.prototype.Annots=function(){return this.lookupMaybe(hm.Annots,hs)},t.prototype.BleedBox=function(){return this.lookupMaybe(hm.BleedBox,hs)},t.prototype.TrimBox=function(){return this.lookupMaybe(hm.TrimBox,hs)},t.prototype.ArtBox=function(){return this.lookupMaybe(hm.ArtBox,hs)},t.prototype.Resources=function(){var e=this.getInheritableAttribute(hm.Resources);return this.context.lookupMaybe(e,hv)},t.prototype.MediaBox=function(){var e=this.getInheritableAttribute(hm.MediaBox);return this.context.lookup(e,hs)},t.prototype.CropBox=function(){var e=this.getInheritableAttribute(hm.CropBox);return this.context.lookupMaybe(e,hs)},t.prototype.Rotate=function(){var e=this.getInheritableAttribute(hm.Rotate);return this.context.lookupMaybe(e,ha)},t.prototype.getInheritableAttribute=function(e){var t;return this.ascend(function(r){t||(t=r.get(e))}),t},t.prototype.setParent=function(e){this.set(hm.Parent,e)},t.prototype.addContentStream=function(e){var t=this.normalizedEntries().Contents||this.context.obj([]);this.set(hm.Contents,t),t.push(e)},t.prototype.wrapContentStreams=function(e,t){var r=this.Contents();return r instanceof hs&&(r.insert(0,e),r.push(t),!0)},t.prototype.addAnnot=function(e){this.normalizedEntries().Annots.push(e)},t.prototype.removeAnnot=function(e){var t=this.normalizedEntries().Annots,r=t.indexOf(e);void 0!==r&&t.remove(r)},t.prototype.setFontDictionary=function(e,t){this.normalizedEntries().Font.set(e,t)},t.prototype.newFontDictionaryKey=function(e){return this.normalizedEntries().Font.uniqueKey(e)},t.prototype.newFontDictionary=function(e,t){var r=this.newFontDictionaryKey(e);return this.setFontDictionary(r,t),r},t.prototype.setXObject=function(e,t){this.normalizedEntries().XObject.set(e,t)},t.prototype.newXObjectKey=function(e){return this.normalizedEntries().XObject.uniqueKey(e)},t.prototype.newXObject=function(e,t){var r=this.newXObjectKey(e);return this.setXObject(r,t),r},t.prototype.setExtGState=function(e,t){this.normalizedEntries().ExtGState.set(e,t)},t.prototype.newExtGStateKey=function(e){return this.normalizedEntries().ExtGState.uniqueKey(e)},t.prototype.newExtGState=function(e,t){var r=this.newExtGStateKey(e);return this.setExtGState(r,t),r},t.prototype.ascend=function(e){e(this);var t=this.Parent();t&&t.ascend(e)},t.prototype.normalize=function(){if(!this.normalized){var e=this.context,t=this.get(hm.Contents);this.context.lookup(t)instanceof hb&&this.set(hm.Contents,e.obj([t])),this.autoNormalizeCTM&&this.wrapContentStreams(this.context.getPushGraphicsStateContentStream(),this.context.getPopGraphicsStateContentStream());var r=this.getInheritableAttribute(hm.Resources),n=e.lookupMaybe(r,hv)||e.obj({});this.set(hm.Resources,n);var i=n.lookupMaybe(hm.Font,hv)||e.obj({});n.set(hm.Font,i);var o=n.lookupMaybe(hm.XObject,hv)||e.obj({});n.set(hm.XObject,o);var a=n.lookupMaybe(hm.ExtGState,hv)||e.obj({});n.set(hm.ExtGState,a);var s=this.Annots()||e.obj([]);this.set(hm.Annots,s),this.normalized=!0}},t.prototype.normalizedEntries=function(){this.normalize();var e=this.Annots(),t=this.Resources();return{Annots:e,Resources:t,Contents:this.Contents(),Font:t.lookup(hm.Font,hv),XObject:t.lookup(hm.XObject,hv),ExtGState:t.lookup(hm.ExtGState,hv)}},t.InheritableEntries=["Resources","MediaBox","CropBox","Rotate"],t.withContextAndParent=function(e,r){var n=new Map;return n.set(hm.Type,hm.Page),n.set(hm.Parent,r),n.set(hm.Resources,e.obj({})),n.set(hm.MediaBox,e.obj([0,0,612,792])),new t(n,e,!1)},t.fromMapWithContext=function(e,r,n){return void 0===n&&(n=!0),new t(e,r,n)},t}(hv),hP=function(){function e(e,t){var r=this;this.traversedObjects=new Map,this.copy=function(e){return e instanceof hF?r.copyPDFPage(e):e instanceof hv?r.copyPDFDict(e):e instanceof hs?r.copyPDFArray(e):e instanceof hb?r.copyPDFStream(e):e instanceof hC?r.copyPDFIndirectObject(e):e.clone()},this.copyPDFPage=function(e){for(var t=e.clone(),n=hF.InheritableEntries,i=0,o=n.length;i<o;i++){var a=hm.of(n[i]),s=t.getInheritableAttribute(a);!t.get(a)&&s&&t.set(a,s)}return t.delete(hm.of("Parent")),r.copyPDFDict(t)},this.copyPDFDict=function(e){if(r.traversedObjects.has(e))return r.traversedObjects.get(e);var t=e.clone(r.dest);r.traversedObjects.set(e,t);for(var n=e.entries(),i=0,o=n.length;i<o;i++){var a=n[i],s=a[0],l=a[1];t.set(s,r.copy(l))}return t},this.copyPDFArray=function(e){if(r.traversedObjects.has(e))return r.traversedObjects.get(e);var t=e.clone(r.dest);r.traversedObjects.set(e,t);for(var n=0,i=e.size();n<i;n++){var o=e.get(n);t.set(n,r.copy(o))}return t},this.copyPDFStream=function(e){if(r.traversedObjects.has(e))return r.traversedObjects.get(e);var t=e.clone(r.dest);r.traversedObjects.set(e,t);for(var n=e.dict.entries(),i=0,o=n.length;i<o;i++){var a=n[i],s=a[0],l=a[1];t.dict.set(s,r.copy(l))}return t},this.copyPDFIndirectObject=function(e){if(!r.traversedObjects.has(e)){var t=r.dest.nextRef();r.traversedObjects.set(e,t);var n=r.src.lookup(e);if(n){var i=r.copy(n);r.dest.assign(t,i)}}return r.traversedObjects.get(e)},this.src=e,this.dest=t}return e.for=function(t,r){return new e(t,r)},e}(),hN=function(){function e(e){this.subsections=e?[[e]]:[],this.chunkIdx=0,this.chunkLength=+!!e}return e.prototype.addEntry=function(e,t){this.append({ref:e,offset:t,deleted:!1})},e.prototype.addDeletedEntry=function(e,t){this.append({ref:e,offset:t,deleted:!0})},e.prototype.toString=function(){for(var e="xref\n",t=0,r=this.subsections.length;t<r;t++){var n=this.subsections[t];e+=n[0].ref.objectNumber+" "+n.length+"\n";for(var i=0,o=n.length;i<o;i++){var a=n[i];e+=uh(String(a.offset),10,"0"),e+=" ",e+=uh(String(a.ref.generationNumber),5,"0"),e+=" ",e+=a.deleted?"f":"n",e+=" \n"}}return e},e.prototype.sizeInBytes=function(){for(var e=5,t=0,r=this.subsections.length;t<r;t++){var n=this.subsections[t],i=n.length;e+=2,e+=String(n[0].ref.objectNumber).length,e+=String(i).length,e+=20*i}return e},e.prototype.copyBytesInto=function(e,t){var r=t;return e[t++]=hn.x,e[t++]=hn.r,e[t++]=hn.e,e[t++]=hn.f,e[t++]=hn.Newline,(t+=this.copySubsectionsIntoBuffer(this.subsections,e,t))-r},e.prototype.copySubsectionsIntoBuffer=function(e,t,r){for(var n=r,i=e.length,o=0;o<i;o++){var a=this.subsections[o],s=String(a[0].ref.objectNumber);r+=ud(s,t,r),t[r++]=hn.Space;var l=String(a.length);r+=ud(l,t,r),t[r++]=hn.Newline,r+=this.copyEntriesIntoBuffer(a,t,r)}return r-n},e.prototype.copyEntriesIntoBuffer=function(e,t,r){for(var n=e.length,i=0;i<n;i++){var o=e[i],a=uh(String(o.offset),10,"0");r+=ud(a,t,r),t[r++]=hn.Space;var s=uh(String(o.ref.generationNumber),5,"0");r+=ud(s,t,r),t[r++]=hn.Space,t[r++]=o.deleted?hn.f:hn.n,t[r++]=hn.Space,t[r++]=hn.Newline}return 20*n},e.prototype.append=function(e){if(0===this.chunkLength){this.subsections.push([e]),this.chunkIdx=0,this.chunkLength=1;return}var t=this.subsections[this.chunkIdx],r=t[this.chunkLength-1];e.ref.objectNumber-r.ref.objectNumber>1?(this.subsections.push([e]),this.chunkIdx+=1,this.chunkLength=1):(t.push(e),this.chunkLength+=1)},e.create=function(){return new e({ref:hC.of(0,65535),offset:0,deleted:!0})},e.createEmpty=function(){return new e},e}(),hR=function(){function e(e){this.lastXRefOffset=String(e)}return e.prototype.toString=function(){return"startxref\n"+this.lastXRefOffset+"\n%%EOF"},e.prototype.sizeInBytes=function(){return 16+this.lastXRefOffset.length},e.prototype.copyBytesInto=function(e,t){var r=t;return e[t++]=hn.s,e[t++]=hn.t,e[t++]=hn.a,e[t++]=hn.r,e[t++]=hn.t,e[t++]=hn.x,e[t++]=hn.r,e[t++]=hn.e,e[t++]=hn.f,e[t++]=hn.Newline,t+=ud(this.lastXRefOffset,e,t),e[t++]=hn.Newline,e[t++]=hn.Percent,e[t++]=hn.Percent,e[t++]=hn.E,e[t++]=hn.O,e[t++]=hn.F,t-r},e.forLastCrossRefSectionOffset=function(t){return new e(t)},e}(),hO=function(){function e(e){this.dict=e}return e.prototype.toString=function(){return"trailer\n"+this.dict.toString()},e.prototype.sizeInBytes=function(){return 8+this.dict.sizeInBytes()},e.prototype.copyBytesInto=function(e,t){var r=t;return e[t++]=hn.t,e[t++]=hn.r,e[t++]=hn.a,e[t++]=hn.i,e[t++]=hn.l,e[t++]=hn.e,e[t++]=hn.r,e[t++]=hn.Newline,(t+=this.dict.copyBytesInto(e,t))-r},e.of=function(t){return new e(t)},e}(),hB=function(e){function t(t,r,n){void 0===n&&(n=!0);var i=e.call(this,t.obj({}),n)||this;return i.objects=r,i.offsets=i.computeObjectOffsets(),i.offsetsString=i.computeOffsetsString(),i.dict.set(hm.of("Type"),hm.of("ObjStm")),i.dict.set(hm.of("N"),ha.of(i.objects.length)),i.dict.set(hm.of("First"),ha.of(i.offsetsString.length)),i}return l4(t,e),t.prototype.getObjectsCount=function(){return this.objects.length},t.prototype.clone=function(e){return t.withContextAndObjects(e||this.dict.context,this.objects.slice(),this.encode)},t.prototype.getContentsString=function(){for(var e=this.offsetsString,t=0,r=this.objects.length;t<r;t++)e+=this.objects[t][1]+"\n";return e},t.prototype.getUnencodedContents=function(){for(var e=new Uint8Array(this.getUnencodedContentsSize()),t=ud(this.offsetsString,e,0),r=0,n=this.objects.length;r<n;r++){var i=this.objects[r][1];t+=i.copyBytesInto(e,t),e[t++]=hn.Newline}return e},t.prototype.getUnencodedContentsSize=function(){return this.offsetsString.length+u_(this.offsets)[1]+u_(this.objects)[1].sizeInBytes()+1},t.prototype.computeOffsetsString=function(){for(var e="",t=0,r=this.offsets.length;t<r;t++){var n=this.offsets[t];e+=n[0]+" "+n[1]+" "}return e},t.prototype.computeObjectOffsets=function(){for(var e=0,t=Array(this.objects.length),r=0,n=this.objects.length;r<n;r++){var i=this.objects[r],o=i[0],a=i[1];t[r]=[o.objectNumber,e],e+=a.sizeInBytes()+1}return t},t.withContextAndObjects=function(e,r,n){return void 0===n&&(n=!0),new t(e,r,n)},t}(hA),hM=function(){function e(e,t){var r=this;this.parsedObjects=0,this.shouldWaitForTick=function(e){return r.parsedObjects+=e,r.parsedObjects%r.objectsPerTick==0},this.context=e,this.objectsPerTick=t}return e.prototype.serializeToBuffer=function(){return l8(this,void 0,void 0,function(){var e,t,r,n,i,o,a,s,l,u,c,h,d,f,p,g,m;return l9(this,function(y){switch(y.label){case 0:return[4,this.computeBufferSize()];case 1:t=(e=y.sent()).size,r=e.header,n=e.indirectObjects,i=e.xref,o=e.trailerDict,a=e.trailer,s=0,l=new Uint8Array(t),s+=r.copyBytesInto(l,s),l[s++]=hn.Newline,l[s++]=hn.Newline,u=0,c=n.length,y.label=2;case 2:if(!(u<c))return[3,5];if(d=(h=n[u])[0],f=h[1],p=String(d.objectNumber),s+=ud(p,l,s),l[s++]=hn.Space,g=String(d.generationNumber),s+=ud(g,l,s),l[s++]=hn.Space,l[s++]=hn.o,l[s++]=hn.b,l[s++]=hn.j,l[s++]=hn.Newline,s+=f.copyBytesInto(l,s),l[s++]=hn.Newline,l[s++]=hn.e,l[s++]=hn.n,l[s++]=hn.d,l[s++]=hn.o,l[s++]=hn.b,l[s++]=hn.j,l[s++]=hn.Newline,l[s++]=hn.Newline,m=f instanceof hB?f.getObjectsCount():1,!this.shouldWaitForTick(m))return[3,4];return[4,uM()];case 3:y.sent(),y.label=4;case 4:return u++,[3,2];case 5:return i&&(s+=i.copyBytesInto(l,s),l[s++]=hn.Newline),o&&(s+=o.copyBytesInto(l,s),l[s++]=hn.Newline,l[s++]=hn.Newline),s+=a.copyBytesInto(l,s),[2,l]}})})},e.prototype.computeIndirectObjectSize=function(e){var t=e[0],r=e[1];return t.sizeInBytes()+3+(r.sizeInBytes()+9)},e.prototype.createTrailerDict=function(){return this.context.obj({Size:this.context.largestObjectNumber+1,Root:this.context.trailerInfo.Root,Encrypt:this.context.trailerInfo.Encrypt,Info:this.context.trailerInfo.Info,ID:this.context.trailerInfo.ID})},e.prototype.computeBufferSize=function(){return l8(this,void 0,void 0,function(){var e,t,r,n,i,o,a,s,l,u,c;return l9(this,function(h){switch(h.label){case 0:t=(e=hi.forVersion(1,7)).sizeInBytes()+2,r=hN.create(),n=this.context.enumerateIndirectObjects(),i=0,o=n.length,h.label=1;case 1:if(!(i<o))return[3,4];if(s=(a=n[i])[0],r.addEntry(s,t),t+=this.computeIndirectObjectSize(a),!this.shouldWaitForTick(1))return[3,3];return[4,uM()];case 2:h.sent(),h.label=3;case 3:return i++,[3,1];case 4:return l=t,t+=r.sizeInBytes()+1,u=hO.of(this.createTrailerDict()),t+=u.sizeInBytes()+2,c=hR.forLastCrossRefSectionOffset(l),[2,{size:t+=c.sizeInBytes(),header:e,indirectObjects:n,xref:r,trailerDict:u,trailer:c}]}})})},e.forContext=function(t,r){return new e(t,r)},e}(),hL=function(e){function t(t){var r=e.call(this)||this;return r.data=t,r}return l4(t,e),t.prototype.clone=function(){return t.of(this.data.slice())},t.prototype.toString=function(){return"PDFInvalidObject("+this.data.length+" bytes)"},t.prototype.sizeInBytes=function(){return this.data.length},t.prototype.copyBytesInto=function(e,t){for(var r=this.data.length,n=0;n<r;n++)e[t++]=this.data[n];return r},t.of=function(e){return new t(e)},t}(ho);(b=et||(et={}))[b.Deleted=0]="Deleted",b[b.Uncompressed=1]="Uncompressed",b[b.Compressed=2]="Compressed";var hj=function(e){function t(t,r,n){void 0===n&&(n=!0);var i=e.call(this,t,n)||this;return i.computeIndex=function(){for(var e=[],t=0,r=0,n=i.entries.length;r<n;r++){var o=i.entries[r],a=i.entries[r-1];0===r?e.push(o.ref.objectNumber):o.ref.objectNumber-a.ref.objectNumber>1&&(e.push(t),e.push(o.ref.objectNumber),t=0),t+=1}return e.push(t),e},i.computeEntryTuples=function(){for(var e=Array(i.entries.length),t=0,r=i.entries.length;t<r;t++){var n=i.entries[t];if(n.type===et.Deleted){var o=n.type,a=n.nextFreeObjectNumber,s=n.ref;e[t]=[o,a,s.generationNumber]}if(n.type===et.Uncompressed){var o=n.type,l=n.offset,s=n.ref;e[t]=[o,l,s.generationNumber]}if(n.type===et.Compressed){var o=n.type,u=n.objectStreamRef,c=n.index;e[t]=[o,u.objectNumber,c]}}return e},i.computeMaxEntryByteWidths=function(){for(var e=i.entryTuplesCache.access(),t=[0,0,0],r=0,n=e.length;r<n;r++){var o=e[r],a=o[0],s=o[1],l=o[2],u=uX(a),c=uX(s),h=uX(l);u>t[0]&&(t[0]=u),c>t[1]&&(t[1]=c),h>t[2]&&(t[2]=h)}return t},i.entries=r||[],i.entryTuplesCache=cj.populatedBy(i.computeEntryTuples),i.maxByteWidthsCache=cj.populatedBy(i.computeMaxEntryByteWidths),i.indexCache=cj.populatedBy(i.computeIndex),t.set(hm.of("Type"),hm.of("XRef")),i}return l4(t,e),t.prototype.addDeletedEntry=function(e,t){var r=et.Deleted;this.entries.push({type:r,ref:e,nextFreeObjectNumber:t}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.addUncompressedEntry=function(e,t){var r=et.Uncompressed;this.entries.push({type:r,ref:e,offset:t}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.addCompressedEntry=function(e,t,r){var n=et.Compressed;this.entries.push({type:n,ref:e,objectStreamRef:t,index:r}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.clone=function(e){var r=this.dict,n=this.entries,i=this.encode;return t.of(r.clone(e),n.slice(),i)},t.prototype.getContentsString=function(){for(var e=this.entryTuplesCache.access(),t=this.maxByteWidthsCache.access(),r="",n=0,i=e.length;n<i;n++){for(var o=e[n],a=o[0],s=o[1],l=o[2],u=uP(uJ(a)),c=uP(uJ(s)),h=uP(uJ(l)),d=t[0]-1;d>=0;d--)r+=(u[d]||0).toString(2);for(var d=t[1]-1;d>=0;d--)r+=(c[d]||0).toString(2);for(var d=t[2]-1;d>=0;d--)r+=(h[d]||0).toString(2)}return r},t.prototype.getUnencodedContents=function(){for(var e=this.entryTuplesCache.access(),t=this.maxByteWidthsCache.access(),r=new Uint8Array(this.getUnencodedContentsSize()),n=0,i=0,o=e.length;i<o;i++){for(var a=e[i],s=a[0],l=a[1],u=a[2],c=uP(uJ(s)),h=uP(uJ(l)),d=uP(uJ(u)),f=t[0]-1;f>=0;f--)r[n++]=c[f]||0;for(var f=t[1]-1;f>=0;f--)r[n++]=h[f]||0;for(var f=t[2]-1;f>=0;f--)r[n++]=d[f]||0}return r},t.prototype.getUnencodedContentsSize=function(){return uN(this.maxByteWidthsCache.access())*this.entries.length},t.prototype.updateDict=function(){e.prototype.updateDict.call(this);var t=this.maxByteWidthsCache.access(),r=this.indexCache.access(),n=this.dict.context;this.dict.set(hm.of("W"),n.obj(t)),this.dict.set(hm.of("Index"),n.obj(r))},t.create=function(e,r){void 0===r&&(r=!0);var n=new t(e,[],r);return n.addDeletedEntry(hC.of(0,65535),0),n},t.of=function(e,r,n){return void 0===n&&(n=!0),new t(e,r,n)},t}(hA),hz=function(e){function t(t,r,n,i){var o=e.call(this,t,r)||this;return o.encodeStreams=n,o.objectsPerStream=i,o}return l4(t,e),t.prototype.computeBufferSize=function(){return l8(this,void 0,void 0,function(){var e,t,r,n,i,o,a,s,l,u,c,h,d,f,p,g,m,y,v;return l9(this,function(b){switch(b.label){case 0:e=this.context.largestObjectNumber+1,r=(t=hi.forVersion(1,7)).sizeInBytes()+2,n=hj.create(this.createTrailerDict(),this.encodeStreams),i=[],o=[],a=[],s=this.context.enumerateIndirectObjects(),l=0,u=s.length,b.label=1;case 1:if(!(l<u))return[3,6];if(h=(c=s[l])[0],d=c[1],!(h===this.context.trailerInfo.Encrypt||d instanceof hb||d instanceof hL||0!==h.generationNumber))return[3,4];if(i.push(c),n.addUncompressedEntry(h,r),r+=this.computeIndirectObjectSize(c),!this.shouldWaitForTick(1))return[3,3];return[4,uM()];case 2:b.sent(),b.label=3;case 3:return[3,5];case 4:f=u_(o),p=u_(a),f&&f.length%this.objectsPerStream!=0||(f=[],o.push(f),p=hC.of(e++),a.push(p)),n.addCompressedEntry(h,p,f.length),f.push(c),b.label=5;case 5:return l++,[3,1];case 6:l=0,u=o.length,b.label=7;case 7:if(!(l<u))return[3,10];if(f=o[l],h=a[l],g=hB.withContextAndObjects(this.context,f,this.encodeStreams),n.addUncompressedEntry(h,r),r+=this.computeIndirectObjectSize([h,g]),i.push([h,g]),!this.shouldWaitForTick(f.length))return[3,9];return[4,uM()];case 8:b.sent(),b.label=9;case 9:return l++,[3,7];case 10:return m=hC.of(e++),n.dict.set(hm.of("Size"),ha.of(e)),n.addUncompressedEntry(m,r),y=r,r+=this.computeIndirectObjectSize([m,n]),i.push([m,n]),v=hR.forLastCrossRefSectionOffset(y),[2,{size:r+=v.sizeInBytes(),header:t,indirectObjects:i,trailer:v}]}})})},t.forContext=function(e,r,n,i){return void 0===n&&(n=!0),void 0===i&&(i=50),new t(e,r,n,i)},t}(hM),hV=function(e){function t(t){var r=e.call(this)||this;return r.value=t,r}return l4(t,e),t.prototype.asBytes=function(){for(var e=this.value+(this.value.length%2==1?"0":""),t=e.length,r=new Uint8Array(e.length/2),n=0,i=0;n<t;){var o=parseInt(e.substring(n,n+2),16);r[i]=o,n+=2,i+=1}return r},t.prototype.decodeText=function(){var e=this.asBytes();return uG(e)?uV(e):cL(e)},t.prototype.decodeDate=function(){var e=this.decodeText(),t=uC(e);if(!t)throw new cQ(e);return t},t.prototype.asString=function(){return this.value},t.prototype.clone=function(){return t.of(this.value)},t.prototype.toString=function(){return"<"+this.value+">"},t.prototype.sizeInBytes=function(){return this.value.length+2},t.prototype.copyBytesInto=function(e,t){return e[t++]=hn.LessThan,t+=ud(this.value,e,t),e[t++]=hn.GreaterThan,this.value.length+2},t.of=function(e){return new t(e)},t.fromText=function(e){for(var r=uL(e),n="",i=0,o=r.length;i<o;i++)n+=ul(r[i],4);return new t(n)},t}(ho),hU=function(){function e(e,t){this.encoding=e===Y.ZapfDingbats?cm.ZapfDingbats:e===Y.Symbol?cm.Symbol:cm.WinAnsi,this.font=cf.load(e),this.fontName=this.font.FontName,this.customName=t}return e.prototype.encodeText=function(e){for(var t=this.encodeTextAsGlyphs(e),r=Array(t.length),n=0,i=t.length;n<i;n++)r[n]=uu(t[n].code);return hV.of(r.join(""))},e.prototype.widthOfTextAtSize=function(e,t){for(var r=this.encodeTextAsGlyphs(e),n=0,i=0,o=r.length;i<o;i++){var a=r[i].name,s=(r[i+1]||{}).name,l=this.font.getXAxisKerningForPair(a,s)||0;n+=this.widthOfGlyph(a)+l}return t/1e3*n},e.prototype.heightOfFontAtSize=function(e,t){void 0===t&&(t={});var r=t.descender,n=this.font,i=n.Ascender,o=n.Descender,a=n.FontBBox,s=(i||a[3])-(o||a[1]);return void 0===r||r||(s+=o||0),s/1e3*e},e.prototype.sizeOfFontAtHeight=function(e){var t=this.font,r=t.Ascender,n=t.Descender,i=t.FontBBox;return 1e3*e/((r||i[3])-(n||i[1]))},e.prototype.embedIntoContext=function(e,t){var r=e.obj({Type:"Font",Subtype:"Type1",BaseFont:this.customName||this.fontName,Encoding:this.encoding===cm.WinAnsi?"WinAnsiEncoding":void 0});return t?(e.assign(t,r),t):e.register(r)},e.prototype.widthOfGlyph=function(e){return this.font.getWidthOfGlyph(e)||250},e.prototype.encodeTextAsGlyphs=function(e){for(var t=Array.from(e),r=Array(t.length),n=0,i=t.length;n<i;n++){var o=t[n].codePointAt(0);r[n]=this.encoding.encodeUnicodeCodePoint(o)}return r},e.for=function(t,r){return new e(t,r)},e}(),h$=function(e,t){for(var r=Array(e.length),n=0,i=e.length;n<i;n++){var o=e[n],a=hq(hK(t(o))),s=hq.apply(void 0,o.codePoints.map(hH));r[n]=[a,s]}return hW(r)},hW=function(e){return"/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange\n"+e.length+" beginbfchar\n"+e.map(function(e){return e[0]+" "+e[1]}).join("\n")+"\nendbfchar\nendcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"},hq=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"<"+e.join("")+">"},hK=function(e){return ul(e,4)},hH=function(e){if(e>=0&&e<=65535)return hK(e);if(e>=65536&&e<=1114111){var t=uj(e),r=uz(e);return""+hK(t)+hK(r)}throw Error("0x"+uu(e)+" is not a valid UTF-8 or UTF-16 codepoint.")},hG=function(e){var t=0,r=function(e){t|=1<<e-1};return e.fixedPitch&&r(1),e.serif&&r(2),e.symbolic&&r(3),e.script&&r(4),e.nonsymbolic&&r(6),e.italic&&r(7),e.allCap&&r(17),e.smallCap&&r(18),e.forceBold&&r(19),t},hQ=function(e){var t=e["OS/2"]?e["OS/2"].sFamilyClass:0;return hG({fixedPitch:e.post.isFixedPitch,serif:1<=t&&t<=7,symbolic:!0,script:10===t,italic:e.head.macStyle.italic})},hX=function(e){function t(t){var r=e.call(this)||this;return r.value=t,r}return l4(t,e),t.prototype.asBytes=function(){for(var e=[],t="",r=!1,n=function(t){void 0!==t&&e.push(t),r=!1},i=0,o=this.value.length;i<o;i++){var a=this.value[i],s=us(a),l=this.value[i+1];r?s===hn.Newline||s===hn.CarriageReturn?n():s===hn.n?n(hn.Newline):s===hn.r?n(hn.CarriageReturn):s===hn.t?n(hn.Tab):s===hn.b?n(hn.Backspace):s===hn.f?n(hn.FormFeed):s===hn.LeftParen?n(hn.LeftParen):s===hn.RightParen?n(hn.RightParen):s===hn.Backspace?n(hn.BackSlash):s>=hn.Zero&&s<=hn.Seven?3!==(t+=a).length&&l>="0"&&l<="7"||(n(parseInt(t,8)),t=""):n(s):s===hn.BackSlash?r=!0:n(s)}return new Uint8Array(e)},t.prototype.decodeText=function(){var e=this.asBytes();return uG(e)?uV(e):cL(e)},t.prototype.decodeDate=function(){var e=this.decodeText(),t=uC(e);if(!t)throw new cQ(e);return t},t.prototype.asString=function(){return this.value},t.prototype.clone=function(){return t.of(this.value)},t.prototype.toString=function(){return"("+this.value+")"},t.prototype.sizeInBytes=function(){return this.value.length+2},t.prototype.copyBytesInto=function(e,t){return e[t++]=hn.LeftParen,t+=ud(this.value,e,t),e[t++]=hn.RightParen,this.value.length+2},t.of=function(e){return new t(e)},t.fromDate=function(e){return new t("D:"+uh(String(e.getUTCFullYear()),4,"0")+uh(String(e.getUTCMonth()+1),2,"0")+uh(String(e.getUTCDate()),2,"0")+uh(String(e.getUTCHours()),2,"0")+uh(String(e.getUTCMinutes()),2,"0")+uh(String(e.getUTCSeconds()),2,"0")+"Z")},t}(ho),hJ=function(){function e(e,t,r,n){var i=this;this.allGlyphsInFontSortedById=function(){for(var e=Array(i.font.characterSet.length),t=0,r=e.length;t<r;t++){var n=i.font.characterSet[t];e[t]=i.font.glyphForCodePoint(n)}return uF(e.sort(uD),function(e){return e.id})},this.font=e,this.scale=1e3/this.font.unitsPerEm,this.fontData=t,this.fontName=this.font.postscriptName||"Font",this.customName=r,this.fontFeatures=n,this.baseFontName="",this.glyphCache=cj.populatedBy(this.allGlyphsInFontSortedById)}return e.for=function(t,r,n,i){return l8(this,void 0,void 0,function(){return l9(this,function(o){switch(o.label){case 0:return[4,t.create(r)];case 1:return[2,new e(o.sent(),r,n,i)]}})})},e.prototype.encodeText=function(e){for(var t=this.font.layout(e,this.fontFeatures).glyphs,r=Array(t.length),n=0,i=t.length;n<i;n++)r[n]=ul(t[n].id,4);return hV.of(r.join(""))},e.prototype.widthOfTextAtSize=function(e,t){for(var r=this.font.layout(e,this.fontFeatures).glyphs,n=0,i=0,o=r.length;i<o;i++)n+=r[i].advanceWidth*this.scale;return t/1e3*n},e.prototype.heightOfFontAtSize=function(e,t){void 0===t&&(t={});var r=t.descender,n=this.font,i=n.ascent,o=n.descent,a=n.bbox,s=(i||a.maxY)*this.scale-(o||a.minY)*this.scale;return void 0===r||r||(s-=Math.abs(o)||0),s/1e3*e},e.prototype.sizeOfFontAtHeight=function(e){var t=this.font,r=t.ascent,n=t.descent,i=t.bbox;return 1e3*e/((r||i.maxY)*this.scale-(n||i.minY)*this.scale)},e.prototype.embedIntoContext=function(e,t){return this.baseFontName=this.customName||e.addRandomSuffix(this.fontName),this.embedFontDict(e,t)},e.prototype.embedFontDict=function(e,t){return l8(this,void 0,void 0,function(){var r,n,i;return l9(this,function(o){switch(o.label){case 0:return[4,this.embedCIDFontDict(e)];case 1:if(r=o.sent(),n=this.embedUnicodeCmap(e),i=e.obj({Type:"Font",Subtype:"Type0",BaseFont:this.baseFontName,Encoding:"Identity-H",DescendantFonts:[r],ToUnicode:n}),t)return e.assign(t,i),[2,t];return[2,e.register(i)]}})})},e.prototype.isCFF=function(){return this.font.cff},e.prototype.embedCIDFontDict=function(e){return l8(this,void 0,void 0,function(){var t,r;return l9(this,function(n){switch(n.label){case 0:return[4,this.embedFontDescriptor(e)];case 1:return t=n.sent(),r=e.obj({Type:"Font",Subtype:this.isCFF()?"CIDFontType0":"CIDFontType2",CIDToGIDMap:"Identity",BaseFont:this.baseFontName,CIDSystemInfo:{Registry:hX.of("Adobe"),Ordering:hX.of("Identity"),Supplement:0},FontDescriptor:t,W:this.computeWidths()}),[2,e.register(r)]}})})},e.prototype.embedFontDescriptor=function(e){return l8(this,void 0,void 0,function(){var t,r,n,i,o,a,s,l,u,c,h,d,f,p,g;return l9(this,function(m){switch(m.label){case 0:return[4,this.embedFontStream(e)];case 1:return t=m.sent(),r=this.scale,i=(n=this.font).italicAngle,o=n.ascent,a=n.descent,s=n.capHeight,l=n.xHeight,c=(u=this.font.bbox).minX,h=u.minY,d=u.maxX,f=u.maxY,p=e.obj(((g={Type:"FontDescriptor",FontName:this.baseFontName,Flags:hQ(this.font),FontBBox:[c*r,h*r,d*r,f*r],ItalicAngle:i,Ascent:o*r,Descent:a*r,CapHeight:(s||o)*r,XHeight:(l||0)*r,StemV:0})[this.isCFF()?"FontFile3":"FontFile2"]=t,g)),[2,e.register(p)]}})})},e.prototype.serializeFont=function(){return l8(this,void 0,void 0,function(){return l9(this,function(e){return[2,this.fontData]})})},e.prototype.embedFontStream=function(e){return l8(this,void 0,void 0,function(){var t,r,n;return l9(this,function(i){switch(i.label){case 0:return n=(r=e).flateStream,[4,this.serializeFont()];case 1:return t=n.apply(r,[i.sent(),{Subtype:this.isCFF()?"CIDFontType0C":void 0}]),[2,e.register(t)]}})})},e.prototype.embedUnicodeCmap=function(e){var t=h$(this.glyphCache.access(),this.glyphId.bind(this)),r=e.flateStream(t);return e.register(r)},e.prototype.glyphId=function(e){return e?e.id:-1},e.prototype.computeWidths=function(){for(var e=this.glyphCache.access(),t=[],r=[],n=0,i=e.length;n<i;n++){var o=e[n],a=e[n-1],s=this.glyphId(o),l=this.glyphId(a);0===n?t.push(s):s-l!=1&&(t.push(r),t.push(s),r=[]),r.push(o.advanceWidth*this.scale)}return t.push(r),t},e}(),hY=function(e){function t(t,r,n,i){var o=e.call(this,t,r,n,i)||this;return o.subset=o.font.createSubset(),o.glyphs=[],o.glyphCache=cj.populatedBy(function(){return o.glyphs}),o.glyphIdMap=new Map,o}return l4(t,e),t.for=function(e,r,n,i){return l8(this,void 0,void 0,function(){return l9(this,function(o){switch(o.label){case 0:return[4,e.create(r)];case 1:return[2,new t(o.sent(),r,n,i)]}})})},t.prototype.encodeText=function(e){for(var t=this.font.layout(e,this.fontFeatures).glyphs,r=Array(t.length),n=0,i=t.length;n<i;n++){var o=t[n],a=this.subset.includeGlyph(o);this.glyphs[a-1]=o,this.glyphIdMap.set(o.id,a),r[n]=ul(a,4)}return this.glyphCache.invalidate(),hV.of(r.join(""))},t.prototype.isCFF=function(){return this.subset.cff},t.prototype.glyphId=function(e){return e?this.glyphIdMap.get(e.id):-1},t.prototype.serializeFont=function(){var e=this;return new Promise(function(t,r){var n=[];e.subset.encodeStream().on("data",function(e){return n.push(e)}).on("end",function(){return t(uE(n))}).on("error",function(e){return r(e)})})},t}(hJ);(w=er||(er={})).Source="Source",w.Data="Data",w.Alternative="Alternative",w.Supplement="Supplement",w.EncryptedPayload="EncryptedPayload",w.FormData="EncryptedPayload",w.Schema="Schema",w.Unspecified="Unspecified";var hZ=function(){function e(e,t,r){void 0===r&&(r={}),this.fileData=e,this.fileName=t,this.options=r}return e.for=function(t,r,n){return void 0===n&&(n={}),new e(t,r,n)},e.prototype.embedIntoContext=function(e,t){return l8(this,void 0,void 0,function(){var r,n,i,o,a,s,l,u,c;return l9(this,function(h){return(n=(r=this.options).mimeType,i=r.description,o=r.creationDate,a=r.modificationDate,s=r.afRelationship,l=e.flateStream(this.fileData,{Type:"EmbeddedFile",Subtype:null!=n?n:void 0,Params:{Size:this.fileData.length,CreationDate:o?hX.fromDate(o):void 0,ModDate:a?hX.fromDate(a):void 0}}),u=e.register(l),c=e.obj({Type:"Filespec",F:hX.of(this.fileName),UF:hV.fromText(this.fileName),EF:{F:u},Desc:i?hV.fromText(i):void 0,AFRelationship:null!=s?s:void 0}),t)?(e.assign(t,c),[2,t]):[2,e.register(c)]})})},e}(),h0=[65472,65473,65474,65475,65477,65478,65479,65480,65481,65482,65483,65484,65485,65486,65487];(x=en||(en={})).DeviceGray="DeviceGray",x.DeviceRGB="DeviceRGB",x.DeviceCMYK="DeviceCMYK";var h1={1:en.DeviceGray,3:en.DeviceRGB,4:en.DeviceCMYK},h2=function(){function e(e,t,r,n,i){this.imageData=e,this.bitsPerComponent=t,this.width=r,this.height=n,this.colorSpace=i}return e.for=function(t){return l8(this,void 0,void 0,function(){var r,n,i,o,a,s,l;return l9(this,function(u){if(65496!==(r=new DataView(t.buffer)).getUint16(0))throw Error("SOI not found in JPEG");for(n=2;n<r.byteLength&&(i=r.getUint16(n),n+=2,!h0.includes(i));)n+=r.getUint16(n);if(!h0.includes(i))throw Error("Invalid JPEG");if(n+=2,o=r.getUint8(n++),a=r.getUint16(n),n+=2,s=r.getUint16(n),n+=2,!(l=h1[r.getUint8(n++)]))throw Error("Unknown JPEG channel.");return[2,new e(t,o,s,a,l)]})})},e.prototype.embedIntoContext=function(e,t){return l8(this,void 0,void 0,function(){var r;return l9(this,function(n){return(r=e.stream(this.imageData,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.bitsPerComponent,Width:this.width,Height:this.height,ColorSpace:this.colorSpace,Filter:"DCTDecode",Decode:this.colorSpace===en.DeviceCMYK?[1,0,1,0,1,0,1,0]:void 0}),t)?(e.assign(t,r),[2,t]):[2,e.register(r)]})})},e}(),h5={};h5.toRGBA8=function(e){var t=e.width,r=e.height;if(null==e.tabs.acTL)return[h5.toRGBA8.decodeImage(e.data,t,r,e).buffer];var n=[];null==e.frames[0].data&&(e.frames[0].data=e.data);for(var i=t*r*4,o=new Uint8Array(i),a=new Uint8Array(i),s=new Uint8Array(i),l=0;l<e.frames.length;l++){var u=e.frames[l],c=u.rect.x,h=u.rect.y,d=u.rect.width,f=u.rect.height,p=h5.toRGBA8.decodeImage(u.data,d,f,e);if(0!=l)for(var g=0;g<i;g++)s[g]=o[g];if(0==u.blend?h5._copyTile(p,d,f,o,t,r,c,h,0):1==u.blend&&h5._copyTile(p,d,f,o,t,r,c,h,1),n.push(o.buffer.slice(0)),0==u.dispose);else if(1==u.dispose)h5._copyTile(a,d,f,o,t,r,c,h,0);else if(2==u.dispose)for(var g=0;g<i;g++)o[g]=s[g]}return n},h5.toRGBA8.decodeImage=function(e,t,r,n){var i=t*r,o=Math.ceil(t*h5.decode._getBPP(n)/8),a=new Uint8Array(4*i),s=new Uint32Array(a.buffer),l=n.ctype,u=n.depth,c=h5._bin.readUshort;if(Date.now(),6==l){var h=i<<2;if(8==u)for(var d=0;d<h;d+=4)a[d]=e[d],a[d+1]=e[d+1],a[d+2]=e[d+2],a[d+3]=e[d+3];if(16==u)for(var d=0;d<h;d++)a[d]=e[d<<1]}else if(2==l){var f=n.tabs.tRNS;if(null==f){if(8==u)for(var d=0;d<i;d++){var p=3*d;s[d]=-0x1000000|e[p+2]<<16|e[p+1]<<8|e[p]}if(16==u)for(var d=0;d<i;d++){var p=6*d;s[d]=-0x1000000|e[p+4]<<16|e[p+2]<<8|e[p]}}else{var g=f[0],m=f[1],y=f[2];if(8==u)for(var d=0;d<i;d++){var v=d<<2,p=3*d;s[d]=-0x1000000|e[p+2]<<16|e[p+1]<<8|e[p],e[p]==g&&e[p+1]==m&&e[p+2]==y&&(a[v+3]=0)}if(16==u)for(var d=0;d<i;d++){var v=d<<2,p=6*d;s[d]=-0x1000000|e[p+4]<<16|e[p+2]<<8|e[p],c(e,p)==g&&c(e,p+2)==m&&c(e,p+4)==y&&(a[v+3]=0)}}}else if(3==l){var b=n.tabs.PLTE,w=n.tabs.tRNS,x=w?w.length:0;if(1==u)for(var S=0;S<r;S++)for(var C=S*o,k=S*t,d=0;d<t;d++){var v=k+d<<2,_=e[C+(d>>3)]>>7-(7&d)&1,A=3*_;a[v]=b[A],a[v+1]=b[A+1],a[v+2]=b[A+2],a[v+3]=_<x?w[_]:255}if(2==u)for(var S=0;S<r;S++)for(var C=S*o,k=S*t,d=0;d<t;d++){var v=k+d<<2,_=e[C+(d>>2)]>>6-((3&d)<<1)&3,A=3*_;a[v]=b[A],a[v+1]=b[A+1],a[v+2]=b[A+2],a[v+3]=_<x?w[_]:255}if(4==u)for(var S=0;S<r;S++)for(var C=S*o,k=S*t,d=0;d<t;d++){var v=k+d<<2,_=e[C+(d>>1)]>>4-((1&d)<<2)&15,A=3*_;a[v]=b[A],a[v+1]=b[A+1],a[v+2]=b[A+2],a[v+3]=_<x?w[_]:255}if(8==u)for(var d=0;d<i;d++){var v=d<<2,_=e[d],A=3*_;a[v]=b[A],a[v+1]=b[A+1],a[v+2]=b[A+2],a[v+3]=_<x?w[_]:255}}else if(4==l){if(8==u)for(var d=0;d<i;d++){var v=d<<2,T=d<<1,E=e[T];a[v]=E,a[v+1]=E,a[v+2]=E,a[v+3]=e[T+1]}if(16==u)for(var d=0;d<i;d++){var v=d<<2,T=d<<2,E=e[T];a[v]=E,a[v+1]=E,a[v+2]=E,a[v+3]=e[T+2]}}else if(0==l)for(var g=n.tabs.tRNS?n.tabs.tRNS:-1,S=0;S<r;S++){var I=S*o,D=S*t;if(1==u)for(var F=0;F<t;F++){var E=255*(e[I+(F>>>3)]>>>7-(7&F)&1),P=255*(E!=255*g);s[D+F]=P<<24|E<<16|E<<8|E}else if(2==u)for(var F=0;F<t;F++){var E=85*(e[I+(F>>>2)]>>>6-((3&F)<<1)&3),P=255*(E!=85*g);s[D+F]=P<<24|E<<16|E<<8|E}else if(4==u)for(var F=0;F<t;F++){var E=17*(e[I+(F>>>1)]>>>4-((1&F)<<2)&15),P=255*(E!=17*g);s[D+F]=P<<24|E<<16|E<<8|E}else if(8==u)for(var F=0;F<t;F++){var E=e[I+F],P=255*(E!=g);s[D+F]=P<<24|E<<16|E<<8|E}else if(16==u)for(var F=0;F<t;F++){var E=e[I+(F<<1)],P=255*(c(e,I+(F<<d))!=g);s[D+F]=P<<24|E<<16|E<<8|E}}return a},h5.decode=function(e){for(var t,r=new Uint8Array(e),n=8,i=h5._bin,o=i.readUshort,a=i.readUint,s={tabs:{},frames:[]},l=new Uint8Array(r.length),u=0,c=0,h=[137,80,78,71,13,10,26,10],d=0;d<8;d++)if(r[d]!=h[d])throw"The input is not a PNG file!";for(;n<r.length;){var f=i.readUint(r,n);n+=4;var p=i.readASCII(r,n,4);if(n+=4,"IHDR"==p)h5.decode._IHDR(r,n,s);else if("IDAT"==p){for(var d=0;d<f;d++)l[u+d]=r[n+d];u+=f}else if("acTL"==p)s.tabs[p]={num_frames:a(r,n),num_plays:a(r,n+4)},t=new Uint8Array(r.length);else if("fcTL"==p){if(0!=c){var g=s.frames[s.frames.length-1];g.data=h5.decode._decompress(s,t.slice(0,c),g.rect.width,g.rect.height),c=0}var m={x:a(r,n+12),y:a(r,n+16),width:a(r,n+4),height:a(r,n+8)},y=o(r,n+22),v={rect:m,delay:Math.round(1e3*(y=o(r,n+20)/(0==y?100:y))),dispose:r[n+24],blend:r[n+25]};s.frames.push(v)}else if("fdAT"==p){for(var d=0;d<f-4;d++)t[c+d]=r[n+d+4];c+=f-4}else if("pHYs"==p)s.tabs[p]=[i.readUint(r,n),i.readUint(r,n+4),r[n+8]];else if("cHRM"==p){s.tabs[p]=[];for(var d=0;d<8;d++)s.tabs[p].push(i.readUint(r,n+4*d))}else if("tEXt"==p){null==s.tabs[p]&&(s.tabs[p]={});var b=i.nextZero(r,n),w=i.readASCII(r,n,b-n),x=i.readASCII(r,b+1,n+f-b-1);s.tabs[p][w]=x}else if("iTXt"==p){null==s.tabs[p]&&(s.tabs[p]={});var b=0,S=n;b=i.nextZero(r,S);var w=i.readASCII(r,S,b-S);r[S=b+1],r[S+1],S+=2,b=i.nextZero(r,S),i.readASCII(r,S,b-S),S=b+1,b=i.nextZero(r,S),i.readUTF8(r,S,b-S),S=b+1;var x=i.readUTF8(r,S,f-(S-n));s.tabs[p][w]=x}else if("PLTE"==p)s.tabs[p]=i.readBytes(r,n,f);else if("hIST"==p){var C=s.tabs.PLTE.length/3;s.tabs[p]=[];for(var d=0;d<C;d++)s.tabs[p].push(o(r,n+2*d))}else if("tRNS"==p)3==s.ctype?s.tabs[p]=i.readBytes(r,n,f):0==s.ctype?s.tabs[p]=o(r,n):2==s.ctype&&(s.tabs[p]=[o(r,n),o(r,n+2),o(r,n+4)]);else if("gAMA"==p)s.tabs[p]=i.readUint(r,n)/1e5;else if("sRGB"==p)s.tabs[p]=r[n];else if("bKGD"==p)0==s.ctype||4==s.ctype?s.tabs[p]=[o(r,n)]:2==s.ctype||6==s.ctype?s.tabs[p]=[o(r,n),o(r,n+2),o(r,n+4)]:3==s.ctype&&(s.tabs[p]=r[n]);else if("IEND"==p)break;n+=f,i.readUint(r,n),n+=4}if(0!=c){var g=s.frames[s.frames.length-1];g.data=h5.decode._decompress(s,t.slice(0,c),g.rect.width,g.rect.height),c=0}return s.data=h5.decode._decompress(s,l,s.width,s.height),delete s.compress,delete s.interlace,delete s.filter,s},h5.decode._decompress=function(e,t,r,n){Date.now();var i=new Uint8Array((Math.ceil(r*h5.decode._getBPP(e)/8)+1+e.interlace)*n);return t=h5.decode._inflate(t,i),Date.now(),0==e.interlace?t=h5.decode._filterZero(t,e,0,r,n):1==e.interlace&&(t=h5.decode._readInterlace(t,e)),t},h5.decode._inflate=function(e,t){return h5.inflateRaw(new Uint8Array(e.buffer,2,e.length-6),t)},(S={}).H={},S.H.N=function(e,t){var r,n,i=Uint8Array,o=0,a=0,s=0,l=0,u=0,c=0,h=0,d=0,f=0;if(3==e[0]&&0==e[1])return t||new i(0);var p=S.H,g=p.b,m=p.e,y=p.R,v=p.n,b=p.A,w=p.Z,x=p.m,C=null==t;for(C&&(t=new i(e.length>>>2<<3));0==o;){if(o=g(e,f,1),a=g(e,f+1,2),f+=3,0==a){(7&f)!=0&&(f+=8-(7&f));var k=(f>>>3)+4,_=e[k-4]|e[k-3]<<8;C&&(t=S.H.W(t,d+_)),t.set(new i(e.buffer,e.byteOffset+k,_),d),f=k+_<<3,d+=_;continue}if(C&&(t=S.H.W(t,d+131072)),1==a&&(r=x.J,n=x.h,c=511,h=31),2==a){s=m(e,f,5)+257,l=m(e,f+5,5)+1,u=m(e,f+10,4)+4,f+=14;for(var A=1,T=0;T<38;T+=2)x.Q[T]=0,x.Q[T+1]=0;for(var T=0;T<u;T++){var E=m(e,f+3*T,3);x.Q[(x.X[T]<<1)+1]=E,E>A&&(A=E)}f+=3*u,v(x.Q,A),b(x.Q,A,x.u),r=x.w,n=x.d,f=y(x.u,(1<<A)-1,s+l,e,f,x.v);var I=p.V(x.v,0,s,x.C);c=(1<<I)-1;var D=p.V(x.v,s,l,x.D);h=(1<<D)-1,v(x.C,I),b(x.C,I,r),v(x.D,D),b(x.D,D,n)}for(;;){var F=r[w(e,f)&c];f+=15&F;var P=F>>>4;if(P>>>8==0)t[d++]=P;else if(256==P)break;else{var N=d+P-254;if(P>264){var R=x.q[P-257];N=d+(R>>>3)+m(e,f,7&R),f+=7&R}var O=n[w(e,f)&h];f+=15&O;var B=O>>>4,M=x.c[B],L=(M>>>4)+g(e,f,15&M);for(f+=15&M;d<N;)t[d]=t[d++-L],t[d]=t[d++-L],t[d]=t[d++-L],t[d]=t[d++-L];d=N}}}return t.length==d?t:t.slice(0,d)},S.H.W=function(e,t){var r=e.length;if(t<=r)return e;var n=new Uint8Array(r<<1);return n.set(e,0),n},S.H.R=function(e,t,r,n,i,o){for(var a=S.H.e,s=S.H.Z,l=0;l<r;){var u=e[s(n,i)&t];i+=15&u;var c=u>>>4;if(c<=15)o[l]=c,l++;else{var h=0,d=0;16==c?(d=3+a(n,i,2),i+=2,h=o[l-1]):17==c?(d=3+a(n,i,3),i+=3):18==c&&(d=11+a(n,i,7),i+=7);for(var f=l+d;l<f;)o[l]=h,l++}}return i},S.H.V=function(e,t,r,n){for(var i=0,o=0,a=n.length>>>1;o<r;){var s=e[o+t];n[o<<1]=0,n[(o<<1)+1]=s,s>i&&(i=s),o++}for(;o<a;)n[o<<1]=0,n[(o<<1)+1]=0,o++;return i},S.H.n=function(e,t){for(var r,n,i,o,a,s=S.H.m,l=e.length,u=s.j,o=0;o<=t;o++)u[o]=0;for(o=1;o<l;o+=2)u[e[o]]++;var c=s.K;for(n=1,r=0,u[0]=0;n<=t;n++)r=r+u[n-1]<<1,c[n]=r;for(i=0;i<l;i+=2)0!=(a=e[i+1])&&(e[i]=c[a],c[a]++)},S.H.A=function(e,t,r){for(var n=e.length,i=S.H.m.r,o=0;o<n;o+=2)if(0!=e[o+1])for(var a=o>>1,s=e[o+1],l=a<<4|s,u=t-s,c=e[o]<<u,h=c+(1<<u);c!=h;)r[i[c]>>>15-t]=l,c++},S.H.l=function(e,t){for(var r=S.H.m.r,n=15-t,i=0;i<e.length;i+=2){var o=e[i]<<t-e[i+1];e[i]=r[o]>>>n}},S.H.M=function(e,t,r){r<<=7&t;var n=t>>>3;e[n]|=r,e[n+1]|=r>>>8},S.H.I=function(e,t,r){r<<=7&t;var n=t>>>3;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},S.H.e=function(e,t,r){return(e[t>>>3]|e[(t>>>3)+1]<<8)>>>(7&t)&(1<<r)-1},S.H.b=function(e,t,r){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16)>>>(7&t)&(1<<r)-1},S.H.Z=function(e,t){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16)>>>(7&t)},S.H.i=function(e,t){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16|e[(t>>>3)+3]<<24)>>>(7&t)},S.H.m=(C=Uint16Array,k=Uint32Array,{K:new C(16),j:new C(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new C(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new k(32),J:new C(512),_:[],h:new C(32),$:[],w:new C(32768),C:[],v:[],d:new C(32768),D:[],u:new C(512),Q:[],r:new C(32768),s:new k(286),Y:new k(30),a:new k(19),t:new k(15e3),k:new C(65536),g:new C(32768)}),function(){for(var e=S.H.m,t=0;t<32768;t++){var r=t;r=(0xff00ff00&(r=(0xf0f0f0f0&(r=(0xcccccccc&(r=(0xaaaaaaaa&r)>>>1|(0x55555555&r)<<1))>>>2|(0x33333333&r)<<2))>>>4|(0xf0f0f0f&r)<<4))>>>8|(0xff00ff&r)<<8,e.r[t]=(r>>>16|r<<16)>>>17}function n(e,t,r){for(;0!=t--;)e.push(0,r)}for(var t=0;t<32;t++)e.q[t]=e.S[t]<<3|e.T[t],e.c[t]=e.p[t]<<4|e.z[t];n(e._,144,8),n(e._,112,9),n(e._,24,7),n(e._,8,8),S.H.n(e._,9),S.H.A(e._,9,e.J),S.H.l(e._,9),n(e.$,32,5),S.H.n(e.$,5),S.H.A(e.$,5,e.h),S.H.l(e.$,5),n(e.Q,19,0),n(e.C,286,0),n(e.D,30,0),n(e.v,320,0)}(),h5.inflateRaw=S.H.N,h5.decode._readInterlace=function(e,t){for(var r=t.width,n=t.height,i=h5.decode._getBPP(t),o=i>>3,a=Math.ceil(r*i/8),s=new Uint8Array(n*a),l=0,u=[0,0,4,0,2,0,1],c=[0,4,0,2,0,1,0],h=[8,8,8,4,4,2,2],d=[8,8,4,4,2,2,1],f=0;f<7;){for(var p=h[f],g=d[f],m=0,y=0,v=u[f];v<n;)v+=p,y++;for(var b=c[f];b<r;)b+=g,m++;var w=Math.ceil(m*i/8);h5.decode._filterZero(e,t,l,m,y);for(var x=0,S=u[f];S<n;){for(var C=c[f],k=l+x*w<<3;C<r;){if(1==i){var _=e[k>>3];_=_>>7-(7&k)&1,s[S*a+(C>>3)]|=_<<7-(7&C)}if(2==i){var _=e[k>>3];_=_>>6-(7&k)&3,s[S*a+(C>>2)]|=_<<6-((3&C)<<1)}if(4==i){var _=e[k>>3];_=_>>4-(7&k)&15,s[S*a+(C>>1)]|=_<<4-((1&C)<<2)}if(i>=8)for(var A=S*a+C*o,T=0;T<o;T++)s[A+T]=e[(k>>3)+T];k+=i,C+=g}x++,S+=p}m*y!=0&&(l+=y*(1+w)),f+=1}return s},h5.decode._getBPP=function(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth},h5.decode._filterZero=function(e,t,r,n,i){var o=h5.decode._getBPP(t),a=Math.ceil(n*o/8),s=h5.decode._paeth;o=Math.ceil(o/8);var l=0,u=1,c=e[r],h=0;if(c>1&&(e[r]=[0,0,1][c-2]),3==c)for(h=o;h<a;h++)e[h+1]=e[h+1]+(e[h+1-o]>>>1)&255;for(var d=0;d<i;d++)if(c=e[(u=(l=r+d*a)+d+1)-1],h=0,0==c)for(;h<a;h++)e[l+h]=e[u+h];else if(1==c){for(;h<o;h++)e[l+h]=e[u+h];for(;h<a;h++)e[l+h]=e[u+h]+e[l+h-o]}else if(2==c)for(;h<a;h++)e[l+h]=e[u+h]+e[l+h-a];else if(3==c){for(;h<o;h++)e[l+h]=e[u+h]+(e[l+h-a]>>>1);for(;h<a;h++)e[l+h]=e[u+h]+(e[l+h-a]+e[l+h-o]>>>1)}else{for(;h<o;h++)e[l+h]=e[u+h]+s(0,e[l+h-a],0);for(;h<a;h++)e[l+h]=e[u+h]+s(e[l+h-o],e[l+h-a],e[l+h-o-a])}return e},h5.decode._paeth=function(e,t,r){var n=e+t-r,i=n-e,o=n-t,a=n-r;return i*i<=o*o&&i*i<=a*a?e:o*o<=a*a?t:r},h5.decode._IHDR=function(e,t,r){var n=h5._bin;r.width=n.readUint(e,t),t+=4,r.height=n.readUint(e,t),r.depth=e[t+=4],r.ctype=e[++t],r.compress=e[++t],r.filter=e[++t],r.interlace=e[++t],t++},h5._bin={nextZero:function(e,t){for(;0!=e[t];)t++;return t},readUshort:function(e,t){return e[t]<<8|e[t+1]},writeUshort:function(e,t,r){e[t]=r>>8&255,e[t+1]=255&r},readUint:function(e,t){return 0x1000000*e[t]+(e[t+1]<<16|e[t+2]<<8|e[t+3])},writeUint:function(e,t,r){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r},readASCII:function(e,t,r){for(var n="",i=0;i<r;i++)n+=String.fromCharCode(e[t+i]);return n},writeASCII:function(e,t,r){for(var n=0;n<r.length;n++)e[t+n]=r.charCodeAt(n)},readBytes:function(e,t,r){for(var n=[],i=0;i<r;i++)n.push(e[t+i]);return n},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,r){for(var n,i="",o=0;o<r;o++)i+="%"+h5._bin.pad(e[t+o].toString(16));try{n=decodeURIComponent(i)}catch(n){return h5._bin.readASCII(e,t,r)}return n}},h5._copyTile=function(e,t,r,n,i,o,a,s,l){for(var u=Math.min(t,i),c=Math.min(r,o),h=0,d=0,f=0;f<c;f++)for(var p=0;p<u;p++)if(a>=0&&s>=0?(h=f*t+p<<2,d=(s+f)*i+a+p<<2):(h=(-s+f)*t-a+p<<2,d=f*i+p<<2),0==l)n[d]=e[h],n[d+1]=e[h+1],n[d+2]=e[h+2],n[d+3]=e[h+3];else if(1==l){var g=e[h+3]*(1/255),m=e[h]*g,y=e[h+1]*g,v=e[h+2]*g,b=n[d+3]*(1/255),w=n[d]*b,x=n[d+1]*b,S=n[d+2]*b,C=1-g,k=g+b*C,_=0==k?0:1/k;n[d+3]=255*k,n[d+0]=(m+w*C)*_,n[d+1]=(y+x*C)*_,n[d+2]=(v+S*C)*_}else if(2==l){var g=e[h+3],m=e[h],y=e[h+1],v=e[h+2],b=n[d+3],w=n[d],x=n[d+1],S=n[d+2];g==b&&m==w&&y==x&&v==S?(n[d]=0,n[d+1]=0,n[d+2]=0,n[d+3]=0):(n[d]=m,n[d+1]=y,n[d+2]=v,n[d+3]=g)}else if(3==l){var g=e[h+3],m=e[h],y=e[h+1],v=e[h+2],b=n[d+3],w=n[d],x=n[d+1],S=n[d+2];if(g==b&&m==w&&y==x&&v==S)continue;if(g<220&&b>20)return!1}return!0},h5.encode=function(e,t,r,n,i,o,a){null==n&&(n=0),null==a&&(a=!1);var s=h5.encode.compress(e,t,r,n,[!1,!1,!1,0,a]);return h5.encode.compressPNG(s,-1),h5.encode._main(s,t,r,i,o)},h5.encodeLL=function(e,t,r,n,i,o,a,s){var l={ctype:0+2*(1!=n)+4*(0!=i),depth:o,frames:[]};Date.now();for(var u=(n+i)*o,c=u*t,h=0;h<e.length;h++)l.frames.push({rect:{x:0,y:0,width:t,height:r},img:new Uint8Array(e[h]),blend:0,dispose:1,bpp:Math.ceil(u/8),bpl:Math.ceil(c/8)});return h5.encode.compressPNG(l,0,!0),h5.encode._main(l,t,r,a,s)},h5.encode._main=function(e,t,r,n,i){null==i&&(i={});var o=h5.crc.crc,a=h5._bin.writeUint,s=h5._bin.writeUshort,l=h5._bin.writeASCII,u=8,c=e.frames.length>1,h=!1,d=33+20*!!c;if(null!=i.sRGB&&(d+=13),null!=i.pHYs&&(d+=21),3==e.ctype){for(var f=e.plte.length,p=0;p<f;p++)e.plte[p]>>>24!=255&&(h=!0);d+=8+3*f+4+(h?8+ +f+4:0)}for(var g=0;g<e.frames.length;g++){var m=e.frames[g];c&&(d+=38),d+=m.cimg.length+12,0!=g&&(d+=4)}for(var y=new Uint8Array(d+=12),v=[137,80,78,71,13,10,26,10],p=0;p<8;p++)y[p]=v[p];if(a(y,u,13),l(y,u+=4,"IHDR"),a(y,u+=4,t),a(y,u+=4,r),y[u+=4]=e.depth,y[++u]=e.ctype,y[++u]=0,y[++u]=0,y[++u]=0,a(y,++u,o(y,u-17,17)),u+=4,null!=i.sRGB&&(a(y,u,1),l(y,u+=4,"sRGB"),y[u+=4]=i.sRGB,a(y,++u,o(y,u-5,5)),u+=4),null!=i.pHYs&&(a(y,u,9),l(y,u+=4,"pHYs"),a(y,u+=4,i.pHYs[0]),a(y,u+=4,i.pHYs[1]),y[u+=4]=i.pHYs[2],a(y,++u,o(y,u-13,13)),u+=4),c&&(a(y,u,8),l(y,u+=4,"acTL"),a(y,u+=4,e.frames.length),a(y,u+=4,null!=i.loop?i.loop:0),a(y,u+=4,o(y,u-12,12)),u+=4),3==e.ctype){var f=e.plte.length;a(y,u,3*f),l(y,u+=4,"PLTE"),u+=4;for(var p=0;p<f;p++){var b=3*p,w=e.plte[p],x=255&w,S=w>>>8&255,C=w>>>16&255;y[u+b+0]=x,y[u+b+1]=S,y[u+b+2]=C}if(a(y,u+=3*f,o(y,u-3*f-4,3*f+4)),u+=4,h){a(y,u,f),l(y,u+=4,"tRNS"),u+=4;for(var p=0;p<f;p++)y[u+p]=e.plte[p]>>>24&255;a(y,u+=f,o(y,u-f-4,f+4)),u+=4}}for(var k=0,g=0;g<e.frames.length;g++){var m=e.frames[g];c&&(a(y,u,26),l(y,u+=4,"fcTL"),a(y,u+=4,k++),a(y,u+=4,m.rect.width),a(y,u+=4,m.rect.height),a(y,u+=4,m.rect.x),a(y,u+=4,m.rect.y),s(y,u+=4,n[g]),s(y,u+=2,1e3),y[u+=2]=m.dispose,y[++u]=m.blend,a(y,++u,o(y,u-30,30)),u+=4);var _=m.cimg,f=_.length;a(y,u,f+4*(0!=g));var A=u+=4;l(y,u,0==g?"IDAT":"fdAT"),u+=4,0!=g&&(a(y,u,k++),u+=4),y.set(_,u),a(y,u+=f,o(y,A,u-A)),u+=4}return a(y,u,0),l(y,u+=4,"IEND"),a(y,u+=4,o(y,u-4,4)),u+=4,y.buffer},h5.encode.compressPNG=function(e,t,r){for(var n=0;n<e.frames.length;n++){var i=e.frames[n],o=(i.rect.width,i.rect.height),a=new Uint8Array(o*i.bpl+o);i.cimg=h5.encode._filterZero(i.img,o,i.bpp,i.bpl,a,t,r)}},h5.encode.compress=function(e,t,r,n,i){for(var o=i[0],a=i[1],s=i[2],l=i[3],u=i[4],c=6,h=8,d=255,f=0;f<e.length;f++)for(var p=new Uint8Array(e[f]),g=p.length,m=0;m<g;m+=4)d&=p[m+3];var y=255!=d,v=h5.encode.framize(e,t,r,o,a,s),b={},w=[],x=[];if(0!=n){for(var S=[],m=0;m<v.length;m++)S.push(v[m].img.buffer);for(var C=h5.encode.concatRGBA(S),k=h5.quantize(C,n),_=0,A=new Uint8Array(k.abuf),m=0;m<v.length;m++){var T=v[m].img,E=T.length;x.push(new Uint8Array(k.inds.buffer,_>>2,E>>2));for(var f=0;f<E;f+=4)T[f]=A[_+f],T[f+1]=A[_+f+1],T[f+2]=A[_+f+2],T[f+3]=A[_+f+3];_+=E}for(var m=0;m<k.plte.length;m++)w.push(k.plte[m].est.rgba)}else for(var f=0;f<v.length;f++){var I=v[f],D=new Uint32Array(I.img.buffer),F=I.rect.width,g=D.length,P=new Uint8Array(g);x.push(P);for(var m=0;m<g;m++){var N=D[m];if(0!=m&&N==D[m-1])P[m]=P[m-1];else if(m>F&&N==D[m-F])P[m]=P[m-F];else{var R=b[N];if(null==R&&(b[N]=R=w.length,w.push(N),w.length>=300))break;P[m]=R}}}var O=w.length;O<=256&&!1==u&&(h=Math.max(h=O<=2?1:O<=4?2:O<=16?4:8,l));for(var f=0;f<v.length;f++){var I=v[f],F=(I.rect.x,I.rect.y,I.rect.width),B=I.rect.height,M=I.img;new Uint32Array(M.buffer);var L=4*F,j=4;if(O<=256&&!1==u){for(var z=new Uint8Array((L=Math.ceil(h*F/8))*B),V=x[f],U=0;U<B;U++){var m=U*L,$=U*F;if(8==h)for(var W=0;W<F;W++)z[m+W]=V[$+W];else if(4==h)for(var W=0;W<F;W++)z[m+(W>>1)]|=V[$+W]<<4-(1&W)*4;else if(2==h)for(var W=0;W<F;W++)z[m+(W>>2)]|=V[$+W]<<6-(3&W)*2;else if(1==h)for(var W=0;W<F;W++)z[m+(W>>3)]|=V[$+W]<<7-(7&W)*1}M=z,c=3,j=1}else if(!1==y&&1==v.length){for(var z=new Uint8Array(F*B*3),q=F*B,m=0;m<q;m++){var T=3*m,K=4*m;z[T]=M[K],z[T+1]=M[K+1],z[T+2]=M[K+2]}M=z,c=2,j=3,L=3*F}I.img=M,I.bpl=L,I.bpp=j}return{ctype:c,depth:h,plte:w,frames:v}},h5.encode.framize=function(e,t,r,n,i,o){for(var a=[],s=0;s<e.length;s++){var l,u=new Uint8Array(e[s]),c=new Uint32Array(u.buffer),h=0,d=0,f=t,p=r,g=+!!n;if(0!=s){for(var m=o||n||1==s||0!=a[s-2].dispose?1:2,y=0,v=1e9,b=0;b<m;b++){for(var w=new Uint8Array(e[s-1-b]),x=new Uint32Array(e[s-1-b]),S=t,C=r,k=-1,_=-1,A=0;A<r;A++)for(var T=0;T<t;T++){var E=A*t+T;c[E]!=x[E]&&(T<S&&(S=T),T>k&&(k=T),A<C&&(C=A),A>_&&(_=A))}-1==k&&(S=C=k=_=0),i&&((1&S)==1&&S--,(1&C)==1&&C--);var I=(k-S+1)*(_-C+1);I<v&&(v=I,y=b,h=S,d=C,f=k-S+1,p=_-C+1)}var w=new Uint8Array(e[s-1-y]);1==y&&(a[s-1].dispose=2),l=new Uint8Array(f*p*4),h5._copyTile(w,t,r,l,f,p,-h,-d,0),1==(g=+!!h5._copyTile(u,t,r,l,f,p,-h,-d,3))?h5.encode._prepareDiff(u,t,r,l,{x:h,y:d,width:f,height:p}):h5._copyTile(u,t,r,l,f,p,-h,-d,0)}else l=u.slice(0);a.push({rect:{x:h,y:d,width:f,height:p},img:l,blend:g,dispose:0})}if(n)for(var s=0;s<a.length;s++){var D=a[s];if(1!=D.blend){var F=D.rect,P=a[s-1].rect,N=Math.min(F.x,P.x),R=Math.min(F.y,P.y),O={x:N,y:R,width:Math.max(F.x+F.width,P.x+P.width)-N,height:Math.max(F.y+F.height,P.y+P.height)-R};a[s-1].dispose=1,s-1!=0&&h5.encode._updateFrame(e,t,r,a,s-1,O,i),h5.encode._updateFrame(e,t,r,a,s,O,i)}}if(1!=e.length)for(var E=0;E<a.length;E++){var D=a[E];D.rect.width,D.rect.height}return a},h5.encode._updateFrame=function(e,t,r,n,i,o,a){for(var s=Uint8Array,l=Uint32Array,u=new s(e[i-1]),c=new l(e[i-1]),h=i+1<e.length?new s(e[i+1]):null,d=new s(e[i]),f=new l(d.buffer),p=t,g=r,m=-1,y=-1,v=0;v<o.height;v++)for(var b=0;b<o.width;b++){var w=o.x+b,x=o.y+v,S=x*t+w,C=f[S];0==C||0==n[i-1].dispose&&c[S]==C&&(null==h||0!=h[4*S+3])||(w<p&&(p=w),w>m&&(m=w),x<g&&(g=x),x>y&&(y=x))}-1==m&&(p=g=m=y=0),a&&((1&p)==1&&p--,(1&g)==1&&g--),o={x:p,y:g,width:m-p+1,height:y-g+1};var k=n[i];k.rect=o,k.blend=1,k.img=new Uint8Array(o.width*o.height*4),0==n[i-1].dispose?(h5._copyTile(u,t,r,k.img,o.width,o.height,-o.x,-o.y,0),h5.encode._prepareDiff(d,t,r,k.img,o)):h5._copyTile(d,t,r,k.img,o.width,o.height,-o.x,-o.y,0)},h5.encode._prepareDiff=function(e,t,r,n,i){h5._copyTile(e,t,r,n,i.width,i.height,-i.x,-i.y,2)},h5.encode._filterZero=function(e,t,r,n,i,o,a){var s=[],l=[0,1,2,3,4];-1!=o?l=[o]:(t*n>5e5||1==r)&&(l=[0]),a&&(d={level:0});for(var u=a&&null!=UZIP?UZIP:uZ.default,c=0;c<l.length;c++){for(var h=0;h<t;h++)h5.encode._filterLine(i,e,h,n,r,l[c]);s.push(u.deflate(i,d))}for(var d,f,p=1e9,c=0;c<s.length;c++)s[c].length<p&&(f=c,p=s[c].length);return s[f]},h5.encode._filterLine=function(e,t,r,n,i,o){var a=r*n,s=a+r,l=h5.decode._paeth;if(e[s]=o,s++,0==o)if(n<500)for(var u=0;u<n;u++)e[s+u]=t[a+u];else e.set(new Uint8Array(t.buffer,a,n),s);else if(1==o){for(var u=0;u<i;u++)e[s+u]=t[a+u];for(var u=i;u<n;u++)e[s+u]=t[a+u]-t[a+u-i]+256&255}else if(0==r){for(var u=0;u<i;u++)e[s+u]=t[a+u];if(2==o)for(var u=i;u<n;u++)e[s+u]=t[a+u];if(3==o)for(var u=i;u<n;u++)e[s+u]=t[a+u]-(t[a+u-i]>>1)+256&255;if(4==o)for(var u=i;u<n;u++)e[s+u]=t[a+u]-l(t[a+u-i],0,0)+256&255}else{if(2==o)for(var u=0;u<n;u++)e[s+u]=t[a+u]+256-t[a+u-n]&255;if(3==o){for(var u=0;u<i;u++)e[s+u]=t[a+u]+256-(t[a+u-n]>>1)&255;for(var u=i;u<n;u++)e[s+u]=t[a+u]+256-(t[a+u-n]+t[a+u-i]>>1)&255}if(4==o){for(var u=0;u<i;u++)e[s+u]=t[a+u]+256-l(0,t[a+u-n],0)&255;for(var u=i;u<n;u++)e[s+u]=t[a+u]+256-l(t[a+u-i],t[a+u-n],t[a+u-i-n])&255}}},h5.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var r=t,n=0;n<8;n++)1&r?r=0xedb88320^r>>>1:r>>>=1;e[t]=r}return e}(),update:function(e,t,r,n){for(var i=0;i<n;i++)e=h5.crc.table[(e^t[r+i])&255]^e>>>8;return e},crc:function(e,t,r){return 0xffffffff^h5.crc.update(0xffffffff,e,t,r)}},h5.quantize=function(e,t){var r=new Uint8Array(e),n=r.slice(0),i=new Uint32Array(n.buffer),o=h5.quantize.getKDtree(n,t),a=o[0],s=o[1];h5.quantize.planeDst;for(var l=r.length,u=new Uint8Array(r.length>>2),c=0;c<l;c+=4){var h=r[c]*(1/255),d=r[c+1]*(1/255),f=r[c+2]*(1/255),p=r[c+3]*(1/255),g=h5.quantize.getNearest(a,h,d,f,p);u[c>>2]=g.ind,i[c>>2]=g.est.rgba}return{abuf:n.buffer,inds:u,plte:s}},h5.quantize.getKDtree=function(e,t,r){null==r&&(r=1e-4);var n=new Uint32Array(e.buffer),i={i0:0,i1:e.length,bst:null,est:null,tdst:0,left:null,right:null};i.bst=h5.quantize.stats(e,i.i0,i.i1),i.est=h5.quantize.estats(i.bst);for(var o=[i];o.length<t;){for(var a=0,s=0,l=0;l<o.length;l++)o[l].est.L>a&&(a=o[l].est.L,s=l);if(a<r)break;var u=o[s],c=h5.quantize.splitPixels(e,n,u.i0,u.i1,u.est.e,u.est.eMq255);if(u.i0>=c||u.i1<=c){u.est.L=0;continue}var h={i0:u.i0,i1:c,bst:null,est:null,tdst:0,left:null,right:null};h.bst=h5.quantize.stats(e,h.i0,h.i1),h.est=h5.quantize.estats(h.bst);var d={i0:c,i1:u.i1,bst:null,est:null,tdst:0,left:null,right:null};d.bst={R:[],m:[],N:u.bst.N-h.bst.N};for(var l=0;l<16;l++)d.bst.R[l]=u.bst.R[l]-h.bst.R[l];for(var l=0;l<4;l++)d.bst.m[l]=u.bst.m[l]-h.bst.m[l];d.est=h5.quantize.estats(d.bst),u.left=h,u.right=d,o[s]=h,o.push(d)}o.sort(function(e,t){return t.bst.N-e.bst.N});for(var l=0;l<o.length;l++)o[l].ind=l;return[i,o]},h5.quantize.getNearest=function(e,t,r,n,i){if(null==e.left)return e.tdst=h5.quantize.dist(e.est.q,t,r,n,i),e;var o=h5.quantize.planeDst(e.est,t,r,n,i),a=e.left,s=e.right;o>0&&(a=e.right,s=e.left);var l=h5.quantize.getNearest(a,t,r,n,i);if(l.tdst<=o*o)return l;var u=h5.quantize.getNearest(s,t,r,n,i);return u.tdst<l.tdst?u:l},h5.quantize.planeDst=function(e,t,r,n,i){var o=e.e;return o[0]*t+o[1]*r+o[2]*n+o[3]*i-e.eMq},h5.quantize.dist=function(e,t,r,n,i){var o=t-e[0],a=r-e[1],s=n-e[2],l=i-e[3];return o*o+a*a+s*s+l*l},h5.quantize.splitPixels=function(e,t,r,n,i,o){var a=h5.quantize.vecDot;for(n-=4;r<n;){for(;a(e,r,i)<=o;)r+=4;for(;a(e,n,i)>o;)n-=4;if(r>=n)break;var s=t[r>>2];t[r>>2]=t[n>>2],t[n>>2]=s,r+=4,n-=4}for(;a(e,r,i)>o;)r-=4;return r+4},h5.quantize.vecDot=function(e,t,r){return e[t]*r[0]+e[t+1]*r[1]+e[t+2]*r[2]+e[t+3]*r[3]},h5.quantize.stats=function(e,t,r){for(var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[0,0,0,0],o=t;o<r;o+=4){var a=e[o]*(1/255),s=e[o+1]*(1/255),l=e[o+2]*(1/255),u=e[o+3]*(1/255);i[0]+=a,i[1]+=s,i[2]+=l,i[3]+=u,n[0]+=a*a,n[1]+=a*s,n[2]+=a*l,n[3]+=a*u,n[5]+=s*s,n[6]+=s*l,n[7]+=s*u,n[10]+=l*l,n[11]+=l*u,n[15]+=u*u}return n[4]=n[1],n[8]=n[2],n[9]=n[6],n[12]=n[3],n[13]=n[7],n[14]=n[11],{R:n,m:i,N:r-t>>2}},h5.quantize.estats=function(e){var t=e.R,r=e.m,n=e.N,i=r[0],o=r[1],a=r[2],s=r[3],l=0==n?0:1/n,u=[t[0]-i*i*l,t[1]-i*o*l,t[2]-i*a*l,t[3]-i*s*l,t[4]-o*i*l,t[5]-o*o*l,t[6]-o*a*l,t[7]-o*s*l,t[8]-a*i*l,t[9]-a*o*l,t[10]-a*a*l,t[11]-a*s*l,t[12]-s*i*l,t[13]-s*o*l,t[14]-s*a*l,t[15]-s*s*l],c=h5.M4,h=[.5,.5,.5,.5],d=0,f=0;if(0!=n)for(var p=0;p<10&&(h=c.multVec(u,h),f=Math.sqrt(c.dot(h,h)),h=c.sml(1/f,h),!(1e-9>Math.abs(f-d)));p++)d=f;var g=[i*l,o*l,a*l,s*l],m=c.dot(c.sml(255,g),h);return{Cov:u,q:g,e:h,L:d,eMq255:m,eMq:c.dot(h,g),rgba:(Math.round(255*g[3])<<24|Math.round(255*g[2])<<16|Math.round(255*g[1])<<8|(0|Math.round(255*g[0])))>>>0}},h5.M4={multVec:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],e[4]*t[0]+e[5]*t[1]+e[6]*t[2]+e[7]*t[3],e[8]*t[0]+e[9]*t[1]+e[10]*t[2]+e[11]*t[3],e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15]*t[3]]},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},sml:function(e,t){return[e*t[0],e*t[1],e*t[2],e*t[3]]}},h5.encode.concatRGBA=function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r].byteLength;for(var n=new Uint8Array(t),i=0,r=0;r<e.length;r++){for(var o=new Uint8Array(e[r]),a=o.length,s=0;s<a;s+=4){var l=o[s],u=o[s+1],c=o[s+2],h=o[s+3];0==h&&(l=u=c=0),n[i+s]=l,n[i+s+1]=u,n[i+s+2]=c,n[i+s+3]=h}i+=a}return n.buffer};var h3=function(e){if(0===e)return ei.Greyscale;if(2===e)return ei.Truecolour;if(3===e)return ei.IndexedColour;if(4===e)return ei.GreyscaleWithAlpha;if(6===e)return ei.TruecolourWithAlpha;throw Error("Unknown color type: "+e)},h4=function(e){for(var t=Math.floor(e.length/4),r=new Uint8Array(3*t),n=new Uint8Array(+t),i=0,o=0,a=0;i<e.length;)r[o++]=e[i++],r[o++]=e[i++],r[o++]=e[i++],n[a++]=e[i++];return{rgbChannel:r,alphaChannel:n}};(_=ei||(ei={})).Greyscale="Greyscale",_.Truecolour="Truecolour",_.IndexedColour="IndexedColour",_.GreyscaleWithAlpha="GreyscaleWithAlpha",_.TruecolourWithAlpha="TruecolourWithAlpha";var h6=function(){function e(e){var t=h5.decode(e),r=h5.toRGBA8(t);if(r.length>1)throw Error("Animated PNGs are not supported");var n=h4(new Uint8Array(r[0])),i=n.rgbChannel,o=n.alphaChannel;this.rgbChannel=i,o.some(function(e){return e<255})&&(this.alphaChannel=o),this.type=h3(t.ctype),this.width=t.width,this.height=t.height,this.bitsPerComponent=8}return e.load=function(t){return new e(t)},e}(),h8=function(){function e(e){this.image=e,this.bitsPerComponent=e.bitsPerComponent,this.width=e.width,this.height=e.height,this.colorSpace="DeviceRGB"}return e.for=function(t){return l8(this,void 0,void 0,function(){return l9(this,function(r){return[2,new e(h6.load(t))]})})},e.prototype.embedIntoContext=function(e,t){return l8(this,void 0,void 0,function(){var r,n;return l9(this,function(i){return(r=this.embedAlphaChannel(e),n=e.flateStream(this.image.rgbChannel,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.image.bitsPerComponent,Width:this.image.width,Height:this.image.height,ColorSpace:this.colorSpace,SMask:r}),t)?(e.assign(t,n),[2,t]):[2,e.register(n)]})})},e.prototype.embedAlphaChannel=function(e){if(this.image.alphaChannel){var t=e.flateStream(this.image.alphaChannel,{Type:"XObject",Subtype:"Image",Height:this.image.height,Width:this.image.width,BitsPerComponent:this.image.bitsPerComponent,ColorSpace:"DeviceGray",Decode:[0,1]});return e.register(t)}},e}(),h9=function(){function e(e,t,r){this.bytes=e,this.start=t||0,this.pos=this.start,this.end=t&&r?t+r:this.bytes.length}return Object.defineProperty(e.prototype,"length",{get:function(){return this.end-this.start},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.length},enumerable:!1,configurable:!0}),e.prototype.getByte=function(){return this.pos>=this.end?-1:this.bytes[this.pos++]},e.prototype.getUint16=function(){var e=this.getByte(),t=this.getByte();return -1===e||-1===t?-1:(e<<8)+t},e.prototype.getInt32=function(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()},e.prototype.getBytes=function(e,t){void 0===t&&(t=!1);var r=this.bytes,n=this.pos,i=this.end;if(e){var o=n+e;o>i&&(o=i),this.pos=o;var a=r.subarray(n,o);return t?new Uint8ClampedArray(a):a}var a=r.subarray(n,i);return t?new Uint8ClampedArray(a):a},e.prototype.peekByte=function(){var e=this.getByte();return this.pos--,e},e.prototype.peekBytes=function(e,t){void 0===t&&(t=!1);var r=this.getBytes(e,t);return this.pos-=r.length,r},e.prototype.skip=function(e){e||(e=1),this.pos+=e},e.prototype.reset=function(){this.pos=this.start},e.prototype.moveStart=function(){this.start=this.pos},e.prototype.makeSubStream=function(t,r){return new e(this.bytes,t,r)},e.prototype.decode=function(){return this.bytes},e}(),h7=new Uint8Array(0),de=function(){function e(e){if(this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=h7,this.minBufferLength=512,e)for(;this.minBufferLength<e;)this.minBufferLength*=2}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){for(;!this.eof&&0===this.bufferLength;)this.readBlock();return 0===this.bufferLength},enumerable:!1,configurable:!0}),e.prototype.getByte=function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return -1;this.readBlock()}return this.buffer[this.pos++]},e.prototype.getUint16=function(){var e=this.getByte(),t=this.getByte();return -1===e||-1===t?-1:(e<<8)+t},e.prototype.getInt32=function(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()},e.prototype.getBytes=function(e,t){void 0===t&&(t=!1);var r,n=this.pos;if(e){for(this.ensureBuffer(n+e),r=n+e;!this.eof&&this.bufferLength<r;)this.readBlock();var i=this.bufferLength;r>i&&(r=i)}else{for(;!this.eof;)this.readBlock();r=this.bufferLength}this.pos=r;var o=this.buffer.subarray(n,r);return!t||o instanceof Uint8ClampedArray?o:new Uint8ClampedArray(o)},e.prototype.peekByte=function(){var e=this.getByte();return this.pos--,e},e.prototype.peekBytes=function(e,t){void 0===t&&(t=!1);var r=this.getBytes(e,t);return this.pos-=r.length,r},e.prototype.skip=function(e){e||(e=1),this.pos+=e},e.prototype.reset=function(){this.pos=0},e.prototype.makeSubStream=function(e,t){for(var r=e+t;this.bufferLength<=r&&!this.eof;)this.readBlock();return new h9(this.buffer,e,t)},e.prototype.decode=function(){for(;!this.eof;)this.readBlock();return this.buffer.subarray(0,this.bufferLength)},e.prototype.readBlock=function(){throw new cz(this.constructor.name,"readBlock")},e.prototype.ensureBuffer=function(e){var t=this.buffer;if(e<=t.byteLength)return t;for(var r=this.minBufferLength;r<e;)r*=2;var n=new Uint8Array(r);return n.set(t),this.buffer=n},e}(),dt=function(e){return 32===e||9===e||13===e||10===e},dr=function(e){function t(t,r){var n=e.call(this,r)||this;return n.stream=t,n.input=new Uint8Array(5),r&&(r*=.8),n}return l4(t,e),t.prototype.readBlock=function(){for(var e,t,r=this.stream,n=r.getByte();dt(n);)n=r.getByte();if(-1===n||126===n){this.eof=!0;return}var i=this.bufferLength;if(122===n){for(t=0,e=this.ensureBuffer(i+4);t<4;++t)e[i+t]=0;this.bufferLength+=4}else{var o=this.input;for(t=1,o[0]=n;t<5;++t){for(n=r.getByte();dt(n);)n=r.getByte();if(o[t]=n,-1===n||126===n)break}if(e=this.ensureBuffer(i+t-1),this.bufferLength+=t-1,t<5){for(;t<5;++t)o[t]=117;this.eof=!0}var a=0;for(t=0;t<5;++t)a=85*a+(o[t]-33);for(t=3;t>=0;--t)e[i+t]=255&a,a>>=8}},t}(de),dn=function(e){function t(t,r){var n=e.call(this,r)||this;return n.stream=t,n.firstDigit=-1,r&&(r*=.5),n}return l4(t,e),t.prototype.readBlock=function(){var e=this.stream.getBytes(8e3);if(!e.length){this.eof=!0;return}for(var t=e.length+1>>1,r=this.ensureBuffer(this.bufferLength+t),n=this.bufferLength,i=this.firstDigit,o=0,a=e.length;o<a;o++){var s=e[o],l=void 0;if(s>=48&&s<=57)l=15&s;else if(s>=65&&s<=70||s>=97&&s<=102)l=(15&s)+9;else{if(62!==s)continue;this.eof=!0;break}i<0?i=l:(r[n++]=i<<4|l,i=-1)}i>=0&&this.eof&&(r[n++]=i<<4,i=-1),this.firstDigit=i,this.bufferLength=n},t}(de),di=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),da=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),ds=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),dl=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],du=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],dc=function(e){function t(t,r){var n=e.call(this,r)||this;n.stream=t;var i=t.getByte(),o=t.getByte();if(-1===i||-1===o)throw Error("Invalid header in flate stream: "+i+", "+o);if((15&i)!=8)throw Error("Unknown compression method in flate stream: "+i+", "+o);if(((i<<8)+o)%31!=0)throw Error("Bad FCHECK in flate stream: "+i+", "+o);if(32&o)throw Error("FDICT bit set in flate stream: "+i+", "+o);return n.codeSize=0,n.codeBuf=0,n}return l4(t,e),t.prototype.readBlock=function(){var e,t,r,n,i=this.stream,o=this.getBits(3);if(1&o&&(this.eof=!0),0==(o>>=1)){var a=void 0;if(-1===(a=i.getByte()))throw Error("Bad block header in flate stream");var s=a;if(-1===(a=i.getByte())||(s|=a<<8,-1===(a=i.getByte())))throw Error("Bad block header in flate stream");var l=a;if(-1===(a=i.getByte()))throw Error("Bad block header in flate stream");if((l|=a<<8)!=(65535&~s)&&(0!==s||0!==l))throw Error("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;var u=this.bufferLength;e=this.ensureBuffer(u+s);var c=u+s;if(this.bufferLength=c,0===s)-1===i.peekByte()&&(this.eof=!0);else for(var h=u;h<c;++h){if(-1===(a=i.getByte())){this.eof=!0;break}e[h]=a}return}if(1===o)r=dl,n=du;else if(2===o){var d=this.getBits(5)+257,f=this.getBits(5)+1,p=this.getBits(4)+4,g=new Uint8Array(di.length),m=void 0;for(m=0;m<p;++m)g[di[m]]=this.getBits(3);var y=this.generateHuffmanTable(g);t=0,m=0;for(var v=d+f,b=new Uint8Array(v),w=void 0,x=void 0,S=void 0;m<v;){var C=this.getCode(y);if(16===C)w=2,x=3,S=t;else if(17===C)w=3,x=3,S=t=0;else if(18===C)w=7,x=11,S=t=0;else{b[m++]=t=C;continue}for(var k=this.getBits(w)+x;k-- >0;)b[m++]=S}r=this.generateHuffmanTable(b.subarray(0,d)),n=this.generateHuffmanTable(b.subarray(d,v))}else throw Error("Unknown block type in flate stream");for(var _=(e=this.buffer)?e.length:0,A=this.bufferLength;;){var T=this.getCode(r);if(T<256){A+1>=_&&(_=(e=this.ensureBuffer(A+1)).length),e[A++]=T;continue}if(256===T){this.bufferLength=A;return}T-=257;var E=(T=da[T])>>16;E>0&&(E=this.getBits(E)),t=(65535&T)+E,(E=(T=ds[T=this.getCode(n)])>>16)>0&&(E=this.getBits(E));var I=(65535&T)+E;A+t>=_&&(_=(e=this.ensureBuffer(A+t)).length);for(var D=0;D<t;++D,++A)e[A]=e[A-I]}},t.prototype.getBits=function(e){for(var t,r=this.stream,n=this.codeSize,i=this.codeBuf;n<e;){if(-1===(t=r.getByte()))throw Error("Bad encoding in flate stream");i|=t<<n,n+=8}return t=i&(1<<e)-1,this.codeBuf=i>>e,this.codeSize=n-=e,t},t.prototype.getCode=function(e){for(var t,r=this.stream,n=e[0],i=e[1],o=this.codeSize,a=this.codeBuf;o<i&&-1!==(t=r.getByte());)a|=t<<o,o+=8;var s=n[a&(1<<i)-1];"number"==typeof n&&console.log("FLATE:",s);var l=s>>16;if(l<1||o<l)throw Error("Bad encoding in flate stream");return this.codeBuf=a>>l,this.codeSize=o-l,65535&s},t.prototype.generateHuffmanTable=function(e){var t,r=e.length,n=0;for(t=0;t<r;++t)e[t]>n&&(n=e[t]);for(var i=1<<n,o=new Int32Array(i),a=1,s=0,l=2;a<=n;++a,s<<=1,l<<=1)for(var u=0;u<r;++u)if(e[u]===a){var c=0,h=s;for(t=0;t<a;++t)c=c<<1|1&h,h>>=1;for(t=c;t<i;t+=l)o[t]=a<<16|u;++s}return[o,n]},t}(de),dh=function(e){function t(t,r,n){var i=e.call(this,r)||this;i.stream=t,i.cachedData=0,i.bitsCached=0;for(var o={earlyChange:n,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(4096),dictionaryLengths:new Uint16Array(4096),dictionaryPrevCodes:new Uint16Array(4096),currentSequence:new Uint8Array(4096),currentSequenceLength:0},a=0;a<256;++a)o.dictionaryValues[a]=a,o.dictionaryLengths[a]=1;return i.lzwState=o,i}return l4(t,e),t.prototype.readBlock=function(){var e,t,r,n=1024,i=this.lzwState;if(i){var o=i.earlyChange,a=i.nextCode,s=i.dictionaryValues,l=i.dictionaryLengths,u=i.dictionaryPrevCodes,c=i.codeLength,h=i.prevCode,d=i.currentSequence,f=i.currentSequenceLength,p=0,g=this.bufferLength,m=this.ensureBuffer(this.bufferLength+n);for(e=0;e<512;e++){var y=this.readBits(c),v=f>0;if(!y||y<256)d[0]=y,f=1;else if(y>=258)if(y<a)for(t=(f=l[y])-1,r=y;t>=0;t--)d[t]=s[r],r=u[r];else d[f++]=d[0];else if(256===y){c=9,a=258,f=0;continue}else{this.eof=!0,delete this.lzwState;break}if(v&&(u[a]=h,l[a]=l[h]+1,s[a]=d[0],c=++a+o&a+o-1?c:0|Math.min(Math.log(a+o)/.6931471805599453+1,12)),h=y,n<(p+=f)){do n+=512;while(n<p)m=this.ensureBuffer(this.bufferLength+n)}for(t=0;t<f;t++)m[g++]=d[t]}i.nextCode=a,i.codeLength=c,i.prevCode=h,i.currentSequenceLength=f,this.bufferLength=g}},t.prototype.readBits=function(e){for(var t=this.bitsCached,r=this.cachedData;t<e;){var n=this.stream.getByte();if(-1===n)return this.eof=!0,null;r=r<<8|n,t+=8}return this.bitsCached=t-=e,this.cachedData=r,r>>>t&(1<<e)-1},t}(de),dd=function(e){function t(t,r){var n=e.call(this,r)||this;return n.stream=t,n}return l4(t,e),t.prototype.readBlock=function(){var e,t=this.stream.getBytes(2);if(!t||t.length<2||128===t[0]){this.eof=!0;return}var r=this.bufferLength,n=t[0];if(n<128){if((e=this.ensureBuffer(r+n+1))[r++]=t[1],n>0){var i=this.stream.getBytes(n);e.set(i,r),r+=n}}else{n=257-n;var o=t[1];e=this.ensureBuffer(r+n+1);for(var a=0;a<n;a++)e[r++]=o}this.bufferLength=r},t}(de),df=function(e,t,r){if(t===hm.of("FlateDecode"))return new dc(e);if(t===hm.of("LZWDecode")){var n=1;if(r instanceof hv){var i=r.lookup(hm.of("EarlyChange"));i instanceof ha&&(n=i.asNumber())}return new dh(e,void 0,n)}if(t===hm.of("ASCII85Decode"))return new dr(e);if(t===hm.of("ASCIIHexDecode"))return new dn(e);if(t===hm.of("RunLengthDecode"))return new dd(e);throw new c$(t.asString())},dp=function(e){var t=e.dict,r=new h9(e.contents),n=t.lookup(hm.of("Filter")),i=t.lookup(hm.of("DecodeParms"));if(n instanceof hm)r=df(r,n,i);else if(n instanceof hs)for(var o=0,a=n.size();o<a;o++)r=df(r,n.lookup(o,hm),i&&i.lookupMaybe(o,hv));else if(n)throw new cU([hm,hs],n);return r},dg=function(e){var t=e.MediaBox();return{left:0,bottom:0,right:t.lookup(2,ha).asNumber()-t.lookup(0,ha).asNumber(),top:t.lookup(3,ha).asNumber()-t.lookup(1,ha).asNumber()}},dm=function(){function e(e,t,r){this.page=e;var n=null!=t?t:dg(e);this.width=n.right-n.left,this.height=n.top-n.bottom,this.boundingBox=n,this.transformationMatrix=null!=r?r:[1,0,0,1,-n.left,-n.bottom]}return e.for=function(t,r,n){return l8(this,void 0,void 0,function(){return l9(this,function(i){return[2,new e(t,r,n)]})})},e.prototype.embedIntoContext=function(e,t){return l8(this,void 0,void 0,function(){var r,n,i,o,a,s,l,u,c,h;return l9(this,function(d){if(n=(r=this.page.normalizedEntries()).Contents,i=r.Resources,!n)throw new cq;return(o=this.decodeContents(n),s=(a=this.boundingBox).left,l=a.bottom,u=a.right,c=a.top,h=e.flateStream(o,{Type:"XObject",Subtype:"Form",FormType:1,BBox:[s,l,u,c],Matrix:this.transformationMatrix,Resources:i}),t)?(e.assign(t,h),[2,t]):[2,e.register(h)]})})},e.prototype.decodeContents=function(e){for(var t=Uint8Array.of(hn.Newline),r=[],n=0,i=e.size();n<i;n++){var o=e.lookup(n,hb),a=void 0;if(o instanceof hw)a=dp(o).decode();else if(o instanceof hT)a=o.getUnencodedContents();else throw new cK(o);r.push(a,t)}return uT.apply(void 0,r)},e}(),dy=function(e,t){if(void 0!==e)return t[e]};(A=eo||(eo={})).UseNone="UseNone",A.UseOutlines="UseOutlines",A.UseThumbs="UseThumbs",A.UseOC="UseOC",(T=ea||(ea={})).L2R="L2R",T.R2L="R2L",(E=es||(es={})).None="None",E.AppDefault="AppDefault",(I=el||(el={})).Simplex="Simplex",I.DuplexFlipShortEdge="DuplexFlipShortEdge",I.DuplexFlipLongEdge="DuplexFlipLongEdge";var dv=function(){function e(e){this.dict=e}return e.prototype.lookupBool=function(e){var t=this.dict.lookup(hm.of(e));if(t instanceof hu)return t},e.prototype.lookupName=function(e){var t=this.dict.lookup(hm.of(e));if(t instanceof hm)return t},e.prototype.HideToolbar=function(){return this.lookupBool("HideToolbar")},e.prototype.HideMenubar=function(){return this.lookupBool("HideMenubar")},e.prototype.HideWindowUI=function(){return this.lookupBool("HideWindowUI")},e.prototype.FitWindow=function(){return this.lookupBool("FitWindow")},e.prototype.CenterWindow=function(){return this.lookupBool("CenterWindow")},e.prototype.DisplayDocTitle=function(){return this.lookupBool("DisplayDocTitle")},e.prototype.NonFullScreenPageMode=function(){return this.lookupName("NonFullScreenPageMode")},e.prototype.Direction=function(){return this.lookupName("Direction")},e.prototype.PrintScaling=function(){return this.lookupName("PrintScaling")},e.prototype.Duplex=function(){return this.lookupName("Duplex")},e.prototype.PickTrayByPDFSize=function(){return this.lookupBool("PickTrayByPDFSize")},e.prototype.PrintPageRange=function(){var e=this.dict.lookup(hm.of("PrintPageRange"));if(e instanceof hs)return e},e.prototype.NumCopies=function(){var e=this.dict.lookup(hm.of("NumCopies"));if(e instanceof ha)return e},e.prototype.getHideToolbar=function(){var e,t;return null!=(t=null==(e=this.HideToolbar())?void 0:e.asBoolean())&&t},e.prototype.getHideMenubar=function(){var e,t;return null!=(t=null==(e=this.HideMenubar())?void 0:e.asBoolean())&&t},e.prototype.getHideWindowUI=function(){var e,t;return null!=(t=null==(e=this.HideWindowUI())?void 0:e.asBoolean())&&t},e.prototype.getFitWindow=function(){var e,t;return null!=(t=null==(e=this.FitWindow())?void 0:e.asBoolean())&&t},e.prototype.getCenterWindow=function(){var e,t;return null!=(t=null==(e=this.CenterWindow())?void 0:e.asBoolean())&&t},e.prototype.getDisplayDocTitle=function(){var e,t;return null!=(t=null==(e=this.DisplayDocTitle())?void 0:e.asBoolean())&&t},e.prototype.getNonFullScreenPageMode=function(){var e,t;return null!=(t=dy(null==(e=this.NonFullScreenPageMode())?void 0:e.decodeText(),eo))?t:eo.UseNone},e.prototype.getReadingDirection=function(){var e,t;return null!=(t=dy(null==(e=this.Direction())?void 0:e.decodeText(),ea))?t:ea.L2R},e.prototype.getPrintScaling=function(){var e,t;return null!=(t=dy(null==(e=this.PrintScaling())?void 0:e.decodeText(),es))?t:es.AppDefault},e.prototype.getDuplex=function(){var e;return dy(null==(e=this.Duplex())?void 0:e.decodeText(),el)},e.prototype.getPickTrayByPDFSize=function(){var e;return null==(e=this.PickTrayByPDFSize())?void 0:e.asBoolean()},e.prototype.getPrintPageRange=function(){var e=this.PrintPageRange();if(!e)return[];for(var t=[],r=0;r<e.size();r+=2){var n=e.lookup(r,ha).asNumber(),i=e.lookup(r+1,ha).asNumber();t.push({start:n,end:i})}return t},e.prototype.getNumCopies=function(){var e,t;return null!=(t=null==(e=this.NumCopies())?void 0:e.asNumber())?t:1},e.prototype.setHideToolbar=function(e){var t=this.dict.context.obj(e);this.dict.set(hm.of("HideToolbar"),t)},e.prototype.setHideMenubar=function(e){var t=this.dict.context.obj(e);this.dict.set(hm.of("HideMenubar"),t)},e.prototype.setHideWindowUI=function(e){var t=this.dict.context.obj(e);this.dict.set(hm.of("HideWindowUI"),t)},e.prototype.setFitWindow=function(e){var t=this.dict.context.obj(e);this.dict.set(hm.of("FitWindow"),t)},e.prototype.setCenterWindow=function(e){var t=this.dict.context.obj(e);this.dict.set(hm.of("CenterWindow"),t)},e.prototype.setDisplayDocTitle=function(e){var t=this.dict.context.obj(e);this.dict.set(hm.of("DisplayDocTitle"),t)},e.prototype.setNonFullScreenPageMode=function(e){ck(e,"nonFullScreenPageMode",eo);var t=hm.of(e);this.dict.set(hm.of("NonFullScreenPageMode"),t)},e.prototype.setReadingDirection=function(e){ck(e,"readingDirection",ea);var t=hm.of(e);this.dict.set(hm.of("Direction"),t)},e.prototype.setPrintScaling=function(e){ck(e,"printScaling",es);var t=hm.of(e);this.dict.set(hm.of("PrintScaling"),t)},e.prototype.setDuplex=function(e){ck(e,"duplex",el);var t=hm.of(e);this.dict.set(hm.of("Duplex"),t)},e.prototype.setPickTrayByPDFSize=function(e){var t=this.dict.context.obj(e);this.dict.set(hm.of("PickTrayByPDFSize"),t)},e.prototype.setPrintPageRange=function(e){Array.isArray(e)||(e=[e]);for(var t=[],r=0,n=e.length;r<n;r++)t.push(e[r].start),t.push(e[r].end);cD(t,"printPageRange",["number"]);var i=this.dict.context.obj(t);this.dict.set(hm.of("PrintPageRange"),i)},e.prototype.setNumCopies=function(e){cF(e,"numCopies",1,Number.MAX_VALUE),cR(e,"numCopies");var t=this.dict.context.obj(e);this.dict.set(hm.of("NumCopies"),t)},e.fromDict=function(t){return new e(t)},e.create=function(t){return new e(t.obj({}))},e}(),db=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+Tf/,dw=function(){function e(e,t){this.dict=e,this.ref=t}return e.prototype.T=function(){return this.dict.lookupMaybe(hm.of("T"),hX,hV)},e.prototype.Ff=function(){var e=this.getInheritableAttribute(hm.of("Ff"));return this.dict.context.lookupMaybe(e,ha)},e.prototype.V=function(){var e=this.getInheritableAttribute(hm.of("V"));return this.dict.context.lookup(e)},e.prototype.Kids=function(){return this.dict.lookupMaybe(hm.of("Kids"),hs)},e.prototype.DA=function(){var e=this.dict.lookup(hm.of("DA"));if(e instanceof hX||e instanceof hV)return e},e.prototype.setKids=function(e){this.dict.set(hm.of("Kids"),this.dict.context.obj(e))},e.prototype.getParent=function(){var t=this.dict.get(hm.of("Parent"));if(t instanceof hC)return new e(this.dict.lookup(hm.of("Parent"),hv),t)},e.prototype.setParent=function(e){e?this.dict.set(hm.of("Parent"),e):this.dict.delete(hm.of("Parent"))},e.prototype.getFullyQualifiedName=function(){var e=this.getParent();return e?e.getFullyQualifiedName()+"."+this.getPartialName():this.getPartialName()},e.prototype.getPartialName=function(){var e;return null==(e=this.T())?void 0:e.decodeText()},e.prototype.setPartialName=function(e){e?this.dict.set(hm.of("T"),hV.fromText(e)):this.dict.delete(hm.of("T"))},e.prototype.setDefaultAppearance=function(e){this.dict.set(hm.of("DA"),hX.of(e))},e.prototype.getDefaultAppearance=function(){var e=this.DA();return e instanceof hV?e.decodeText():null==e?void 0:e.asString()},e.prototype.setFontSize=function(e){var t,r=null!=(t=this.getFullyQualifiedName())?t:"",n=this.getDefaultAppearance();if(!n)throw new c1(r);var i=uk(n,db);if(!i.match)throw new c2(r);var o=n.slice(0,i.pos-i.match[0].length),a=i.pos<=n.length?n.slice(i.pos):"",s=o+" /"+i.match[1]+" "+e+" Tf "+a;this.setDefaultAppearance(s)},e.prototype.getFlags=function(){var e,t;return null!=(t=null==(e=this.Ff())?void 0:e.asNumber())?t:0},e.prototype.setFlags=function(e){this.dict.set(hm.of("Ff"),ha.of(e))},e.prototype.hasFlag=function(e){return(this.getFlags()&e)!=0},e.prototype.setFlag=function(e){var t=this.getFlags();this.setFlags(t|e)},e.prototype.clearFlag=function(e){var t=this.getFlags();this.setFlags(t&~e)},e.prototype.setFlagTo=function(e,t){t?this.setFlag(e):this.clearFlag(e)},e.prototype.getInheritableAttribute=function(e){var t;return this.ascend(function(r){t||(t=r.dict.get(e))}),t},e.prototype.ascend=function(e){e(this);var t=this.getParent();t&&t.ascend(e)},e}(),dx=function(){function e(e){this.dict=e}return e.prototype.W=function(){var e=this.dict.lookup(hm.of("W"));if(e instanceof ha)return e},e.prototype.getWidth=function(){var e,t;return null!=(t=null==(e=this.W())?void 0:e.asNumber())?t:1},e.prototype.setWidth=function(e){var t=this.dict.context.obj(e);this.dict.set(hm.of("W"),t)},e.fromDict=function(t){return new e(t)},e}(),dS=function(){function e(e){this.dict=e}return e.prototype.Rect=function(){return this.dict.lookup(hm.of("Rect"),hs)},e.prototype.AP=function(){return this.dict.lookupMaybe(hm.of("AP"),hv)},e.prototype.F=function(){var e=this.dict.lookup(hm.of("F"));return this.dict.context.lookupMaybe(e,ha)},e.prototype.getRectangle=function(){var e,t=this.Rect();return null!=(e=null==t?void 0:t.asRectangle())?e:{x:0,y:0,width:0,height:0}},e.prototype.setRectangle=function(e){var t=e.x,r=e.y,n=e.width,i=e.height,o=this.dict.context.obj([t,r,t+n,r+i]);this.dict.set(hm.of("Rect"),o)},e.prototype.getAppearanceState=function(){var e=this.dict.lookup(hm.of("AS"));if(e instanceof hm)return e},e.prototype.setAppearanceState=function(e){this.dict.set(hm.of("AS"),e)},e.prototype.setAppearances=function(e){this.dict.set(hm.of("AP"),e)},e.prototype.ensureAP=function(){var e=this.AP();return e||(e=this.dict.context.obj({}),this.dict.set(hm.of("AP"),e)),e},e.prototype.getNormalAppearance=function(){var e=this.ensureAP().get(hm.of("N"));if(e instanceof hC||e instanceof hv)return e;throw Error("Unexpected N type: "+(null==e?void 0:e.constructor.name))},e.prototype.setNormalAppearance=function(e){this.ensureAP().set(hm.of("N"),e)},e.prototype.setRolloverAppearance=function(e){this.ensureAP().set(hm.of("R"),e)},e.prototype.setDownAppearance=function(e){this.ensureAP().set(hm.of("D"),e)},e.prototype.removeRolloverAppearance=function(){var e=this.AP();null==e||e.delete(hm.of("R"))},e.prototype.removeDownAppearance=function(){var e=this.AP();null==e||e.delete(hm.of("D"))},e.prototype.getAppearances=function(){var e=this.AP();if(e)return{normal:e.lookup(hm.of("N"),hv,hb),rollover:e.lookupMaybe(hm.of("R"),hv,hb),down:e.lookupMaybe(hm.of("D"),hv,hb)}},e.prototype.getFlags=function(){var e,t;return null!=(t=null==(e=this.F())?void 0:e.asNumber())?t:0},e.prototype.setFlags=function(e){this.dict.set(hm.of("F"),ha.of(e))},e.prototype.hasFlag=function(e){return(this.getFlags()&e)!=0},e.prototype.setFlag=function(e){var t=this.getFlags();this.setFlags(t|e)},e.prototype.clearFlag=function(e){var t=this.getFlags();this.setFlags(t&~e)},e.prototype.setFlagTo=function(e,t){t?this.setFlag(e):this.clearFlag(e)},e.fromDict=function(t){return new e(t)},e}(),dC=function(){function e(e){this.dict=e}return e.prototype.R=function(){var e=this.dict.lookup(hm.of("R"));if(e instanceof ha)return e},e.prototype.BC=function(){var e=this.dict.lookup(hm.of("BC"));if(e instanceof hs)return e},e.prototype.BG=function(){var e=this.dict.lookup(hm.of("BG"));if(e instanceof hs)return e},e.prototype.CA=function(){var e=this.dict.lookup(hm.of("CA"));if(e instanceof hV||e instanceof hX)return e},e.prototype.RC=function(){var e=this.dict.lookup(hm.of("RC"));if(e instanceof hV||e instanceof hX)return e},e.prototype.AC=function(){var e=this.dict.lookup(hm.of("AC"));if(e instanceof hV||e instanceof hX)return e},e.prototype.getRotation=function(){var e;return null==(e=this.R())?void 0:e.asNumber()},e.prototype.getBorderColor=function(){var e=this.BC();if(e){for(var t=[],r=0,n=null==e?void 0:e.size();r<n;r++){var i=e.get(r);i instanceof ha&&t.push(i.asNumber())}return t}},e.prototype.getBackgroundColor=function(){var e=this.BG();if(e){for(var t=[],r=0,n=null==e?void 0:e.size();r<n;r++){var i=e.get(r);i instanceof ha&&t.push(i.asNumber())}return t}},e.prototype.getCaptions=function(){var e=this.CA(),t=this.RC(),r=this.AC();return{normal:null==e?void 0:e.decodeText(),rollover:null==t?void 0:t.decodeText(),down:null==r?void 0:r.decodeText()}},e.prototype.setRotation=function(e){var t=this.dict.context.obj(e);this.dict.set(hm.of("R"),t)},e.prototype.setBorderColor=function(e){var t=this.dict.context.obj(e);this.dict.set(hm.of("BC"),t)},e.prototype.setBackgroundColor=function(e){var t=this.dict.context.obj(e);this.dict.set(hm.of("BG"),t)},e.prototype.setCaptions=function(e){var t=hV.fromText(e.normal);if(this.dict.set(hm.of("CA"),t),e.rollover){var r=hV.fromText(e.rollover);this.dict.set(hm.of("RC"),r)}else this.dict.delete(hm.of("RC"));if(e.down){var n=hV.fromText(e.down);this.dict.set(hm.of("AC"),n)}else this.dict.delete(hm.of("AC"))},e.fromDict=function(t){return new e(t)},e}(),dk=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l4(t,e),t.prototype.MK=function(){var e=this.dict.lookup(hm.of("MK"));if(e instanceof hv)return e},t.prototype.BS=function(){var e=this.dict.lookup(hm.of("BS"));if(e instanceof hv)return e},t.prototype.DA=function(){var e=this.dict.lookup(hm.of("DA"));if(e instanceof hX||e instanceof hV)return e},t.prototype.P=function(){var e=this.dict.get(hm.of("P"));if(e instanceof hC)return e},t.prototype.setP=function(e){this.dict.set(hm.of("P"),e)},t.prototype.setDefaultAppearance=function(e){this.dict.set(hm.of("DA"),hX.of(e))},t.prototype.getDefaultAppearance=function(){var e=this.DA();return e instanceof hV?e.decodeText():null==e?void 0:e.asString()},t.prototype.getAppearanceCharacteristics=function(){var e=this.MK();if(e)return dC.fromDict(e)},t.prototype.getOrCreateAppearanceCharacteristics=function(){var e=this.MK();if(e)return dC.fromDict(e);var t=dC.fromDict(this.dict.context.obj({}));return this.dict.set(hm.of("MK"),t.dict),t},t.prototype.getBorderStyle=function(){var e=this.BS();if(e)return dx.fromDict(e)},t.prototype.getOrCreateBorderStyle=function(){var e=this.BS();if(e)return dx.fromDict(e);var t=dx.fromDict(this.dict.context.obj({}));return this.dict.set(hm.of("BS"),t.dict),t},t.prototype.getOnValue=function(){var e,t=null==(e=this.getAppearances())?void 0:e.normal;if(t instanceof hv)for(var r=t.keys(),n=0,i=r.length;n<i;n++){var o=r[n];if(o!==hm.of("Off"))return o}},t.fromDict=function(e){return new t(e)},t.create=function(e,r){return new t(e.obj({Type:"Annot",Subtype:"Widget",Rect:[0,0,0,0],Parent:r}))},t}(dS),d_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l4(t,e),t.prototype.FT=function(){var e=this.getInheritableAttribute(hm.of("FT"));return this.dict.context.lookup(e,hm)},t.prototype.getWidgets=function(){var e=this.Kids();if(!e)return[dk.fromDict(this.dict)];for(var t=Array(e.size()),r=0,n=e.size();r<n;r++){var i=e.lookup(r,hv);t[r]=dk.fromDict(i)}return t},t.prototype.addWidget=function(e){this.normalizedEntries().Kids.push(e)},t.prototype.removeWidget=function(e){var t=this.Kids();if(t){if(e<0||e>t.size())throw new cY(e,0,t.size());t.remove(e)}else{if(0!==e)throw new cY(e,0,0);this.setKids([])}},t.prototype.normalizedEntries=function(){var e=this.Kids();return e||(e=this.dict.context.obj([this.ref]),this.dict.set(hm.of("Kids"),e)),{Kids:e}},t.fromDict=function(e,r){return new t(e,r)},t}(dw),dA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l4(t,e),t.prototype.Opt=function(){return this.dict.lookupMaybe(hm.of("Opt"),hX,hV,hs)},t.prototype.setOpt=function(e){this.dict.set(hm.of("Opt"),this.dict.context.obj(e))},t.prototype.getExportValues=function(){var e=this.Opt();if(e){if(e instanceof hX||e instanceof hV)return[e];for(var t=[],r=0,n=e.size();r<n;r++){var i=e.lookup(r);(i instanceof hX||i instanceof hV)&&t.push(i)}return t}},t.prototype.removeExportValue=function(e){var t=this.Opt();if(t)if(t instanceof hX||t instanceof hV){if(0!==e)throw new cY(e,0,0);this.setOpt([])}else{if(e<0||e>t.size())throw new cY(e,0,t.size());t.remove(e)}},t.prototype.normalizeExportValues=function(){for(var e,t,r,n,i=null!=(e=this.getExportValues())?e:[],o=[],a=this.getWidgets(),s=0,l=a.length;s<l;s++){var u=a[s],c=null!=(t=i[s])?t:hV.fromText(null!=(n=null==(r=u.getOnValue())?void 0:r.decodeText())?n:"");o.push(c)}this.setOpt(o)},t.prototype.addOpt=function(e,t){this.normalizeExportValues();var r,n,i=e.decodeText();if(t)for(var o=null!=(r=this.getExportValues())?r:[],a=0,s=o.length;a<s;a++)o[a].decodeText()===i&&(n=a);var l=this.Opt();return l.push(e),null!=n?n:l.size()-1},t.prototype.addWidgetWithOpt=function(e,t,r){var n=this.addOpt(t,r),i=hm.of(String(n));return this.addWidget(e),i},t}(d_),dT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l4(t,e),t.prototype.setValue=function(e){if(e!==(null!=(t=this.getOnValue())?t:hm.of("Yes"))&&e!==hm.of("Off"))throw new cZ;this.dict.set(hm.of("V"),e);for(var t,r=this.getWidgets(),n=0,i=r.length;n<i;n++){var o=r[n],a=o.getOnValue()===e?e:hm.of("Off");o.setAppearanceState(a)}},t.prototype.getValue=function(){var e=this.V();return e instanceof hm?e:hm.of("Off")},t.prototype.getOnValue=function(){var e=this.getWidgets()[0];return null==e?void 0:e.getOnValue()},t.fromDict=function(e,r){return new t(e,r)},t.create=function(e){var r=e.obj({FT:"Btn",Kids:[]}),n=e.register(r);return new t(r,n)},t}(dA),dE=function(e){return 1<<e};(D=eu||(eu={}))[D.ReadOnly=dE(0)]="ReadOnly",D[D.Required=dE(1)]="Required",D[D.NoExport=dE(2)]="NoExport",(F=ec||(ec={}))[F.NoToggleToOff=dE(14)]="NoToggleToOff",F[F.Radio=dE(15)]="Radio",F[F.PushButton=dE(16)]="PushButton",F[F.RadiosInUnison=dE(25)]="RadiosInUnison",(P=eh||(eh={}))[P.Multiline=dE(12)]="Multiline",P[P.Password=dE(13)]="Password",P[P.FileSelect=dE(20)]="FileSelect",P[P.DoNotSpellCheck=dE(22)]="DoNotSpellCheck",P[P.DoNotScroll=dE(23)]="DoNotScroll",P[P.Comb=dE(24)]="Comb",P[P.RichText=dE(25)]="RichText",(N=ed||(ed={}))[N.Combo=dE(17)]="Combo",N[N.Edit=dE(18)]="Edit",N[N.Sort=dE(19)]="Sort",N[N.MultiSelect=dE(21)]="MultiSelect",N[N.DoNotSpellCheck=dE(22)]="DoNotSpellCheck",N[N.CommitOnSelChange=dE(26)]="CommitOnSelChange",e.s(["AcroButtonFlags",()=>ec,"AcroChoiceFlags",()=>ed,"AcroFieldFlags",()=>eu,"AcroTextFlags",()=>eh],76336);var dI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l4(t,e),t.prototype.setValues=function(e){if(this.hasFlag(ed.Combo)&&!this.hasFlag(ed.Edit)&&!this.valuesAreValid(e))throw new cZ;if(0===e.length&&this.dict.delete(hm.of("V")),1===e.length&&this.dict.set(hm.of("V"),e[0]),e.length>1){if(!this.hasFlag(ed.MultiSelect))throw new c0;this.dict.set(hm.of("V"),this.dict.context.obj(e))}this.updateSelectedIndices(e)},t.prototype.valuesAreValid=function(e){for(var t=this.getOptions(),r=0,n=e.length;r<n;r++){var i=function(r,n){var i=e[r].decodeText();if(!t.find(function(e){return i===(e.display||e.value).decodeText()}))return{value:!1}}(r,0);if("object"==typeof i)return i.value}return!0},t.prototype.updateSelectedIndices=function(e){if(e.length>1){for(var t=Array(e.length),r=this.getOptions(),n=0,i=e.length;n<i;n++)!function(n,i){var o=e[n].decodeText();t[n]=r.findIndex(function(e){return o===(e.display||e.value).decodeText()})}(n,0);this.dict.set(hm.of("I"),this.dict.context.obj(t.sort()))}else this.dict.delete(hm.of("I"))},t.prototype.getValues=function(){var e=this.V();if(e instanceof hX||e instanceof hV)return[e];if(e instanceof hs){for(var t=[],r=0,n=e.size();r<n;r++){var i=e.lookup(r);(i instanceof hX||i instanceof hV)&&t.push(i)}return t}return[]},t.prototype.Opt=function(){return this.dict.lookupMaybe(hm.of("Opt"),hX,hV,hs)},t.prototype.setOptions=function(e){for(var t=Array(e.length),r=0,n=e.length;r<n;r++){var i=e[r],o=i.value,a=i.display;t[r]=this.dict.context.obj([o,a||o])}this.dict.set(hm.of("Opt"),this.dict.context.obj(t))},t.prototype.getOptions=function(){var e=this.Opt();if(e instanceof hX||e instanceof hV)return[{value:e,display:e}];if(e instanceof hs){for(var t=[],r=0,n=e.size();r<n;r++){var i=e.lookup(r);if((i instanceof hX||i instanceof hV)&&t.push({value:i,display:i}),i instanceof hs&&i.size()>0){var o=i.lookup(0,hX,hV),a=i.lookupMaybe(1,hX,hV);t.push({value:o,display:a||o})}}return t}return[]},t}(d_),dD=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l4(t,e),t.fromDict=function(e,r){return new t(e,r)},t.create=function(e){var r=e.obj({FT:"Ch",Ff:ed.Combo,Kids:[]}),n=e.register(r);return new t(r,n)},t}(dI),dF=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l4(t,e),t.prototype.addField=function(e){var t=this.normalizedEntries().Kids;null==t||t.push(e)},t.prototype.normalizedEntries=function(){var e=this.Kids();return e||(e=this.dict.context.obj([]),this.dict.set(hm.of("Kids"),e)),{Kids:e}},t.fromDict=function(e,r){return new t(e,r)},t.create=function(e){var r=e.obj({}),n=e.register(r);return new t(r,n)},t}(dw),dP=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l4(t,e),t.fromDict=function(e,r){return new t(e,r)},t}(d_),dN=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l4(t,e),t.prototype.MaxLen=function(){var e=this.dict.lookup(hm.of("MaxLen"));if(e instanceof ha)return e},t.prototype.Q=function(){var e=this.dict.lookup(hm.of("Q"));if(e instanceof ha)return e},t.prototype.setMaxLength=function(e){this.dict.set(hm.of("MaxLen"),ha.of(e))},t.prototype.removeMaxLength=function(){this.dict.delete(hm.of("MaxLen"))},t.prototype.getMaxLength=function(){var e;return null==(e=this.MaxLen())?void 0:e.asNumber()},t.prototype.setQuadding=function(e){this.dict.set(hm.of("Q"),ha.of(e))},t.prototype.getQuadding=function(){var e;return null==(e=this.Q())?void 0:e.asNumber()},t.prototype.setValue=function(e){this.dict.set(hm.of("V"),e)},t.prototype.removeValue=function(){this.dict.delete(hm.of("V"))},t.prototype.getValue=function(){var e=this.V();if(e instanceof hX||e instanceof hV)return e},t.fromDict=function(e,r){return new t(e,r)},t.create=function(e){var r=e.obj({FT:"Tx",Kids:[]}),n=e.register(r);return new t(r,n)},t}(d_),dR=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l4(t,e),t.fromDict=function(e,r){return new t(e,r)},t.create=function(e){var r=e.obj({FT:"Btn",Ff:ec.PushButton,Kids:[]}),n=e.register(r);return new t(r,n)},t}(dA),dO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l4(t,e),t.prototype.setValue=function(e){if(!this.getOnValues().includes(e)&&e!==hm.of("Off"))throw new cZ;this.dict.set(hm.of("V"),e);for(var t=this.getWidgets(),r=0,n=t.length;r<n;r++){var i=t[r],o=i.getOnValue()===e?e:hm.of("Off");i.setAppearanceState(o)}},t.prototype.getValue=function(){var e=this.V();return e instanceof hm?e:hm.of("Off")},t.prototype.getOnValues=function(){for(var e=this.getWidgets(),t=[],r=0,n=e.length;r<n;r++){var i=e[r].getOnValue();i&&t.push(i)}return t},t.fromDict=function(e,r){return new t(e,r)},t.create=function(e){var r=e.obj({FT:"Btn",Ff:ec.Radio,Kids:[]}),n=e.register(r);return new t(r,n)},t}(dA),dB=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l4(t,e),t.fromDict=function(e,r){return new t(e,r)},t.create=function(e){var r=e.obj({FT:"Ch",Kids:[]}),n=e.register(r);return new t(r,n)},t}(dI),dM=function(e){if(!e)return[];for(var t=[],r=0,n=e.size();r<n;r++){var i=e.get(r),o=e.lookup(r);i instanceof hC&&o instanceof hv&&t.push([dL(o,i),i])}return t},dL=function(e,t){return dj(e)?dF.fromDict(e,t):dz(e,t)},dj=function(e){var t=e.lookup(hm.of("Kids"));if(t instanceof hs)for(var r=0,n=t.size();r<n;r++){var i=t.lookup(r);if(i instanceof hv&&i.has(hm.of("T")))return!0}return!1},dz=function(e,t){var r=dW(e,hm.of("FT")),n=e.context.lookup(r,hm);return n===hm.of("Btn")?dV(e,t):n===hm.of("Ch")?dU(e,t):n===hm.of("Tx")?dN.fromDict(e,t):n===hm.of("Sig")?dP.fromDict(e,t):d_.fromDict(e,t)},dV=function(e,t){var r,n=dW(e,hm.of("Ff")),i=e.context.lookupMaybe(n,ha),o=null!=(r=null==i?void 0:i.asNumber())?r:0;return d$(o,ec.PushButton)?dR.fromDict(e,t):d$(o,ec.Radio)?dO.fromDict(e,t):dT.fromDict(e,t)},dU=function(e,t){var r,n=dW(e,hm.of("Ff")),i=e.context.lookupMaybe(n,ha);return d$(null!=(r=null==i?void 0:i.asNumber())?r:0,ed.Combo)?dD.fromDict(e,t):dB.fromDict(e,t)},d$=function(e,t){return(e&t)!=0},dW=function(e,t){var r;return dq(e,function(e){r||(r=e.get(t))}),r},dq=function(e,t){t(e);var r=e.lookupMaybe(hm.of("Parent"),hv);r&&dq(r,t)};e.s(["createPDFAcroField",()=>dL,"createPDFAcroFields",()=>dM],49551);var dK=function(){function e(e){this.dict=e}return e.prototype.Fields=function(){var e=this.dict.lookup(hm.of("Fields"));if(e instanceof hs)return e},e.prototype.getFields=function(){for(var e=this.normalizedEntries().Fields,t=Array(e.size()),r=0,n=e.size();r<n;r++){var i=e.get(r),o=e.lookup(r,hv);t[r]=[dL(o,i),i]}return t},e.prototype.getAllFields=function(){var e=[],t=function(r){if(r)for(var n=0,i=r.length;n<i;n++){var o=r[n];e.push(o);var a=o[0];a instanceof dF&&t(dM(a.Kids()))}};return t(this.getFields()),e},e.prototype.addField=function(e){var t=this.normalizedEntries().Fields;null==t||t.push(e)},e.prototype.removeField=function(e){var t=e.getParent(),r=void 0===t?this.normalizedEntries().Fields:t.Kids(),n=null==r?void 0:r.indexOf(e.ref);if(void 0===r||void 0===n)throw Error("Tried to remove inexistent field "+e.getFullyQualifiedName());r.remove(n),void 0!==t&&0===r.size()&&this.removeField(t)},e.prototype.normalizedEntries=function(){var e=this.Fields();return e||(e=this.dict.context.obj([]),this.dict.set(hm.of("Fields"),e)),{Fields:e}},e.fromDict=function(t){return new e(t)},e.create=function(t){return new e(t.obj({Fields:[]}))},e}();e.s([],79900);var dH=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l4(t,e),t.prototype.Pages=function(){return this.lookup(hm.of("Pages"),hv)},t.prototype.AcroForm=function(){return this.lookupMaybe(hm.of("AcroForm"),hv)},t.prototype.getAcroForm=function(){var e=this.AcroForm();if(e)return dK.fromDict(e)},t.prototype.getOrCreateAcroForm=function(){var e=this.getAcroForm();if(!e){e=dK.create(this.context);var t=this.context.register(e.dict);this.set(hm.of("AcroForm"),t)}return e},t.prototype.ViewerPreferences=function(){return this.lookupMaybe(hm.of("ViewerPreferences"),hv)},t.prototype.getViewerPreferences=function(){var e=this.ViewerPreferences();if(e)return dv.fromDict(e)},t.prototype.getOrCreateViewerPreferences=function(){var e=this.getViewerPreferences();if(!e){e=dv.create(this.context);var t=this.context.register(e.dict);this.set(hm.of("ViewerPreferences"),t)}return e},t.prototype.insertLeafNode=function(e,t){var r=this.get(hm.of("Pages"));return this.Pages().insertLeafNode(e,t)||r},t.prototype.removeLeafNode=function(e){this.Pages().removeLeafNode(e)},t.withContextAndPages=function(e,r){var n=new Map;return n.set(hm.of("Type"),hm.of("Catalog")),n.set(hm.of("Pages"),r),new t(n,e)},t.fromMapWithContext=function(e,r){return new t(e,r)},t}(hv),dG=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l4(t,e),t.prototype.Parent=function(){return this.lookup(hm.of("Parent"))},t.prototype.Kids=function(){return this.lookup(hm.of("Kids"),hs)},t.prototype.Count=function(){return this.lookup(hm.of("Count"),ha)},t.prototype.pushTreeNode=function(e){this.Kids().push(e)},t.prototype.pushLeafNode=function(e){var t=this.Kids();this.insertLeafKid(t.size(),e)},t.prototype.insertLeafNode=function(e,r){var n=this.Kids(),i=this.Count().asNumber();if(r>i)throw new cX(r,i);for(var o=r,a=0,s=n.size();a<s;a++){if(0===o)return void this.insertLeafKid(a,e);var l=n.get(a),u=this.context.lookup(l);if(u instanceof t)if(u.Count().asNumber()>o)return u.insertLeafNode(e,o)||l;else o-=u.Count().asNumber();u instanceof hF&&(o-=1)}if(0===o)return void this.insertLeafKid(n.size(),e);throw new cJ(r,"insertLeafNode")},t.prototype.removeLeafNode=function(e,r){void 0===r&&(r=!0);var n=this.Kids(),i=this.Count().asNumber();if(e>=i)throw new cX(e,i);for(var o=e,a=0,s=n.size();a<s;a++){var l=n.get(a),u=this.context.lookup(l);if(u instanceof t)if(u.Count().asNumber()>o){u.removeLeafNode(o,r),r&&0===u.Kids().size()&&n.remove(a);return}else o-=u.Count().asNumber();if(u instanceof hF)if(0===o)return void this.removeKid(a);else o-=1}throw new cJ(e,"removeLeafNode")},t.prototype.ascend=function(e){e(this);var t=this.Parent();t&&t.ascend(e)},t.prototype.traverse=function(e){for(var r=this.Kids(),n=0,i=r.size();n<i;n++){var o=r.get(n),a=this.context.lookup(o);a instanceof t&&a.traverse(e),e(a,o)}},t.prototype.insertLeafKid=function(e,t){var r=this.Kids();this.ascend(function(e){var t=e.Count().asNumber()+1;e.set(hm.of("Count"),ha.of(t))}),r.insert(e,t)},t.prototype.removeKid=function(e){var t=this.Kids();t.lookup(e)instanceof hF&&this.ascend(function(e){var t=e.Count().asNumber()-1;e.set(hm.of("Count"),ha.of(t))}),t.remove(e)},t.withContext=function(e,r){var n=new Map;return n.set(hm.of("Type"),hm.of("Pages")),n.set(hm.of("Kids"),e.obj([])),n.set(hm.of("Count"),e.obj(0)),r&&n.set(hm.of("Parent"),r),new t(n,e)},t.fromMapWithContext=function(e,r){return new t(e,r)},t}(hv),dQ=new Uint8Array(256);dQ[hn.Zero]=1,dQ[hn.One]=1,dQ[hn.Two]=1,dQ[hn.Three]=1,dQ[hn.Four]=1,dQ[hn.Five]=1,dQ[hn.Six]=1,dQ[hn.Seven]=1,dQ[hn.Eight]=1,dQ[hn.Nine]=1;var dX=new Uint8Array(256);dX[hn.Period]=1,dX[hn.Plus]=1,dX[hn.Minus]=1;for(var dJ=new Uint8Array(256),dY=0;dY<256;dY++)dJ[dY]=dQ[dY]||dX[dY]?1:0;var dZ=hn.Newline,d0=hn.CarriageReturn,d1=function(){function e(e,t){void 0===t&&(t=!1),this.bytes=e,this.capNumbers=t}return e.prototype.parseRawInt=function(){for(var e="";!this.bytes.done()&&dQ[this.bytes.peek()];)e+=uc(this.bytes.next());var t=Number(e);if(!e||!isFinite(t))throw new c5(this.bytes.position(),e);return t},e.prototype.parseRawNumber=function(){for(var e="";!this.bytes.done();){var t=this.bytes.peek();if(!dJ[t]||(e+=uc(this.bytes.next()),t===hn.Period))break}for(;!this.bytes.done();){var t=this.bytes.peek();if(!dQ[t])break;e+=uc(this.bytes.next())}var r=Number(e);if(!e||!isFinite(r))throw new c5(this.bytes.position(),e);if(r>Number.MAX_SAFE_INTEGER)if(this.capNumbers){var n="Parsed number that is too large for some PDF readers: "+e+", using Number.MAX_SAFE_INTEGER instead.";return console.warn(n),Number.MAX_SAFE_INTEGER}else{var n="Parsed number that is too large for some PDF readers: "+e+", not capping.";console.warn(n)}return r},e.prototype.skipWhitespace=function(){for(;!this.bytes.done()&&hh[this.bytes.peek()];)this.bytes.next()},e.prototype.skipLine=function(){for(;!this.bytes.done();){var e=this.bytes.peek();if(e===dZ||e===d0)return;this.bytes.next()}},e.prototype.skipComment=function(){if(this.bytes.peek()!==hn.Percent)return!1;for(;!this.bytes.done();){var e=this.bytes.peek();if(e===dZ||e===d0)break;this.bytes.next()}return!0},e.prototype.skipWhitespaceAndComments=function(){for(this.skipWhitespace();this.skipComment();)this.skipWhitespace()},e.prototype.matchKeyword=function(e){for(var t=this.bytes.offset(),r=0,n=e.length;r<n;r++)if(this.bytes.done()||this.bytes.next()!==e[r])return this.bytes.moveTo(t),!1;return!0},e}(),d2=function(){function e(e){this.idx=0,this.line=0,this.column=0,this.bytes=e,this.length=this.bytes.length}return e.prototype.moveTo=function(e){this.idx=e},e.prototype.next=function(){var e=this.bytes[this.idx++];return e===hn.Newline?(this.line+=1,this.column=0):this.column+=1,e},e.prototype.assertNext=function(e){if(this.peek()!==e)throw new c4(this.position(),e,this.peek());return this.next()},e.prototype.peek=function(){return this.bytes[this.idx]},e.prototype.peekAhead=function(e){return this.bytes[this.idx+e]},e.prototype.peekAt=function(e){return this.bytes[e]},e.prototype.done=function(){return this.idx>=this.length},e.prototype.offset=function(){return this.idx},e.prototype.slice=function(e,t){return this.bytes.slice(e,t)},e.prototype.position=function(){return{line:this.line,column:this.column,offset:this.idx}},e.of=function(t){return new e(t)},e.fromPDFRawStream=function(t){return e.of(dp(t).decode())},e}(),d5=hn.Space,d3=hn.CarriageReturn,d4=hn.Newline,d6=[hn.s,hn.t,hn.r,hn.e,hn.a,hn.m],d8=[hn.e,hn.n,hn.d,hn.s,hn.t,hn.r,hn.e,hn.a,hn.m],d9={header:[hn.Percent,hn.P,hn.D,hn.F,hn.Dash],eof:[hn.Percent,hn.Percent,hn.E,hn.O,hn.F],obj:[hn.o,hn.b,hn.j],endobj:[hn.e,hn.n,hn.d,hn.o,hn.b,hn.j],xref:[hn.x,hn.r,hn.e,hn.f],trailer:[hn.t,hn.r,hn.a,hn.i,hn.l,hn.e,hn.r],startxref:[hn.s,hn.t,hn.a,hn.r,hn.t,hn.x,hn.r,hn.e,hn.f],true:[hn.t,hn.r,hn.u,hn.e],false:[hn.f,hn.a,hn.l,hn.s,hn.e],null:[hn.n,hn.u,hn.l,hn.l],stream:d6,streamEOF1:l7(d6,[d5,d3,d4]),streamEOF2:l7(d6,[d3,d4]),streamEOF3:l7(d6,[d3]),streamEOF4:l7(d6,[d4]),endstream:d8,EOF1endstream:l7([d3,d4],d8),EOF2endstream:l7([d3],d8),EOF3endstream:l7([d4],d8)},d7=function(e){function t(t,r,n){void 0===n&&(n=!1);var i=e.call(this,t,n)||this;return i.context=r,i}return l4(t,e),t.prototype.parseObject=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(d9.true))return hu.True;if(this.matchKeyword(d9.false))return hu.False;if(this.matchKeyword(d9.null))return hy;var e=this.bytes.peek();if(e===hn.LessThan&&this.bytes.peekAhead(1)===hn.LessThan)return this.parseDictOrStream();if(e===hn.LessThan)return this.parseHexString();if(e===hn.LeftParen)return this.parseString();if(e===hn.ForwardSlash)return this.parseName();if(e===hn.LeftSquareBracket)return this.parseArray();if(dJ[e])return this.parseNumberOrRef();throw new c6(this.bytes.position(),e)},t.prototype.parseNumberOrRef=function(){var e=this.parseRawNumber();this.skipWhitespaceAndComments();var t=this.bytes.offset();if(dQ[this.bytes.peek()]){var r=this.parseRawNumber();if(this.skipWhitespaceAndComments(),this.bytes.peek()===hn.R)return this.bytes.assertNext(hn.R),hC.of(e,r)}return this.bytes.moveTo(t),ha.of(e)},t.prototype.parseHexString=function(){var e="";for(this.bytes.assertNext(hn.LessThan);!this.bytes.done()&&this.bytes.peek()!==hn.GreaterThan;)e+=uc(this.bytes.next());return this.bytes.assertNext(hn.GreaterThan),hV.of(e)},t.prototype.parseString=function(){for(var e=0,t=!1,r="";!this.bytes.done();){var n=this.bytes.next();if(r+=uc(n),t||(n===hn.LeftParen&&(e+=1),n===hn.RightParen&&(e-=1)),n===hn.BackSlash?t=!t:t&&(t=!1),0===e)return hX.of(r.substring(1,r.length-1))}throw new c7(this.bytes.position())},t.prototype.parseName=function(){this.bytes.assertNext(hn.ForwardSlash);for(var e="";!this.bytes.done();){var t=this.bytes.peek();if(hh[t]||hc[t])break;e+=uc(t),this.bytes.next()}return hm.of(e)},t.prototype.parseArray=function(){this.bytes.assertNext(hn.LeftSquareBracket),this.skipWhitespaceAndComments();for(var e=hs.withContext(this.context);this.bytes.peek()!==hn.RightSquareBracket;){var t=this.parseObject();e.push(t),this.skipWhitespaceAndComments()}return this.bytes.assertNext(hn.RightSquareBracket),e},t.prototype.parseDict=function(){this.bytes.assertNext(hn.LessThan),this.bytes.assertNext(hn.LessThan),this.skipWhitespaceAndComments();for(var e=new Map;!this.bytes.done()&&this.bytes.peek()!==hn.GreaterThan&&this.bytes.peekAhead(1)!==hn.GreaterThan;){var t=this.parseName(),r=this.parseObject();e.set(t,r),this.skipWhitespaceAndComments()}this.skipWhitespaceAndComments(),this.bytes.assertNext(hn.GreaterThan),this.bytes.assertNext(hn.GreaterThan);var n=e.get(hm.of("Type"));return n===hm.of("Catalog")?dH.fromMapWithContext(e,this.context):n===hm.of("Pages")?dG.fromMapWithContext(e,this.context):n===hm.of("Page")?hF.fromMapWithContext(e,this.context):hv.fromMapWithContext(e,this.context)},t.prototype.parseDictOrStream=function(){var e,t=this.bytes.position(),r=this.parseDict();if(this.skipWhitespaceAndComments(),!this.matchKeyword(d9.streamEOF1)&&!this.matchKeyword(d9.streamEOF2)&&!this.matchKeyword(d9.streamEOF3)&&!this.matchKeyword(d9.streamEOF4)&&!this.matchKeyword(d9.stream))return r;var n=this.bytes.offset(),i=r.get(hm.of("Length"));i instanceof ha?(e=n+i.asNumber(),this.bytes.moveTo(e),this.skipWhitespaceAndComments(),this.matchKeyword(d9.endstream)||(this.bytes.moveTo(n),e=this.findEndOfStreamFallback(t))):e=this.findEndOfStreamFallback(t);var o=this.bytes.slice(n,e);return hw.of(r,o)},t.prototype.findEndOfStreamFallback=function(e){for(var t=1,r=this.bytes.offset();!this.bytes.done()&&(r=this.bytes.offset(),this.matchKeyword(d9.stream)?t+=1:this.matchKeyword(d9.EOF1endstream)||this.matchKeyword(d9.EOF2endstream)||this.matchKeyword(d9.EOF3endstream)||this.matchKeyword(d9.endstream)?t-=1:this.bytes.next(),0!==t););if(0!==t)throw new c9(e);return r},t.forBytes=function(e,r,n){return new t(d2.of(e),r,n)},t.forByteStream=function(e,r,n){return void 0===n&&(n=!1),new t(e,r,n)},t}(d1),fe=function(e){function t(t,r){var n=e.call(this,d2.fromPDFRawStream(t),t.dict.context)||this,i=t.dict;return n.alreadyParsed=!1,n.shouldWaitForTick=r||function(){return!1},n.firstOffset=i.lookup(hm.of("First"),ha).asNumber(),n.objectCount=i.lookup(hm.of("N"),ha).asNumber(),n}return l4(t,e),t.prototype.parseIntoContext=function(){return l8(this,void 0,void 0,function(){var e,t,r,n,i,o,a,s;return l9(this,function(l){switch(l.label){case 0:if(this.alreadyParsed)throw new cW("PDFObjectStreamParser","parseIntoContext");this.alreadyParsed=!0,e=this.parseOffsetsAndObjectNumbers(),t=0,r=e.length,l.label=1;case 1:if(!(t<r))return[3,4];if(i=(n=e[t]).objectNumber,o=n.offset,this.bytes.moveTo(this.firstOffset+o),a=this.parseObject(),s=hC.of(i,0),this.context.assign(s,a),!this.shouldWaitForTick())return[3,3];return[4,uM()];case 2:l.sent(),l.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},t.prototype.parseOffsetsAndObjectNumbers=function(){for(var e=[],t=0,r=this.objectCount;t<r;t++){this.skipWhitespaceAndComments();var n=this.parseRawInt();this.skipWhitespaceAndComments();var i=this.parseRawInt();e.push({objectNumber:n,offset:i})}return e},t.forStream=function(e,r){return new t(e,r)},t}(d7),ft=function(){function e(e){this.alreadyParsed=!1,this.dict=e.dict,this.bytes=d2.fromPDFRawStream(e),this.context=this.dict.context;var t=this.dict.lookup(hm.of("Size"),ha),r=this.dict.lookup(hm.of("Index"));if(r instanceof hs){this.subsections=[];for(var n=0,i=r.size();n<i;n+=2){var o=r.lookup(n+0,ha).asNumber(),a=r.lookup(n+1,ha).asNumber();this.subsections.push({firstObjectNumber:o,length:a})}}else this.subsections=[{firstObjectNumber:0,length:t.asNumber()}];var s=this.dict.lookup(hm.of("W"),hs);this.byteWidths=[-1,-1,-1];for(var n=0,i=s.size();n<i;n++)this.byteWidths[n]=s.lookup(n,ha).asNumber()}return e.prototype.parseIntoContext=function(){if(this.alreadyParsed)throw new cW("PDFXRefStreamParser","parseIntoContext");return this.alreadyParsed=!0,this.context.trailerInfo={Root:this.dict.get(hm.of("Root")),Encrypt:this.dict.get(hm.of("Encrypt")),Info:this.dict.get(hm.of("Info")),ID:this.dict.get(hm.of("ID"))},this.parseEntries()},e.prototype.parseEntries=function(){for(var e=[],t=this.byteWidths,r=t[0],n=t[1],i=t[2],o=0,a=this.subsections.length;o<a;o++)for(var s=this.subsections[o],l=s.firstObjectNumber,u=s.length,c=0;c<u;c++){for(var h=0,d=0,f=r;d<f;d++)h=h<<8|this.bytes.next();for(var p=0,d=0,f=n;d<f;d++)p=p<<8|this.bytes.next();for(var g=0,d=0,f=i;d<f;d++)g=g<<8|this.bytes.next();0===r&&(h=1);var m=l+c,y={ref:hC.of(m,g),offset:p,deleted:0===h,inObjectStream:2===h};e.push(y)}return e},e.forStream=function(t){return new e(t)},e}(),fr=function(e){function t(t,r,n,i){void 0===r&&(r=1/0),void 0===n&&(n=!1),void 0===i&&(i=!1);var o=e.call(this,d2.of(t),hD.create(),i)||this;return o.alreadyParsed=!1,o.parsedObjects=0,o.shouldWaitForTick=function(){return o.parsedObjects+=1,o.parsedObjects%o.objectsPerTick==0},o.objectsPerTick=r,o.throwOnInvalidObject=n,o}return l4(t,e),t.prototype.parseDocument=function(){return l8(this,void 0,void 0,function(){var e,t;return l9(this,function(r){switch(r.label){case 0:if(this.alreadyParsed)throw new cW("PDFParser","parseDocument");this.alreadyParsed=!0,this.context.header=this.parseHeader(),r.label=1;case 1:if(this.bytes.done())return[3,3];return[4,this.parseDocumentSection()];case 2:if(r.sent(),(t=this.bytes.offset())===e)throw new he(this.bytes.position());return e=t,[3,1];case 3:return this.maybeRecoverRoot(),this.context.lookup(hC.of(0))&&(console.warn("Removing parsed object: 0 0 R"),this.context.delete(hC.of(0))),[2,this.context]}})})},t.prototype.maybeRecoverRoot=function(){var e=function(e){return e instanceof hv&&e.lookup(hm.of("Type"))===hm.of("Catalog")};if(!e(this.context.lookup(this.context.trailerInfo.Root)))for(var t=this.context.enumerateIndirectObjects(),r=0,n=t.length;r<n;r++){var i=t[r],o=i[0];e(i[1])&&(this.context.trailerInfo.Root=o)}},t.prototype.parseHeader=function(){for(;!this.bytes.done();){if(this.matchKeyword(d9.header)){var e=this.parseRawInt();this.bytes.assertNext(hn.Period);var t=this.parseRawInt(),r=hi.forVersion(e,t);return this.skipBinaryHeaderComment(),r}this.bytes.next()}throw new ht(this.bytes.position())},t.prototype.parseIndirectObjectHeader=function(){this.skipWhitespaceAndComments();var e=this.parseRawInt();this.skipWhitespaceAndComments();var t=this.parseRawInt();if(this.skipWhitespaceAndComments(),!this.matchKeyword(d9.obj))throw new hr(this.bytes.position(),d9.obj);return hC.of(e,t)},t.prototype.matchIndirectObjectHeader=function(){var e=this.bytes.offset();try{return this.parseIndirectObjectHeader(),!0}catch(t){return this.bytes.moveTo(e),!1}},t.prototype.parseIndirectObject=function(){return l8(this,void 0,void 0,function(){var e,t;return l9(this,function(r){switch(r.label){case 0:if(e=this.parseIndirectObjectHeader(),this.skipWhitespaceAndComments(),t=this.parseObject(),this.skipWhitespaceAndComments(),this.matchKeyword(d9.endobj),!(t instanceof hw&&t.dict.lookup(hm.of("Type"))===hm.of("ObjStm")))return[3,2];return[4,fe.forStream(t,this.shouldWaitForTick).parseIntoContext()];case 1:return r.sent(),[3,3];case 2:t instanceof hw&&t.dict.lookup(hm.of("Type"))===hm.of("XRef")?ft.forStream(t).parseIntoContext():this.context.assign(e,t),r.label=3;case 3:return[2,e]}})})},t.prototype.tryToParseInvalidIndirectObject=function(){var e=this.bytes.position(),t="Trying to parse invalid object: "+JSON.stringify(e)+")";if(this.throwOnInvalidObject)throw Error(t);console.warn(t);var r=this.parseIndirectObjectHeader();console.warn("Invalid object ref: "+r),this.skipWhitespaceAndComments();for(var n=this.bytes.offset(),i=!0;!this.bytes.done()&&(this.matchKeyword(d9.endobj)&&(i=!1),i);)this.bytes.next();if(i)throw new c8(e);var o=this.bytes.offset()-d9.endobj.length,a=hL.of(this.bytes.slice(n,o));return this.context.assign(r,a),r},t.prototype.parseIndirectObjects=function(){return l8(this,void 0,void 0,function(){var e;return l9(this,function(t){switch(t.label){case 0:this.skipWhitespaceAndComments(),t.label=1;case 1:if(!(!this.bytes.done()&&dQ[this.bytes.peek()]))return[3,8];e=this.bytes.offset(),t.label=2;case 2:return t.trys.push([2,4,,5]),[4,this.parseIndirectObject()];case 3:return t.sent(),[3,5];case 4:return t.sent(),this.bytes.moveTo(e),this.tryToParseInvalidIndirectObject(),[3,5];case 5:if(this.skipWhitespaceAndComments(),this.skipJibberish(),!this.shouldWaitForTick())return[3,7];return[4,uM()];case 6:t.sent(),t.label=7;case 7:return[3,1];case 8:return[2]}})})},t.prototype.maybeParseCrossRefSection=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(d9.xref)){this.skipWhitespaceAndComments();for(var e=-1,t=hN.createEmpty();!this.bytes.done()&&dQ[this.bytes.peek()];){var r=this.parseRawInt();this.skipWhitespaceAndComments();var n=this.parseRawInt();this.skipWhitespaceAndComments();var i=this.bytes.peek();if(i===hn.n||i===hn.f){var o=hC.of(e,n);this.bytes.next()===hn.n?t.addEntry(o,r):t.addDeletedEntry(o,r),e+=1}else e=r;this.skipWhitespaceAndComments()}return t}},t.prototype.maybeParseTrailerDict=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(d9.trailer)){this.skipWhitespaceAndComments();var e=this.parseDict(),t=this.context;t.trailerInfo={Root:e.get(hm.of("Root"))||t.trailerInfo.Root,Encrypt:e.get(hm.of("Encrypt"))||t.trailerInfo.Encrypt,Info:e.get(hm.of("Info"))||t.trailerInfo.Info,ID:e.get(hm.of("ID"))||t.trailerInfo.ID}}},t.prototype.maybeParseTrailer=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(d9.startxref)){this.skipWhitespaceAndComments();var e=this.parseRawInt();return this.skipWhitespace(),this.matchKeyword(d9.eof),this.skipWhitespaceAndComments(),this.matchKeyword(d9.eof),this.skipWhitespaceAndComments(),hR.forLastCrossRefSectionOffset(e)}},t.prototype.parseDocumentSection=function(){return l8(this,void 0,void 0,function(){return l9(this,function(e){switch(e.label){case 0:return[4,this.parseIndirectObjects()];case 1:return e.sent(),this.maybeParseCrossRefSection(),this.maybeParseTrailerDict(),this.maybeParseTrailer(),this.skipJibberish(),[2]}})})},t.prototype.skipJibberish=function(){for(this.skipWhitespaceAndComments();!this.bytes.done();){var e=this.bytes.offset(),t=this.bytes.peek();if(t>=hn.Space&&t<=hn.Tilde&&(this.matchKeyword(d9.xref)||this.matchKeyword(d9.trailer)||this.matchKeyword(d9.startxref)||this.matchIndirectObjectHeader())){this.bytes.moveTo(e);break}this.bytes.next()}},t.prototype.skipBinaryHeaderComment=function(){this.skipWhitespaceAndComments();try{var e=this.bytes.offset();this.parseIndirectObjectHeader(),this.bytes.moveTo(e)}catch(e){this.bytes.next(),this.skipWhitespaceAndComments()}},t.forBytesWithOptions=function(e,r,n,i){return new t(e,r,n,i)},t}(d7),fn=function(e){return 1<<e};(R=ef||(ef={}))[R.Invisible=fn(0)]="Invisible",R[R.Hidden=fn(1)]="Hidden",R[R.Print=fn(2)]="Print",R[R.NoZoom=fn(3)]="NoZoom",R[R.NoRotate=fn(4)]="NoRotate",R[R.NoView=fn(5)]="NoView",R[R.ReadOnly=fn(6)]="ReadOnly",R[R.Locked=fn(7)]="Locked",R[R.ToggleNoView=fn(8)]="ToggleNoView",R[R.LockedContents=fn(9)]="LockedContents",e.s(["AnnotationFlags",()=>ef],51721),e.s([],82958);var fi=function(e){return e instanceof hm?e:hm.of(e)},fo=function(e){return e instanceof ha?e:ha.of(e)},fa=function(e){return e instanceof ha?e.asNumber():e};e.s(["asNumber",()=>fa,"asPDFName",()=>fi,"asPDFNumber",()=>fo],38109),(O=ep||(ep={})).Degrees="degrees",O.Radians="radians";var fs=function(e){return cE(e,"radianAngle",["number"]),{type:ep.Radians,angle:e}},fl=function(e){return cE(e,"degreeAngle",["number"]),{type:ep.Degrees,angle:e}},fu=ep.Radians,fc=ep.Degrees,fh=function(e){return e*Math.PI/180},fd=function(e){return 180*e/Math.PI},ff=function(e){return e.type===fu?e.angle:e.type===fc?fh(e.angle):uY("Invalid rotation: "+JSON.stringify(e))},fp=function(e){return e.type===fu?fd(e.angle):e.type===fc?e.angle:uY("Invalid rotation: "+JSON.stringify(e))},fg=function(e){void 0===e&&(e=0);var t=e/90%4;return 0===t?0:1===t?90:2===t?180:270*(3===t)},fm=function(e,t){void 0===t&&(t=0);var r=fg(t);return 90===r||270===r?{width:e.height,height:e.width}:{width:e.width,height:e.height}},fy=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=0);var n=e.x,i=e.y,o=e.width,a=e.height,s=fg(r),l=t/2;return 0===s?{x:n-l,y:i-l,width:o,height:a}:90===s?{x:n-a+l,y:i-l,width:a,height:o}:180===s?{x:n-o+l,y:i-a+l,width:o,height:a}:270===s?{x:n-l,y:i-o+l,width:a,height:o}:{x:n-l,y:i-l,width:o,height:a}};e.s(["RotationTypes",()=>ep,"adjustDimsForRotation",()=>fm,"degrees",()=>fl,"degreesToRadians",()=>fh,"radians",()=>fs,"radiansToDegrees",()=>fd,"reduceRotation",()=>fg,"rotateRectangle",()=>fy,"toDegrees",()=>fp,"toRadians",()=>ff],88477);var fv=function(){return hk.of(h_.ClipNonZero)},fb=function(){return hk.of(h_.ClipEvenOdd)},fw=Math.cos,fx=Math.sin,fS=Math.tan,fC=function(e,t,r,n,i,o){return hk.of(h_.ConcatTransformationMatrix,[fo(e),fo(t),fo(r),fo(n),fo(i),fo(o)])},fk=function(e,t){return fC(1,0,0,1,e,t)},f_=function(e,t){return fC(e,0,0,t,0,0)},fA=function(e){return fC(fw(fa(e)),fx(fa(e)),-fx(fa(e)),fw(fa(e)),0,0)},fT=function(e){return fA(fh(fa(e)))},fE=function(e,t){return fC(1,fS(fa(e)),fS(fa(t)),1,0,0)},fI=function(e,t){return fE(fh(fa(e)),fh(fa(t)))},fD=function(e,t){return hk.of(h_.SetLineDashPattern,["["+e.map(fo).join(" ")+"]",fo(t)])},fF=function(){return fD([],0)};(B=eg||(eg={}))[B.Butt=0]="Butt",B[B.Round=1]="Round",B[B.Projecting=2]="Projecting";var fP=function(e){return hk.of(h_.SetLineCapStyle,[fo(e)])};(M=em||(em={}))[M.Miter=0]="Miter",M[M.Round=1]="Round",M[M.Bevel=2]="Bevel";var fN=function(e){return hk.of(h_.SetLineJoinStyle,[fo(e)])},fR=function(e){return hk.of(h_.SetGraphicsStateParams,[fi(e)])},fO=function(){return hk.of(h_.PushGraphicsState)},fB=function(){return hk.of(h_.PopGraphicsState)},fM=function(e){return hk.of(h_.SetLineWidth,[fo(e)])},fL=function(e,t,r,n,i,o){return hk.of(h_.AppendBezierCurve,[fo(e),fo(t),fo(r),fo(n),fo(i),fo(o)])},fj=function(e,t,r,n){return hk.of(h_.CurveToReplicateInitialPoint,[fo(e),fo(t),fo(r),fo(n)])},fz=function(){return hk.of(h_.ClosePath)},fV=function(e,t){return hk.of(h_.MoveTo,[fo(e),fo(t)])},fU=function(e,t){return hk.of(h_.LineTo,[fo(e),fo(t)])},f$=function(e,t,r,n){return hk.of(h_.AppendRectangle,[fo(e),fo(t),fo(r),fo(n)])},fW=function(e,t,r){return f$(e,t,r,r)},fq=function(){return hk.of(h_.StrokePath)},fK=function(){return hk.of(h_.FillNonZero)},fH=function(){return hk.of(h_.FillNonZeroAndStroke)},fG=function(){return hk.of(h_.EndPath)},fQ=function(){return hk.of(h_.NextLine)},fX=function(e,t){return hk.of(h_.MoveText,[fo(e),fo(t)])},fJ=function(e){return hk.of(h_.ShowText,[e])},fY=function(){return hk.of(h_.BeginText)},fZ=function(){return hk.of(h_.EndText)},f0=function(e,t){return hk.of(h_.SetFontAndSize,[fi(e),fo(t)])},f1=function(e){return hk.of(h_.SetCharacterSpacing,[fo(e)])},f2=function(e){return hk.of(h_.SetWordSpacing,[fo(e)])},f5=function(e){return hk.of(h_.SetTextHorizontalScaling,[fo(e)])},f3=function(e){return hk.of(h_.SetTextLineHeight,[fo(e)])},f4=function(e){return hk.of(h_.SetTextRise,[fo(e)])};(L=ey||(ey={}))[L.Fill=0]="Fill",L[L.Outline=1]="Outline",L[L.FillAndOutline=2]="FillAndOutline",L[L.Invisible=3]="Invisible",L[L.FillAndClip=4]="FillAndClip",L[L.OutlineAndClip=5]="OutlineAndClip",L[L.FillAndOutlineAndClip=6]="FillAndOutlineAndClip",L[L.Clip=7]="Clip";var f6=function(e){return hk.of(h_.SetTextRenderingMode,[fo(e)])},f8=function(e,t,r,n,i,o){return hk.of(h_.SetTextMatrix,[fo(e),fo(t),fo(r),fo(n),fo(i),fo(o)])},f9=function(e,t,r,n,i){return f8(fw(fa(e)),fx(fa(e))+fS(fa(t)),-fx(fa(e))+fS(fa(r)),fw(fa(e)),n,i)},f7=function(e,t,r,n,i){return f9(fh(fa(e)),fh(fa(t)),fh(fa(r)),n,i)},pe=function(e){return hk.of(h_.DrawObject,[fi(e)])},pt=function(e){return hk.of(h_.NonStrokingColorGray,[fo(e)])},pr=function(e){return hk.of(h_.StrokingColorGray,[fo(e)])},pn=function(e,t,r){return hk.of(h_.NonStrokingColorRgb,[fo(e),fo(t),fo(r)])},pi=function(e,t,r){return hk.of(h_.StrokingColorRgb,[fo(e),fo(t),fo(r)])},po=function(e,t,r,n){return hk.of(h_.NonStrokingColorCmyk,[fo(e),fo(t),fo(r),fo(n)])},pa=function(e,t,r,n){return hk.of(h_.StrokingColorCmyk,[fo(e),fo(t),fo(r),fo(n)])},ps=function(e){return hk.of(h_.BeginMarkedContent,[fi(e)])},pl=function(){return hk.of(h_.EndMarkedContent)};e.s(["LineCapStyle",()=>eg,"LineJoinStyle",()=>em,"TextRenderingMode",()=>ey,"appendBezierCurve",()=>fL,"appendQuadraticCurve",()=>fj,"beginMarkedContent",()=>ps,"beginText",()=>fY,"clip",()=>fv,"clipEvenOdd",()=>fb,"closePath",()=>fz,"concatTransformationMatrix",()=>fC,"drawObject",()=>pe,"endMarkedContent",()=>pl,"endPath",()=>fG,"endText",()=>fZ,"fill",()=>fK,"fillAndStroke",()=>fH,"lineTo",()=>fU,"moveText",()=>fX,"moveTo",()=>fV,"nextLine",()=>fQ,"popGraphicsState",()=>fB,"pushGraphicsState",()=>fO,"rectangle",()=>f$,"restoreDashPattern",()=>fF,"rotateAndSkewTextDegreesAndTranslate",()=>f7,"rotateAndSkewTextRadiansAndTranslate",()=>f9,"rotateDegrees",()=>fT,"rotateRadians",()=>fA,"scale",()=>f_,"setCharacterSpacing",()=>f1,"setCharacterSqueeze",()=>f5,"setDashPattern",()=>fD,"setFillingCmykColor",()=>po,"setFillingGrayscaleColor",()=>pt,"setFillingRgbColor",()=>pn,"setFontAndSize",()=>f0,"setGraphicsState",()=>fR,"setLineCap",()=>fP,"setLineHeight",()=>f3,"setLineJoin",()=>fN,"setLineWidth",()=>fM,"setStrokingCmykColor",()=>pa,"setStrokingGrayscaleColor",()=>pr,"setStrokingRgbColor",()=>pi,"setTextMatrix",()=>f8,"setTextRenderingMode",()=>f6,"setTextRise",()=>f4,"setWordSpacing",()=>f2,"showText",()=>fJ,"skewDegrees",()=>fI,"skewRadians",()=>fE,"square",()=>fW,"stroke",()=>fq,"translate",()=>fk],64406),(j=ev||(ev={})).Grayscale="Grayscale",j.RGB="RGB",j.CMYK="CMYK";var pu=function(e){return cF(e,"gray",0,1),{type:ev.Grayscale,gray:e}},pc=function(e,t,r){return cF(e,"red",0,1),cF(t,"green",0,1),cF(r,"blue",0,1),{type:ev.RGB,red:e,green:t,blue:r}},ph=function(e,t,r,n){return cF(e,"cyan",0,1),cF(t,"magenta",0,1),cF(r,"yellow",0,1),cF(n,"key",0,1),{type:ev.CMYK,cyan:e,magenta:t,yellow:r,key:n}},pd=ev.Grayscale,pf=ev.RGB,pp=ev.CMYK,pg=function(e){return e.type===pd?pt(e.gray):e.type===pf?pn(e.red,e.green,e.blue):e.type===pp?po(e.cyan,e.magenta,e.yellow,e.key):uY("Invalid color: "+JSON.stringify(e))},pm=function(e){return e.type===pd?pr(e.gray):e.type===pf?pi(e.red,e.green,e.blue):e.type===pp?pa(e.cyan,e.magenta,e.yellow,e.key):uY("Invalid color: "+JSON.stringify(e))},py=function(e,t){return void 0===t&&(t=1),(null==e?void 0:e.length)===1?pu(e[0]*t):(null==e?void 0:e.length)===3?pc(e[0]*t,e[1]*t,e[2]*t):(null==e?void 0:e.length)===4?ph(e[0]*t,e[1]*t,e[2]*t,e[3]*t):void 0},pv=function(e){return e.type===pd?[e.gray]:e.type===pf?[e.red,e.green,e.blue]:e.type===pp?[e.cyan,e.magenta,e.yellow,e.key]:uY("Invalid color: "+JSON.stringify(e))};e.s(["ColorTypes",()=>ev,"cmyk",()=>ph,"colorToComponents",()=>pv,"componentsToColor",()=>py,"grayscale",()=>pu,"rgb",()=>pc,"setFillingColor",()=>pg,"setStrokingColor",()=>pm],27003);var pb=0,pw=0,px=0,pS=0,pC=0,pk=0,p_=new Map([["A",7],["a",7],["C",6],["c",6],["H",1],["h",1],["L",2],["l",2],["M",2],["m",2],["Q",4],["q",4],["S",4],["s",4],["T",2],["t",2],["V",1],["v",1],["Z",0],["z",0]]),pA=function(e){for(var t,r=[],n=[],i="",o=!1,a=0,s=0;s<e.length;s++){var l=e[s];if(p_.has(l))a=p_.get(l),t&&(i.length>0&&(n[n.length]=+i),r[r.length]={cmd:t,args:n},n=[],i="",o=!1),t=l;else if([" ",","].includes(l)||"-"===l&&i.length>0&&"e"!==i[i.length-1]||"."===l&&o){if(0===i.length)continue;n.length===a?(r[r.length]={cmd:t,args:n},n=[+i],"M"===t&&(t="L"),"m"===t&&(t="l")):n[n.length]=+i,o="."===l,i=["-","."].includes(l)?l:""}else i+=l,"."===l&&(o=!0)}return i.length>0&&(n.length===a?(r[r.length]={cmd:t,args:n},n=[+i],"M"===t&&(t="L"),"m"===t&&(t="l")):n[n.length]=+i),r[r.length]={cmd:t,args:n},r},pT=function(e){pb=pw=px=pS=pC=pk=0;for(var t=[],r=0;r<e.length;r++){var n=e[r];if(n.cmd&&"function"==typeof pE[n.cmd]){var i=pE[n.cmd](n.args);Array.isArray(i)?t=t.concat(i):t.push(i)}}return t},pE={M:function(e){return pb=e[0],pw=e[1],px=pS=null,pC=pb,pk=pw,fV(pb,pw)},m:function(e){return pb+=e[0],pw+=e[1],px=pS=null,pC=pb,pk=pw,fV(pb,pw)},C:function(e){return pb=e[4],pw=e[5],px=e[2],pS=e[3],fL(e[0],e[1],e[2],e[3],e[4],e[5])},c:function(e){var t=fL(e[0]+pb,e[1]+pw,e[2]+pb,e[3]+pw,e[4]+pb,e[5]+pw);return px=pb+e[2],pS=pw+e[3],pb+=e[4],pw+=e[5],t},S:function(e){(null===px||null===pS)&&(px=pb,pS=pw);var t=fL(pb-(px-pb),pw-(pS-pw),e[0],e[1],e[2],e[3]);return px=e[0],pS=e[1],pb=e[2],pw=e[3],t},s:function(e){(null===px||null===pS)&&(px=pb,pS=pw);var t=fL(pb-(px-pb),pw-(pS-pw),pb+e[0],pw+e[1],pb+e[2],pw+e[3]);return px=pb+e[0],pS=pw+e[1],pb+=e[2],pw+=e[3],t},Q:function(e){return px=e[0],pS=e[1],pb=e[2],pw=e[3],fj(e[0],e[1],pb,pw)},q:function(e){var t=fj(e[0]+pb,e[1]+pw,e[2]+pb,e[3]+pw);return px=pb+e[0],pS=pw+e[1],pb+=e[2],pw+=e[3],t},T:function(e){null===px||null===pS?(px=pb,pS=pw):(px=pb-(px-pb),pS=pw-(pS-pw));var t=fj(px,pS,e[0],e[1]);return px=pb-(px-pb),pS=pw-(pS-pw),pb=e[0],pw=e[1],t},t:function(e){null===px||null===pS?(px=pb,pS=pw):(px=pb-(px-pb),pS=pw-(pS-pw));var t=fj(px,pS,pb+e[0],pw+e[1]);return pb+=e[0],pw+=e[1],t},A:function(e){var t=pI(pb,pw,e);return pb=e[5],pw=e[6],t},a:function(e){e[5]+=pb,e[6]+=pw;var t=pI(pb,pw,e);return pb=e[5],pw=e[6],t},L:function(e){return pb=e[0],pw=e[1],px=pS=null,fU(pb,pw)},l:function(e){return pb+=e[0],pw+=e[1],px=pS=null,fU(pb,pw)},H:function(e){return pb=e[0],px=pS=null,fU(pb,pw)},h:function(e){return pb+=e[0],px=pS=null,fU(pb,pw)},V:function(e){return pw=e[0],px=pS=null,fU(pb,pw)},v:function(e){return pw+=e[0],px=pS=null,fU(pb,pw)},Z:function(){var e=fz();return pb=pC,pw=pk,e},z:function(){var e=fz();return pb=pC,pw=pk,e}},pI=function(e,t,r){for(var n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],l=pD(r[5],r[6],n,i,a,s,o,e,t),u=[],c=0;c<l.length;c++){var h=pF.apply(void 0,l[c]);u.push(fL.apply(void 0,h))}return u},pD=function(e,t,r,n,i,o,a,s,l){var u=Math.PI/180*a,c=Math.sin(u),h=Math.cos(u);r=Math.abs(r),n=Math.abs(n);var d=(px=h*(s-e)*.5+c*(l-t)*.5)*px/(r*r)+(pS=h*(l-t)*.5-c*(s-e)*.5)*pS/(n*n);d>1&&(r*=d=Math.sqrt(d),n*=d);var f=h/r,p=c/r,g=-c/n,m=h/n,y=f*s+p*l,v=g*s+m*l,b=f*e+p*t,w=g*e+m*t,x=1/((b-y)*(b-y)+(w-v)*(w-v))-.25;x<0&&(x=0);var S=Math.sqrt(x);o===i&&(S=-S);var C=.5*(y+b)-S*(w-v),k=.5*(v+w)+S*(b-y),_=Math.atan2(v-k,y-C),A=Math.atan2(w-k,b-C)-_;A<0&&1===o?A+=2*Math.PI:A>0&&0===o&&(A-=2*Math.PI);for(var T=Math.ceil(Math.abs(A/(.5*Math.PI+.001))),E=[],I=0;I<T;I++){var D=_+I*A/T,F=_+(I+1)*A/T;E[I]=[C,k,D,F,r,n,c,h]}return E},pF=function(e,t,r,n,i,o,a,s){var l=s*i,u=-a*o,c=a*i,h=s*o,d=.5*(n-r),f=8/3*Math.sin(.5*d)*Math.sin(.5*d)/Math.sin(d),p=e+Math.cos(r)-f*Math.sin(r),g=t+Math.sin(r)+f*Math.cos(r),m=e+Math.cos(n),y=t+Math.sin(n),v=m+f*Math.sin(n),b=y-f*Math.cos(n);return[l*p+u*g,c*p+h*g,l*v+u*b,c*v+h*b,l*m+u*y,c*m+h*y]},pP=function(e,t){return[fO(),t.graphicsState&&fR(t.graphicsState),fY(),pg(t.color),f0(t.font,t.size),f9(ff(t.rotate),ff(t.xSkew),ff(t.ySkew),t.x,t.y),fJ(e),fZ(),fB()].filter(Boolean)},pN=function(e,t){for(var r=[fO(),t.graphicsState&&fR(t.graphicsState),fY(),pg(t.color),f0(t.font,t.size),f3(t.lineHeight),f9(ff(t.rotate),ff(t.xSkew),ff(t.ySkew),t.x,t.y)].filter(Boolean),n=0,i=e.length;n<i;n++)r.push(fJ(e[n]),fQ());return r.push(fZ(),fB()),r},pR=function(e,t){return[fO(),t.graphicsState&&fR(t.graphicsState),fk(t.x,t.y),fA(ff(t.rotate)),f_(t.width,t.height),fE(ff(t.xSkew),ff(t.ySkew)),pe(e),fB()].filter(Boolean)},pO=function(e,t){return[fO(),t.graphicsState&&fR(t.graphicsState),fk(t.x,t.y),fA(ff(t.rotate)),f_(t.xScale,t.yScale),fE(ff(t.xSkew),ff(t.ySkew)),pe(e),fB()].filter(Boolean)},pB=function(e){var t,r;return[fO(),e.graphicsState&&fR(e.graphicsState),e.color&&pm(e.color),fM(e.thickness),fD(null!=(t=e.dashArray)?t:[],null!=(r=e.dashPhase)?r:0),fV(e.start.x,e.start.y),e.lineCap&&fP(e.lineCap),fV(e.start.x,e.start.y),fU(e.end.x,e.end.y),fq(),fB()].filter(Boolean)},pM=function(e){var t,r;return[fO(),e.graphicsState&&fR(e.graphicsState),e.color&&pg(e.color),e.borderColor&&pm(e.borderColor),fM(e.borderWidth),e.borderLineCap&&fP(e.borderLineCap),fD(null!=(t=e.borderDashArray)?t:[],null!=(r=e.borderDashPhase)?r:0),fk(e.x,e.y),fA(ff(e.rotate)),fE(ff(e.xSkew),ff(e.ySkew)),fV(0,0),fU(0,e.height),fU(e.width,e.height),fU(e.width,0),fz(),e.color&&e.borderWidth?fH():e.color?fK():e.borderColor?fq():fz(),fB()].filter(Boolean)},pL=(Math.sqrt(2)-1)/3*4,pj=function(e){var t=fa(e.x),r=fa(e.y),n=fa(e.xScale),i=fa(e.yScale);t-=n,r-=i;var o=n*pL,a=i*pL,s=t+2*n,l=r+2*i,u=t+n,c=r+i;return[fO(),fV(t,c),fL(t,c-a,u-o,r,u,r),fL(u+o,r,s,c-a,s,c),fL(s,c+a,u+o,l,u,l),fL(u-o,l,t,c+a,t,c),fB()]},pz=function(e){var t=fa(e.x),r=fa(e.y),n=fa(e.xScale),i=fa(e.yScale),o=-n,a=-i,s=n*pL,l=i*pL,u=o+2*n,c=a+2*i,h=o+n,d=a+i;return[fk(t,r),fA(ff(e.rotate)),fV(o,d),fL(o,d-l,h-s,a,h,a),fL(h+s,a,u,d-l,u,d),fL(u,d+l,h+s,c,h,c),fL(h-s,c,o,d+l,o,d)]},pV=function(e){var t,r,n;return l7([fO(),e.graphicsState&&fR(e.graphicsState),e.color&&pg(e.color),e.borderColor&&pm(e.borderColor),fM(e.borderWidth),e.borderLineCap&&fP(e.borderLineCap),fD(null!=(t=e.borderDashArray)?t:[],null!=(r=e.borderDashPhase)?r:0)],void 0===e.rotate?pj({x:e.x,y:e.y,xScale:e.xScale,yScale:e.yScale}):pz({x:e.x,y:e.y,xScale:e.xScale,yScale:e.yScale,rotate:null!=(n=e.rotate)?n:fl(0)}),[e.color&&e.borderWidth?fH():e.color?fK():e.borderColor?fq():fz(),fB()]).filter(Boolean)},pU=function(e,t){var r,n,i;return l7([fO(),t.graphicsState&&fR(t.graphicsState),fk(t.x,t.y),fA(ff(null!=(r=t.rotate)?r:fl(0))),t.scale?f_(t.scale,-t.scale):f_(1,-1),t.color&&pg(t.color),t.borderColor&&pm(t.borderColor),t.borderWidth&&fM(t.borderWidth),t.borderLineCap&&fP(t.borderLineCap),fD(null!=(n=t.borderDashArray)?n:[],null!=(i=t.borderDashPhase)?i:0)],pT(pA(e)),[t.color&&t.borderWidth?fH():t.color?fK():t.borderColor?fq():fz(),fB()]).filter(Boolean)},p$=function(e){var t=fa(e.size);return[fO(),e.color&&pm(e.color),fM(e.thickness),fk(e.x,e.y),fV(-.675*t,-.07601036269430045*t),fU(-.25*t,-.49*t),fU(.69*t,.475*t),fq(),fB()].filter(Boolean)},pW=function(e){return 0===e.rotation?[fk(0,0),fT(0)]:90===e.rotation?[fk(e.width,0),fT(90)]:180===e.rotation?[fk(e.width,e.height),fT(180)]:270===e.rotation?[fk(0,e.height),fT(270)]:[]},pq=function(e){var t=pM({x:e.x,y:e.y,width:e.width,height:e.height,borderWidth:e.borderWidth,color:e.color,borderColor:e.borderColor,rotate:fl(0),xSkew:fl(0),ySkew:fl(0)});if(!e.filled)return t;var r=fa(e.width),n=fa(e.height),i=Math.min(r,n)/2,o=p$({x:r/2,y:n/2,size:i,thickness:e.thickness,color:e.markColor});return l7([fO()],t,o,[fB()])},pK=function(e){var t=Math.min(fa(e.width),fa(e.height))/2,r=pV({x:e.x,y:e.y,xScale:t,yScale:t,color:e.color,borderColor:e.borderColor,borderWidth:e.borderWidth});if(!e.filled)return r;var n=pV({x:e.x,y:e.y,xScale:.45*t,yScale:.45*t,color:e.dotColor,borderColor:void 0,borderWidth:0});return l7([fO()],r,n,[fB()])},pH=function(e){var t=pM({x:fa(e.x),y:fa(e.y),width:fa(e.width),height:fa(e.height),borderWidth:e.borderWidth,color:e.color,borderColor:e.borderColor,rotate:fl(0),xSkew:fl(0),ySkew:fl(0)}),r=pG(e.textLines,{color:e.textColor,font:e.font,size:e.fontSize,rotate:fl(0),xSkew:fl(0),ySkew:fl(0)});return l7([fO()],t,r,[fB()])},pG=function(e,t){for(var r=[fY(),pg(t.color),f0(t.font,t.size)],n=0,i=e.length;n<i;n++){var o=e[n],a=o.encoded,s=o.x,l=o.y;r.push(f9(ff(t.rotate),ff(t.xSkew),ff(t.ySkew),s,l),fJ(a))}return r.push(fZ()),r},pQ=function(e){var t=fa(e.x),r=fa(e.y),n=fa(e.width),i=fa(e.height),o=fa(e.borderWidth),a=fa(e.padding),s=t+o/2+a,l=r+o/2+a,u=n-(o/2+a)*2,c=i-(o/2+a)*2,h=[fV(s,l),fU(s,l+c),fU(s+u,l+c),fU(s+u,l),fz(),fv(),fG()],d=pM({x:t,y:r,width:n,height:i,borderWidth:e.borderWidth,color:e.color,borderColor:e.borderColor,rotate:fl(0),xSkew:fl(0),ySkew:fl(0)}),f=pG(e.textLines,{color:e.textColor,font:e.font,size:e.fontSize,rotate:fl(0),xSkew:fl(0),ySkew:fl(0)}),p=l7([ps("Tx"),fO()],f,[fB(),pl()]);return l7([fO()],d,h,p,[fB()])},pX=function(e){for(var t=fa(e.x),r=fa(e.y),n=fa(e.width),i=fa(e.height),o=fa(e.lineHeight),a=fa(e.borderWidth),s=fa(e.padding),l=t+a/2+s,u=r+a/2+s,c=n-(a/2+s)*2,h=i-(a/2+s)*2,d=[fV(l,u),fU(l,u+h),fU(l+c,u+h),fU(l+c,u),fz(),fv(),fG()],f=pM({x:t,y:r,width:n,height:i,borderWidth:e.borderWidth,color:e.color,borderColor:e.borderColor,rotate:fl(0),xSkew:fl(0),ySkew:fl(0)}),p=[],g=0,m=e.selectedLines.length;g<m;g++){var y=e.textLines[e.selectedLines[g]];p.push.apply(p,pM({x:y.x-s,y:y.y-(o-y.height)/2,width:n-a,height:y.height+(o-y.height)/2,borderWidth:0,color:e.selectedColor,borderColor:void 0,rotate:fl(0),xSkew:fl(0),ySkew:fl(0)}))}var v=pG(e.textLines,{color:e.textColor,font:e.font,size:e.fontSize,rotate:fl(0),xSkew:fl(0),ySkew:fl(0)}),b=l7([ps("Tx"),fO()],v,[fB(),pl()]);return l7([fO()],f,p,d,b,[fB()])};e.s(["drawButton",()=>pH,"drawCheckBox",()=>pq,"drawCheckMark",()=>p$,"drawEllipse",()=>pV,"drawEllipsePath",()=>pj,"drawImage",()=>pR,"drawLine",()=>pB,"drawLinesOfText",()=>pN,"drawOptionList",()=>pX,"drawPage",()=>pO,"drawRadioButton",()=>pK,"drawRectangle",()=>pM,"drawSvgPath",()=>pU,"drawText",()=>pP,"drawTextField",()=>pQ,"drawTextLines",()=>pG,"rotateInPlace",()=>pW],85978);var pJ=function(e){function t(){return e.call(this,"Input document to `PDFDocument.load` is encrypted. You can use `PDFDocument.load(..., { ignoreEncryption: true })` if you wish to load the document anyways.")||this}return l4(t,e),t}(Error),pY=function(e){function t(){return e.call(this,"Input to `PDFDocument.embedFont` was a custom font, but no `fontkit` instance was found. You must register a `fontkit` instance with `PDFDocument.registerFontkit(...)` before embedding custom fonts.")||this}return l4(t,e),t}(Error),pZ=function(e){function t(){return e.call(this,"A `page` passed to `PDFDocument.addPage` or `PDFDocument.insertPage` was from a different (foreign) PDF document. If you want to copy pages from one PDFDocument to another, you must use `PDFDocument.copyPages(...)` to copy the pages before adding or inserting them.")||this}return l4(t,e),t}(Error),p0=function(e){function t(){return e.call(this,"PDFDocument has no pages so `PDFDocument.removePage` cannot be called")||this}return l4(t,e),t}(Error),p1=function(e){function t(t){return e.call(this,'PDFDocument has no form field with the name "'+t+'"')||this}return l4(t,e),t}(Error),p2=function(e){function t(t,r,n){var i,o,a='Expected field "'+t+'" to be of type '+(null==r?void 0:r.name)+", but it is actually of type "+(null!=(o=null==(i=null==n?void 0:n.constructor)?void 0:i.name)?o:n);return e.call(this,a)||this}return l4(t,e),t}(Error),p5=function(e){function t(t){return e.call(this,'Failed to select check box due to missing onValue: "'+t+'"')||this}return l4(t,e),t}(Error),p3=function(e){function t(t){return e.call(this,'A field already exists with the specified name: "'+t+'"')||this}return l4(t,e),t}(Error),p4=function(e){function t(t){return e.call(this,'Field name contains invalid component: "'+t+'"')||this}return l4(t,e),t}(Error),p6=function(e){function t(t){return e.call(this,'A non-terminal field already exists with the specified name: "'+t+'"')||this}return l4(t,e),t}(Error),p8=function(e){function t(t){return e.call(this,"Reading rich text fields is not supported: Attempted to read rich text field: "+t)||this}return l4(t,e),t}(Error),p9=function(e){function t(t,r){return e.call(this,"Failed to layout combed text as lineLength="+t+" is greater than cellCount="+r)||this}return l4(t,e),t}(Error),p7=function(e){function t(t,r,n){return e.call(this,"Attempted to set text with length="+t+" for TextField with maxLength="+r+" and name="+n)||this}return l4(t,e),t}(Error),ge=function(e){function t(t,r,n){var i="Attempted to set maxLength="+r+", which is less than "+t+", the length of this field's current value (name="+n+")";return e.call(this,i)||this}return l4(t,e),t}(Error);e.s(["CombedTextLayoutError",()=>p9,"EncryptedPDFError",()=>pJ,"ExceededMaxLengthError",()=>p7,"FieldAlreadyExistsError",()=>p3,"FieldExistsAsNonTerminalError",()=>p6,"FontkitNotRegisteredError",()=>pY,"ForeignPageError",()=>pZ,"InvalidFieldNamePartError",()=>p4,"InvalidMaxLengthError",()=>ge,"MissingOnValueCheckError",()=>p5,"NoSuchFieldError",()=>p1,"RemovePageFromEmptyDocumentError",()=>p0,"RichTextFieldReadError",()=>p8,"UnexpectedFieldTypeError",()=>p2],68941),(z=eb||(eb={}))[z.Left=0]="Left",z[z.Center=1]="Center",z[z.Right=2]="Right",e.s(["TextAlignment",()=>eb],34282);var gt=function(e,t,r,n){void 0===n&&(n=!1);for(var i=4;i<500;){for(var o=0,a=0,s=e.length;a<s;a++){o+=1;for(var l=e[a].split(" "),u=r.width,c=0,h=l.length;c<h;c++){var d=c===h-1?l[c]:l[c]+" ",f=t.widthOfTextAtSize(d,i);(u-=f)<=0&&(o+=1,u=r.width-f)}}if(!n&&o>e.length)return i-1;var p=t.heightAtSize(i);if((p+.2*p)*o>Math.abs(r.height))return i-1;i+=1}return i},gr=function(e,t,r,n){for(var i=r.width/n,o=r.height,a=4,s=ub(e);a<500;){for(var l=0,u=s.length;l<u;l++){var c=s[l];if(t.widthOfTextAtSize(c,a)>.75*i)return a-1}if(t.heightAtSize(a,{descender:!1})>o)return a-1;a+=1}return a},gn=function(e){for(var t=e.length;t>0;t--)if(/\s/.test(e[t]))return t},gi=function(e,t,r,n){for(var i,o=e.length;o>0;){var a=e.substring(0,o),s=r.encodeText(a),l=r.widthOfTextAtSize(a,n);if(l<t)return{line:a,encoded:s,width:l,remainder:e.substring(o)||void 0};o=null!=(i=gn(a))?i:0}return{line:e,encoded:r.encodeText(e),width:r.widthOfTextAtSize(e,n),remainder:void 0}},go=function(e,t){var r=t.alignment,n=t.fontSize,i=t.font,o=t.bounds,a=um(uf(e));(void 0===n||0===n)&&(n=gt(a,i,o,!0));for(var s=i.heightAtSize(n),l=s+.2*s,u=[],c=o.x,h=o.y,d=o.x+o.width,f=o.y+o.height,p=o.y+o.height,g=0,m=a.length;g<m;g++)for(var y=a[g];void 0!==y;){var v=gi(y,o.width,i,n),b=v.line,w=v.encoded,x=v.width,S=v.remainder,C=r===eb.Left?o.x:r===eb.Center?o.x+o.width/2-x/2:r===eb.Right?o.x+o.width-x:o.x;p-=l,C<c&&(c=C),p<h&&(h=p),C+x>d&&(d=C+x),p+s>f&&(f=p+s),u.push({text:b,encoded:w,width:x,height:s,x:C,y:p}),y=null==S?void 0:S.trim()}return{fontSize:n,lineHeight:l,lines:u,bounds:{x:c,y:h,width:d-c,height:f-h}}},ga=function(e,t){var r=t.fontSize,n=t.font,i=t.bounds,o=t.cellCount,a=uy(uf(e));if(a.length>o)throw new p9(a.length,o);(void 0===r||0===r)&&(r=gr(a,n,i,o));for(var s=i.width/o,l=n.heightAtSize(r,{descender:!1}),u=i.y+(i.height/2-l/2),c=[],h=i.x,d=i.y,f=i.x+i.width,p=i.y+i.height,g=0,m=0;g<o;){var y=uv(a,m),v=y[0],b=y[1],w=n.encodeText(v),x=n.widthOfTextAtSize(v,r),S=i.x+(s*g+s/2)-x/2;S<h&&(h=S),u<d&&(d=u),S+x>f&&(f=S+x),u+l>p&&(p=u+l),c.push({text:a,encoded:w,width:x,height:l,x:S,y:u}),g+=1,m+=b}return{fontSize:r,cells:c,bounds:{x:h,y:d,width:f-h,height:p-d}}},gs=function(e,t){var r=t.alignment,n=t.fontSize,i=t.font,o=t.bounds,a=uy(uf(e));(void 0===n||0===n)&&(n=gt([a],i,o));var s=i.encodeText(a),l=i.widthOfTextAtSize(a,n),u=i.heightAtSize(n,{descender:!1}),c=r===eb.Left?o.x:r===eb.Center?o.x+o.width/2-l/2:r===eb.Right?o.x+o.width-l:o.x,h=o.y+(o.height/2-u/2);return{fontSize:n,line:{text:a,encoded:s,width:l,height:u,x:c,y:h},bounds:{x:c,y:h,width:l,height:u}}};e.s(["layoutCombedText",()=>ga,"layoutMultilineText",()=>go,"layoutSinglelineText",()=>gs],45361);var gl=function(e){return"normal"in e?e:{normal:e}},gu=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]+(\d*\.\d+|\d+)[\0\t\n\f\r\ ]+Tf/,gc=function(e){var t,r,n=Number((null!=(r=uk(null!=(t=e.getDefaultAppearance())?t:"",gu).match)?r:[])[2]);return isFinite(n)?n:void 0},gh=/(\d*\.\d+|\d+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+(g|rg|k)/,gd=function(e){var t,r=uk(null!=(t=e.getDefaultAppearance())?t:"",gh).match,n=null!=r?r:[],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5];return"g"===l&&i?pu(Number(i)):"rg"===l&&i&&o&&a?pc(Number(i),Number(o),Number(a)):"k"===l&&i&&o&&a&&s?ph(Number(i),Number(o),Number(a),Number(s)):void 0},gf=function(e,t,r,n){void 0===n&&(n=0);var i,o=[pg(t).toString(),f0(null!=(i=null==r?void 0:r.name)?i:"dummy__noop",n).toString()].join("\n");e.setDefaultAppearance(o)},gp=function(e,t){var r,n,i,o=gd(t),a=gd(e.acroField),s=t.getRectangle(),l=t.getAppearanceCharacteristics(),u=t.getBorderStyle(),c=null!=(r=null==u?void 0:u.getWidth())?r:0,h=fg(null==l?void 0:l.getRotation()),d=fm(s,h),f=d.width,p=d.height,g=pW(l6(l6({},s),{rotation:h})),m=pc(0,0,0),y=null!=(n=py(null==l?void 0:l.getBorderColor()))?n:m,v=py(null==l?void 0:l.getBackgroundColor()),b=py(null==l?void 0:l.getBackgroundColor(),.8),w=null!=(i=null!=o?o:a)?i:m;o?gf(t,w):gf(e.acroField,w);var x={x:0+c/2,y:0+c/2,width:f-c,height:p-c,thickness:1.5,borderWidth:c,borderColor:y,markColor:w};return{normal:{on:l7(g,pq(l6(l6({},x),{color:v,filled:!0}))),off:l7(g,pq(l6(l6({},x),{color:v,filled:!1})))},down:{on:l7(g,pq(l6(l6({},x),{color:b,filled:!0}))),off:l7(g,pq(l6(l6({},x),{color:b,filled:!1})))}}},gg=function(e,t){var r,n,i,o=gd(t),a=gd(e.acroField),s=t.getRectangle(),l=t.getAppearanceCharacteristics(),u=t.getBorderStyle(),c=null!=(r=null==u?void 0:u.getWidth())?r:0,h=fg(null==l?void 0:l.getRotation()),d=fm(s,h),f=d.width,p=d.height,g=pW(l6(l6({},s),{rotation:h})),m=pc(0,0,0),y=null!=(n=py(null==l?void 0:l.getBorderColor()))?n:m,v=py(null==l?void 0:l.getBackgroundColor()),b=py(null==l?void 0:l.getBackgroundColor(),.8),w=null!=(i=null!=o?o:a)?i:m;o?gf(t,w):gf(e.acroField,w);var x={x:f/2,y:p/2,width:f-c,height:p-c,borderWidth:c,borderColor:y,dotColor:w};return{normal:{on:l7(g,pK(l6(l6({},x),{color:v,filled:!0}))),off:l7(g,pK(l6(l6({},x),{color:v,filled:!1})))},down:{on:l7(g,pK(l6(l6({},x),{color:b,filled:!0}))),off:l7(g,pK(l6(l6({},x),{color:b,filled:!1})))}}},gm=function(e,t,r){var n,i,o,a,s,l=gd(t),u=gd(e.acroField),c=gc(t),h=gc(e.acroField),d=t.getRectangle(),f=t.getAppearanceCharacteristics(),p=t.getBorderStyle(),g=null==f?void 0:f.getCaptions(),m=null!=(n=null==g?void 0:g.normal)?n:"",y=null!=(o=null!=(i=null==g?void 0:g.down)?i:m)?o:"",v=null!=(a=null==p?void 0:p.getWidth())?a:0,b=fg(null==f?void 0:f.getRotation()),w=fm(d,b),x=w.width,S=w.height,C=pW(l6(l6({},d),{rotation:b})),k=pc(0,0,0),_=py(null==f?void 0:f.getBorderColor()),A=py(null==f?void 0:f.getBackgroundColor()),T=py(null==f?void 0:f.getBackgroundColor(),.8),E={x:v,y:v,width:x-2*v,height:S-2*v},I=gs(m,{alignment:eb.Center,fontSize:null!=c?c:h,font:r,bounds:E}),D=gs(y,{alignment:eb.Center,fontSize:null!=c?c:h,font:r,bounds:E}),F=Math.min(I.fontSize,D.fontSize),P=null!=(s=null!=l?l:u)?s:k;l||void 0!==c?gf(t,P,r,F):gf(e.acroField,P,r,F);var N={x:0+v/2,y:0+v/2,width:x-v,height:S-v,borderWidth:v,borderColor:_,textColor:P,font:r.name,fontSize:F};return{normal:l7(C,pH(l6(l6({},N),{color:A,textLines:[I.line]}))),down:l7(C,pH(l6(l6({},N),{color:T,textLines:[D.line]})))}},gy=function(e,t,r){var n,i,o,a,s,l,u=gd(t),c=gd(e.acroField),h=gc(t),d=gc(e.acroField),f=t.getRectangle(),p=t.getAppearanceCharacteristics(),g=t.getBorderStyle(),m=null!=(n=e.getText())?n:"",y=null!=(i=null==g?void 0:g.getWidth())?i:0,v=fg(null==p?void 0:p.getRotation()),b=fm(f,v),w=b.width,x=b.height,S=pW(l6(l6({},f),{rotation:v})),C=pc(0,0,0),k=py(null==p?void 0:p.getBorderColor()),_=py(null==p?void 0:p.getBackgroundColor()),A=+!e.isCombed(),T={x:y+A,y:y+A,width:w-(y+A)*2,height:x-(y+A)*2};if(e.isMultiline()){var E=go(m,{alignment:e.getAlignment(),fontSize:null!=h?h:d,font:r,bounds:T});s=E.lines,l=E.fontSize}else if(e.isCombed()){var E=ga(m,{fontSize:null!=h?h:d,font:r,bounds:T,cellCount:null!=(o=e.getMaxLength())?o:0});s=E.cells,l=E.fontSize}else{var E=gs(m,{alignment:e.getAlignment(),fontSize:null!=h?h:d,font:r,bounds:T});s=[E.line],l=E.fontSize}var I=null!=(a=null!=u?u:c)?a:C;return u||void 0!==h?gf(t,I,r,l):gf(e.acroField,I,r,l),l7(S,pQ({x:0+y/2,y:0+y/2,width:w-y,height:x-y,borderWidth:null!=y?y:0,borderColor:k,textColor:I,font:r.name,fontSize:l,color:_,textLines:s,padding:A}))},gv=function(e,t,r){var n,i,o,a=gd(t),s=gd(e.acroField),l=gc(t),u=gc(e.acroField),c=t.getRectangle(),h=t.getAppearanceCharacteristics(),d=t.getBorderStyle(),f=null!=(n=e.getSelected()[0])?n:"",p=null!=(i=null==d?void 0:d.getWidth())?i:0,g=fg(null==h?void 0:h.getRotation()),m=fm(c,g),y=m.width,v=m.height,b=pW(l6(l6({},c),{rotation:g})),w=pc(0,0,0),x=py(null==h?void 0:h.getBorderColor()),S=py(null==h?void 0:h.getBackgroundColor()),C=gs(f,{alignment:eb.Left,fontSize:null!=l?l:u,font:r,bounds:{x:p+1,y:p+1,width:y-(p+1)*2,height:v-(p+1)*2}}),k=C.line,_=C.fontSize,A=null!=(o=null!=a?a:s)?o:w;return a||void 0!==l?gf(t,A,r,_):gf(e.acroField,A,r,_),l7(b,pQ({x:0+p/2,y:0+p/2,width:y-p,height:v-p,borderWidth:null!=p?p:0,borderColor:x,textColor:A,font:r.name,fontSize:_,color:S,textLines:[k],padding:1}))},gb=function(e,t,r){var n,i,o=gd(t),a=gd(e.acroField),s=gc(t),l=gc(e.acroField),u=t.getRectangle(),c=t.getAppearanceCharacteristics(),h=t.getBorderStyle(),d=null!=(n=null==h?void 0:h.getWidth())?n:0,f=fg(null==c?void 0:c.getRotation()),p=fm(u,f),g=p.width,m=p.height,y=pW(l6(l6({},u),{rotation:f})),v=pc(0,0,0),b=py(null==c?void 0:c.getBorderColor()),w=py(null==c?void 0:c.getBackgroundColor()),x=e.getOptions(),S=e.getSelected();e.isSorted()&&x.sort();for(var C="",k=0,_=x.length;k<_;k++)C+=x[k],k<_-1&&(C+="\n");for(var A=go(C,{alignment:eb.Left,fontSize:null!=s?s:l,font:r,bounds:{x:d+1,y:d+1,width:g-(d+1)*2,height:m-(d+1)*2}}),T=A.lines,E=A.fontSize,I=A.lineHeight,D=[],k=0,_=T.length;k<_;k++){var F=T[k];S.includes(F.text)&&D.push(k)}var P=pc(.6,193/255,218/255),N=null!=(i=null!=o?o:a)?i:v;return o||void 0!==s?gf(t,N,r,E):gf(e.acroField,N,r,E),l7(y,pX({x:0+d/2,y:0+d/2,width:g-d,height:m-d,borderWidth:null!=d?d:0,borderColor:b,textColor:N,font:r.name,fontSize:E,color:w,textLines:T,lineHeight:I,selectedColor:P,selectedLines:D,padding:1}))};e.s(["defaultButtonAppearanceProvider",()=>gm,"defaultCheckBoxAppearanceProvider",()=>gp,"defaultDropdownAppearanceProvider",()=>gv,"defaultOptionListAppearanceProvider",()=>gb,"defaultRadioGroupAppearanceProvider",()=>gg,"defaultTextFieldAppearanceProvider",()=>gy,"normalizeAppearance",()=>gl],90213);var gw=function(){function e(e,t,r){this.alreadyEmbedded=!1,cE(e,"ref",[[hC,"PDFRef"]]),cE(t,"doc",[[gj,"PDFDocument"]]),cE(r,"embedder",[[dm,"PDFPageEmbedder"]]),this.ref=e,this.doc=t,this.width=r.width,this.height=r.height,this.embedder=r}return e.prototype.scale=function(e){return cE(e,"factor",["number"]),{width:this.width*e,height:this.height*e}},e.prototype.size=function(){return this.scale(1)},e.prototype.embed=function(){return l8(this,void 0,void 0,function(){return l9(this,function(e){switch(e.label){case 0:if(this.alreadyEmbedded)return[3,2];return[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e.sent(),this.alreadyEmbedded=!0,e.label=2;case 2:return[2]}})})},e.of=function(t,r,n){return new e(t,r,n)},e}(),gx=function(){function e(e,t,r){this.modified=!0,cE(e,"ref",[[hC,"PDFRef"]]),cE(t,"doc",[[gj,"PDFDocument"]]),cE(r,"embedder",[[hJ,"CustomFontEmbedder"],[hU,"StandardFontEmbedder"]]),this.ref=e,this.doc=t,this.name=r.fontName,this.embedder=r}return e.prototype.encodeText=function(e){return cE(e,"text",["string"]),this.modified=!0,this.embedder.encodeText(e)},e.prototype.widthOfTextAtSize=function(e,t){return cE(e,"text",["string"]),cE(t,"size",["number"]),this.embedder.widthOfTextAtSize(e,t)},e.prototype.heightAtSize=function(e,t){var r;return cE(e,"size",["number"]),cI(null==t?void 0:t.descender,"options.descender",["boolean"]),this.embedder.heightOfFontAtSize(e,{descender:null==(r=null==t?void 0:t.descender)||r})},e.prototype.sizeAtHeight=function(e){return cE(e,"height",["number"]),this.embedder.sizeOfFontAtHeight(e)},e.prototype.getCharacterSet=function(){return this.embedder instanceof hU?this.embedder.encoding.supportedCodePoints:this.embedder.font.characterSet},e.prototype.embed=function(){return l8(this,void 0,void 0,function(){return l9(this,function(e){switch(e.label){case 0:if(!this.modified)return[3,2];return[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e.sent(),this.modified=!1,e.label=2;case 2:return[2]}})})},e.of=function(t,r,n){return new e(t,r,n)},e}(),gS=function(){function e(e,t,r){cE(e,"ref",[[hC,"PDFRef"]]),cE(t,"doc",[[gj,"PDFDocument"]]),cE(r,"embedder",[[h2,"JpegEmbedder"],[h8,"PngEmbedder"]]),this.ref=e,this.doc=t,this.width=r.width,this.height=r.height,this.embedder=r}return e.prototype.scale=function(e){return cE(e,"factor",["number"]),{width:this.width*e,height:this.height*e}},e.prototype.scaleToFit=function(e,t){cE(e,"width",["number"]),cE(t,"height",["number"]);var r=Math.min(e/this.width,t/this.height);return this.scale(r)},e.prototype.size=function(){return this.scale(1)},e.prototype.embed=function(){return l8(this,void 0,void 0,function(){var e,t,r;return l9(this,function(n){switch(n.label){case 0:if(!this.embedder)return[2];return this.embedTask||(e=this,t=e.doc,r=e.ref,this.embedTask=this.embedder.embedIntoContext(t.context,r)),[4,this.embedTask];case 1:return n.sent(),this.embedder=void 0,[2]}})})},e.of=function(t,r,n){return new e(t,r,n)},e}();e.i(82958),e.i(51721),e.i(79900),e.i(76336),e.i(49551),(V=ew||(ew={}))[V.Left=0]="Left",V[V.Center=1]="Center",V[V.Right=2]="Right",e.s(["ImageAlignment",()=>ew],25156),e.s([],86234);var gC=function(e){cI(null==e?void 0:e.x,"options.x",["number"]),cI(null==e?void 0:e.y,"options.y",["number"]),cI(null==e?void 0:e.width,"options.width",["number"]),cI(null==e?void 0:e.height,"options.height",["number"]),cI(null==e?void 0:e.textColor,"options.textColor",[[Object,"Color"]]),cI(null==e?void 0:e.backgroundColor,"options.backgroundColor",[[Object,"Color"]]),cI(null==e?void 0:e.borderColor,"options.borderColor",[[Object,"Color"]]),cI(null==e?void 0:e.borderWidth,"options.borderWidth",["number"]),cI(null==e?void 0:e.rotate,"options.rotate",[[Object,"Rotation"]])},gk=function(){function e(e,t,r){cE(e,"acroField",[[d_,"PDFAcroTerminal"]]),cE(t,"ref",[[hC,"PDFRef"]]),cE(r,"doc",[[gj,"PDFDocument"]]),this.acroField=e,this.ref=t,this.doc=r}return e.prototype.getName=function(){var e;return null!=(e=this.acroField.getFullyQualifiedName())?e:""},e.prototype.isReadOnly=function(){return this.acroField.hasFlag(eu.ReadOnly)},e.prototype.enableReadOnly=function(){this.acroField.setFlagTo(eu.ReadOnly,!0)},e.prototype.disableReadOnly=function(){this.acroField.setFlagTo(eu.ReadOnly,!1)},e.prototype.isRequired=function(){return this.acroField.hasFlag(eu.Required)},e.prototype.enableRequired=function(){this.acroField.setFlagTo(eu.Required,!0)},e.prototype.disableRequired=function(){this.acroField.setFlagTo(eu.Required,!1)},e.prototype.isExported=function(){return!this.acroField.hasFlag(eu.NoExport)},e.prototype.enableExporting=function(){this.acroField.setFlagTo(eu.NoExport,!1)},e.prototype.disableExporting=function(){this.acroField.setFlagTo(eu.NoExport,!0)},e.prototype.needsAppearancesUpdate=function(){throw new cz(this.constructor.name,"needsAppearancesUpdate")},e.prototype.defaultUpdateAppearances=function(e){throw new cz(this.constructor.name,"defaultUpdateAppearances")},e.prototype.markAsDirty=function(){this.doc.getForm().markFieldAsDirty(this.ref)},e.prototype.markAsClean=function(){this.doc.getForm().markFieldAsClean(this.ref)},e.prototype.isDirty=function(){return this.doc.getForm().fieldIsDirty(this.ref)},e.prototype.createWidget=function(e){var t,r=e.textColor,n=e.backgroundColor,i=e.borderColor,o=e.borderWidth,a=fp(e.rotate),s=e.caption,l=e.x,u=e.y,c=e.width+o,h=e.height+o,d=!!e.hidden,f=e.page;cN(a,"degreesAngle",90);var p=dk.create(this.doc.context,this.ref),g=fy({x:l,y:u,width:c,height:h},o,a);p.setRectangle(g),f&&p.setP(f);var m=p.getOrCreateAppearanceCharacteristics();n&&m.setBackgroundColor(pv(n)),m.setRotation(a),s&&m.setCaptions({normal:s}),i&&m.setBorderColor(pv(i));var y=p.getOrCreateBorderStyle();if(void 0!==o&&y.setWidth(o),p.setFlagTo(ef.Print,!0),p.setFlagTo(ef.Hidden,d),p.setFlagTo(ef.Invisible,!1),r){var v=(null!=(t=this.acroField.getDefaultAppearance())?t:"")+"\n"+pg(r).toString();this.acroField.setDefaultAppearance(v)}return p},e.prototype.updateWidgetAppearanceWithFont=function(e,t,r){var n=r.normal,i=r.rollover,o=r.down;this.updateWidgetAppearances(e,{normal:this.createAppearanceStream(e,n,t),rollover:i&&this.createAppearanceStream(e,i,t),down:o&&this.createAppearanceStream(e,o,t)})},e.prototype.updateOnOffWidgetAppearance=function(e,t,r){var n=r.normal,i=r.rollover,o=r.down;this.updateWidgetAppearances(e,{normal:this.createAppearanceDict(e,n,t),rollover:i&&this.createAppearanceDict(e,i,t),down:o&&this.createAppearanceDict(e,o,t)})},e.prototype.updateWidgetAppearances=function(e,t){var r=t.normal,n=t.rollover,i=t.down;e.setNormalAppearance(r),n?e.setRolloverAppearance(n):e.removeRolloverAppearance(),i?e.setDownAppearance(i):e.removeDownAppearance()},e.prototype.createAppearanceStream=function(e,t,r){var n,i=this.acroField.dict.context,o=e.getRectangle(),a=o.width,s=o.height,l=r&&{Font:((n={})[r.name]=r.ref,n)},u=i.formXObject(t,{Resources:l,BBox:i.obj([0,0,a,s]),Matrix:i.obj([1,0,0,1,0,0])});return i.register(u)},e.prototype.createImageAppearanceStream=function(e,t,r){var n,i,o=this.acroField.dict.context,a=e.getRectangle(),s=e.getAppearanceCharacteristics(),l=e.getBorderStyle(),u=null!=(i=null==l?void 0:l.getWidth())?i:0,c=fg(null==s?void 0:s.getRotation()),h=pW(l6(l6({},a),{rotation:c})),d=fm(a,c),f=t.scaleToFit(d.width-2*u,d.height-2*u),p={x:u,y:u,width:f.width,height:f.height,rotate:fl(0),xSkew:fl(0),ySkew:fl(0)};r===ew.Center?(p.x+=(d.width-2*u)/2-f.width/2,p.y+=(d.height-2*u)/2-f.height/2):r===ew.Right&&(p.x=d.width-u-f.width,p.y=d.height-u-f.height);var g=this.doc.context.addRandomSuffix("Image",10),m=l7(h,pR(g,p)),y={XObject:((n={})[g]=t.ref,n)},v=o.formXObject(m,{Resources:y,BBox:o.obj([0,0,a.width,a.height]),Matrix:o.obj([1,0,0,1,0,0])});return o.register(v)},e.prototype.createAppearanceDict=function(e,t,r){var n=this.acroField.dict.context,i=this.createAppearanceStream(e,t.on),o=this.createAppearanceStream(e,t.off),a=n.obj({});return a.set(r,i),a.set(hm.of("Off"),o),a},e}(),g_=function(e){function t(t,r,n){var i=e.call(this,t,r,n)||this;return cE(t,"acroCheckBox",[[dT,"PDFAcroCheckBox"]]),i.acroField=t,i}return l4(t,e),t.prototype.check=function(){var e,t=null!=(e=this.acroField.getOnValue())?e:hm.of("Yes");this.markAsDirty(),this.acroField.setValue(t)},t.prototype.uncheck=function(){this.markAsDirty(),this.acroField.setValue(hm.of("Off"))},t.prototype.isChecked=function(){var e=this.acroField.getOnValue();return!!e&&e===this.acroField.getValue()},t.prototype.addToPage=function(e,t){cE(e,"page",[[gV,"PDFPage"]]),gC(t),t||(t={}),"textColor"in t||(t.textColor=pc(0,0,0)),"backgroundColor"in t||(t.backgroundColor=pc(1,1,1)),"borderColor"in t||(t.borderColor=pc(0,0,0)),"borderWidth"in t||(t.borderWidth=1);var r,n,i,o,a,s,l=this.createWidget({x:null!=(r=t.x)?r:0,y:null!=(n=t.y)?n:0,width:null!=(i=t.width)?i:50,height:null!=(o=t.height)?o:50,textColor:t.textColor,backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:null!=(a=t.borderWidth)?a:0,rotate:null!=(s=t.rotate)?s:fl(0),hidden:t.hidden,page:e.ref}),u=this.doc.context.register(l.dict);this.acroField.addWidget(u),l.setAppearanceState(hm.of("Off")),this.updateWidgetAppearance(l,hm.of("Yes")),e.node.addAnnot(u)},t.prototype.needsAppearancesUpdate=function(){for(var e,t=this.acroField.getWidgets(),r=0,n=t.length;r<n;r++){var i=t[r],o=i.getAppearanceState(),a=null==(e=i.getAppearances())?void 0:e.normal;if(!(a instanceof hv)||o&&!a.has(o))return!0}return!1},t.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},t.prototype.updateAppearances=function(e){cI(e,"provider",[Function]);for(var t,r=this.acroField.getWidgets(),n=0,i=r.length;n<i;n++){var o=r[n],a=null!=(t=o.getOnValue())?t:hm.of("Yes");a&&this.updateWidgetAppearance(o,a,e)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,t,r){var n=gl((null!=r?r:gp)(this,e));this.updateOnOffWidgetAppearance(e,t,n)},t.of=function(e,r,n){return new t(e,r,n)},t}(gk),gA=function(e){function t(t,r,n){var i=e.call(this,t,r,n)||this;return cE(t,"acroComboBox",[[dD,"PDFAcroComboBox"]]),i.acroField=t,i}return l4(t,e),t.prototype.getOptions=function(){for(var e=this.acroField.getOptions(),t=Array(e.length),r=0,n=t.length;r<n;r++){var i=e[r],o=i.display,a=i.value;t[r]=(null!=o?o:a).decodeText()}return t},t.prototype.getSelected=function(){for(var e=this.acroField.getValues(),t=Array(e.length),r=0,n=e.length;r<n;r++)t[r]=e[r].decodeText();return t},t.prototype.setOptions=function(e){cE(e,"options",[Array]);for(var t=Array(e.length),r=0,n=e.length;r<n;r++)t[r]={value:hV.fromText(e[r])};this.acroField.setOptions(t)},t.prototype.addOptions=function(e){cE(e,"options",["string",Array]);for(var t=Array.isArray(e)?e:[e],r=this.acroField.getOptions(),n=Array(t.length),i=0,o=t.length;i<o;i++)n[i]={value:hV.fromText(t[i])};this.acroField.setOptions(r.concat(n))},t.prototype.select=function(e,t){void 0===t&&(t=!1),cE(e,"options",["string",Array]),cE(t,"merge",["boolean"]);var r=Array.isArray(e)?e:[e],n=this.getOptions();r.find(function(e){return!n.includes(e)})&&this.enableEditing(),this.markAsDirty(),(r.length>1||1===r.length&&t)&&this.enableMultiselect();for(var i=Array(r.length),o=0,a=r.length;o<a;o++)i[o]=hV.fromText(r[o]);if(t){var s=this.acroField.getValues();this.acroField.setValues(s.concat(i))}else this.acroField.setValues(i)},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},t.prototype.setFontSize=function(e){cO(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.isEditable=function(){return this.acroField.hasFlag(ed.Edit)},t.prototype.enableEditing=function(){this.acroField.setFlagTo(ed.Edit,!0)},t.prototype.disableEditing=function(){this.acroField.setFlagTo(ed.Edit,!1)},t.prototype.isSorted=function(){return this.acroField.hasFlag(ed.Sort)},t.prototype.enableSorting=function(){this.acroField.setFlagTo(ed.Sort,!0)},t.prototype.disableSorting=function(){this.acroField.setFlagTo(ed.Sort,!1)},t.prototype.isMultiselect=function(){return this.acroField.hasFlag(ed.MultiSelect)},t.prototype.enableMultiselect=function(){this.acroField.setFlagTo(ed.MultiSelect,!0)},t.prototype.disableMultiselect=function(){this.acroField.setFlagTo(ed.MultiSelect,!1)},t.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(ed.DoNotSpellCheck)},t.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(ed.DoNotSpellCheck,!1)},t.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(ed.DoNotSpellCheck,!0)},t.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(ed.CommitOnSelChange)},t.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(ed.CommitOnSelChange,!0)},t.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(ed.CommitOnSelChange,!1)},t.prototype.addToPage=function(e,t){cE(e,"page",[[gV,"PDFPage"]]),gC(t),t||(t={}),"textColor"in t||(t.textColor=pc(0,0,0)),"backgroundColor"in t||(t.backgroundColor=pc(1,1,1)),"borderColor"in t||(t.borderColor=pc(0,0,0)),"borderWidth"in t||(t.borderWidth=1);var r,n,i,o,a,s,l,u=this.createWidget({x:null!=(r=t.x)?r:0,y:null!=(n=t.y)?n:0,width:null!=(i=t.width)?i:200,height:null!=(o=t.height)?o:50,textColor:t.textColor,backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:null!=(a=t.borderWidth)?a:0,rotate:null!=(s=t.rotate)?s:fl(0),hidden:t.hidden,page:e.ref}),c=this.doc.context.register(u.dict);this.acroField.addWidget(c);var h=null!=(l=t.font)?l:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(u,h),e.node.addAnnot(c)},t.prototype.needsAppearancesUpdate=function(){if(this.isDirty())return!0;for(var e,t=this.acroField.getWidgets(),r=0,n=t.length;r<n;r++)if(!((null==(e=t[r].getAppearances())?void 0:e.normal)instanceof hb))return!0;return!1},t.prototype.defaultUpdateAppearances=function(e){cE(e,"font",[[gx,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,t){cE(e,"font",[[gx,"PDFFont"]]),cI(t,"provider",[Function]);for(var r=this.acroField.getWidgets(),n=0,i=r.length;n<i;n++){var o=r[n];this.updateWidgetAppearance(o,e,t)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,t,r){var n=gl((null!=r?r:gv)(this,e,t));this.updateWidgetAppearanceWithFont(e,t,n)},t.of=function(e,r,n){return new t(e,r,n)},t}(gk),gT=function(e){function t(t,r,n){var i=e.call(this,t,r,n)||this;return cE(t,"acroListBox",[[dB,"PDFAcroListBox"]]),i.acroField=t,i}return l4(t,e),t.prototype.getOptions=function(){for(var e=this.acroField.getOptions(),t=Array(e.length),r=0,n=t.length;r<n;r++){var i=e[r],o=i.display,a=i.value;t[r]=(null!=o?o:a).decodeText()}return t},t.prototype.getSelected=function(){for(var e=this.acroField.getValues(),t=Array(e.length),r=0,n=e.length;r<n;r++)t[r]=e[r].decodeText();return t},t.prototype.setOptions=function(e){cE(e,"options",[Array]),this.markAsDirty();for(var t=Array(e.length),r=0,n=e.length;r<n;r++)t[r]={value:hV.fromText(e[r])};this.acroField.setOptions(t)},t.prototype.addOptions=function(e){cE(e,"options",["string",Array]),this.markAsDirty();for(var t=Array.isArray(e)?e:[e],r=this.acroField.getOptions(),n=Array(t.length),i=0,o=t.length;i<o;i++)n[i]={value:hV.fromText(t[i])};this.acroField.setOptions(r.concat(n))},t.prototype.select=function(e,t){void 0===t&&(t=!1),cE(e,"options",["string",Array]),cE(t,"merge",["boolean"]);var r=Array.isArray(e)?e:[e];cA(r,"option",this.getOptions()),this.markAsDirty(),(r.length>1||1===r.length&&t)&&this.enableMultiselect();for(var n=Array(r.length),i=0,o=r.length;i<o;i++)n[i]=hV.fromText(r[i]);if(t){var a=this.acroField.getValues();this.acroField.setValues(a.concat(n))}else this.acroField.setValues(n)},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},t.prototype.setFontSize=function(e){cO(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.isSorted=function(){return this.acroField.hasFlag(ed.Sort)},t.prototype.enableSorting=function(){this.acroField.setFlagTo(ed.Sort,!0)},t.prototype.disableSorting=function(){this.acroField.setFlagTo(ed.Sort,!1)},t.prototype.isMultiselect=function(){return this.acroField.hasFlag(ed.MultiSelect)},t.prototype.enableMultiselect=function(){this.acroField.setFlagTo(ed.MultiSelect,!0)},t.prototype.disableMultiselect=function(){this.acroField.setFlagTo(ed.MultiSelect,!1)},t.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(ed.CommitOnSelChange)},t.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(ed.CommitOnSelChange,!0)},t.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(ed.CommitOnSelChange,!1)},t.prototype.addToPage=function(e,t){cE(e,"page",[[gV,"PDFPage"]]),gC(t),t||(t={}),"textColor"in t||(t.textColor=pc(0,0,0)),"backgroundColor"in t||(t.backgroundColor=pc(1,1,1)),"borderColor"in t||(t.borderColor=pc(0,0,0)),"borderWidth"in t||(t.borderWidth=1);var r,n,i,o,a,s,l,u=this.createWidget({x:null!=(r=t.x)?r:0,y:null!=(n=t.y)?n:0,width:null!=(i=t.width)?i:200,height:null!=(o=t.height)?o:100,textColor:t.textColor,backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:null!=(a=t.borderWidth)?a:0,rotate:null!=(s=t.rotate)?s:fl(0),hidden:t.hidden,page:e.ref}),c=this.doc.context.register(u.dict);this.acroField.addWidget(c);var h=null!=(l=t.font)?l:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(u,h),e.node.addAnnot(c)},t.prototype.needsAppearancesUpdate=function(){if(this.isDirty())return!0;for(var e,t=this.acroField.getWidgets(),r=0,n=t.length;r<n;r++)if(!((null==(e=t[r].getAppearances())?void 0:e.normal)instanceof hb))return!0;return!1},t.prototype.defaultUpdateAppearances=function(e){cE(e,"font",[[gx,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,t){cE(e,"font",[[gx,"PDFFont"]]),cI(t,"provider",[Function]);for(var r=this.acroField.getWidgets(),n=0,i=r.length;n<i;n++){var o=r[n];this.updateWidgetAppearance(o,e,t)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,t,r){var n=gl((null!=r?r:gb)(this,e,t));this.updateWidgetAppearanceWithFont(e,t,n)},t.of=function(e,r,n){return new t(e,r,n)},t}(gk),gE=function(e){function t(t,r,n){var i=e.call(this,t,r,n)||this;return cE(t,"acroRadioButton",[[dO,"PDFAcroRadioButton"]]),i.acroField=t,i}return l4(t,e),t.prototype.getOptions=function(){var e=this.acroField.getExportValues();if(e){for(var t=Array(e.length),r=0,n=e.length;r<n;r++)t[r]=e[r].decodeText();return t}for(var i=this.acroField.getOnValues(),o=Array(i.length),r=0,n=o.length;r<n;r++)o[r]=i[r].decodeText();return o},t.prototype.getSelected=function(){var e=this.acroField.getValue();if(e!==hm.of("Off")){var t=this.acroField.getExportValues();if(t){for(var r=this.acroField.getOnValues(),n=0,i=r.length;n<i;n++)if(r[n]===e)return t[n].decodeText()}return e.decodeText()}},t.prototype.select=function(e){cE(e,"option",["string"]),ck(e,"option",this.getOptions()),this.markAsDirty();var t=this.acroField.getOnValues(),r=this.acroField.getExportValues();if(r)for(var n=0,i=r.length;n<i;n++)r[n].decodeText()===e&&this.acroField.setValue(t[n]);else for(var n=0,i=t.length;n<i;n++){var o=t[n];o.decodeText()===e&&this.acroField.setValue(o)}},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValue(hm.of("Off"))},t.prototype.isOffToggleable=function(){return!this.acroField.hasFlag(ec.NoToggleToOff)},t.prototype.enableOffToggling=function(){this.acroField.setFlagTo(ec.NoToggleToOff,!1)},t.prototype.disableOffToggling=function(){this.acroField.setFlagTo(ec.NoToggleToOff,!0)},t.prototype.isMutuallyExclusive=function(){return!this.acroField.hasFlag(ec.RadiosInUnison)},t.prototype.enableMutualExclusion=function(){this.acroField.setFlagTo(ec.RadiosInUnison,!1)},t.prototype.disableMutualExclusion=function(){this.acroField.setFlagTo(ec.RadiosInUnison,!0)},t.prototype.addOptionToPage=function(e,t,r){cE(e,"option",["string"]),cE(t,"page",[[gV,"PDFPage"]]),gC(r);var n,i,o,a,s,l,u,c,h,d=this.createWidget({x:null!=(n=null==r?void 0:r.x)?n:0,y:null!=(i=null==r?void 0:r.y)?i:0,width:null!=(o=null==r?void 0:r.width)?o:50,height:null!=(a=null==r?void 0:r.height)?a:50,textColor:null!=(s=null==r?void 0:r.textColor)?s:pc(0,0,0),backgroundColor:null!=(l=null==r?void 0:r.backgroundColor)?l:pc(1,1,1),borderColor:null!=(u=null==r?void 0:r.borderColor)?u:pc(0,0,0),borderWidth:null!=(c=null==r?void 0:r.borderWidth)?c:1,rotate:null!=(h=null==r?void 0:r.rotate)?h:fl(0),hidden:null==r?void 0:r.hidden,page:t.ref}),f=this.doc.context.register(d.dict),p=this.acroField.addWidgetWithOpt(f,hV.fromText(e),!this.isMutuallyExclusive());d.setAppearanceState(hm.of("Off")),this.updateWidgetAppearance(d,p),t.node.addAnnot(f)},t.prototype.needsAppearancesUpdate=function(){for(var e,t=this.acroField.getWidgets(),r=0,n=t.length;r<n;r++){var i=t[r],o=i.getAppearanceState(),a=null==(e=i.getAppearances())?void 0:e.normal;if(!(a instanceof hv)||o&&!a.has(o))return!0}return!1},t.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},t.prototype.updateAppearances=function(e){cI(e,"provider",[Function]);for(var t=this.acroField.getWidgets(),r=0,n=t.length;r<n;r++){var i=t[r],o=i.getOnValue();o&&this.updateWidgetAppearance(i,o,e)}},t.prototype.updateWidgetAppearance=function(e,t,r){var n=gl((null!=r?r:gg)(this,e));this.updateOnOffWidgetAppearance(e,t,n)},t.of=function(e,r,n){return new t(e,r,n)},t}(gk),gI=function(e){function t(t,r,n){var i=e.call(this,t,r,n)||this;return cE(t,"acroSignature",[[dP,"PDFAcroSignature"]]),i.acroField=t,i}return l4(t,e),t.prototype.needsAppearancesUpdate=function(){return!1},t.of=function(e,r,n){return new t(e,r,n)},t}(gk),gD=function(e){function t(t,r,n){var i=e.call(this,t,r,n)||this;return cE(t,"acroText",[[dN,"PDFAcroText"]]),i.acroField=t,i}return l4(t,e),t.prototype.getText=function(){var e=this.acroField.getValue();if(!e&&this.isRichFormatted())throw new p8(this.getName());return null==e?void 0:e.decodeText()},t.prototype.setText=function(e){cI(e,"text",["string"]);var t=this.getMaxLength();if(void 0!==t&&e&&e.length>t)throw new p7(e.length,t,this.getName());this.markAsDirty(),this.disableRichFormatting(),e?this.acroField.setValue(hV.fromText(e)):this.acroField.removeValue()},t.prototype.getAlignment=function(){var e=this.acroField.getQuadding();return 0===e?eb.Left:1===e?eb.Center:2===e?eb.Right:eb.Left},t.prototype.setAlignment=function(e){ck(e,"alignment",eb),this.markAsDirty(),this.acroField.setQuadding(e)},t.prototype.getMaxLength=function(){return this.acroField.getMaxLength()},t.prototype.setMaxLength=function(e){if(cP(e,"maxLength",0,Number.MAX_SAFE_INTEGER),this.markAsDirty(),void 0===e)this.acroField.removeMaxLength();else{var t=this.getText();if(t&&t.length>e)throw new ge(t.length,e,this.getName());this.acroField.setMaxLength(e)}},t.prototype.removeMaxLength=function(){this.markAsDirty(),this.acroField.removeMaxLength()},t.prototype.setImage=function(e){for(var t=this.getAlignment(),r=t===eb.Center?ew.Center:t===eb.Right?ew.Right:ew.Left,n=this.acroField.getWidgets(),i=0,o=n.length;i<o;i++){var a=n[i],s=this.createImageAppearanceStream(a,e,r);this.updateWidgetAppearances(a,{normal:s})}this.markAsClean()},t.prototype.setFontSize=function(e){cO(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.isMultiline=function(){return this.acroField.hasFlag(eh.Multiline)},t.prototype.enableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(eh.Multiline,!0)},t.prototype.disableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(eh.Multiline,!1)},t.prototype.isPassword=function(){return this.acroField.hasFlag(eh.Password)},t.prototype.enablePassword=function(){this.acroField.setFlagTo(eh.Password,!0)},t.prototype.disablePassword=function(){this.acroField.setFlagTo(eh.Password,!1)},t.prototype.isFileSelector=function(){return this.acroField.hasFlag(eh.FileSelect)},t.prototype.enableFileSelection=function(){this.acroField.setFlagTo(eh.FileSelect,!0)},t.prototype.disableFileSelection=function(){this.acroField.setFlagTo(eh.FileSelect,!1)},t.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(eh.DoNotSpellCheck)},t.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(eh.DoNotSpellCheck,!1)},t.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(eh.DoNotSpellCheck,!0)},t.prototype.isScrollable=function(){return!this.acroField.hasFlag(eh.DoNotScroll)},t.prototype.enableScrolling=function(){this.acroField.setFlagTo(eh.DoNotScroll,!1)},t.prototype.disableScrolling=function(){this.acroField.setFlagTo(eh.DoNotScroll,!0)},t.prototype.isCombed=function(){return this.acroField.hasFlag(eh.Comb)&&!this.isMultiline()&&!this.isPassword()&&!this.isFileSelector()&&void 0!==this.getMaxLength()},t.prototype.enableCombing=function(){void 0===this.getMaxLength()&&console.warn("PDFTextFields must have a max length in order to be combed"),this.markAsDirty(),this.disableMultiline(),this.disablePassword(),this.disableFileSelection(),this.acroField.setFlagTo(eh.Comb,!0)},t.prototype.disableCombing=function(){this.markAsDirty(),this.acroField.setFlagTo(eh.Comb,!1)},t.prototype.isRichFormatted=function(){return this.acroField.hasFlag(eh.RichText)},t.prototype.enableRichFormatting=function(){this.acroField.setFlagTo(eh.RichText,!0)},t.prototype.disableRichFormatting=function(){this.acroField.setFlagTo(eh.RichText,!1)},t.prototype.addToPage=function(e,t){cE(e,"page",[[gV,"PDFPage"]]),gC(t),t||(t={}),"textColor"in t||(t.textColor=pc(0,0,0)),"backgroundColor"in t||(t.backgroundColor=pc(1,1,1)),"borderColor"in t||(t.borderColor=pc(0,0,0)),"borderWidth"in t||(t.borderWidth=1);var r,n,i,o,a,s,l,u=this.createWidget({x:null!=(r=t.x)?r:0,y:null!=(n=t.y)?n:0,width:null!=(i=t.width)?i:200,height:null!=(o=t.height)?o:50,textColor:t.textColor,backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:null!=(a=t.borderWidth)?a:0,rotate:null!=(s=t.rotate)?s:fl(0),hidden:t.hidden,page:e.ref}),c=this.doc.context.register(u.dict);this.acroField.addWidget(c);var h=null!=(l=t.font)?l:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(u,h),e.node.addAnnot(c)},t.prototype.needsAppearancesUpdate=function(){if(this.isDirty())return!0;for(var e,t=this.acroField.getWidgets(),r=0,n=t.length;r<n;r++)if(!((null==(e=t[r].getAppearances())?void 0:e.normal)instanceof hb))return!0;return!1},t.prototype.defaultUpdateAppearances=function(e){cE(e,"font",[[gx,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,t){cE(e,"font",[[gx,"PDFFont"]]),cI(t,"provider",[Function]);for(var r=this.acroField.getWidgets(),n=0,i=r.length;n<i;n++){var o=r[n];this.updateWidgetAppearance(o,e,t)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,t,r){var n=gl((null!=r?r:gy)(this,e,t));this.updateWidgetAppearanceWithFont(e,t,n)},t.of=function(e,r,n){return new t(e,r,n)},t}(gk);(U=ex||(ex={})).Courier="Courier",U.CourierBold="Courier-Bold",U.CourierOblique="Courier-Oblique",U.CourierBoldOblique="Courier-BoldOblique",U.Helvetica="Helvetica",U.HelveticaBold="Helvetica-Bold",U.HelveticaOblique="Helvetica-Oblique",U.HelveticaBoldOblique="Helvetica-BoldOblique",U.TimesRoman="Times-Roman",U.TimesRomanBold="Times-Bold",U.TimesRomanItalic="Times-Italic",U.TimesRomanBoldItalic="Times-BoldItalic",U.Symbol="Symbol",U.ZapfDingbats="ZapfDingbats",e.s(["StandardFonts",()=>ex],76071);var gF=function(){function e(e,t){var r=this;this.embedDefaultFont=function(){return r.doc.embedStandardFont(ex.Helvetica)},cE(e,"acroForm",[[dK,"PDFAcroForm"]]),cE(t,"doc",[[gj,"PDFDocument"]]),this.acroForm=e,this.doc=t,this.dirtyFields=new Set,this.defaultFontCache=cj.populatedBy(this.embedDefaultFont)}return e.prototype.hasXFA=function(){return this.acroForm.dict.has(hm.of("XFA"))},e.prototype.deleteXFA=function(){this.acroForm.dict.delete(hm.of("XFA"))},e.prototype.getFields=function(){for(var e=this.acroForm.getAllFields(),t=[],r=0,n=e.length;r<n;r++){var i=e[r],o=gP(i[0],i[1],this.doc);o&&t.push(o)}return t},e.prototype.getFieldMaybe=function(e){cE(e,"name",["string"]);for(var t=this.getFields(),r=0,n=t.length;r<n;r++){var i=t[r];if(i.getName()===e)return i}},e.prototype.getField=function(e){cE(e,"name",["string"]);var t=this.getFieldMaybe(e);if(t)return t;throw new p1(e)},e.prototype.getButton=function(e){cE(e,"name",["string"]);var t=this.getField(e);if(t instanceof gU)return t;throw new p2(e,gU,t)},e.prototype.getCheckBox=function(e){cE(e,"name",["string"]);var t=this.getField(e);if(t instanceof g_)return t;throw new p2(e,g_,t)},e.prototype.getDropdown=function(e){cE(e,"name",["string"]);var t=this.getField(e);if(t instanceof gA)return t;throw new p2(e,gA,t)},e.prototype.getOptionList=function(e){cE(e,"name",["string"]);var t=this.getField(e);if(t instanceof gT)return t;throw new p2(e,gT,t)},e.prototype.getRadioGroup=function(e){cE(e,"name",["string"]);var t=this.getField(e);if(t instanceof gE)return t;throw new p2(e,gE,t)},e.prototype.getSignature=function(e){cE(e,"name",["string"]);var t=this.getField(e);if(t instanceof gI)return t;throw new p2(e,gI,t)},e.prototype.getTextField=function(e){cE(e,"name",["string"]);var t=this.getField(e);if(t instanceof gD)return t;throw new p2(e,gD,t)},e.prototype.createButton=function(e){cE(e,"name",["string"]);var t=gN(e),r=this.findOrCreateNonTerminals(t.nonTerminal),n=dR.create(this.doc.context);return n.setPartialName(t.terminal),gR(r,[n,n.ref],t.terminal),gU.of(n,n.ref,this.doc)},e.prototype.createCheckBox=function(e){cE(e,"name",["string"]);var t=gN(e),r=this.findOrCreateNonTerminals(t.nonTerminal),n=dT.create(this.doc.context);return n.setPartialName(t.terminal),gR(r,[n,n.ref],t.terminal),g_.of(n,n.ref,this.doc)},e.prototype.createDropdown=function(e){cE(e,"name",["string"]);var t=gN(e),r=this.findOrCreateNonTerminals(t.nonTerminal),n=dD.create(this.doc.context);return n.setPartialName(t.terminal),gR(r,[n,n.ref],t.terminal),gA.of(n,n.ref,this.doc)},e.prototype.createOptionList=function(e){cE(e,"name",["string"]);var t=gN(e),r=this.findOrCreateNonTerminals(t.nonTerminal),n=dB.create(this.doc.context);return n.setPartialName(t.terminal),gR(r,[n,n.ref],t.terminal),gT.of(n,n.ref,this.doc)},e.prototype.createRadioGroup=function(e){cE(e,"name",["string"]);var t=gN(e),r=this.findOrCreateNonTerminals(t.nonTerminal),n=dO.create(this.doc.context);return n.setPartialName(t.terminal),gR(r,[n,n.ref],t.terminal),gE.of(n,n.ref,this.doc)},e.prototype.createTextField=function(e){cE(e,"name",["string"]);var t=gN(e),r=this.findOrCreateNonTerminals(t.nonTerminal),n=dN.create(this.doc.context);return n.setPartialName(t.terminal),gR(r,[n,n.ref],t.terminal),gD.of(n,n.ref,this.doc)},e.prototype.flatten=function(e){void 0===e&&(e={updateFieldAppearances:!0}),e.updateFieldAppearances&&this.updateFieldAppearances();for(var t=this.getFields(),r=0,n=t.length;r<n;r++){for(var i=t[r],o=i.acroField.getWidgets(),a=0,s=o.length;a<s;a++){var l=o[a],u=this.findWidgetPage(l),c=this.findWidgetAppearanceRef(i,l),h=u.node.newXObject("FlatWidget",c),d=l.getRectangle(),f=l7([fO(),fk(d.x,d.y)],pW(l6(l6({},d),{rotation:0})),[pe(h),fB()]).filter(Boolean);u.pushOperators.apply(u,f)}this.removeField(i)}},e.prototype.removeField=function(e){for(var t=e.acroField.getWidgets(),r=new Set,n=0,i=t.length;n<i;n++){var o=t[n],a=this.findWidgetAppearanceRef(e,o),s=this.findWidgetPage(o);r.add(s),s.node.removeAnnot(a)}r.forEach(function(t){return t.node.removeAnnot(e.ref)}),this.acroForm.removeField(e.acroField);for(var l=e.acroField.normalizedEntries().Kids,u=l.size(),c=0;c<u;c++){var h=l.get(c);h instanceof hC&&this.doc.context.delete(h)}this.doc.context.delete(e.ref)},e.prototype.updateFieldAppearances=function(e){cI(e,"font",[[gx,"PDFFont"]]),e=null!=e?e:this.getDefaultFont();for(var t=this.getFields(),r=0,n=t.length;r<n;r++){var i=t[r];i.needsAppearancesUpdate()&&i.defaultUpdateAppearances(e)}},e.prototype.markFieldAsDirty=function(e){cI(e,"fieldRef",[[hC,"PDFRef"]]),this.dirtyFields.add(e)},e.prototype.markFieldAsClean=function(e){cI(e,"fieldRef",[[hC,"PDFRef"]]),this.dirtyFields.delete(e)},e.prototype.fieldIsDirty=function(e){return cI(e,"fieldRef",[[hC,"PDFRef"]]),this.dirtyFields.has(e)},e.prototype.getDefaultFont=function(){return this.defaultFontCache.access()},e.prototype.findWidgetPage=function(e){var t=e.P(),r=this.doc.getPages().find(function(e){return e.ref===t});if(void 0===r){var n=this.doc.context.getObjectRef(e.dict);if(void 0===n)throw Error("Could not find PDFRef for PDFObject");if(void 0===(r=this.doc.findPageForAnnotationRef(n)))throw Error("Could not find page for PDFRef "+n)}return r},e.prototype.findWidgetAppearanceRef=function(e,t){var r,n=t.getNormalAppearance();if(n instanceof hv&&(e instanceof g_||e instanceof gE)){var i=e.acroField.getValue(),o=null!=(r=n.get(i))?r:n.get(hm.of("Off"));o instanceof hC&&(n=o)}if(!(n instanceof hC))throw Error("Failed to extract appearance ref for: "+e.getName());return n},e.prototype.findOrCreateNonTerminals=function(e){for(var t=[this.acroForm],r=0,n=e.length;r<n;r++){var i=e[r];if(!i)throw new p4(i);var o=t[0],a=t[1],s=this.findNonTerminal(i,o);if(s)t=s;else{var l=dF.create(this.doc.context);l.setPartialName(i),l.setParent(a);var u=this.doc.context.register(l.dict);o.addField(u),t=[l,u]}}return t},e.prototype.findNonTerminal=function(e,t){for(var r=t instanceof dK?this.acroForm.getFields():dM(t.Kids()),n=0,i=r.length;n<i;n++){var o=r[n],a=o[0],s=o[1];if(a.getPartialName()===e){if(a instanceof dF)return[a,s];throw new p3(e)}}},e.of=function(t,r){return new e(t,r)},e}(),gP=function(e,t,r){return e instanceof dR?gU.of(e,t,r):e instanceof dT?g_.of(e,t,r):e instanceof dD?gA.of(e,t,r):e instanceof dB?gT.of(e,t,r):e instanceof dN?gD.of(e,t,r):e instanceof dO?gE.of(e,t,r):e instanceof dP?gI.of(e,t,r):void 0},gN=function(e){if(0===e.length)throw Error("PDF field names must not be empty strings");for(var t=e.split("."),r=0,n=t.length;r<n;r++)if(""===t[r])throw Error('Periods in PDF field names must be separated by at least one character: "'+e+'"');return 1===t.length?{nonTerminal:[],terminal:t[0]}:{nonTerminal:t.slice(0,t.length-1),terminal:t[t.length-1]}},gR=function(e,t,r){for(var n=e[0],i=e[1],o=t[0],a=t[1],s=n.normalizedEntries(),l=dM("Kids"in s?s.Kids:s.Fields),u=0,c=l.length;u<c;u++)if(l[u][0].getPartialName()===r)throw new p3(r);n.addField(a),o.setParent(i)},gO={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],Executive:[521.86,756],Folio:[612,936],Legal:[612,1008],Letter:[612,792],Tabloid:[792,1224]};e.s(["PageSizes",()=>gO],78020),($=eS||(eS={}))[$.Fastest=1/0]="Fastest",$[$.Fast=1500]="Fast",$[$.Medium=500]="Medium",$[$.Slow=100]="Slow",e.s(["ParseSpeeds",()=>eS],2375);var gB=function(){function e(e,t,r){this.alreadyEmbedded=!1,this.ref=e,this.doc=t,this.embedder=r}return e.prototype.embed=function(){return l8(this,void 0,void 0,function(){var e,t,r,n;return l9(this,function(i){switch(i.label){case 0:if(this.alreadyEmbedded)return[3,2];return[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e=i.sent(),this.doc.catalog.has(hm.of("Names"))||this.doc.catalog.set(hm.of("Names"),this.doc.context.obj({})),(t=this.doc.catalog.lookup(hm.of("Names"),hv)).has(hm.of("EmbeddedFiles"))||t.set(hm.of("EmbeddedFiles"),this.doc.context.obj({})),(r=t.lookup(hm.of("EmbeddedFiles"),hv)).has(hm.of("Names"))||r.set(hm.of("Names"),this.doc.context.obj([])),(n=r.lookup(hm.of("Names"),hs)).push(hV.fromText(this.embedder.fileName)),n.push(e),this.doc.catalog.has(hm.of("AF"))||this.doc.catalog.set(hm.of("AF"),this.doc.context.obj([])),this.doc.catalog.lookup(hm.of("AF"),hs).push(e),this.alreadyEmbedded=!0,i.label=2;case 2:return[2]}})})},e.of=function(t,r,n){return new e(t,r,n)},e}(),gM=function(){function e(e,t,r){this.alreadyEmbedded=!1,this.ref=e,this.doc=t,this.embedder=r}return e.prototype.embed=function(){return l8(this,void 0,void 0,function(){var e,t,r,n,i,o,a;return l9(this,function(s){switch(s.label){case 0:if(this.alreadyEmbedded)return[3,2];return t=(e=this.doc).catalog,r=e.context,[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:n=s.sent(),t.has(hm.of("Names"))||t.set(hm.of("Names"),r.obj({})),(i=t.lookup(hm.of("Names"),hv)).has(hm.of("JavaScript"))||i.set(hm.of("JavaScript"),r.obj({})),(o=i.lookup(hm.of("JavaScript"),hv)).has(hm.of("Names"))||o.set(hm.of("Names"),r.obj([])),(a=o.lookup(hm.of("Names"),hs)).push(hV.fromText(this.embedder.scriptName)),a.push(n),this.alreadyEmbedded=!0,s.label=2;case 2:return[2]}})})},e.of=function(t,r,n){return new e(t,r,n)},e}(),gL=function(){function e(e,t){this.script=e,this.scriptName=t}return e.for=function(t,r){return new e(t,r)},e.prototype.embedIntoContext=function(e,t){return l8(this,void 0,void 0,function(){var r;return l9(this,function(n){return(r=e.obj({Type:"Action",S:"JavaScript",JS:hV.fromText(this.script)}),t)?(e.assign(t,r),[2,t]):[2,e.register(r)]})})},e}();let gj=function(){function e(e,t,r){var n=this;if(this.defaultWordBreaks=[" "],this.computePages=function(){var e=[];return n.catalog.Pages().traverse(function(t,r){if(t instanceof hF){var i=n.pageMap.get(t);i||(i=gV.of(t,r,n),n.pageMap.set(t,i)),e.push(i)}}),e},this.getOrCreateForm=function(){var e=n.catalog.getOrCreateAcroForm();return gF.of(e,n)},cE(e,"context",[[hD,"PDFContext"]]),cE(t,"ignoreEncryption",["boolean"]),this.context=e,this.catalog=e.lookup(e.trailerInfo.Root),this.isEncrypted=!!e.lookup(e.trailerInfo.Encrypt),this.pageCache=cj.populatedBy(this.computePages),this.pageMap=new Map,this.formCache=cj.populatedBy(this.getOrCreateForm),this.fonts=[],this.images=[],this.embeddedPages=[],this.embeddedFiles=[],this.javaScripts=[],!t&&this.isEncrypted)throw new pJ;r&&this.updateInfoDict()}return e.load=function(t,r){return void 0===r&&(r={}),l8(this,void 0,void 0,function(){var n,i,o,a,s,l,u,c,h,d,f;return l9(this,function(p){switch(p.label){case 0:return i=void 0!==(n=r.ignoreEncryption)&&n,a=void 0===(o=r.parseSpeed)?eS.Slow:o,l=void 0!==(s=r.throwOnInvalidObject)&&s,c=void 0===(u=r.updateMetadata)||u,d=void 0!==(h=r.capNumbers)&&h,cE(t,"pdf",["string",Uint8Array,ArrayBuffer]),cE(i,"ignoreEncryption",["boolean"]),cE(a,"parseSpeed",["number"]),cE(l,"throwOnInvalidObject",["boolean"]),f=uB(t),[4,fr.forBytesWithOptions(f,a,l,d).parseDocument()];case 1:return[2,new e(p.sent(),i,c)]}})})},e.create=function(t){return void 0===t&&(t={}),l8(this,void 0,void 0,function(){var r,n,i,o,a,s;return l9(this,function(l){return n=void 0===(r=t.updateMetadata)||r,i=hD.create(),o=dG.withContext(i),a=i.register(o),s=dH.withContextAndPages(i,a),i.trailerInfo.Root=i.register(s),[2,new e(i,!1,n)]})})},e.prototype.registerFontkit=function(e){this.fontkit=e},e.prototype.getForm=function(){var e=this.formCache.access();return e.hasXFA()&&(console.warn("Removing XFA form data as pdf-lib does not support reading or writing XFA"),e.deleteXFA()),e},e.prototype.getTitle=function(){var e=this.getInfoDict().lookup(hm.Title);if(e)return gz(e),e.decodeText()},e.prototype.getAuthor=function(){var e=this.getInfoDict().lookup(hm.Author);if(e)return gz(e),e.decodeText()},e.prototype.getSubject=function(){var e=this.getInfoDict().lookup(hm.Subject);if(e)return gz(e),e.decodeText()},e.prototype.getKeywords=function(){var e=this.getInfoDict().lookup(hm.Keywords);if(e)return gz(e),e.decodeText()},e.prototype.getCreator=function(){var e=this.getInfoDict().lookup(hm.Creator);if(e)return gz(e),e.decodeText()},e.prototype.getProducer=function(){var e=this.getInfoDict().lookup(hm.Producer);if(e)return gz(e),e.decodeText()},e.prototype.getCreationDate=function(){var e=this.getInfoDict().lookup(hm.CreationDate);if(e)return gz(e),e.decodeDate()},e.prototype.getModificationDate=function(){var e=this.getInfoDict().lookup(hm.ModDate);if(e)return gz(e),e.decodeDate()},e.prototype.setTitle=function(e,t){cE(e,"title",["string"]);var r=hm.of("Title");this.getInfoDict().set(r,hV.fromText(e)),(null==t?void 0:t.showInWindowTitleBar)&&this.catalog.getOrCreateViewerPreferences().setDisplayDocTitle(!0)},e.prototype.setAuthor=function(e){cE(e,"author",["string"]);var t=hm.of("Author");this.getInfoDict().set(t,hV.fromText(e))},e.prototype.setSubject=function(e){cE(e,"author",["string"]);var t=hm.of("Subject");this.getInfoDict().set(t,hV.fromText(e))},e.prototype.setKeywords=function(e){cE(e,"keywords",[Array]);var t=hm.of("Keywords");this.getInfoDict().set(t,hV.fromText(e.join(" ")))},e.prototype.setCreator=function(e){cE(e,"creator",["string"]);var t=hm.of("Creator");this.getInfoDict().set(t,hV.fromText(e))},e.prototype.setProducer=function(e){cE(e,"creator",["string"]);var t=hm.of("Producer");this.getInfoDict().set(t,hV.fromText(e))},e.prototype.setLanguage=function(e){cE(e,"language",["string"]);var t=hm.of("Lang");this.catalog.set(t,hX.of(e))},e.prototype.setCreationDate=function(e){cE(e,"creationDate",[[Date,"Date"]]);var t=hm.of("CreationDate");this.getInfoDict().set(t,hX.fromDate(e))},e.prototype.setModificationDate=function(e){cE(e,"modificationDate",[[Date,"Date"]]);var t=hm.of("ModDate");this.getInfoDict().set(t,hX.fromDate(e))},e.prototype.getPageCount=function(){return void 0===this.pageCount&&(this.pageCount=this.getPages().length),this.pageCount},e.prototype.getPages=function(){return this.pageCache.access()},e.prototype.getPage=function(e){var t=this.getPages();return cF(e,"index",0,t.length-1),t[e]},e.prototype.getPageIndices=function(){return uR(0,this.getPageCount())},e.prototype.removePage=function(e){var t=this.getPageCount();if(0===this.pageCount)throw new p0;cF(e,"index",0,t-1),this.catalog.removeLeafNode(e),this.pageCount=t-1},e.prototype.addPage=function(e){return cE(e,"page",["undefined",[gV,"PDFPage"],Array]),this.insertPage(this.getPageCount(),e)},e.prototype.insertPage=function(e,t){var r=this.getPageCount();if(cF(e,"index",0,r),cE(t,"page",["undefined",[gV,"PDFPage"],Array]),!t||Array.isArray(t)){var n=Array.isArray(t)?t:gO.A4;(t=gV.create(this)).setSize.apply(t,n)}else if(t.doc!==this)throw new pZ;var i=this.catalog.insertLeafNode(t.ref,e);return t.node.setParent(i),this.pageMap.set(t.node,t),this.pageCache.invalidate(),this.pageCount=r+1,t},e.prototype.copyPages=function(t,r){return l8(this,void 0,void 0,function(){var n,i,o,a,s,l,u,c;return l9(this,function(h){switch(h.label){case 0:return cE(t,"srcDoc",[[e,"PDFDocument"]]),cE(r,"indices",[Array]),[4,t.flush()];case 1:for(h.sent(),n=hP.for(t.context,this.context),i=t.getPages(),o=Array(r.length),a=0,s=r.length;a<s;a++)l=i[r[a]],u=n.copy(l.node),c=this.context.register(u),o[a]=gV.of(u,c,this);return[2,o]}})})},e.prototype.copy=function(){return l8(this,void 0,void 0,function(){var t,r,n,i;return l9(this,function(o){switch(o.label){case 0:return[4,e.create()];case 1:return[4,(t=o.sent()).copyPages(this,this.getPageIndices())];case 2:for(n=0,i=(r=o.sent()).length;n<i;n++)t.addPage(r[n]);return void 0!==this.getAuthor()&&t.setAuthor(this.getAuthor()),void 0!==this.getCreationDate()&&t.setCreationDate(this.getCreationDate()),void 0!==this.getCreator()&&t.setCreator(this.getCreator()),void 0!==this.getModificationDate()&&t.setModificationDate(this.getModificationDate()),void 0!==this.getProducer()&&t.setProducer(this.getProducer()),void 0!==this.getSubject()&&t.setSubject(this.getSubject()),void 0!==this.getTitle()&&t.setTitle(this.getTitle()),t.defaultWordBreaks=this.defaultWordBreaks,[2,t]}})})},e.prototype.addJavaScript=function(e,t){cE(e,"name",["string"]),cE(t,"script",["string"]);var r=gL.for(t,e),n=this.context.nextRef(),i=gM.of(n,this,r);this.javaScripts.push(i)},e.prototype.attach=function(e,t,r){return void 0===r&&(r={}),l8(this,void 0,void 0,function(){var n,i,o,a;return l9(this,function(s){return cE(e,"attachment",["string",Uint8Array,ArrayBuffer]),cE(t,"name",["string"]),cI(r.mimeType,"mimeType",["string"]),cI(r.description,"description",["string"]),cI(r.creationDate,"options.creationDate",[Date]),cI(r.modificationDate,"options.modificationDate",[Date]),c_(r.afRelationship,"options.afRelationship",er),n=uB(e),i=hZ.for(n,t,r),o=this.context.nextRef(),a=gB.of(o,this,i),this.embeddedFiles.push(a),[2]})})},e.prototype.embedFont=function(e,t){return void 0===t&&(t={}),l8(this,void 0,void 0,function(){var r,n,i,o,a,s,l,u,c,h;return l9(this,function(d){switch(d.label){case 0:if(n=void 0!==(r=t.subset)&&r,i=t.customName,o=t.features,cE(e,"font",["string",Uint8Array,ArrayBuffer]),cE(n,"subset",["boolean"]),!cb(e))return[3,1];return a=hU.for(e,i),[3,7];case 1:if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||"string"==typeof e))return[3,6];if(s=uB(e),l=this.assertFontkit(),!n)return[3,3];return[4,hY.for(l,s,i,o)];case 2:return u=d.sent(),[3,5];case 3:return[4,hJ.for(l,s,i,o)];case 4:u=d.sent(),d.label=5;case 5:return a=u,[3,7];case 6:throw TypeError("`font` must be one of `StandardFonts | string | Uint8Array | ArrayBuffer`");case 7:return c=this.context.nextRef(),h=gx.of(c,this,a),this.fonts.push(h),[2,h]}})})},e.prototype.embedStandardFont=function(e,t){if(cE(e,"font",["string"]),!cb(e))throw TypeError("`font` must be one of type `StandardFonts`");var r=hU.for(e,t),n=this.context.nextRef(),i=gx.of(n,this,r);return this.fonts.push(i),i},e.prototype.embedJpg=function(e){return l8(this,void 0,void 0,function(){var t,r,n,i;return l9(this,function(o){switch(o.label){case 0:return cE(e,"jpg",["string",Uint8Array,ArrayBuffer]),t=uB(e),[4,h2.for(t)];case 1:return r=o.sent(),n=this.context.nextRef(),i=gS.of(n,this,r),this.images.push(i),[2,i]}})})},e.prototype.embedPng=function(e){return l8(this,void 0,void 0,function(){var t,r,n,i;return l9(this,function(o){switch(o.label){case 0:return cE(e,"png",["string",Uint8Array,ArrayBuffer]),t=uB(e),[4,h8.for(t)];case 1:return r=o.sent(),n=this.context.nextRef(),i=gS.of(n,this,r),this.images.push(i),[2,i]}})})},e.prototype.embedPdf=function(t,r){return void 0===r&&(r=[0]),l8(this,void 0,void 0,function(){var n,i;return l9(this,function(o){switch(o.label){case 0:if(cE(t,"pdf",["string",Uint8Array,ArrayBuffer,[e,"PDFDocument"]]),cE(r,"indices",[Array]),!(t instanceof e))return[3,1];return n=t,[3,3];case 1:return[4,e.load(t)];case 2:n=o.sent(),o.label=3;case 3:return i=uO(n.getPages(),r),[2,this.embedPages(i)]}})})},e.prototype.embedPage=function(e,t,r){return l8(this,void 0,void 0,function(){return l9(this,function(n){switch(n.label){case 0:return cE(e,"page",[[gV,"PDFPage"]]),[4,this.embedPages([e],[t],[r])];case 1:return[2,n.sent()[0]]}})})},e.prototype.embedPages=function(e,t,r){return void 0===t&&(t=[]),void 0===r&&(r=[]),l8(this,void 0,void 0,function(){var n,i,o,a,s,l,u,c,h,d,f,p,g;return l9(this,function(m){switch(m.label){case 0:if(0===e.length)return[2,[]];for(n=0,i=e.length-1;n<i;n++)if(o=e[n],a=e[n+1],o.node.context!==a.node.context)throw new cH;l=(s=e[0].node.context)===this.context?function(e){return e}:hP.for(s,this.context).copy,u=Array(e.length),n=0,i=e.length,m.label=1;case 1:if(!(n<i))return[3,4];return c=l(e[n].node),h=t[n],d=r[n],[4,dm.for(c,h,d)];case 2:f=m.sent(),p=this.context.nextRef(),u[n]=gw.of(p,this,f),m.label=3;case 3:return n++,[3,1];case 4:return(g=this.embeddedPages).push.apply(g,u),[2,u]}})})},e.prototype.flush=function(){return l8(this,void 0,void 0,function(){return l9(this,function(e){switch(e.label){case 0:return[4,this.embedAll(this.fonts)];case 1:return e.sent(),[4,this.embedAll(this.images)];case 2:return e.sent(),[4,this.embedAll(this.embeddedPages)];case 3:return e.sent(),[4,this.embedAll(this.embeddedFiles)];case 4:return e.sent(),[4,this.embedAll(this.javaScripts)];case 5:return e.sent(),[2]}})})},e.prototype.save=function(e){return void 0===e&&(e={}),l8(this,void 0,void 0,function(){var t,r,n,i,o,a,s,l,u;return l9(this,function(c){switch(c.label){case 0:return r=void 0===(t=e.useObjectStreams)||t,i=void 0===(n=e.addDefaultPage)||n,a=void 0===(o=e.objectsPerTick)?50:o,l=void 0===(s=e.updateFieldAppearances)||s,cE(r,"useObjectStreams",["boolean"]),cE(i,"addDefaultPage",["boolean"]),cE(a,"objectsPerTick",["number"]),cE(l,"updateFieldAppearances",["boolean"]),i&&0===this.getPageCount()&&this.addPage(),l&&(u=this.formCache.getValue())&&u.updateFieldAppearances(),[4,this.flush()];case 1:return c.sent(),[2,(r?hz:hM).forContext(this.context,a).serializeToBuffer()]}})})},e.prototype.saveAsBase64=function(e){return void 0===e&&(e={}),l8(this,void 0,void 0,function(){var t,r,n,i;return l9(this,function(o){switch(o.label){case 0:return r=void 0!==(t=e.dataUri)&&t,n=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}(e,["dataUri"]),cE(r,"dataUri",["boolean"]),[4,this.save(n)];case 1:return i=un(o.sent()),[2,r?"data:application/pdf;base64,"+i:i]}})})},e.prototype.findPageForAnnotationRef=function(e){for(var t=this.getPages(),r=0,n=t.length;r<n;r++){var i=t[r],o=i.node.Annots();if((null==o?void 0:o.indexOf(e))!==void 0)return i}},e.prototype.embedAll=function(e){return l8(this,void 0,void 0,function(){var t,r;return l9(this,function(n){switch(n.label){case 0:t=0,r=e.length,n.label=1;case 1:if(!(t<r))return[3,4];return[4,e[t].embed()];case 2:n.sent(),n.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},e.prototype.updateInfoDict=function(){var e="pdf-lib (https://github.com/Hopding/pdf-lib)",t=new Date,r=this.getInfoDict();this.setProducer(e),this.setModificationDate(t),r.get(hm.of("Creator"))||this.setCreator(e),r.get(hm.of("CreationDate"))||this.setCreationDate(t)},e.prototype.getInfoDict=function(){var e=this.context.lookup(this.context.trailerInfo.Info);if(e instanceof hv)return e;var t=this.context.obj({});return this.context.trailerInfo.Info=this.context.register(t),t},e.prototype.assertFontkit=function(){if(!this.fontkit)throw new pY;return this.fontkit},e}();function gz(e){if(!(e instanceof hV)&&!(e instanceof hX))throw new cU([hV,hX],e)}(W=eC||(eC={})).Normal="Normal",W.Multiply="Multiply",W.Screen="Screen",W.Overlay="Overlay",W.Darken="Darken",W.Lighten="Lighten",W.ColorDodge="ColorDodge",W.ColorBurn="ColorBurn",W.HardLight="HardLight",W.SoftLight="SoftLight",W.Difference="Difference",W.Exclusion="Exclusion",e.s(["BlendMode",()=>eC],34006);let gV=function(){function e(e,t,r){this.fontSize=24,this.fontColor=pc(0,0,0),this.lineHeight=24,this.x=0,this.y=0,cE(e,"leafNode",[[hF,"PDFPageLeaf"]]),cE(t,"ref",[[hC,"PDFRef"]]),cE(r,"doc",[[gj,"PDFDocument"]]),this.node=e,this.ref=t,this.doc=r}return e.prototype.setRotation=function(e){var t=fp(e);cN(t,"degreesAngle",90),this.node.set(hm.of("Rotate"),this.doc.context.obj(t))},e.prototype.getRotation=function(){var e=this.node.Rotate();return fl(e?e.asNumber():0)},e.prototype.setSize=function(e,t){cE(e,"width",["number"]),cE(t,"height",["number"]);var r=this.getMediaBox();this.setMediaBox(r.x,r.y,e,t);var n=this.getCropBox(),i=this.getBleedBox(),o=this.getTrimBox(),a=this.getArtBox(),s=this.node.CropBox(),l=this.node.BleedBox(),u=this.node.TrimBox(),c=this.node.ArtBox();s&&cw(n,r)&&this.setCropBox(r.x,r.y,e,t),l&&cw(i,r)&&this.setBleedBox(r.x,r.y,e,t),u&&cw(o,r)&&this.setTrimBox(r.x,r.y,e,t),c&&cw(a,r)&&this.setArtBox(r.x,r.y,e,t)},e.prototype.setWidth=function(e){cE(e,"width",["number"]),this.setSize(e,this.getSize().height)},e.prototype.setHeight=function(e){cE(e,"height",["number"]),this.setSize(this.getSize().width,e)},e.prototype.setMediaBox=function(e,t,r,n){cE(e,"x",["number"]),cE(t,"y",["number"]),cE(r,"width",["number"]),cE(n,"height",["number"]);var i=this.doc.context.obj([e,t,e+r,t+n]);this.node.set(hm.MediaBox,i)},e.prototype.setCropBox=function(e,t,r,n){cE(e,"x",["number"]),cE(t,"y",["number"]),cE(r,"width",["number"]),cE(n,"height",["number"]);var i=this.doc.context.obj([e,t,e+r,t+n]);this.node.set(hm.CropBox,i)},e.prototype.setBleedBox=function(e,t,r,n){cE(e,"x",["number"]),cE(t,"y",["number"]),cE(r,"width",["number"]),cE(n,"height",["number"]);var i=this.doc.context.obj([e,t,e+r,t+n]);this.node.set(hm.BleedBox,i)},e.prototype.setTrimBox=function(e,t,r,n){cE(e,"x",["number"]),cE(t,"y",["number"]),cE(r,"width",["number"]),cE(n,"height",["number"]);var i=this.doc.context.obj([e,t,e+r,t+n]);this.node.set(hm.TrimBox,i)},e.prototype.setArtBox=function(e,t,r,n){cE(e,"x",["number"]),cE(t,"y",["number"]),cE(r,"width",["number"]),cE(n,"height",["number"]);var i=this.doc.context.obj([e,t,e+r,t+n]);this.node.set(hm.ArtBox,i)},e.prototype.getSize=function(){var e=this.getMediaBox();return{width:e.width,height:e.height}},e.prototype.getWidth=function(){return this.getSize().width},e.prototype.getHeight=function(){return this.getSize().height},e.prototype.getMediaBox=function(){return this.node.MediaBox().asRectangle()},e.prototype.getCropBox=function(){var e,t=this.node.CropBox();return null!=(e=null==t?void 0:t.asRectangle())?e:this.getMediaBox()},e.prototype.getBleedBox=function(){var e,t=this.node.BleedBox();return null!=(e=null==t?void 0:t.asRectangle())?e:this.getCropBox()},e.prototype.getTrimBox=function(){var e,t=this.node.TrimBox();return null!=(e=null==t?void 0:t.asRectangle())?e:this.getCropBox()},e.prototype.getArtBox=function(){var e,t=this.node.ArtBox();return null!=(e=null==t?void 0:t.asRectangle())?e:this.getCropBox()},e.prototype.translateContent=function(e,t){cE(e,"x",["number"]),cE(t,"y",["number"]),this.node.normalize(),this.getContentStream();var r=this.createContentStream(fO(),fk(e,t)),n=this.doc.context.register(r),i=this.createContentStream(fB()),o=this.doc.context.register(i);this.node.wrapContentStreams(n,o)},e.prototype.scale=function(e,t){cE(e,"x",["number"]),cE(t,"y",["number"]),this.setSize(this.getWidth()*e,this.getHeight()*t),this.scaleContent(e,t),this.scaleAnnotations(e,t)},e.prototype.scaleContent=function(e,t){cE(e,"x",["number"]),cE(t,"y",["number"]),this.node.normalize(),this.getContentStream();var r=this.createContentStream(fO(),f_(e,t)),n=this.doc.context.register(r),i=this.createContentStream(fB()),o=this.doc.context.register(i);this.node.wrapContentStreams(n,o)},e.prototype.scaleAnnotations=function(e,t){cE(e,"x",["number"]),cE(t,"y",["number"]);var r=this.node.Annots();if(r)for(var n=0;n<r.size();n++){var i=r.lookup(n);i instanceof hv&&this.scaleAnnot(i,e,t)}},e.prototype.resetPosition=function(){this.getContentStream(!1),this.x=0,this.y=0},e.prototype.setFont=function(e){cE(e,"font",[[gx,"PDFFont"]]),this.font=e,this.fontKey=this.node.newFontDictionary(this.font.name,this.font.ref)},e.prototype.setFontSize=function(e){cE(e,"fontSize",["number"]),this.fontSize=e},e.prototype.setFontColor=function(e){cE(e,"fontColor",[[Object,"Color"]]),this.fontColor=e},e.prototype.setLineHeight=function(e){cE(e,"lineHeight",["number"]),this.lineHeight=e},e.prototype.getPosition=function(){return{x:this.x,y:this.y}},e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e.prototype.moveTo=function(e,t){cE(e,"x",["number"]),cE(t,"y",["number"]),this.x=e,this.y=t},e.prototype.moveDown=function(e){cE(e,"yDecrease",["number"]),this.y-=e},e.prototype.moveUp=function(e){cE(e,"yIncrease",["number"]),this.y+=e},e.prototype.moveLeft=function(e){cE(e,"xDecrease",["number"]),this.x-=e},e.prototype.moveRight=function(e){cE(e,"xIncrease",["number"]),this.x+=e},e.prototype.pushOperators=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];cD(e,"operator",[[hk,"PDFOperator"]]);var r=this.getContentStream();r.push.apply(r,e)},e.prototype.drawText=function(e,t){void 0===t&&(t={}),cE(e,"text",["string"]),cI(t.color,"options.color",[[Object,"Color"]]),cP(t.opacity,"opacity.opacity",0,1),cI(t.font,"options.font",[[gx,"PDFFont"]]),cI(t.size,"options.size",["number"]),cI(t.rotate,"options.rotate",[[Object,"Rotation"]]),cI(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),cI(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),cI(t.x,"options.x",["number"]),cI(t.y,"options.y",["number"]),cI(t.lineHeight,"options.lineHeight",["number"]),cI(t.maxWidth,"options.maxWidth",["number"]),cI(t.wordBreaks,"options.wordBreaks",[Array]),c_(t.blendMode,"options.blendMode",eC);for(var r,n,i,o,a,s,l,u=this.setOrEmbedFont(t.font),c=u.oldFont,h=u.newFont,d=u.newFontKey,f=t.size||this.fontSize,p=t.wordBreaks||this.doc.defaultWordBreaks,g=void 0===t.maxWidth?um(uf(e)):ux(e,p,t.maxWidth,function(e){return h.widthOfTextAtSize(e,f)}),m=Array(g.length),y=0,v=g.length;y<v;y++)m[y]=h.encodeText(g[y]);var b=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),w=this.getContentStream();w.push.apply(w,pN(m,{color:null!=(r=t.color)?r:this.fontColor,font:d,size:f,rotate:null!=(n=t.rotate)?n:fl(0),xSkew:null!=(i=t.xSkew)?i:fl(0),ySkew:null!=(o=t.ySkew)?o:fl(0),x:null!=(a=t.x)?a:this.x,y:null!=(s=t.y)?s:this.y,lineHeight:null!=(l=t.lineHeight)?l:this.lineHeight,graphicsState:b})),t.font&&(c?this.setFont(c):this.resetFont())},e.prototype.drawImage=function(e,t){void 0===t&&(t={}),cE(e,"image",[[gS,"PDFImage"]]),cI(t.x,"options.x",["number"]),cI(t.y,"options.y",["number"]),cI(t.width,"options.width",["number"]),cI(t.height,"options.height",["number"]),cI(t.rotate,"options.rotate",[[Object,"Rotation"]]),cI(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),cI(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),cP(t.opacity,"opacity.opacity",0,1),c_(t.blendMode,"options.blendMode",eC);var r,n,i,o,a,s,l,u=this.node.newXObject("Image",e.ref),c=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),h=this.getContentStream();h.push.apply(h,pR(u,{x:null!=(r=t.x)?r:this.x,y:null!=(n=t.y)?n:this.y,width:null!=(i=t.width)?i:e.size().width,height:null!=(o=t.height)?o:e.size().height,rotate:null!=(a=t.rotate)?a:fl(0),xSkew:null!=(s=t.xSkew)?s:fl(0),ySkew:null!=(l=t.ySkew)?l:fl(0),graphicsState:c}))},e.prototype.drawPage=function(e,t){void 0===t&&(t={}),cE(e,"embeddedPage",[[gw,"PDFEmbeddedPage"]]),cI(t.x,"options.x",["number"]),cI(t.y,"options.y",["number"]),cI(t.xScale,"options.xScale",["number"]),cI(t.yScale,"options.yScale",["number"]),cI(t.width,"options.width",["number"]),cI(t.height,"options.height",["number"]),cI(t.rotate,"options.rotate",[[Object,"Rotation"]]),cI(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),cI(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),cP(t.opacity,"opacity.opacity",0,1),c_(t.blendMode,"options.blendMode",eC);var r,n,i,o,a,s=this.node.newXObject("EmbeddedPdfPage",e.ref),l=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),u=void 0!==t.width?t.width/e.width:void 0!==t.xScale?t.xScale:1,c=void 0!==t.height?t.height/e.height:void 0!==t.yScale?t.yScale:1,h=this.getContentStream();h.push.apply(h,pO(s,{x:null!=(r=t.x)?r:this.x,y:null!=(n=t.y)?n:this.y,xScale:u,yScale:c,rotate:null!=(i=t.rotate)?i:fl(0),xSkew:null!=(o=t.xSkew)?o:fl(0),ySkew:null!=(a=t.ySkew)?a:fl(0),graphicsState:l}))},e.prototype.drawSvgPath=function(e,t){void 0===t&&(t={}),cE(e,"path",["string"]),cI(t.x,"options.x",["number"]),cI(t.y,"options.y",["number"]),cI(t.scale,"options.scale",["number"]),cI(t.rotate,"options.rotate",[[Object,"Rotation"]]),cI(t.borderWidth,"options.borderWidth",["number"]),cI(t.color,"options.color",[[Object,"Color"]]),cP(t.opacity,"opacity.opacity",0,1),cI(t.borderColor,"options.borderColor",[[Object,"Color"]]),cI(t.borderDashArray,"options.borderDashArray",[Array]),cI(t.borderDashPhase,"options.borderDashPhase",["number"]),c_(t.borderLineCap,"options.borderLineCap",eg),cP(t.borderOpacity,"options.borderOpacity",0,1),c_(t.blendMode,"options.blendMode",eC);var r,n,i,o,a,s,l,u,c,h=this.maybeEmbedGraphicsState({opacity:t.opacity,borderOpacity:t.borderOpacity,blendMode:t.blendMode});"color"in t||"borderColor"in t||(t.borderColor=pc(0,0,0));var d=this.getContentStream();d.push.apply(d,pU(e,{x:null!=(r=t.x)?r:this.x,y:null!=(n=t.y)?n:this.y,scale:t.scale,rotate:null!=(i=t.rotate)?i:fl(0),color:null!=(o=t.color)?o:void 0,borderColor:null!=(a=t.borderColor)?a:void 0,borderWidth:null!=(s=t.borderWidth)?s:0,borderDashArray:null!=(l=t.borderDashArray)?l:void 0,borderDashPhase:null!=(u=t.borderDashPhase)?u:void 0,borderLineCap:null!=(c=t.borderLineCap)?c:void 0,graphicsState:h}))},e.prototype.drawLine=function(e){cE(e.start,"options.start",[[Object,"{ x: number, y: number }"]]),cE(e.end,"options.end",[[Object,"{ x: number, y: number }"]]),cE(e.start.x,"options.start.x",["number"]),cE(e.start.y,"options.start.y",["number"]),cE(e.end.x,"options.end.x",["number"]),cE(e.end.y,"options.end.y",["number"]),cI(e.thickness,"options.thickness",["number"]),cI(e.color,"options.color",[[Object,"Color"]]),cI(e.dashArray,"options.dashArray",[Array]),cI(e.dashPhase,"options.dashPhase",["number"]),c_(e.lineCap,"options.lineCap",eg),cP(e.opacity,"opacity.opacity",0,1),c_(e.blendMode,"options.blendMode",eC);var t,r,n,i,o,a=this.maybeEmbedGraphicsState({borderOpacity:e.opacity,blendMode:e.blendMode});"color"in e||(e.color=pc(0,0,0));var s=this.getContentStream();s.push.apply(s,pB({start:e.start,end:e.end,thickness:null!=(t=e.thickness)?t:1,color:null!=(r=e.color)?r:void 0,dashArray:null!=(n=e.dashArray)?n:void 0,dashPhase:null!=(i=e.dashPhase)?i:void 0,lineCap:null!=(o=e.lineCap)?o:void 0,graphicsState:a}))},e.prototype.drawRectangle=function(e){void 0===e&&(e={}),cI(e.x,"options.x",["number"]),cI(e.y,"options.y",["number"]),cI(e.width,"options.width",["number"]),cI(e.height,"options.height",["number"]),cI(e.rotate,"options.rotate",[[Object,"Rotation"]]),cI(e.xSkew,"options.xSkew",[[Object,"Rotation"]]),cI(e.ySkew,"options.ySkew",[[Object,"Rotation"]]),cI(e.borderWidth,"options.borderWidth",["number"]),cI(e.color,"options.color",[[Object,"Color"]]),cP(e.opacity,"opacity.opacity",0,1),cI(e.borderColor,"options.borderColor",[[Object,"Color"]]),cI(e.borderDashArray,"options.borderDashArray",[Array]),cI(e.borderDashPhase,"options.borderDashPhase",["number"]),c_(e.borderLineCap,"options.borderLineCap",eg),cP(e.borderOpacity,"options.borderOpacity",0,1),c_(e.blendMode,"options.blendMode",eC);var t,r,n,i,o,a,s,l,u,c,h,d,f,p=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});"color"in e||"borderColor"in e||(e.color=pc(0,0,0));var g=this.getContentStream();g.push.apply(g,pM({x:null!=(t=e.x)?t:this.x,y:null!=(r=e.y)?r:this.y,width:null!=(n=e.width)?n:150,height:null!=(i=e.height)?i:100,rotate:null!=(o=e.rotate)?o:fl(0),xSkew:null!=(a=e.xSkew)?a:fl(0),ySkew:null!=(s=e.ySkew)?s:fl(0),borderWidth:null!=(l=e.borderWidth)?l:0,color:null!=(u=e.color)?u:void 0,borderColor:null!=(c=e.borderColor)?c:void 0,borderDashArray:null!=(h=e.borderDashArray)?h:void 0,borderDashPhase:null!=(d=e.borderDashPhase)?d:void 0,graphicsState:p,borderLineCap:null!=(f=e.borderLineCap)?f:void 0}))},e.prototype.drawSquare=function(e){void 0===e&&(e={});var t=e.size;cI(t,"size",["number"]),this.drawRectangle(l6(l6({},e),{width:t,height:t}))},e.prototype.drawEllipse=function(e){void 0===e&&(e={}),cI(e.x,"options.x",["number"]),cI(e.y,"options.y",["number"]),cI(e.xScale,"options.xScale",["number"]),cI(e.yScale,"options.yScale",["number"]),cI(e.rotate,"options.rotate",[[Object,"Rotation"]]),cI(e.color,"options.color",[[Object,"Color"]]),cP(e.opacity,"opacity.opacity",0,1),cI(e.borderColor,"options.borderColor",[[Object,"Color"]]),cP(e.borderOpacity,"options.borderOpacity",0,1),cI(e.borderWidth,"options.borderWidth",["number"]),cI(e.borderDashArray,"options.borderDashArray",[Array]),cI(e.borderDashPhase,"options.borderDashPhase",["number"]),c_(e.borderLineCap,"options.borderLineCap",eg),c_(e.blendMode,"options.blendMode",eC);var t,r,n,i,o,a,s,l,u,c,h,d=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});"color"in e||"borderColor"in e||(e.color=pc(0,0,0));var f=this.getContentStream();f.push.apply(f,pV({x:null!=(t=e.x)?t:this.x,y:null!=(r=e.y)?r:this.y,xScale:null!=(n=e.xScale)?n:100,yScale:null!=(i=e.yScale)?i:100,rotate:null!=(o=e.rotate)?o:void 0,color:null!=(a=e.color)?a:void 0,borderColor:null!=(s=e.borderColor)?s:void 0,borderWidth:null!=(l=e.borderWidth)?l:0,borderDashArray:null!=(u=e.borderDashArray)?u:void 0,borderDashPhase:null!=(c=e.borderDashPhase)?c:void 0,borderLineCap:null!=(h=e.borderLineCap)?h:void 0,graphicsState:d}))},e.prototype.drawCircle=function(e){void 0===e&&(e={});var t=e.size,r=void 0===t?100:t;cI(r,"size",["number"]),this.drawEllipse(l6(l6({},e),{xScale:r,yScale:r}))},e.prototype.setOrEmbedFont=function(e){var t=this.font,r=this.fontKey;return e?this.setFont(e):this.getFont(),{oldFont:t,oldFontKey:r,newFont:this.font,newFontKey:this.fontKey}},e.prototype.getFont=function(){if(!this.font||!this.fontKey){var e=this.doc.embedStandardFont(ex.Helvetica);this.setFont(e)}return[this.font,this.fontKey]},e.prototype.resetFont=function(){this.font=void 0,this.fontKey=void 0},e.prototype.getContentStream=function(e){return void 0===e&&(e=!0),e&&this.contentStream||(this.contentStream=this.createContentStream(),this.contentStreamRef=this.doc.context.register(this.contentStream),this.node.addContentStream(this.contentStreamRef)),this.contentStream},e.prototype.createContentStream=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.doc.context.obj({});return hT.of(r,e)},e.prototype.maybeEmbedGraphicsState=function(e){var t=e.opacity,r=e.borderOpacity,n=e.blendMode;if(void 0!==t||void 0!==r||void 0!==n){var i=this.doc.context.obj({Type:"ExtGState",ca:t,CA:r,BM:n});return this.node.newExtGState("GS",i)}},e.prototype.scaleAnnot=function(e,t,r){for(var n=["RD","CL","Vertices","QuadPoints","L","Rect"],i=0,o=n.length;i<o;i++){var a=e.lookup(hm.of(n[i]));a instanceof hs&&a.scalePDFNumbers(t,r)}var s=e.lookup(hm.of("InkList"));if(s instanceof hs)for(var i=0,o=s.size();i<o;i++){var l=s.lookup(i);l instanceof hs&&l.scalePDFNumbers(t,r)}},e.of=function(t,r,n){return new e(t,r,n)},e.create=function(t){cE(t,"doc",[[gj,"PDFDocument"]]);var r=hC.of(-1),n=hF.withContextAndParent(t.context,r),i=t.context.register(n);return new e(n,i,t)},e}(),gU=function(e){function t(t,r,n){var i=e.call(this,t,r,n)||this;return cE(t,"acroButton",[[dR,"PDFAcroPushButton"]]),i.acroField=t,i}return l4(t,e),t.prototype.setImage=function(e,t){void 0===t&&(t=ew.Center);for(var r=this.acroField.getWidgets(),n=0,i=r.length;n<i;n++){var o=r[n],a=this.createImageAppearanceStream(o,e,t);this.updateWidgetAppearances(o,{normal:a})}this.markAsClean()},t.prototype.setFontSize=function(e){cO(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.addToPage=function(e,t,r){cI(e,"text",["string"]),cI(t,"page",[[gV,"PDFPage"]]),gC(r);var n,i,o,a,s,l,u,c,h,d,f,p=this.createWidget({x:(null!=(n=null==r?void 0:r.x)?n:0)-(null!=(i=null==r?void 0:r.borderWidth)?i:0)/2,y:(null!=(o=null==r?void 0:r.y)?o:0)-(null!=(a=null==r?void 0:r.borderWidth)?a:0)/2,width:null!=(s=null==r?void 0:r.width)?s:100,height:null!=(l=null==r?void 0:r.height)?l:50,textColor:null!=(u=null==r?void 0:r.textColor)?u:pc(0,0,0),backgroundColor:null!=(c=null==r?void 0:r.backgroundColor)?c:pc(.75,.75,.75),borderColor:null==r?void 0:r.borderColor,borderWidth:null!=(h=null==r?void 0:r.borderWidth)?h:0,rotate:null!=(d=null==r?void 0:r.rotate)?d:fl(0),caption:e,hidden:null==r?void 0:r.hidden,page:t.ref}),g=this.doc.context.register(p.dict);this.acroField.addWidget(g);var m=null!=(f=null==r?void 0:r.font)?f:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(p,m),t.node.addAnnot(g)},t.prototype.needsAppearancesUpdate=function(){if(this.isDirty())return!0;for(var e,t=this.acroField.getWidgets(),r=0,n=t.length;r<n;r++)if(!((null==(e=t[r].getAppearances())?void 0:e.normal)instanceof hb))return!0;return!1},t.prototype.defaultUpdateAppearances=function(e){cE(e,"font",[[gx,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,t){cE(e,"font",[[gx,"PDFFont"]]),cI(t,"provider",[Function]);for(var r=this.acroField.getWidgets(),n=0,i=r.length;n<i;n++){var o=r[n];this.updateWidgetAppearance(o,e,t)}},t.prototype.updateWidgetAppearance=function(e,t,r){var n=gl((null!=r?r:gm)(this,e,t));this.updateWidgetAppearanceWithFont(e,t,n)},t.of=function(e,r,n){return new t(e,r,n)},t}(gk);e.s([],55324),e.s([],78871),e.s([],59454),e.i(81353),e.i(59454),e.i(55324),e.i(90213),e.s(["PDFButton",0,gU,"PDFCheckBox",0,g_,"PDFDropdown",0,gA,"PDFField",0,gk,"PDFForm",0,gF,"PDFOptionList",0,gT,"PDFRadioGroup",0,gE,"PDFSignature",0,gI,"PDFTextField",0,gD,"defaultButtonAppearanceProvider",()=>gm,"defaultCheckBoxAppearanceProvider",()=>gp,"defaultDropdownAppearanceProvider",()=>gv,"defaultOptionListAppearanceProvider",()=>gb,"defaultRadioGroupAppearanceProvider",()=>gg,"defaultTextFieldAppearanceProvider",()=>gy,"normalizeAppearance",()=>gl],44129),e.i(44129),e.i(78871),e.i(34282),e.i(45361),e.s(["TextAlignment",()=>eb,"layoutCombedText",()=>ga,"layoutMultilineText",()=>go,"layoutSinglelineText",()=>gs],17772),e.i(17772),e.i(27003),e.i(68941),e.i(86234),e.i(25156),e.s(["ImageAlignment",()=>ew],12174),e.i(12174),e.i(38109),e.i(85978),e.i(64406),e.i(88477),e.i(78020),e.i(34006),e.i(2375),e.i(76071);let g$={x:355,y:730,size:11},gW={x:355,y:705,size:11},gq={x:105,y:630,size:11},gK={x:325,y:630,size:11},gH={x:105,y:605,size:11},gG={x:410,y:605,size:11},gQ={x:160,y:400,size:11},gX={x:160,y:425,size:11},gJ={x:195,y:135,size:11},gY={x:130,y:745,size:11},gZ={x:130,y:695,size:11},g0={x:155,y:645,size:11},g1={x:130,y:620,size:11},g2={x:130,y:450,size:11},g5={x:135,y:410,size:11},g3={x:135,y:390,size:11},g4=async(e,t)=>{var r;let n=(r=t?"agenda_fast.pdf":"agenda.pdf",`/lds-tools${r.startsWith("/")?"":"/"}${r}`),i=await fetch(n),o=new File([await i.arrayBuffer()],"file.pdf",{type:i.headers.get("content-type")||void 0}),a=await o.arrayBuffer(),s=await gj.load(a),l=s.getPages()[0],u=s.getPages()[1],c=await s.embedFont(ex.Courier);l.drawText(g6(),{font:c,...g$}),l.drawText("9:00 AM",{font:c,...gW}),l.drawText(e.presiding||"",{font:c,...gq}),l.drawText(e.conducting||"",{font:c,...gK}),l.drawText(e.organist||"",{font:c,...gH}),l.drawText(e.chorister||"",{font:c,...gG}),l.drawText(e.invocation||"",{font:c,...gQ}),u.drawText(e.benediction||"",t?{font:c,...g3,y:g3.y+25}:{font:c,...g3}),l.drawText(e.opening_hymn||"",{font:c,...gX}),l.drawText(e.sacrament_hymn||"",{font:c,...gJ}),t||u.drawText(e.intermediate_hymn||"",{font:c,...g0}),u.drawText(e.closing_hymn||"",t?{font:c,...g5,y:g5.y+25}:{font:c,...g5}),t||(u.drawText(e.speaker1||"",{font:c,...gY}),u.drawText(e.speaker2||"",{font:c,...gZ}),u.drawText(e.speaker3||"",{font:c,...g1}),u.drawText(e.speaker4||"",{font:c,...g2}));let h=new Blob([new Uint8Array(await s.save())],{type:"application/pdf"}),d=document.createElement("a");d.href=URL.createObjectURL(h),d.download=`agenda-editada__${g6().replace(/ /g,"_")}.pdf`,d.click()};function g6(){let e=new Date,t=e.getDay();return e.setDate(e.getDate()+(0===t?0:7-t)),e.toLocaleDateString("es-ES",{day:"2-digit",month:"long",year:"numeric"})}function g8(){let e=new Date().getDay(),t=new Date().getDate();return 0===e&&t<=7}let g9=function(e){let t=[],r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:(i<2048?t[r++]=i>>6|192:((64512&i)==55296&&n+1<e.length&&(64512&e.charCodeAt(n+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n)),t[r++]=i>>18|240,t[r++]=i>>12&63|128):t[r++]=i>>12|224,t[r++]=i>>6&63|128),t[r++]=63&i|128)}return t},g7=function(e){let t=[],r=0,n=0;for(;r<e.length;){let i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){let o=e[r++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){let o=((7&i)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(o>>10)),t[n++]=String.fromCharCode(56320+(1023&o))}else{let o=e[r++],a=e[r++];t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let t=0;t<e.length;t+=3){let i=e[t],o=t+1<e.length,a=o?e[t+1]:0,s=t+2<e.length,l=s?e[t+2]:0,u=i>>2,c=(3&i)<<4|a>>4,h=(15&a)<<2|l>>6,d=63&l;!s&&(d=64,o||(h=64)),n.push(r[u],r[c],r[h],r[d])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(g9(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):g7(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let t=0;t<e.length;){let i=r[e.charAt(t++)],o=t<e.length?r[e.charAt(t)]:0,a=++t<e.length?r[e.charAt(t)]:64,s=++t<e.length?r[e.charAt(t)]:64;if(++t,null==i||null==o||null==a||null==s)throw new mt;let l=i<<2|o>>4;if(n.push(l),64!==a){let e=o<<4&240|a>>2;if(n.push(e),64!==s){let e=a<<6&192|s;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class mt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let mr=function(e){let t=g9(e);return me.encodeByteArray(t,!0)},mn=function(e){return mr(e).replace(/\./g,"")},mi=function(e){try{return me.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function mo(){return"u">typeof self?self:"u">typeof window?window:e.g}let ma=()=>{try{return mo().__FIREBASE_DEFAULTS__||(()=>{if(void 0===tT.default||void 0===tT.default.env)return;let e=tT.default.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)})()||(()=>{let e;if("u"<typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&mi(e[1]);return t&&JSON.parse(t)})()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},ms=()=>ma()?.config;class ml{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function mu(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mc(e){return(await fetch(e,{credentials:"include"})).ok}let mh={},md=!1;function mf(){return"u">typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function mp(){let t=ma()?.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(e.g.process)}catch(e){return!1}}function mg(){return"u">typeof WorkerGlobalScope&&"u">typeof self&&self instanceof WorkerGlobalScope}function mm(){return!mp()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function my(){return!mp()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function mv(){try{return"object"==typeof indexedDB}catch(e){return!1}}class mb extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,mb.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mw.prototype.create)}}class mw{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){var r,n;let i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],s=a?(r=a,n=i,r.replace(mx,(e,t)=>{let r=n[t];return null!=r?String(r):`<${t}?>`})):"Error",l=`${this.serviceName}: ${s} (${o}).`;return new mb(o,l,i)}}let mx=/\{\$([^}]+)}/g;function mS(e,t){if(e===t)return!0;let r=Object.keys(e),n=Object.keys(t);for(let i of r){if(!n.includes(i))return!1;let r=e[i],o=t[i];if(mC(r)&&mC(o)){if(!mS(r,o))return!1}else if(r!==o)return!1}for(let e of n)if(!r.includes(e))return!1;return!0}function mC(e){return null!==e&&"object"==typeof e}function mk(e){return e&&e._delegate?e._delegate:e}class m_{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}let mA="[DEFAULT]";class mT{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new ml;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&e.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(r)return null;throw e}if(r)return null;throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:mA})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:r});t.resolve(e)}catch(e){}}}}clearInstance(e=mA){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=mA){return this.instances.has(e)}getOptions(e=mA){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let n=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[e,t]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(e)&&t.resolve(n);return n}onInit(e,t){let r=this.normalizeInstanceIdentifier(t),n=this.onInitCallbacks.get(r)??new Set;n.add(e),this.onInitCallbacks.set(r,n);let i=this.instances.get(r);return i&&e(i,r),()=>{n.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let n of r)try{n(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){var r;let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e)===mA?void 0:r,options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=mA){return this.component?this.component.multipleInstances?e:mA:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class mE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new mT(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}let mI=[];(q=ek||(ek={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT";let mD={debug:ek.DEBUG,verbose:ek.VERBOSE,info:ek.INFO,warn:ek.WARN,error:ek.ERROR,silent:ek.SILENT},mF=ek.INFO,mP={[ek.DEBUG]:"log",[ek.VERBOSE]:"log",[ek.INFO]:"info",[ek.WARN]:"warn",[ek.ERROR]:"error"},mN=(e,t,...r)=>{if(t<e.logLevel)return;let n=new Date().toISOString(),i=mP[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mR{constructor(e){this.name=e,this._logLevel=mF,this._logHandler=mN,this._userLogHandler=null,mI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ek))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?mD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ek.DEBUG,...e),this._logHandler(this,ek.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ek.VERBOSE,...e),this._logHandler(this,ek.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ek.INFO,...e),this._logHandler(this,ek.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ek.WARN,...e),this._logHandler(this,ek.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ek.ERROR,...e),this._logHandler(this,ek.ERROR,...e)}}let mO=new WeakMap,mB=new WeakMap,mM=new WeakMap,mL=new WeakMap,mj=new WeakMap,mz={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return mB.get(e);if("objectStoreNames"===t)return e.objectStoreNames||mM.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return mV(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function mV(e){if(e instanceof IDBRequest){let t;return(t=new Promise((t,r)=>{let n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(mV(e.result)),n()},o=()=>{r(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",o)})).then(t=>{t instanceof IDBCursor&&mO.set(t,e)}).catch(()=>{}),mj.set(t,e),t}if(mL.has(e))return mL.get(e);let n=function(e){if("function"==typeof e)return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(r||(r=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(mU(this),t),mV(mO.get(this))}:function(...t){return mV(e.apply(mU(this),t))}:function(t,...r){let n=e.call(mU(this),t,...r);return mM.set(n,t.sort?t.sort():[t]),mV(n)};return e instanceof IDBTransaction&&function(e){if(mB.has(e))return;let t=new Promise((t,r)=>{let n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),n()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});mB.set(e,t)}(e),(t||(t=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(t=>e instanceof t)?new Proxy(e,mz):e}(e);return n!==e&&(mL.set(e,n),mj.set(n,e)),n}let mU=e=>mj.get(e),m$=["get","getKey","getAll","getAllKeys","count"],mW=["put","add","delete","clear"],mq=new Map;function mK(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(mq.get(t))return mq.get(t);let r=t.replace(/FromIndex$/,""),n=t!==r,i=mW.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||m$.includes(r)))return;let o=async function(e,...t){let o=this.transaction(e,i?"readwrite":"readonly"),a=o.store;return n&&(a=a.index(t.shift())),(await Promise.all([a[r](...t),i&&o.done]))[0]};return mq.set(t,o),o}mz={...u=mz,get:(e,t,r)=>mK(e,t)||u.get(e,t,r),has:(e,t)=>!!mK(e,t)||u.has(e,t)};class mH{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{let t;if(t=e.getComponent(),t?.type!=="VERSION")return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}let mG="@firebase/app",mQ="0.14.7",mX=new mR("@firebase/app"),mJ="[DEFAULT]",mY={[mG]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/ai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},mZ=new Map,m0=new Map,m1=new Map;function m2(e,t){try{e.container.addComponent(t)}catch(r){mX.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function m5(e,t){e.container.addOrOverwriteComponent(t)}function m3(e){let t=e.name;if(m1.has(t))return mX.debug(`There were multiple attempts to register component ${t}.`),!1;for(let r of(m1.set(t,e),mZ.values()))m2(r,e);for(let t of m0.values())m2(t,e);return!0}function m4(e,t){let r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function m6(e,t,r=mJ){m4(e,t).clearInstance(r)}function m8(e){return void 0!==e.options}function m9(e){return!m8(e)&&("authIdToken"in e||"appCheckToken"in e||"releaseOnDeref"in e||"automaticDataCollectionEnabled"in e)}function m7(e){return null!=e&&void 0!==e.settings}function ye(){m1.clear()}let yt=new mw("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class yr{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new m_("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yt.create("app-deleted",{appName:this._name})}}function yn(e,t){let r=mi(e.split(".")[1]);null===r?console.error(`FirebaseServerApp ${t} is invalid: second part could not be parsed.`):void 0===JSON.parse(r).exp?console.error(`FirebaseServerApp ${t} is invalid: expiration claim could not be parsed`):1e3*JSON.parse(r).exp-new Date().getTime()<=0&&console.error(`FirebaseServerApp ${t} is invalid: the token has expired.`)}class yi extends yr{constructor(e,t,r,n){const i=void 0===t.automaticDataCollectionEnabled||t.automaticDataCollectionEnabled,o={name:r,automaticDataCollectionEnabled:i};void 0!==e.apiKey?super(e,o,n):super(e.options,o,n),this._serverConfig={automaticDataCollectionEnabled:i,...t},this._serverConfig.authIdToken&&yn(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&yn(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,"u">typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,yh(mG,mQ,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){yc(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw yt.create("server-app-deleted")}}let yo="12.8.0";function ya(e,t={}){let r=e;"object"!=typeof t&&(t={name:t});let n={name:mJ,automaticDataCollectionEnabled:!0,...t},i=n.name;if("string"!=typeof i||!i)throw yt.create("bad-app-name",{appName:String(i)});if(r||(r=ms()),!r)throw yt.create("no-options");let o=mZ.get(i);if(o)if(mS(r,o.options)&&mS(n,o.config))return o;else throw yt.create("duplicate-app",{appName:i});let a=new mE(i);for(let e of m1.values())a.addComponent(e);let s=new yr(r,n,a);return mZ.set(i,s),s}function ys(e,t={}){let r;if(("u">typeof window||mg())&&!mg())throw yt.create("invalid-server-app-environment");let n=t||{};if(e&&(m8(e)?r=e.options:m9(e)?n=e:r=e),void 0===n.automaticDataCollectionEnabled&&(n.automaticDataCollectionEnabled=!0),r||(r=ms()),!r)throw yt.create("no-options");let i={...n,...r};if(void 0!==i.releaseOnDeref&&delete i.releaseOnDeref,void 0!==n.releaseOnDeref&&"u"<typeof FinalizationRegistry)throw yt.create("finalization-registry-not-supported",{});let o=""+[...JSON.stringify(i)].reduce((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0,0),a=m0.get(o);if(a)return a.incRefCount(n.releaseOnDeref),a;let s=new mE(o);for(let e of m1.values())s.addComponent(e);let l=new yi(r,n,o,s);return m0.set(o,l),l}function yl(e=mJ){let t=mZ.get(e);if(!t&&e===mJ&&ms())return ya();if(!t)throw yt.create("no-app",{appName:e});return t}function yu(){return Array.from(mZ.values())}async function yc(e){let t=!1,r=e.name;mZ.has(r)?(t=!0,mZ.delete(r)):m0.has(r)&&0>=e.decRefCount()&&(m0.delete(r),t=!0),t&&(await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function yh(e,t,r){let n=mY[e]??e;r&&(n+=`-${r}`);let i=n.match(/\s|\//),o=t.match(/\s|\//);if(i||o){let e=[`Unable to register library "${n}" with version "${t}":`];i&&e.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),mX.warn(e.join(" "));return}m3(new m_(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}function yd(e,t){if(null!==e&&"function"!=typeof e)throw yt.create("invalid-log-argument");for(let r of mI){let n=null;t&&t.level&&(n=mD[t.level]),null===e?r.userLogHandler=null:r.userLogHandler=(t,r,...i)=>{let o=i.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}}).filter(e=>e).join(" ");r>=(n??t.logLevel)&&e({level:ek[r].toLowerCase(),message:o,args:i,type:t.name})}}}function yf(e){mI.forEach(t=>{t.setLogLevel(e)})}let yp="firebase-heartbeat-store",yg=null;function ym(){return yg||(yg=(function(e,t,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){let a=indexedDB.open(e,1),s=mV(a);return n&&a.addEventListener("upgradeneeded",e=>{n(mV(a.result),e.oldVersion,e.newVersion,mV(a.transaction),e)}),r&&a.addEventListener("blocked",e=>r(e.oldVersion,e.newVersion,e)),s.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s})("firebase-heartbeat-database",0,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(yp)}catch(e){console.warn(e)}}}).catch(e=>{throw yt.create("idb-open",{originalErrorMessage:e.message})})),yg}async function yy(e){try{let t=(await ym()).transaction(yp),r=await t.objectStore(yp).get(yb(e));return await t.done,r}catch(e){if(e instanceof mb)mX.warn(e.message);else{let t=yt.create("idb-get",{originalErrorMessage:e?.message});mX.warn(t.message)}}}async function yv(e,t){try{let r=(await ym()).transaction(yp,"readwrite"),n=r.objectStore(yp);await n.put(t,yb(e)),await r.done}catch(e){if(e instanceof mb)mX.warn(e.message);else{let t=yt.create("idb-set",{originalErrorMessage:e?.message});mX.warn(t.message)}}}function yb(e){return`${e.name}!${e.options.appId}`}class yw{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new yS(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{let e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=yx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){let e=function(e){if(0===e.length)return -1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){mX.warn(e)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||0===this._heartbeatsCache.heartbeats.length)return"";let e=yx(),{heartbeatsToSend:t,unsentEntries:r}=function(e,t=1024){let r=[],n=e.slice();for(let i of e){let e=r.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),yC(r)>t){e.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),yC(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}(this._heartbeatsCache.heartbeats),n=mn(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),n}catch(e){return mX.warn(e),""}}}function yx(){return new Date().toISOString().substring(0,10)}class yS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!mv()&&new Promise((e,t)=>{try{let r=!0,n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(e){t(e)}}).then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await yy(this.app);return e?.heartbeats?e:{heartbeats:[]}}}async overwrite(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return yv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return yv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function yC(e){return mn(JSON.stringify({version:2,heartbeats:e})).length}m3(new m_("platform-logger",e=>new mH(e),"PRIVATE")),m3(new m_("heartbeat",e=>new yw(e),"PRIVATE")),yh(mG,mQ,""),yh(mG,mQ,"esm2020"),yh("fire-js",""),e.s(["SDK_VERSION",()=>yo,"_DEFAULT_ENTRY_NAME",()=>mJ,"_addComponent",()=>m2,"_addOrOverwriteComponent",()=>m5,"_apps",()=>mZ,"_clearComponents",()=>ye,"_components",()=>m1,"_getProvider",()=>m4,"_isFirebaseApp",()=>m8,"_isFirebaseServerApp",()=>m7,"_isFirebaseServerAppSettings",()=>m9,"_registerComponent",()=>m3,"_removeServiceInstance",()=>m6,"_serverApps",()=>m0,"deleteApp",()=>yc,"getApp",()=>yl,"getApps",()=>yu,"initializeApp",()=>ya,"initializeServerApp",()=>ys,"onLog",()=>yd,"registerVersion",()=>yh,"setLogLevel",()=>yf],92953);var yk=e.i(67034),y_="u">typeof globalThis?globalThis:"u">typeof window?window:e.g,yA={};(function(){function e(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.C=Array(this.blockSize),this.o=this.h=0,this.u()}var t=function(){this.blockSize=-1};function r(){}function n(e,t,r){r||(r=0);let n=Array(16);if("string"==typeof t)for(var i=0;i<16;++i)n[i]=t.charCodeAt(r++)|t.charCodeAt(r++)<<8|t.charCodeAt(r++)<<16|t.charCodeAt(r++)<<24;else for(i=0;i<16;++i)n[i]=t[r++]|t[r++]<<8|t[r++]<<16|t[r++]<<24;t=e.g[0],r=e.g[1],i=e.g[2];let o=e.g[3],a;a=t+(o^r&(i^o))+n[0]+0xd76aa478|0,a=o+(i^(t=r+(a<<7|a>>>25))&(r^i))+n[1]+0xe8c7b756|0,a=i+(r^(o=t+(a<<12|a>>>20))&(t^r))+n[2]+0x242070db|0,a=r+(t^(i=o+(a<<17|a>>>15))&(o^t))+n[3]+0xc1bdceee|0,a=t+(o^(r=i+(a<<22|a>>>10))&(i^o))+n[4]+0xf57c0faf|0,a=o+(i^(t=r+(a<<7|a>>>25))&(r^i))+n[5]+0x4787c62a|0,a=i+(r^(o=t+(a<<12|a>>>20))&(t^r))+n[6]+0xa8304613|0,a=r+(t^(i=o+(a<<17|a>>>15))&(o^t))+n[7]+0xfd469501|0,a=t+(o^(r=i+(a<<22|a>>>10))&(i^o))+n[8]+0x698098d8|0,a=o+(i^(t=r+(a<<7|a>>>25))&(r^i))+n[9]+0x8b44f7af|0,a=i+(r^(o=t+(a<<12|a>>>20))&(t^r))+n[10]+0xffff5bb1|0,a=r+(t^(i=o+(a<<17|a>>>15))&(o^t))+n[11]+0x895cd7be|0,a=t+(o^(r=i+(a<<22|a>>>10))&(i^o))+n[12]+0x6b901122|0,a=o+(i^(t=r+(a<<7|a>>>25))&(r^i))+n[13]+0xfd987193|0,a=i+(r^(o=t+(a<<12|a>>>20))&(t^r))+n[14]+0xa679438e|0,a=r+(t^(i=o+(a<<17|a>>>15))&(o^t))+n[15]+0x49b40821|0,r=i+(a<<22|a>>>10),a=t+(i^o&(r^i))+n[1]+0xf61e2562|0,t=r+(a<<5|a>>>27),a=o+(r^i&(t^r))+n[6]+0xc040b340|0,o=t+(a<<9|a>>>23),a=i+(t^r&(o^t))+n[11]+0x265e5a51|0,i=o+(a<<14|a>>>18),a=r+(o^t&(i^o))+n[0]+0xe9b6c7aa|0,r=i+(a<<20|a>>>12),a=t+(i^o&(r^i))+n[5]+0xd62f105d|0,t=r+(a<<5|a>>>27),a=o+(r^i&(t^r))+n[10]+0x2441453|0,o=t+(a<<9|a>>>23),a=i+(t^r&(o^t))+n[15]+0xd8a1e681|0,i=o+(a<<14|a>>>18),a=r+(o^t&(i^o))+n[4]+0xe7d3fbc8|0,r=i+(a<<20|a>>>12),a=t+(i^o&(r^i))+n[9]+0x21e1cde6|0,t=r+(a<<5|a>>>27),a=o+(r^i&(t^r))+n[14]+0xc33707d6|0,o=t+(a<<9|a>>>23),a=i+(t^r&(o^t))+n[3]+0xf4d50d87|0,i=o+(a<<14|a>>>18),a=r+(o^t&(i^o))+n[8]+0x455a14ed|0,r=i+(a<<20|a>>>12),a=t+(i^o&(r^i))+n[13]+0xa9e3e905|0,t=r+(a<<5|a>>>27),a=o+(r^i&(t^r))+n[2]+0xfcefa3f8|0,o=t+(a<<9|a>>>23),a=i+(t^r&(o^t))+n[7]+0x676f02d9|0,i=o+(a<<14|a>>>18),a=r+(o^t&(i^o))+n[12]+0x8d2a4c8a|0,a=t+((r=i+(a<<20|a>>>12))^i^o)+n[5]+0xfffa3942|0,a=o+((t=r+(a<<4|a>>>28))^r^i)+n[8]+0x8771f681|0,a=i+((o=t+(a<<11|a>>>21))^t^r)+n[11]+0x6d9d6122|0,a=r+((i=o+(a<<16|a>>>16))^o^t)+n[14]+0xfde5380c|0,a=t+((r=i+(a<<23|a>>>9))^i^o)+n[1]+0xa4beea44|0,a=o+((t=r+(a<<4|a>>>28))^r^i)+n[4]+0x4bdecfa9|0,a=i+((o=t+(a<<11|a>>>21))^t^r)+n[7]+0xf6bb4b60|0,a=r+((i=o+(a<<16|a>>>16))^o^t)+n[10]+0xbebfbc70|0,a=t+((r=i+(a<<23|a>>>9))^i^o)+n[13]+0x289b7ec6|0,a=o+((t=r+(a<<4|a>>>28))^r^i)+n[0]+0xeaa127fa|0,a=i+((o=t+(a<<11|a>>>21))^t^r)+n[3]+0xd4ef3085|0,a=r+((i=o+(a<<16|a>>>16))^o^t)+n[6]+0x4881d05|0,a=t+((r=i+(a<<23|a>>>9))^i^o)+n[9]+0xd9d4d039|0,a=o+((t=r+(a<<4|a>>>28))^r^i)+n[12]+0xe6db99e5|0,a=i+((o=t+(a<<11|a>>>21))^t^r)+n[15]+0x1fa27cf8|0,a=r+((i=o+(a<<16|a>>>16))^o^t)+n[2]+0xc4ac5665|0,r=i+(a<<23|a>>>9),a=t+(i^(r|~o))+n[0]+0xf4292244|0,t=r+(a<<6|a>>>26),a=o+(r^(t|~i))+n[7]+0x432aff97|0,o=t+(a<<10|a>>>22),a=i+(t^(o|~r))+n[14]+0xab9423a7|0,i=o+(a<<15|a>>>17),a=r+(o^(i|~t))+n[5]+0xfc93a039|0,r=i+(a<<21|a>>>11),a=t+(i^(r|~o))+n[12]+0x655b59c3|0,t=r+(a<<6|a>>>26),a=o+(r^(t|~i))+n[3]+0x8f0ccc92|0,o=t+(a<<10|a>>>22),a=i+(t^(o|~r))+n[10]+0xffeff47d|0,i=o+(a<<15|a>>>17),a=r+(o^(i|~t))+n[1]+0x85845dd1|0,r=i+(a<<21|a>>>11),a=t+(i^(r|~o))+n[8]+0x6fa87e4f|0,t=r+(a<<6|a>>>26),a=o+(r^(t|~i))+n[15]+0xfe2ce6e0|0,o=t+(a<<10|a>>>22),a=i+(t^(o|~r))+n[6]+0xa3014314|0,i=o+(a<<15|a>>>17),a=r+(o^(i|~t))+n[13]+0x4e0811a1|0,r=i+(a<<21|a>>>11),a=t+(i^(r|~o))+n[4]+0xf7537e82|0,t=r+(a<<6|a>>>26),a=o+(r^(t|~i))+n[11]+0xbd3af235|0,o=t+(a<<10|a>>>22),a=i+(t^(o|~r))+n[2]+0x2ad7d2bb|0,i=o+(a<<15|a>>>17),a=r+(o^(i|~t))+n[9]+0xeb86d391|0,e.g[0]=e.g[0]+t|0,e.g[1]=e.g[1]+(i+(a<<21|a>>>11))|0,e.g[2]=e.g[2]+i|0,e.g[3]=e.g[3]+o|0}function i(e,t){this.h=t;let r=[],n=!0;for(let i=e.length-1;i>=0;i--){let o=0|e[i];n&&o==t||(r[i]=o,n=!1)}this.g=r}r.prototype=t.prototype,e.F=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.D=function(e,r,n){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[r].apply(e,i)},e.prototype.u=function(){this.g[0]=0x67452301,this.g[1]=0xefcdab89,this.g[2]=0x98badcfe,this.g[3]=0x10325476,this.o=this.h=0},e.prototype.v=function(e,t){void 0===t&&(t=e.length);let r=t-this.blockSize,i=this.C,o=this.h,a=0;for(;a<t;){if(0==o)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"==typeof e){for(;a<t;)if(i[o++]=e.charCodeAt(a++),o==this.blockSize){n(this,i),o=0;break}}else for(;a<t;)if(i[o++]=e[a++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},e.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var r=e.length-8;r<e.length;++r)e[r]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,r=0;r<4;++r)for(let n=0;n<32;n+=8)e[t++]=this.g[r]>>>n&255;return e};var o,a={};function s(e){var t;return -128<=e&&e<128?(t=function(e){return new i([0|e],e<0?-1:0)},Object.prototype.hasOwnProperty.call(a,e)?a[e]:a[e]=t(e)):new i([0|e],e<0?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return u;if(e<0)return p(l(-e));let t=[],r=1;for(let n=0;e>=r;n++)t[n]=e/r|0,r*=0x100000000;return new i(t,0)}var u=s(0),c=s(1),h=s(0x1000000);function d(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function f(e){return -1==e.h}function p(e){let t=e.g.length,r=[];for(let n=0;n<t;n++)r[n]=~e.g[n];return new i(r,~e.h).add(c)}function g(e,t){return e.add(p(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function v(e,t){if(d(t))throw Error("division by zero");if(d(e))return new y(u,u);if(f(e))return t=v(p(e),t),new y(p(t.g),p(t.h));if(f(t))return t=v(e,p(t)),new y(p(t.g),t.h);if(e.g.length>30){if(f(e)||f(t))throw Error("slowDivide_ only works with positive integers.");for(var r=c,n=t;0>=n.l(e);)r=b(r),n=b(n);var i=w(r,1),o=w(n,1);for(n=w(n,2),r=w(r,2);!d(n);){var a=o.add(n);0>=a.l(e)&&(i=i.add(r),o=a),n=w(n,1),r=w(r,1)}return t=g(e,i.j(t)),new y(i,t)}for(i=u;e.l(t)>=0;){for(n=(n=Math.ceil(Math.log(r=Math.max(1,Math.floor(e.m()/t.m())))/Math.LN2))<=48?1:Math.pow(2,n-48),a=(o=l(r)).j(t);f(a)||a.l(e)>0;)r-=n,a=(o=l(r)).j(t);d(o)&&(o=c),i=i.add(o),e=g(e,a)}return new y(i,e)}function b(e){let t=e.g.length+1,r=[];for(let n=0;n<t;n++)r[n]=e.i(n)<<1|e.i(n-1)>>>31;return new i(r,e.h)}function w(e,t){let r=t>>5;t%=32;let n=e.g.length-r,o=[];for(let i=0;i<n;i++)o[i]=t>0?e.i(i+r)>>>t|e.i(i+r+1)<<32-t:e.i(i+r);return new i(o,e.h)}(o=i.prototype).m=function(){if(f(this))return-p(this).m();let e=0,t=1;for(let r=0;r<this.g.length;r++){let n=this.i(r);e+=(n>=0?n:0x100000000+n)*t,t*=0x100000000}return e},o.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(d(this))return"0";if(f(this))return"-"+p(this).toString(e);let t=l(Math.pow(e,6));var r=this;let n="";for(;;){let i=v(r,t).g,o=(((r=g(r,i.j(t))).g.length>0?r.g[0]:r.h)>>>0).toString(e);if(d(r=i))return o+n;for(;o.length<6;)o="0"+o;n=o+n}},o.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},o.l=function(e){return f(e=g(this,e))?-1:+!d(e)},o.abs=function(){return f(this)?p(this):this},o.add=function(e){let t=Math.max(this.g.length,e.g.length),r=[],n=0;for(let i=0;i<=t;i++){let t=n+(65535&this.i(i))+(65535&e.i(i)),o=(t>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);n=o>>>16,t&=65535,o&=65535,r[i]=o<<16|t}return new i(r,-0x80000000&r[r.length-1]?-1:0)},o.j=function(e){if(d(this)||d(e))return u;if(f(this))return f(e)?p(this).j(p(e)):p(p(this).j(e));if(f(e))return p(this.j(p(e)));if(0>this.l(h)&&0>e.l(h))return l(this.m()*e.m());let t=this.g.length+e.g.length,r=[];for(var n=0;n<2*t;n++)r[n]=0;for(n=0;n<this.g.length;n++)for(let t=0;t<e.g.length;t++){let i=this.i(n)>>>16,o=65535&this.i(n),a=e.i(t)>>>16,s=65535&e.i(t);r[2*n+2*t]+=o*s,m(r,2*n+2*t),r[2*n+2*t+1]+=i*s,m(r,2*n+2*t+1),r[2*n+2*t+1]+=o*a,m(r,2*n+2*t+1),r[2*n+2*t+2]+=i*a,m(r,2*n+2*t+2)}for(e=0;e<t;e++)r[e]=r[2*e+1]<<16|r[2*e];for(e=t;e<2*t;e++)r[e]=0;return new i(r,0)},o.B=function(e){return v(this,e).h},o.and=function(e){let t=Math.max(this.g.length,e.g.length),r=[];for(let n=0;n<t;n++)r[n]=this.i(n)&e.i(n);return new i(r,this.h&e.h)},o.or=function(e){let t=Math.max(this.g.length,e.g.length),r=[];for(let n=0;n<t;n++)r[n]=this.i(n)|e.i(n);return new i(r,this.h|e.h)},o.xor=function(e){let t=Math.max(this.g.length,e.g.length),r=[];for(let n=0;n<t;n++)r[n]=this.i(n)^e.i(n);return new i(r,this.h^e.h)},e.prototype.digest=e.prototype.A,e.prototype.reset=e.prototype.u,e.prototype.update=e.prototype.v,eA=yA.Md5=e,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.B,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=l,i.fromString=function e(t,r){if(0==t.length)throw Error("number format error: empty string");if((r=r||10)<2||36<r)throw Error("radix out of range: "+r);if("-"==t.charAt(0))return p(e(t.substring(1),r));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');let n=l(Math.pow(r,8)),i=u;for(let e=0;e<t.length;e+=8){var o=Math.min(8,t.length-e);let a=parseInt(t.substring(e,e+o),r);o<8?(o=l(Math.pow(r,o)),i=i.j(o).add(l(a))):i=(i=i.j(n)).add(l(a))}return i},e_=yA.Integer=i}).apply(void 0!==y_?y_:"u">typeof self?self:"u">typeof window?window:{});var yT="u">typeof globalThis?globalThis:"u">typeof window?window:e.g,yE={};(function(){var e,t,r=Object.defineProperty,n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof yT&&yT];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);function i(e,t){if(t)n:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in i))break n;i=i[a]}(t=t(o=i[e=e[e.length-1]]))!=o&&null!=t&&r(i,e,{configurable:!0,writable:!0,value:t})}}i("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(e){return e||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push([t,e[t]]);return r}});var o=o||{},a=this||self;function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function l(e,t,r){return e.call.apply(e.bind,arguments)}function u(e,t,r){return(u=l).apply(null,arguments)}function c(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function r(){}r.prototype=t.prototype,e.Z=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.Ob=function(e,r,n){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[r].apply(e,i)}}var d="u">typeof AsyncContext&&"function"==typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function f(e){let t=e.length;if(t>0){let r=Array(t);for(let n=0;n<t;n++)r[n]=e[n];return r}return[]}function p(e,t){for(let t=1;t<arguments.length;t++){let n=arguments[t];var r=typeof n;if("array"==(r="object"!=r?r:n?Array.isArray(n)?"array":r:"null")||"object"==r&&"number"==typeof n.length){r=e.length||0;let t=n.length||0;e.length=r+t;for(let i=0;i<t;i++)e[r+i]=n[i]}else e.push(n)}}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new m,e=>e.reset());class m{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let y,v=!1,b=new class{constructor(){this.h=this.g=null}add(e,t){let r=g.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},w=()=>{let e=Promise.resolve(void 0);y=()=>{e.then(x)}};function x(){let e;for(var t;e=null,b.g&&(e=b.g,b.g=b.g.next,b.g||(b.h=null),e.next=null),t=e;){try{t.h.call(t.g)}catch(e){!function(e){a.setTimeout(()=>{throw e},0)}(e)}g.j(t),g.h<100&&(g.h++,t.next=g.g,g.g=t)}v=!1}function S(){this.u=this.u,this.C=this.C}function C(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},C.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{let e=()=>{};a.addEventListener("test",e,t),a.removeEventListener("test",e,t)}catch(e){}return e}();function _(e){return/^[\s\xa0]*$/.test(e)}function A(e,t){C.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}h(A,C),A.prototype.init=function(e,t){let r=this.type=e.type,n=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==r?t=e.fromElement:"mouseout"==r&&(t=e.toElement)),this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&A.Z.h.call(this)},A.prototype.h=function(){A.Z.h.call(this);let e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var T="closure_listenable_"+(1e6*Math.random()|0),E=0;function I(e,t,r,n,i){this.listener=e,this.proxy=null,this.src=t,this.type=r,this.capture=!!n,this.ha=i,this.key=++E,this.da=this.fa=!1}function D(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function F(e,t,r){for(let n in e)t.call(r,e[n],n,e)}function P(e){let t={};for(let r in e)t[r]=e[r];return t}let N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(e,t){let r,n;for(let t=1;t<arguments.length;t++){for(r in n=arguments[t])e[r]=n[r];for(let t=0;t<N.length;t++)r=N[t],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}}function O(e){this.src=e,this.g={},this.h=0}function B(e,t){let r=t.type;if(r in e.g){var n,i=e.g[r],o=Array.prototype.indexOf.call(i,t,void 0);(n=o>=0)&&Array.prototype.splice.call(i,o,1),n&&(D(t),0==e.g[r].length&&(delete e.g[r],e.h--))}}function M(e,t,r,n){for(let i=0;i<e.length;++i){let o=e[i];if(!o.da&&o.listener==t&&!!r==o.capture&&o.ha==n)return i}return -1}O.prototype.add=function(e,t,r,n,i){let o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);let a=M(e,t,n,i);return a>-1?(t=e[a],r||(t.fa=!1)):((t=new I(t,this.src,o,!!n,i)).fa=r,e.push(t)),t};var L="closure_lm_"+(1e6*Math.random()|0),j={};function z(e,t,r,n,i,o){if(!t)throw Error("Invalid event type");let a=s(i)?!!i.capture:!!i,l=W(e);if(l||(e[L]=l=new O(e)),(r=l.add(t,r,n,a,o)).proxy)return r;if(n=function e(t){return $.call(e.src,e.listener,t)},r.proxy=n,n.src=e,n.listener=r,e.addEventListener)k||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),n,i);else if(e.attachEvent)e.attachEvent(U(t.toString()),n);else if(e.addListener&&e.removeListener)e.addListener(n);else throw Error("addEventListener and attachEvent are unavailable.");return r}function V(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[T])B(t.i,e);else{var r=e.type,n=e.proxy;t.removeEventListener?t.removeEventListener(r,n,e.capture):t.detachEvent?t.detachEvent(U(r),n):t.addListener&&t.removeListener&&t.removeListener(n),(r=W(t))?(B(r,e),0==r.h&&(r.src=null,t[L]=null)):D(e)}}}function U(e){return e in j?j[e]:j[e]="on"+e}function $(e,t){if(e.da)e=!0;else{t=new A(t,this);let r=e.listener,n=e.ha||e.src;e.fa&&V(e),e=r.call(n,t)}return e}function W(e){return(e=e[L])instanceof O?e:null}var q="__closure_events_fn_"+(1e9*Math.random()>>>0);function K(e){return"function"==typeof e?e:(e[q]||(e[q]=function(t){return e.handleEvent(t)}),e[q])}function H(){S.call(this),this.i=new O(this),this.M=this,this.G=null}function G(e,t){let r,n;var i,o=e.G;if(o)for(i=[];o;o=o.G)i.push(o);if(e=e.M,o=t.type||t,"string"==typeof t)t=new C(t,e);else if(t instanceof C)t.target=t.target||e;else{var a=t;R(t=new C(o,e),a)}if(a=!0,i)for(n=i.length-1;n>=0;n--)a=Q(r=t.g=i[n],o,!0,t)&&a;if(a=Q(r=t.g=e,o,!0,t)&&a,a=Q(r,o,!1,t)&&a,i)for(n=0;n<i.length;n++)a=Q(r=t.g=i[n],o,!1,t)&&a}function Q(e,t,r,n){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let o=0;o<t.length;++o){let a=t[o];if(a&&!a.da&&a.capture==r){let t=a.listener,r=a.ha||a.src;a.fa&&B(e.i,a),i=!1!==t.call(r,n)&&i}}return i&&!n.defaultPrevented}h(H,S),H.prototype[T]=!0,H.prototype.removeEventListener=function(e,t,r,n){!function e(t,r,n,i,o){if(Array.isArray(r))for(var a=0;a<r.length;a++)e(t,r[a],n,i,o);else(i=s(i)?!!i.capture:!!i,n=K(n),t&&t[T])?(t=t.i,(a=String(r).toString())in t.g&&(n=M(r=t.g[a],n,i,o))>-1&&(D(r[n]),Array.prototype.splice.call(r,n,1),0==r.length&&(delete t.g[a],t.h--))):t&&(t=W(t))&&(r=t.g[r.toString()],t=-1,r&&(t=M(r,n,i,o)),(n=t>-1?r[t]:null)&&V(n))}(this,e,t,r,n)},H.prototype.N=function(){if(H.Z.N.call(this),this.i){var e=this.i;for(let t in e.g){let r=e.g[t];for(let e=0;e<r.length;e++)D(r[e]);delete e.g[t],e.h--}}this.G=null},H.prototype.J=function(e,t,r,n){return this.i.add(String(e),t,!1,r,n)},H.prototype.K=function(e,t,r,n){return this.i.add(String(e),t,!0,r,n)};class X extends S{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=function(e,t){if("function"!=typeof e)if(e&&"function"==typeof e.handleEvent)e=u(e.handleEvent,e);else throw Error("Invalid listener argument");return Number(t)>0x7fffffff?-1:a.setTimeout(e,t||0)}(()=>{t.g=null,t.i&&(t.i=!1,e(t))},t.l);let r=t.h;t.h=null,t.m.apply(null,r)}(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function J(e){S.call(this),this.h=e,this.g={}}h(J,S);var Y=[];function Z(e){F(e.g,function(e,t){this.g.hasOwnProperty(t)&&V(e)},e),e.g={}}J.prototype.N=function(){J.Z.N.call(this),Z(this)},J.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ee=a.JSON.stringify,et=a.JSON.parse,er=class{stringify(e){return a.JSON.stringify(e,void 0)}parse(e){return a.JSON.parse(e,void 0)}};function en(){}function ei(){}var eo={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ea(){C.call(this,"d")}function es(){C.call(this,"c")}h(ea,C),h(es,C);var el={},eu=null;function ec(){return eu=eu||new H}function eh(e){C.call(this,el.Ia,e)}function ed(e){let t=ec();G(t,new eh(t))}function ef(e,t){C.call(this,el.STAT_EVENT,e),this.stat=t}function ep(e){let t=ec();G(t,new ef(t,e))}function eg(e,t){C.call(this,el.Ja,e),this.size=t}function em(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){e()},t)}function ey(){this.g=!0}function ev(e,t,r,n){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{let o=JSON.parse(t);if(o){for(e=0;e<o.length;e++)if(Array.isArray(o[e])){var r=o[e];if(!(r.length<2)){var n=r[1];if(Array.isArray(n)&&!(n.length<1)){var i=n[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<n.length;e++)n[e]=""}}}}return ee(o)}catch(e){return t}}(e,r)+(n?" "+n:"")})}el.Ia="serverreachability",h(eh,C),el.STAT_EVENT="statevent",h(ef,C),el.Ja="timingevent",h(eg,C),ey.prototype.ua=function(){this.g=!1},ey.prototype.info=function(){};var eb={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ew={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function ex(){}function eS(e){return encodeURIComponent(String(e))}function eC(e,t,r,n){this.j=e,this.i=t,this.l=r,this.S=n||1,this.V=new J(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ek}function ek(){this.i=null,this.g="",this.h=!1}h(ex,en),ex.prototype.g=function(){return new XMLHttpRequest},e=new ex;var e_={},eA={};function eO(e,t,r){e.M=1,e.A=e4(e0(t)),e.u=r,e.R=!0,eB(e,null)}function eB(e,t){e.F=Date.now(),eL(e),e.B=e0(e.A);var r,n,i,o,a,l,c=e.B,h=e.S;Array.isArray(h)||(h=[String(h)]),tu(c.i,"t",h),e.C=0,c=e.j.L,e.h=new ek,e.g=tQ(e.j,c?t:null,!e.u),e.P>0&&(e.O=new X(u(e.Y,e,e.g),e.P)),t=e.V,c=e.g,h=e.ba;var d="readystatechange";Array.isArray(d)||(d&&(Y[0]=d.toString()),d=Y);for(let e=0;e<d.length;e++){let r=function e(t,r,n,i,o){if(i&&i.once)return function e(t,r,n,i,o){if(Array.isArray(r)){for(let a=0;a<r.length;a++)e(t,r[a],n,i,o);return null}return n=K(n),t&&t[T]?t.K(r,n,s(i)?!!i.capture:!!i,o):z(t,r,n,!0,i,o)}(t,r,n,i,o);if(Array.isArray(r)){for(let a=0;a<r.length;a++)e(t,r[a],n,i,o);return null}return n=K(n),t&&t[T]?t.J(r,n,s(i)?!!i.capture:!!i,o):z(t,r,n,!1,i,o)}(c,d[e],h||t.handleEvent,!1,t.h||t);if(!r)break;t.g[r.key]=r}t=e.J?P(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ed(),r=e.i,n=e.v,i=e.B,o=e.l,a=e.S,l=e.u,r.info(function(){if(r.g)if(l){var e="",t=l.split("&");for(let r=0;r<t.length;r++){var s=t[r].split("=");if(s.length>1){let t=s[0];s=s[1];let r=t.split("_");e=r.length>=2&&"type"==r[1]?e+(t+"=")+s+"&":e+(t+"=redacted&")}}}else e=null;else e=l;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+n+"\n"+i+"\n"+e})}function eM(e){return!!e.g&&"GET"==e.v&&2!=e.M&&e.j.Aa}function eL(e){e.T=Date.now()+e.H,ej(e,e.H)}function ej(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=em(u(e.aa,e),t)}function ez(e){e.D&&(a.clearTimeout(e.D),e.D=null)}function eV(e){0==e.j.I||e.K||tW(e.j,e)}function eU(e){ez(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,Z(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function e$(e,t){try{var r=e.j;if(0!=r.I&&(r.g==e||eG(r.h,e))){if(!e.L&&eG(r.h,e)&&3==r.I){try{var n=r.Ba.g.parse(t)}catch(e){n=null}if(Array.isArray(n)&&3==n.length){var i=n;if(0==i[0]){n:if(!r.v){if(r.g)if(r.g.F+3e3<e.F)t$(r),tN(r);else break n;tz(r),ep(18)}}else r.xa=i[1],0<r.xa-r.K&&i[2]<37500&&r.F&&0==r.A&&!r.C&&(r.C=em(u(r.Va,r),6e3));1>=eH(r.h)&&r.ta&&(r.ta=void 0)}else tK(r,11)}else if((e.L||r.g==e)&&t$(r),!_(t))for(i=r.Ba.g.parse(t),t=0;t<i.length;t++){let s=i[t],l=s[0];if(!(l<=r.K))if(r.K=l,s=s[1],2==r.I)if("c"==s[0]){r.M=s[1],r.ba=s[2];let t=s[3];null!=t&&(r.ka=t,r.j.info("VER="+r.ka));let i=s[4];null!=i&&(r.za=i,r.j.info("SVER="+r.za));let l=s[5];null!=l&&"number"==typeof l&&l>0&&(r.O=n=1.5*l,r.j.info("backChannelRequestTimeoutMs_="+n)),n=r;let u=e.g;if(u){let e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=n.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(eQ(o,o.h),o.h=null))}if(n.G){let e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(n.wa=e,e3(n.J,n.G,e))}}if(r.I=3,r.l&&r.l.ra(),r.aa&&(r.T=Date.now()-e.F,r.j.info("Handshake RTT: "+r.T+"ms")),(n=r).na=tG(n,n.L?n.ba:null,n.W),e.L){eX(n.h,e);var a=n.O;a&&(e.H=a),e.D&&(ez(e),eL(e)),n.g=e}else tj(n);r.i.length>0&&tO(r)}else"stop"!=s[0]&&"close"!=s[0]||tK(r,7);else 3==r.I&&("stop"==s[0]||"close"==s[0]?"stop"==s[0]?tK(r,7):tP(r):"noop"!=s[0]&&r.l&&r.l.qa(s),r.A=0)}}ed(4)}catch(e){}}eC.prototype.ba=function(e){e=e.target;let t=this.O;t&&3==tE(e)?t.j():this.Y(e)},eC.prototype.Y=function(e){try{if(e==this.g)n:{let f=tE(this.g),p=this.g.ya(),g=this.g.ca();if(!(f<3)&&(3!=f||this.g&&(this.h.h||this.g.la()||tI(this.g)))){this.K||4!=f||7==p||(8==p||g<=0?ed(3):ed(2)),ez(this);var t=this.g.ca();this.X=t;var r=function(e){if(!eM(e))return e.g.la();let t=tI(e.g);if(""===t)return"";let r="",n=t.length,i=4==tE(e.g);if(!e.h.i){if("u"<typeof TextDecoder)return eU(e),eV(e),"";e.h.i=new a.TextDecoder}for(let o=0;o<n;o++)e.h.h=!0,r+=e.h.i.decode(t[o],{stream:!(i&&o==n-1)});return t.length=0,e.h.g+=r,e.C=0,e.h.g}(this);if(this.o=200==t,n=this.i,i=this.v,o=this.B,s=this.l,l=this.S,n.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+i+"\n"+o+"\n"+f+" "+t}),this.o){if(this.U&&!this.L){i:{if(this.g){var n,i,o,s,l,u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(u)){var h=u;break i}}h=null}if(e=h)ev(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,e$(this,e);else{this.o=!1,this.m=3,ep(12),eU(this),eV(this);break n}}if(this.R){let t;for(e=!0;!this.K&&this.C<r.length;)if((t=function(e,t){var r=e.C,n=t.indexOf("\n",r);return -1==n?eA:isNaN(r=Number(t.substring(r,n)))?e_:(n+=1)+r>t.length?eA:(t=t.slice(n,n+r),e.C=n+r,t)}(this,r))==eA){4==f&&(this.m=4,ep(14),e=!1),ev(this.i,this.l,null,"[Incomplete Response]");break}else if(t==e_){this.m=4,ep(15),ev(this.i,this.l,r,"[Invalid Chunk]"),e=!1;break}else ev(this.i,this.l,t,null),e$(this,t);if(eM(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=f||0!=r.length||this.h.h||(this.m=1,ep(16),e=!1),this.o=this.o&&e,e){if(r.length>0&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.aa&&!d.P&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+r.length),tV(d),d.P=!0,ep(11))}}else ev(this.i,this.l,r,"[Invalid Chunked Response]"),eU(this),eV(this)}else ev(this.i,this.l,r,null),e$(this,r);4==f&&eU(this),this.o&&!this.K&&(4==f?tW(this.j,this):(this.o=!1,eL(this)))}else(function(e){let t={};e=(e.g&&tE(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let n=0;n<e.length;n++){if(_(e[n]))continue;var r=function(e){var t=1;e=e.split(":");let r=[];for(;t>0&&e.length;)r.push(e.shift()),t--;return e.length&&r.push(e.join(":")),r}(e[n]);let i=r[0];if("string"!=typeof(r=r[1]))continue;r=r.trim();let o=t[i]||[];t[i]=o,o.push(r)}var n=function(e){return e.join(", ")};for(let e in t)n.call(void 0,t[e],e,t)})(this.g),400==t&&r.indexOf("Unknown SID")>0?(this.m=3,ep(12)):(this.m=0,ep(13)),eU(this),eV(this)}}}catch(e){}finally{}},eC.prototype.cancel=function(){this.K=!0,eU(this)},eC.prototype.aa=function(){var e,t;this.D=null;let r=Date.now();r-this.T>=0?(e=this.i,t=this.B,e.info(function(){return"TIMEOUT: "+t}),2!=this.M&&(ed(),ep(17)),eU(this),this.m=2,eV(this)):ej(this,this.T-r)};var eW=class{constructor(e,t){this.g=e,this.map=t}};function eq(e){this.l=e||10,e=a.PerformanceNavigationTiming?(e=a.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function eK(e){return!!e.h||!!e.g&&e.g.size>=e.j}function eH(e){return e.h?1:e.g?e.g.size:0}function eG(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function eQ(e,t){e.g?e.g.add(t):e.h=t}function eX(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function eJ(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(let r of e.g.values())t=t.concat(r.G);return t}return f(e.i)}eq.prototype.cancel=function(){if(this.i=eJ(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(let e of this.g.values())e.cancel();this.g.clear()}};var eY=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eZ(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof eZ?(this.l=e.l,e1(this,e.j),this.o=e.o,this.g=e.g,e2(this,e.u),this.h=e.h,e5(this,tc(e.i)),this.m=e.m):e&&(t=String(e).match(eY))?(this.l=!1,e1(this,t[1]||"",!0),this.o=e6(t[2]||""),this.g=e6(t[3]||"",!0),e2(this,t[4]),this.h=e6(t[5]||"",!0),e5(this,t[6]||"",!0),this.m=e6(t[7]||"")):(this.l=!1,this.i=new ti(null,this.l))}function e0(e){return new eZ(e)}function e1(e,t,r){e.j=r?e6(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function e2(e,t){if(t){if(isNaN(t=Number(t))||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function e5(e,t,r){var n,i;t instanceof ti?(e.i=t,n=e.i,(i=e.l)&&!n.j&&(to(n),n.i=null,n.g.forEach(function(e,t){let r=t.toLowerCase();t!=r&&(ta(this,t),tu(this,r,e))},n)),n.j=i):(r||(t=e8(t,tr)),e.i=new ti(t,e.l))}function e3(e,t,r){e.i.set(t,r)}function e4(e){return e3(e,"zx",Math.floor(0x80000000*Math.random()).toString(36)+Math.abs(Math.floor(0x80000000*Math.random())^Date.now()).toString(36)),e}function e6(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function e8(e,t,r){return"string"==typeof e?(e=encodeURI(e).replace(t,e9),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function e9(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}eZ.prototype.toString=function(){let e=[];var t=this.j;t&&e.push(e8(t,e7,!0),":");var r=this.g;return(r||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(e8(t,e7,!0),"@"),e.push(eS(r).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.u)&&e.push(":",String(r))),(r=this.h)&&(this.g&&"/"!=r.charAt(0)&&e.push("/"),e.push(e8(r,"/"==r.charAt(0)?tt:te,!0))),(r=this.i.toString())&&e.push("?",r),(r=this.m)&&e.push("#",e8(r,tn)),e.join("")},eZ.prototype.resolve=function(e){let t=e0(this),r=!!e.j;r?e1(t,e.j):r=!!e.o,r?t.o=e.o:r=!!e.g,r?t.g=e.g:r=null!=e.u;var n=e.h;if(r)e2(t,e.u);else if(r=!!e.h){if("/"!=n.charAt(0))if(this.g&&!this.h)n="/"+n;else{var i=t.h.lastIndexOf("/");-1!=i&&(n=t.h.slice(0,i+1)+n)}if(".."==(i=n)||"."==i)n="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){n=0==i.lastIndexOf("/",0),i=i.split("/");let e=[];for(let t=0;t<i.length;){let r=i[t++];"."==r?n&&t==i.length&&e.push(""):".."==r?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),n&&t==i.length&&e.push("")):(e.push(r),n=!0)}n=e.join("/")}else n=i}return r?t.h=n:r=""!==e.i.toString(),r?e5(t,tc(e.i)):r=!!e.m,r&&(t.m=e.m),t};var e7=/[#\/\?@]/g,te=/[#\?:]/g,tt=/[#\?]/g,tr=/[#\?@]/g,tn=/#/g;function ti(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function to(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let r=0;r<e.length;r++){let n=e[r].indexOf("="),i,o=null;n>=0?(i=e[r].substring(0,n),o=e[r].substring(n+1)):i=e[r],t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,function(t,r){e.add(decodeURIComponent(t.replace(/\+/g," ")),r)}))}function ta(e,t){to(e),t=th(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ts(e,t){return to(e),t=th(e,t),e.g.has(t)}function tl(e,t){to(e);let r=[];if("string"==typeof t)ts(e,t)&&(r=r.concat(e.g.get(th(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)r=r.concat(e[t]);return r}function tu(e,t,r){ta(e,t),r.length>0&&(e.i=null,e.g.set(th(e,t),f(r)),e.h+=r.length)}function tc(e){let t=new ti;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function th(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function td(e,t,r,n,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),n(r)}catch(e){}}function tf(){this.g=new er}function tp(e){this.i=e.Sb||null,this.h=e.ab||!1}function tg(e,t){H.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function tm(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function ty(e){e.readyState=4,e.l=null,e.j=null,e.B=null,tv(e)}function tv(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function tb(e){let t="";return F(e,function(e,r){t+=r,t+=":",t+=e,t+="\r\n"}),t}function tw(e,t,r){n:{for(n in r){var n=!1;break n}n=!0}n||(r=tb(r),"string"==typeof e?null!=r&&eS(r):e3(e,t,r))}function tx(e){H.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(t=ti.prototype).add=function(e,t){to(this),this.i=null,e=th(this,e);let r=this.g.get(e);return r||this.g.set(e,r=[]),r.push(t),this.h+=1,this},t.forEach=function(e,t){to(this),this.g.forEach(function(r,n){r.forEach(function(r){e.call(t,r,n,this)},this)},this)},t.set=function(e,t){return to(this),this.i=null,ts(this,e=th(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},t.get=function(e,t){return e&&(e=tl(this,e)).length>0?String(e[0]):t},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],t=Array.from(this.g.keys());for(let n=0;n<t.length;n++){var r=t[n];let i=eS(r);r=tl(this,r);for(let t=0;t<r.length;t++){let n=i;""!==r[t]&&(n+="="+eS(r[t])),e.push(n)}}return this.i=e.join("&")},h(tp,en),tp.prototype.g=function(){return new tg(this.i,this.h)},h(tg,H),(t=tg.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,tv(this)},t.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||a).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,ty(this)),this.readyState=0},t.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,tv(this)),this.g&&(this.readyState=3,tv(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(void 0!==a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;tm(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},t.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ty(this):tv(this),3==this.readyState&&tm(this)}},t.Oa=function(e){this.g&&(this.response=this.responseText=e,ty(this))},t.Na=function(e){this.g&&(this.response=e,ty(this))},t.ga=function(){this.g&&ty(this)},t.setRequestHeader=function(e,t){this.A.append(e,t)},t.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],t=this.h.entries();for(var r=t.next();!r.done;)e.push((r=r.value)[0]+": "+r[1]),r=t.next();return e.join("\r\n")},Object.defineProperty(tg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(tx,H);var tS=/^https?$/i,tC=["POST","PUT"];function tk(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,t_(e),tT(e)}function t_(e){e.A||(e.A=!0,G(e,"complete"),G(e,"error"))}function tA(e){if(e.h&&void 0!==o){if(e.v&&4==tE(e))setTimeout(e.Ca.bind(e),0);else if(G(e,"readystatechange"),4==tE(e)){e.h=!1;try{let o=e.ca();switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t,r,n=!0;break;default:n=!1}if(!(t=n)){if(r=0===o){let t=String(e.D).match(eY)[1]||null;!t&&a.self&&a.self.location&&(t=a.self.location.protocol.slice(0,-1)),r=!tS.test(t?t.toLowerCase():"")}t=r}if(t)G(e,"complete"),G(e,"success");else{e.o=6;try{var i=tE(e)>2?e.g.statusText:""}catch(e){i=""}e.l=i+" ["+e.ca()+"]",t_(e)}}finally{tT(e)}}}}function tT(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);let r=e.g;e.g=null,t||G(e,"ready");try{r.onreadystatechange=null}catch(e){}}}function tE(e){return e.g?e.g.readyState:0}function tI(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function tD(e,t,r){return r&&r.internalChannelParams&&r.internalChannelParams[e]||t}function tF(e){this.za=0,this.i=[],this.j=new ey,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=tD("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=tD("baseRetryDelayMs",5e3,e),this.Za=tD("retryDelaySeedMs",1e4,e),this.Ta=tD("forwardChannelMaxRetries",2,e),this.va=tD("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new eq(e&&e.concurrentRequestLimit),this.Ba=new tf,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function tP(e){if(tR(e),3==e.I){var t=e.V++,r=e0(e.J);if(e3(r,"SID",e.M),e3(r,"RID",t),e3(r,"TYPE","terminate"),tM(e,r),(t=new eC(e,e.j,t)).M=2,t.A=e4(e0(r)),r=!1,a.navigator&&a.navigator.sendBeacon)try{r=a.navigator.sendBeacon(t.A.toString(),"")}catch(e){}!r&&a.Image&&((new Image).src=t.A,r=!0),r||(t.g=tQ(t.j,null),t.g.ea(t.A)),t.F=Date.now(),eL(t)}tH(e)}function tN(e){e.g&&(tV(e),e.g.cancel(),e.g=null)}function tR(e){tN(e),e.v&&(a.clearTimeout(e.v),e.v=null),t$(e),e.h.cancel(),e.m&&("number"==typeof e.m&&a.clearTimeout(e.m),e.m=null)}function tO(e){if(!eK(e.h)&&!e.m){e.m=!0;var t=e.Ea;y||w(),v||(y(),v=!0),b.add(t,e),e.D=0}}function tB(e,t){var r;r=t?t.l:e.V++;let n=e0(e.J);e3(n,"SID",e.M),e3(n,"RID",r),e3(n,"AID",e.K),tM(e,n),e.u&&e.o&&tw(n,e.u,e.o),r=new eC(e,e.j,r,e.D+1),null===e.u&&(r.J=e.o),t&&(e.i=t.G.concat(e.i)),t=tL(e,r,1e3),r.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),eQ(e.h,r),eO(r,n,t)}function tM(e,t){e.H&&F(e.H,function(e,r){e3(t,r,e)}),e.l&&F({},function(e,r){e3(t,r,e)})}function tL(e,t,r){r=Math.min(e.i.length,r);let n=e.l?u(e.l.Ka,e.l,e):null;n:{var i=e.i;let t=-1;for(;;){let e=["count="+r];-1==t?r>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let u=0;u<r;u++){var o=i[u].g;let r=i[u].map;if((o-=t)<0)t=Math.max(0,i[u].g-100),l=!1;else try{o="req"+o+"_";try{var a=r instanceof Map?r:Object.entries(r);for(let[t,r]of a){let n=r;s(r)&&(n=ee(r)),e.push(o+t+"="+encodeURIComponent(n))}}catch(t){throw e.push(o+"type="+encodeURIComponent("_badmap")),t}}catch(e){n&&n(r)}}if(l){a=e.join("&");break n}}a=void 0}return t.G=e=e.i.splice(0,r),a}function tj(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;y||w(),v||(y(),v=!0),b.add(t,e),e.A=0}}function tz(e){return!e.g&&!e.v&&!(e.A>=3)&&(e.Y++,e.v=em(u(e.Da,e),tq(e,e.A)),e.A++,!0)}function tV(e){null!=e.B&&(a.clearTimeout(e.B),e.B=null)}function tU(e){e.g=new eC(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=e0(e.na);e3(t,"RID","rpc"),e3(t,"SID",e.M),e3(t,"AID",e.K),e3(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&e3(t,"TO",e.ia),e3(t,"TYPE","xmlhttp"),tM(e,t),e.u&&e.o&&tw(t,e.u,e.o),e.O&&(e.g.H=e.O);var r=e.g;e=e.ba,r.M=1,r.A=e4(e0(t)),r.u=null,r.R=!0,eB(r,e)}function t$(e){null!=e.C&&(a.clearTimeout(e.C),e.C=null)}function tW(e,t){var r,n=null;if(e.g==t){t$(e),tV(e),e.g=null;var i=2}else{if(!eG(e.h,t))return;n=t.G,eX(e.h,t),i=1}if(0!=e.I){if(t.o)if(1==i){n=t.u?t.u.length:0,t=Date.now()-t.F;var o=e.D;G(i=ec(),new eg(i,n)),tO(e)}else tj(e);else if(3==(o=t.m)||0==o&&t.X>0||!(1==i&&(r=t,!(eH(e.h)>=e.h.j-!!e.m)&&(e.m?(e.i=r.G.concat(e.i),!0):1!=e.I&&2!=e.I&&!(e.D>=(e.Sa?0:e.Ta))&&(e.m=em(u(e.Ea,e,r),tq(e,e.D)),e.D++,!0)))||2==i&&tz(e)))switch(n&&n.length>0&&((t=e.h).i=t.i.concat(n)),o){case 1:tK(e,5);break;case 4:tK(e,10);break;case 3:tK(e,6);break;default:tK(e,2)}}}function tq(e,t){let r=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(r*=2),r*t}function tK(e,t){if(e.j.info("Error code "+t),2==t){let t,o,s;var r,n=u(e.bb,e),i=e.Ua;let l=!i;i=new eZ(i||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||e1(i,"https"),e4(i),l?function(e,t){let r=new ey;if(a.Image){let n=new Image;n.onload=c(td,r,"TestLoadImage: loaded",!0,t,n),n.onerror=c(td,r,"TestLoadImage: error",!1,t,n),n.onabort=c(td,r,"TestLoadImage: abort",!1,t,n),n.ontimeout=c(td,r,"TestLoadImage: timeout",!1,t,n),a.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=e}else t(!1)}(i.toString(),n):(r=i.toString(),t=new ey,o=new AbortController,s=setTimeout(()=>{o.abort(),td(t,"TestPingServer: timeout",!1,n)},1e4),fetch(r,{signal:o.signal}).then(e=>{clearTimeout(s),e.ok?td(t,"TestPingServer: ok",!0,n):td(t,"TestPingServer: server error",!1,n)}).catch(()=>{clearTimeout(s),td(t,"TestPingServer: error",!1,n)}))}else ep(2);e.I=0,e.l&&e.l.pa(t),tH(e),tR(e)}function tH(e){if(e.I=0,e.ja=[],e.l){let t=eJ(e.h);(0!=t.length||0!=e.i.length)&&(p(e.ja,t),p(e.ja,e.i),e.h.i.length=0,f(e.i),e.i.length=0),e.l.oa()}}function tG(e,t,r){var n=r instanceof eZ?e0(r):new eZ(r);if(""!=n.g)t&&(n.g=t+"."+n.g),e2(n,n.u);else{var i=a.location;n=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;let e=new eZ(null);n&&e1(e,n),t&&(e.g=t),i&&e2(e,i),r&&(e.h=r),n=e}return r=e.G,t=e.wa,r&&t&&e3(n,r,t),e3(n,"VER",e.ka),tM(e,n),n}function tQ(e,t,r){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new tx(e.Aa&&!e.ma?new tp({ab:r}):e.ma)).Fa(e.L),t}function tX(){}function tJ(){}function tY(e,t){H.call(this),this.g=new tF(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!_(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!_(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new t1(this)}function tZ(e){ea.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){n:{for(let r in t){e=r;break n}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function t0(){es.call(this),this.status=1}function t1(e){this.g=e}(t=tx.prototype).Fa=function(e){this.H=e},t.ea=function(t,r,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);r=r?r.toUpperCase():"GET",this.D=t,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():e.g(),this.g.onreadystatechange=d(u(this.Ca,this));try{this.B=!0,this.g.open(r,String(t),!0),this.B=!1}catch(e){tk(this,e);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var o in i)n.set(o,i[o]);else if("function"==typeof i.keys&&"function"==typeof i.get)for(let e of i.keys())n.set(e,i.get(e));else throw Error("Unknown input type for opt_headers: "+String(i));for(let[e,s]of(i=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),o=a.FormData&&t instanceof a.FormData,!(Array.prototype.indexOf.call(tC,r,void 0)>=0)||i||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),n))this.g.setRequestHeader(e,s);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(t),this.v=!1}catch(e){tk(this,e)}},t.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,G(this,"complete"),G(this,"abort"),tT(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tT(this,!0)),tx.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?tA(this):this.Xa())},t.Xa=function(){tA(this)},t.isActive=function(){return!!this.g},t.ca=function(){try{return tE(this)>2?this.g.status:-1}catch(e){return -1}},t.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},t.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),et(t)}},t.ya=function(){return this.o},t.Ha=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=tF.prototype).ka=8,t.I=1,t.connect=function(e,t,r,n){ep(0),this.W=e,this.H=t||{},r&&void 0!==n&&(this.H.OSID=r,this.H.OAID=n),this.F=this.X,this.J=tG(this,null,this.W),tO(this)},t.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;let i=new eC(this,this.j,e),o=this.o;if(this.U&&(o?R(o=P(o),this.U):o=this.U),null!==this.u||this.R||(i.J=o,o=null),this.S)n:{for(var t=0,r=0;r<this.i.length;r++){i:{var n=this.i[r];if("__data__"in n.map&&"string"==typeof(n=n.map.__data__)){n=n.length;break i}n=void 0}if(void 0===n)break;if((t+=n)>4096){t=r;break n}if(4096===t||r===this.i.length-1){t=r+1;break n}}t=1e3}else t=1e3;t=tL(this,i,t),e3(r=e0(this.J),"RID",e),e3(r,"CVER",22),this.G&&e3(r,"X-HTTP-Session-Id",this.G),tM(this,r),o&&(this.R?t="headers="+eS(tb(o))+"&"+t:this.u&&tw(r,this.u,o)),eQ(this.h,i),this.Ra&&e3(r,"TYPE","init"),this.S?(e3(r,"$req",t),e3(r,"SID","null"),i.U=!0,eO(i,r,null)):eO(i,r,t),this.I=2}}else 3==this.I&&(e?tB(this,e):0==this.i.length||eK(this.h)||tB(this))},t.Da=function(){if(this.v=null,tU(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=em(u(this.Wa,this),e)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ep(10),tN(this),tU(this))},t.Va=function(){null!=this.C&&(this.C=null,tN(this),tz(this),ep(19))},t.bb=function(e){e?(this.j.info("Successfully pinged google.com"),ep(2)):(this.j.info("Failed to ping google.com"),ep(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=tX.prototype).ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){},tJ.prototype.g=function(e,t){return new tY(e,t)},h(tY,H),tY.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tY.prototype.close=function(){tP(this.g)},tY.prototype.o=function(e){var t=this.g;if("string"==typeof e){var r={};r.__data__=e,e=r}else this.v&&((r={}).__data__=ee(e),e=r);t.i.push(new eW(t.Ya++,e)),3==t.I&&tO(t)},tY.prototype.N=function(){this.g.l=null,delete this.j,tP(this.g),delete this.g,tY.Z.N.call(this)},h(tZ,ea),h(t0,es),h(t1,tX),t1.prototype.ra=function(){G(this.g,"a")},t1.prototype.qa=function(e){G(this.g,new tZ(e))},t1.prototype.pa=function(e){G(this.g,new t0)},t1.prototype.oa=function(){G(this.g,"b")},tJ.prototype.createWebChannel=tJ.prototype.g,tY.prototype.send=tY.prototype.o,tY.prototype.open=tY.prototype.m,tY.prototype.close=tY.prototype.close,eR=yE.createWebChannelTransport=function(){return new tJ},eN=yE.getStatEventTarget=function(){return ec()},eP=yE.Event=el,eF=yE.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},eb.NO_ERROR=0,eb.TIMEOUT=8,eb.HTTP_ERROR=6,eD=yE.ErrorCode=eb,ew.COMPLETE="complete",eI=yE.EventType=ew,ei.EventType=eo,eo.OPEN="a",eo.CLOSE="b",eo.ERROR="c",eo.MESSAGE="d",H.prototype.listen=H.prototype.J,eE=yE.WebChannel=ei,yE.FetchXmlHttpFactory=tp,tx.prototype.listenOnce=tx.prototype.K,tx.prototype.getLastError=tx.prototype.Ha,tx.prototype.getLastErrorCode=tx.prototype.ya,tx.prototype.getStatus=tx.prototype.ca,tx.prototype.getResponseJson=tx.prototype.La,tx.prototype.getResponseText=tx.prototype.la,tx.prototype.send=tx.prototype.ea,tx.prototype.setWithCredentials=tx.prototype.Fa,eT=yE.XhrIo=tx}).apply(void 0!==yT?yT:"u">typeof self?self:"u">typeof window?window:{});class yI{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yI.UNAUTHENTICATED=new yI(null),yI.GOOGLE_CREDENTIALS=new yI("google-credentials-uid"),yI.FIRST_PARTY=new yI("first-party-uid"),yI.MOCK_USER=new yI("mock-user");let yD="12.8.0",yF=new mR("@firebase/firestore");function yP(){return yF.logLevel}function yN(e,...t){if(yF.logLevel<=ek.DEBUG){let r=t.map(yB);yF.debug(`Firestore (${yD}): ${e}`,...r)}}function yR(e,...t){if(yF.logLevel<=ek.ERROR){let r=t.map(yB);yF.error(`Firestore (${yD}): ${e}`,...r)}}function yO(e,...t){if(yF.logLevel<=ek.WARN){let r=t.map(yB);yF.warn(`Firestore (${yD}): ${e}`,...r)}}function yB(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function yM(e,t,r){let n="Unexpected state";"string"==typeof t?n=t:r=t,yL(e,n,r)}function yL(e,t,r){let n=`FIRESTORE (${yD}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==r)try{n+=" CONTEXT: "+JSON.stringify(r)}catch(e){n+=" CONTEXT: "+r}throw yR(n),Error(n)}function yj(e,t,r,n){let i="Unexpected state";"string"==typeof r?i=r:n=r,e||yL(t,i,n)}let yz={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yV extends mb{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yU{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class y${constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yI.UNAUTHENTICATED))}shutdown(){}}class yq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class yK{constructor(e){this.t=e,this.currentUser=yI.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){yj(void 0===this.o,42304);let r=this.i,n=e=>this.i!==r?(r=this.i,t(e)):Promise.resolve(),i=new yU;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new yU,e.enqueueRetryable(()=>n(this.currentUser))};let o=()=>{let t=i;e.enqueueRetryable(async()=>{await t.promise,await n(this.currentUser)})},a=e=>{yN("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?a(e):(yN("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new yU)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(yN("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(yj("string"==typeof t.accessToken,31837,{l:t}),new y$(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return yj(null===e||"string"==typeof e,2055,{h:e}),new yI(e)}}class yH{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=yI.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);let e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class yG{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new yH(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(yI.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yQ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yX{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,m7(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){yj(void 0===this.o,3512);let r=e=>{null!=e.error&&yN("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let r=e.token!==this.m;return this.m=e.token,yN("FirebaseAppCheckTokenProvider",`Received ${r?"new":"existing"} token.`),r?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>r(t))};let n=e=>{yN("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>n(e)),setTimeout(()=>{if(!this.appCheck){let e=this.V.getImmediate({optional:!0});e?n(e):yN("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new yQ(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(yj("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new yQ(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class yJ{static newId(){let e=62*Math.floor(256/62),t="";for(;t.length<20;){let r=function(e){let t="u">typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(40);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(r);else for(let e=0;e<40;e++)r[e]=Math.floor(256*Math.random());return r}(0);for(let n=0;n<r.length;++n)t.length<20&&r[n]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[n]%62))}return t}}function yY(e,t){return e<t?-1:+(e>t)}function yZ(e,t){let r=Math.min(e.length,t.length);for(let n=0;n<r;n++){let r=e.charAt(n),i=t.charAt(n);if(r!==i)return y0(r)===y0(i)?yY(r,i):y0(r)?1:-1}return yY(e.length,t.length)}function y0(e){let t=e.charCodeAt(0);return t>=55296&&t<=57343}function y1(e,t,r){return e.length===t.length&&e.every((e,n)=>r(e,t[n]))}let y2="__name__";class y5{constructor(e,t,r){void 0===t?t=0:t>e.length&&yM(637,{offset:t,range:e.length}),void 0===r?r=e.length-t:r>e.length-t&&yM(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===y5.comparator(this,e)}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof y5?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let n=0;n<r;n++){let r=y5.compareSegments(e.get(n),t.get(n));if(0!==r)return r}return yY(e.length,t.length)}static compareSegments(e,t){let r=y5.isNumericId(e),n=y5.isNumericId(t);return r&&!n?-1:!r&&n?1:r&&n?y5.extractNumericId(e).compare(y5.extractNumericId(t)):yZ(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return e_.fromString(e.substring(4,e.length-2))}}class y3 extends y5{construct(e,t,r){return new y3(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new yV(yz.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(e=>e.length>0))}return new y3(t)}static emptyPath(){return new y3([])}}let y4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class y6 extends y5{construct(e,t,r){return new y6(e,t,r)}static isValidIdentifier(e){return y4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),y6.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===y2}static keyField(){return new y6([y2])}static fromServerFormat(e){let t=[],r="",n=0,i=()=>{if(0===r.length)throw new yV(yz.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;n<e.length;){let t=e[n];if("\\"===t){if(n+1===e.length)throw new yV(yz.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let t=e[n+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new yV(yz.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=t,n+=2}else"`"===t?o=!o:"."!==t||o?r+=t:i(),n++}if(i(),o)throw new yV(yz.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new y6(t)}static emptyPath(){return new y6([])}}class y8{constructor(e){this.path=e}static fromPath(e){return new y8(y3.fromString(e))}static fromName(e){return new y8(y3.fromString(e).popFirst(5))}static empty(){return new y8(y3.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===y3.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return y3.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new y8(new y3(e.slice()))}}function y9(e,t,r){if(!r)throw new yV(yz.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function y7(e){if(!y8.isDocumentKey(e))throw new yV(yz.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ve(e){if(y8.isDocumentKey(e))throw new yV(yz.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function vt(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function vr(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{var t;let r=(t=e).constructor?t.constructor.name:null;return r?`a custom ${r} object`:"an object"}}return"function"==typeof e?"a function":yM(12329,{type:typeof e})}function vn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new yV(yz.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let r=vr(e);throw new yV(yz.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function vi(e,t){if(t<=0)throw new yV(yz.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}function vo(e,t){let r={typeString:e};return t&&(r.value=t),r}function va(e,t){let r;if(!vt(e))throw new yV(yz.INVALID_ARGUMENT,"JSON must be an object");for(let n in t)if(t[n]){let i=t[n].typeString,o="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){r=`JSON missing required field: '${n}'`;break}let a=e[n];if(i&&typeof a!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(void 0!==o&&a!==o.value){r=`Expected '${n}' field to equal '${o.value}'`;break}}if(r)throw new yV(yz.INVALID_ARGUMENT,r);return!0}class vs{static now(){return vs.fromMillis(Date.now())}static fromDate(e){return vs.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*1e6);return new vs(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new yV(yz.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-0xe7791f700||e>=0x3afff44180)throw new yV(yz.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?yY(this.nanoseconds,e.nanoseconds):yY(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vs._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(va(e,vs._jsonSchema))return new vs(e.seconds,e.nanoseconds)}valueOf(){return String(this.seconds- -0xe7791f700).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vs._jsonSchemaVersion="firestore/timestamp/1.0",vs._jsonSchema={type:vo("string",vs._jsonSchemaVersion),seconds:vo("number"),nanoseconds:vo("number")};class vl{static fromTimestamp(e){return new vl(e)}static min(){return new vl(new vs(0,0))}static max(){return new vl(new vs(0x3afff4417f,0x3b9ac9ff))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class vu{constructor(e,t,r,n){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=n}}function vc(e){return e.fields.find(e=>2===e.kind)}function vh(e){return e.fields.filter(e=>2!==e.kind)}function vd(e,t){let r=yY(e.collectionGroup,t.collectionGroup);if(0!==r)return r;for(let n=0;n<Math.min(e.fields.length,t.fields.length);++n)if(0!==(r=function(e,t){let r=y6.comparator(e.fieldPath,t.fieldPath);return 0!==r?r:yY(e.kind,t.kind)}(e.fields[n],t.fields[n])))return r;return yY(e.fields.length,t.fields.length)}vu.UNKNOWN_ID=-1;class vf{constructor(e,t){this.fieldPath=e,this.kind=t}}class vp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new vp(0,vy.min())}}function vg(e,t){let r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1;return new vy(vl.fromTimestamp(1e9===n?new vs(r+1,0):new vs(r,n)),y8.empty(),t)}function vm(e){return new vy(e.readTime,e.key,-1)}class vy{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new vy(vl.min(),y8.empty(),-1)}static max(){return new vy(vl.max(),y8.empty(),-1)}}function vv(e,t){let r=e.readTime.compareTo(t.readTime);return 0!==r||0!==(r=y8.comparator(e.documentKey,t.documentKey))?r:yY(e.largestBatchId,t.largestBatchId)}let vb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function vx(e){if(e.code!==yz.FAILED_PRECONDITION||e.message!==vb)throw e;yN("LocalStore","Unexpectedly lost primary lease")}class vS{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&yM(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new vS((r,n)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(r,n)},this.catchCallback=e=>{this.wrapFailure(t,e).next(r,n)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof vS?t:vS.resolve(t)}catch(e){return vS.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):vS.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):vS.reject(t)}static resolve(e){return new vS((t,r)=>{t(e)})}static reject(e){return new vS((t,r)=>{r(e)})}static waitFor(e){return new vS((t,r)=>{let n=0,i=0,o=!1;e.forEach(e=>{++n,e.next(()=>{++i,o&&i===n&&t()},e=>r(e))}),o=!0,i===n&&t()})}static or(e){let t=vS.resolve(!1);for(let r of e)t=t.next(e=>e?vS.resolve(e):r());return t}static forEach(e,t){let r=[];return e.forEach((e,n)=>{r.push(t.call(this,e,n))}),this.waitFor(r)}static mapArray(e,t){return new vS((r,n)=>{let i=e.length,o=Array(i),a=0;for(let s=0;s<i;s++){let l=s;t(e[l]).next(e=>{o[l]=e,++a===i&&r(o)},e=>n(e))}})}static doWhile(e,t){return new vS((r,n)=>{let i=()=>{!0===e()?t().next(()=>{i()},n):r()};i()})}}let vC="SimpleDb";class vk{static open(e,t,r,n){try{return new vk(t,e.transaction(n,r))}catch(e){throw new vE(t,e)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new yU,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new vE(e,t.error)):this.S.resolve()},this.transaction.onerror=t=>{let r=vN(t.target.error);this.S.reject(new vE(e,r))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(yN(vC,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){let e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){return new vD(this.transaction.objectStore(e))}}class v_{static delete(e){return yN(vC,"Removing database:",e),vF(mo().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!mv())return!1;if(v_.F())return!0;let e=mf(),t=v_.M(e),r=vA(e);return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||0<t&&t<10||0<r&&r<4.5)}static F(){return void 0!==tT.default&&"YES"===tT.default.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE}static O(e,t){return e.store(t)}static M(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i);return Number(t?t[1].split("_").slice(0,2).join("."):"-1")}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,12.2===v_.M(mf())&&yR("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(yN(vC,"Opening database:",this.name),this.db=await new Promise((t,r)=>{let n=indexedDB.open(this.name,this.version);n.onsuccess=e=>{t(e.target.result)},n.onblocked=()=>{r(new vE(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},n.onerror=t=>{let n=t.target.error;"VersionError"===n.name?r(new yV(yz.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new yV(yz.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new vE(e,n))},n.onupgradeneeded=e=>{yN(vC,'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);let t=e.target.result;this.N.k(t,n.transaction,e.oldVersion,this.version).next(()=>{yN(vC,"Database upgrade to version "+this.version+" complete")})}})),this.K&&(this.db.onversionchange=e=>this.K(e)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,n){let i="readonly"===t,o=0;for(;;){++o;try{this.db=await this.L(e);let t=vk.open(this.db,e,i?"readonly":"readwrite",r),o=n(t).next(e=>(t.C(),e)).catch(e=>(t.abort(e),vS.reject(e))).toPromise();return o.catch(()=>{}),await t.D,o}catch(t){let e="FirebaseError"!==t.name&&o<3;if(yN(vC,"Transaction failed with error:",t.message,"Retrying:",e),this.close(),!e)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function vA(e){let t=e.match(/Android ([\d.]+)/i);return Number(t?t[1].split(".").slice(0,2).join("."):"-1")}class vT{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return vF(this.U.delete())}}class vE extends yV{constructor(e,t){super(yz.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function vI(e){return"IndexedDbTransactionError"===e.name}class vD{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(yN(vC,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(yN(vC,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),vF(r)}add(e){return yN(vC,"ADD",this.store.name,e,e),vF(this.store.add(e))}get(e){return vF(this.store.get(e)).next(t=>(void 0===t&&(t=null),yN(vC,"GET",this.store.name,e,t),t))}delete(e){return yN(vC,"DELETE",this.store.name,e),vF(this.store.delete(e))}count(){return yN(vC,"COUNT",this.store.name),vF(this.store.count())}H(e,t){let r=this.options(e,t),n=r.index?this.store.index(r.index):this.store;if("function"==typeof n.getAll){let e=n.getAll(r.range);return new vS((t,r)=>{e.onerror=e=>{r(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}{let e=this.cursor(r),t=[];return this.J(e,(e,r)=>{t.push(r)}).next(()=>t)}}Z(e,t){let r=this.store.getAll(e,null===t?void 0:t);return new vS((e,t)=>{r.onerror=e=>{t(e.target.error)},r.onsuccess=t=>{e(t.target.result)}})}X(e,t){yN(vC,"DELETE ALL",this.store.name);let r=this.options(e,t);r.Y=!1;let n=this.cursor(r);return this.J(n,(e,t,r)=>r.delete())}ee(e,t){let r;t?r=e:(r={},t=e);let n=this.cursor(r);return this.J(n,t)}te(e){let t=this.cursor({});return new vS((r,n)=>{t.onerror=e=>{n(vN(e.target.error))},t.onsuccess=t=>{let n=t.target.result;n?e(n.primaryKey,n.value).next(e=>{e?n.continue():r()}):r()}})}J(e,t){let r=[];return new vS((n,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{let i=e.target.result;if(!i)return void n();let o=new vT(i),a=t(i.primaryKey,i.value,o);if(a instanceof vS){let e=a.catch(e=>(o.done(),vS.reject(e)));r.push(e)}o.isDone?n():null===o.G?i.continue():i.continue(o.G)}}).next(()=>vS.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){let r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function vF(e){return new vS((t,r)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{r(vN(e.target.error))}})}let vP=!1;function vN(e){let t=v_.M(mf());if(t>=12.2&&t<13){let t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){let e=new yV("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vP||(vP=!0,setTimeout(()=>{throw e},0)),e}}return e}let vR="IndexBackfiller";class vO{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}re(e){yN(vR,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{let e=await this.ne.ie();yN(vR,`Documents written: ${e}`)}catch(e){vI(e)?yN(vR,"Ignoring IndexedDB error during index backfill: ",e):await vx(e)}await this.re(6e4)})}}class vB{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.se(t,e))}se(e,t){let r=new Set,n=t,i=!0;return vS.doWhile(()=>!0===i&&n>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>{if(null!==t&&!r.has(t))return yN(vR,`Processing collection: ${t}`),this.oe(e,t,n).next(e=>{n-=e,r.add(t)});i=!1})).next(()=>t-n)}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(n=>this.localStore.localDocuments.getNextDocuments(e,t,n,r).next(r=>{let i=r.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next(()=>this._e(n,r)).next(r=>(yN(vR,`Updating offset: ${r}`),this.localStore.indexManager.updateCollectionGroup(e,t,r))).next(()=>i.size)}))}_e(e,t){let r=e;return t.changes.forEach((e,t)=>{let n=vm(t);vv(n,r)>0&&(r=n)}),new vy(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class vM{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ue&&this.ue(e),e}}function vL(e){return null==e}function vj(e){return 0===e&&1/e==-1/0}function vz(e){return"number"==typeof e&&Number.isInteger(e)&&!vj(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function vV(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t+="\x01\x01"),t=function(e,t){let r=t,n=e.length;for(let t=0;t<n;t++){let n=e.charAt(t);switch(n){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=n}}return r}(e.get(r),t);return t+"\x01\x01"}vM.ce=-1;function vU(e){let t=e.length;if(yj(t>=2,64408,{path:e}),2===t)return yj("\x01"===e.charAt(0)&&"\x01"===e.charAt(1),56145,{path:e}),y3.emptyPath();let r=t-2,n=[],i="";for(let o=0;o<t;){let t=e.indexOf("\x01",o);switch((t<0||t>r)&&yM(50515,{path:e}),e.charAt(t+1)){case"\x01":let a,s=e.substring(o,t);0===i.length?a=s:(i+=s,a=i,i=""),n.push(a);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:yM(61167,{path:e})}o=t+2}return new y3(n)}let v$="remoteDocuments",vW="owner",vq="owner",vK="mutationQueues",vH="mutations",vG="batchId",vQ="userMutationsIndex",vX=["userId","batchId"],vJ={},vY="documentMutations",vZ="remoteDocumentsV14",v0=["prefixPath","collectionGroup","readTime","documentId"],v1="documentKeyIndex",v2=["prefixPath","collectionGroup","documentId"],v5="collectionGroupIndex",v3=["collectionGroup","readTime","prefixPath","documentId"],v4="remoteDocumentGlobal",v6="remoteDocumentGlobalKey",v8="targets",v9="queryTargetsIndex",v7=["canonicalId","targetId"],be="targetDocuments",bt=["targetId","path"],br="documentTargetsIndex",bn=["path","targetId"],bi="targetGlobalKey",bo="targetGlobal",ba="collectionParents",bs=["collectionId","parent"],bl="clientMetadata",bu="bundles",bc="namedQueries",bh="indexConfiguration",bd="collectionGroupIndex",bf="indexState",bp=["indexId","uid"],bg="sequenceNumberIndex",bm=["uid","sequenceNumber"],by="indexEntries",bv=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bb="documentKeyIndex",bw=["indexId","uid","orderedDocumentKey"],bx="documentOverlays",bS=["userId","collectionPath","documentId"],bC="collectionPathOverlayIndex",bk=["userId","collectionPath","largestBatchId"],b_="collectionGroupOverlayIndex",bA=["userId","collectionGroup","largestBatchId"],bT="globals",bE=[vK,vH,vY,v$,v8,vW,bo,be,bl,v4,ba,bu,bc],bI=[...bE,bx],bD=[vK,vH,vY,vZ,v8,vW,bo,be,bl,v4,ba,bu,bc,bx],bF=[...bD,bh,bf,by],bP=[...bF,bT];class bN extends vw{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function bR(e,t){return v_.O(e.le,t)}function bO(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function bB(e,t){for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function bM(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class bL{constructor(e,t){this.comparator=e,this.root=t||bz.EMPTY}insert(e,t){return new bL(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bz.BLACK,null,null))}remove(e){return new bL(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bz.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let n=this.comparator(e,r.key);if(0===n)return t+r.left.size;n<0?r=r.left:(t+=r.left.size+1,r=r.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bj(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bj(this.root,e,this.comparator,!1)}getReverseIterator(){return new bj(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bj(this.root,e,this.comparator,!0)}}class bj{constructor(e,t,r,n){this.isReverse=n,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&n&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bz{constructor(e,t,r,n,i){this.key=e,this.value=t,this.color=null!=r?r:bz.RED,this.left=null!=n?n:bz.EMPTY,this.right=null!=i?i:bz.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,n,i){return new bz(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=n?n:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let n=this,i=r(e,n.key);return(n=i<0?n.copy(null,null,null,n.left.insert(e,t,r),null):0===i?n.copy(null,t,null,null,null):n.copy(null,null,null,null,n.right.insert(e,t,r))).fixUp()}removeMin(){if(this.left.isEmpty())return bz.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}remove(e,t){let r,n=this;if(0>t(e,n.key))n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),0===t(e,n.key)){if(n.right.isEmpty())return bz.EMPTY;r=n.right.min(),n=n.copy(r.key,r.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}rotateLeft(){let e=this.copy(null,null,bz.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,bz.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return Math.pow(2,this.check())<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yM(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yM(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw yM(27949);return e+ +!this.isRed()}}bz.EMPTY=null,bz.RED=!0,bz.BLACK=!1,bz.EMPTY=new class{constructor(){this.size=0}get key(){throw yM(57766)}get value(){throw yM(16141)}get color(){throw yM(16727)}get left(){throw yM(29726)}get right(){throw yM(36894)}copy(e,t,r,n,i){return this}insert(e,t,r){return new bz(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bV{constructor(e){this.comparator=e,this.data=new bL(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let n=r.getNext();if(this.comparator(n.key,e[1])>=0)return;t(n.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bU(this.data.getIterator())}getIteratorFrom(e){return new bU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof bV)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let e=t.getNext().key,n=r.getNext().key;if(0!==this.comparator(e,n))return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new bV(this.comparator);return t.data=e,t}}class bU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function b$(e){return e.hasNext()?e.getNext():void 0}class bW{constructor(e){this.fields=e,e.sort(y6.comparator)}static empty(){return new bW([])}unionWith(e){let t=new bV(y6.comparator);for(let e of this.fields)t=t.add(e);for(let r of e)t=t.add(r);return new bW(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return y1(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class bq extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bK{constructor(e){this.binaryString=e}static fromBase64String(e){return new bK(function(e){try{return atob(e)}catch(e){throw"u">typeof DOMException&&e instanceof DOMException?new bq("Invalid base64 string: "+e):e}}(e))}static fromUint8Array(e){return new bK(function(e){let t="";for(let r=0;r<e.length;++r)t+=String.fromCharCode(e[r]);return t}(e))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){var e=this.binaryString;let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yY(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bK.EMPTY_BYTE_STRING=new bK("");let bH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bG(e){if(yj(!!e,39018),"string"==typeof e){let t=0,r=bH.exec(e);if(yj(!!r,46558,{timestamp:e}),r[1]){let e=r[1];t=Number(e=(e+"000000000").substr(0,9))}return{seconds:Math.floor(new Date(e).getTime()/1e3),nanos:t}}return{seconds:bQ(e.seconds),nanos:bQ(e.nanos)}}function bQ(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function bX(e){return"string"==typeof e?bK.fromBase64String(e):bK.fromUint8Array(e)}let bJ="server_timestamp",bY="__type__",bZ="__previous_value__",b0="__local_write_time__";function b1(e){return(e?.mapValue?.fields||{})[bY]?.stringValue===bJ}function b2(e){let t=e.mapValue.fields[bZ];return b1(t)?b2(t):t}function b5(e){let t=bG(e.mapValue.fields[b0].timestampValue);return new vs(t.seconds,t.nanos)}class b3{constructor(e,t,r,n,i,o,a,s,l,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=n,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l,this.isUsingEmulator=u,this.apiKey=c}}let b4="(default)";class b6{constructor(e,t){this.projectId=e,this.database=t||b4}static empty(){return new b6("","")}get isDefaultDatabase(){return this.database===b4}isEqual(e){return e instanceof b6&&e.projectId===this.projectId&&e.database===this.database}}let b8="__type__",b9="__max__",b7={mapValue:{fields:{__type__:{stringValue:b9}}}},we="__vector__",wt="value",wr={nullValue:"NULL_VALUE"};function wn(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?b1(e)?4:wv(e)?0x1fffffffffffff:wm(e)?10:11:yM(28295,{value:e})}function wi(e,t){if(e===t)return!0;let r=wn(e);if(r!==wn(t))return!1;switch(r){case 0:case 0x1fffffffffffff:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return b5(e).isEqual(b5(t));case 3:if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let n=bG(e.timestampValue),i=bG(t.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos;case 5:return e.stringValue===t.stringValue;case 6:return bX(e.bytesValue).isEqual(bX(t.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return bQ(e.geoPointValue.latitude)===bQ(t.geoPointValue.latitude)&&bQ(e.geoPointValue.longitude)===bQ(t.geoPointValue.longitude);case 2:if("integerValue"in e&&"integerValue"in t)return bQ(e.integerValue)===bQ(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){let r=bQ(e.doubleValue),n=bQ(t.doubleValue);return r===n?vj(r)===vj(n):isNaN(r)&&isNaN(n)}return!1;case 9:return y1(e.arrayValue.values||[],t.arrayValue.values||[],wi);case 10:case 11:let o=e.mapValue.fields||{},a=t.mapValue.fields||{};if(bO(o)!==bO(a))return!1;for(let e in o)if(o.hasOwnProperty(e)&&(void 0===a[e]||!wi(o[e],a[e])))return!1;return!0;default:return yM(52216,{left:e})}}function wo(e,t){return void 0!==(e.values||[]).find(e=>wi(e,t))}function wa(e,t){var r,n,i,o,a,s;if(e===t)return 0;let l=wn(e),u=wn(t);if(l!==u)return yY(l,u);switch(l){case 0:case 0x1fffffffffffff:return 0;case 1:return yY(e.booleanValue,t.booleanValue);case 2:let c,h;return c=bQ(e.integerValue||e.doubleValue),c<(h=bQ(t.integerValue||t.doubleValue))?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1;case 3:return ws(e.timestampValue,t.timestampValue);case 4:return ws(b5(e),b5(t));case 5:return yZ(e.stringValue,t.stringValue);case 6:let d,f;return r=e.bytesValue,n=t.bytesValue,d=bX(r),f=bX(n),d.compareTo(f);case 7:return function(e,t){let r=e.split("/"),n=t.split("/");for(let e=0;e<r.length&&e<n.length;e++){let t=yY(r[e],n[e]);if(0!==t)return t}return yY(r.length,n.length)}(e.referenceValue,t.referenceValue);case 8:let p;return i=e.geoPointValue,o=t.geoPointValue,0!==(p=yY(bQ(i.latitude),bQ(o.latitude)))?p:yY(bQ(i.longitude),bQ(o.longitude));case 9:return wl(e.arrayValue,t.arrayValue);case 10:let g,m,y,v,b;return a=e.mapValue,s=t.mapValue,g=a.fields||{},m=s.fields||{},y=g[wt]?.arrayValue,v=m[wt]?.arrayValue,0!==(b=yY(y?.values?.length||0,v?.values?.length||0))?b:wl(y,v);case 11:return function(e,t){if(e===b7.mapValue&&t===b7.mapValue)return 0;if(e===b7.mapValue)return 1;if(t===b7.mapValue)return -1;let r=e.fields||{},n=Object.keys(r),i=t.fields||{},o=Object.keys(i);n.sort(),o.sort();for(let e=0;e<n.length&&e<o.length;++e){let t=yZ(n[e],o[e]);if(0!==t)return t;let a=wa(r[n[e]],i[o[e]]);if(0!==a)return a}return yY(n.length,o.length)}(e.mapValue,t.mapValue);default:throw yM(23264,{he:l})}}function ws(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return yY(e,t);let r=bG(e),n=bG(t),i=yY(r.seconds,n.seconds);return 0!==i?i:yY(r.nanos,n.nanos)}function wl(e,t){let r=e.values||[],n=t.values||[];for(let e=0;e<r.length&&e<n.length;++e){let t=wa(r[e],n[e]);if(t)return t}return yY(r.length,n.length)}function wu(e){var t,r;let n;return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(n=bG(e.timestampValue),`time(${n.seconds},${n.nanos})`):"stringValue"in e?e.stringValue:"bytesValue"in e?bX(e.bytesValue).toBase64():"referenceValue"in e?(t=e.referenceValue,y8.fromName(t).toString()):"geoPointValue"in e?(r=e.geoPointValue,`geo(${r.latitude},${r.longitude})`):"arrayValue"in e?function(e){let t="[",r=!0;for(let n of e.values||[])r?r=!1:t+=",",t+=wu(n);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){let t=Object.keys(e.fields||{}).sort(),r="{",n=!0;for(let i of t)n?n=!1:r+=",",r+=`${i}:${wu(e.fields[i])}`;return r+"}"}(e.mapValue):yM(61005,{value:e})}function wc(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function wh(e){return!!e&&"integerValue"in e}function wd(e){return!!e&&"arrayValue"in e}function wf(e){return!!e&&"nullValue"in e}function wp(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function wg(e){return!!e&&"mapValue"in e}function wm(e){return(e?.mapValue?.fields||{})[b8]?.stringValue===we}function wy(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:{...e.timestampValue}};if(e.mapValue){let t={mapValue:{fields:{}}};return bB(e.mapValue.fields,(e,r)=>t.mapValue.fields[e]=wy(r)),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=wy(e.arrayValue.values[r]);return t}return{...e}}function wv(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===b9}let wb={mapValue:{fields:{[b8]:{stringValue:we},[wt]:{arrayValue:{}}}}};function ww(e,t){let r=wa(e.value,t.value);return 0!==r?r:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function wx(e,t){let r=wa(e.value,t.value);return 0!==r?r:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class wS{constructor(e){this.value=e}static empty(){return new wS({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(!wg(t=(t.mapValue.fields||{})[e.get(r)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wy(t)}setAll(e){let t=y6.emptyPath(),r={},n=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,r,n),r={},n=[],t=i.popLast()}e?r[i.lastSegment()]=wy(e):n.push(i.lastSegment())});let i=this.getFieldsMap(t);this.applyChanges(i,r,n)}delete(e){let t=this.field(e.popLast());wg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let n=t.mapValue.fields[e.get(r)];wg(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=n),t=n}return t.mapValue.fields}applyChanges(e,t,r){for(let n of(bB(t,(t,r)=>e[t]=r),r))delete e[n]}clone(){return new wS(wy(this.value))}}class wC{constructor(e,t,r,n,i,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=n,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new wC(e,0,vl.min(),vl.min(),vl.min(),wS.empty(),0)}static newFoundDocument(e,t,r,n){return new wC(e,1,t,vl.min(),r,n,0)}static newNoDocument(e,t){return new wC(e,2,t,vl.min(),vl.min(),wS.empty(),0)}static newUnknownDocument(e,t){return new wC(e,3,t,vl.min(),vl.min(),wS.empty(),2)}convertToFoundDocument(e,t){return this.createTime.isEqual(vl.min())&&(2===this.documentType||0===this.documentType)&&(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wS.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wS.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vl.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wC&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wC(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wk{constructor(e,t){this.position=e,this.inclusive=t}}function w_(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){let o=t[i],a=e.position[i];if(n=o.field.isKeyField()?y8.comparator(y8.fromName(a.referenceValue),r.key):wa(a,r.data.field(o.field)),"desc"===o.dir&&(n*=-1),0!==n)break}return n}function wA(e,t){if(null===e)return null===t;if(null===t||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!wi(e.position[r],t.position[r]))return!1;return!0}class wT{constructor(e,t="asc"){this.field=e,this.dir=t}}class wE{}class wI extends wE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new wB(e,t,r):"array-contains"===t?new wz(e,r):"in"===t?new wV(e,r):"not-in"===t?new wU(e,r):"array-contains-any"===t?new w$(e,r):new wI(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new wM(e,r):new wL(e,r)}matches(e){let t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(wa(t,this.value)):null!==t&&wn(this.value)===wn(t)&&this.matchesComparison(wa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yM(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wD extends wE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new wD(e,t)}matches(e){return wF(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wF(e){return"and"===e.op}function wP(e){return"or"===e.op}function wN(e){return wR(e)&&wF(e)}function wR(e){for(let t of e.filters)if(t instanceof wD)return!1;return!0}function wO(e,t){let r=e.filters.concat(t);return wD.create(r,e.op)}class wB extends wI{constructor(e,t,r){super(e,t,r),this.key=y8.fromName(r.referenceValue)}matches(e){let t=y8.comparator(e.key,this.key);return this.matchesComparison(t)}}class wM extends wI{constructor(e,t){super(e,"in",t),this.keys=wj("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class wL extends wI{constructor(e,t){super(e,"not-in",t),this.keys=wj("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function wj(e,t){return(t.arrayValue?.values||[]).map(e=>y8.fromName(e.referenceValue))}class wz extends wI{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return wd(t)&&wo(t.arrayValue,this.value)}}class wV extends wI{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return null!==t&&wo(this.value.arrayValue,t)}}class wU extends wI{constructor(e,t){super(e,"not-in",t)}matches(e){if(wo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!wo(this.value.arrayValue,t)}}class w$ extends wI{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!wd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>wo(this.value.arrayValue,e))}}class wW{constructor(e,t=null,r=[],n=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=n,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function wq(e,t=null,r=[],n=[],i=null,o=null,a=null){return new wW(e,t,r,n,i,o,a)}function wK(e){if(null===e.Te){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(e=>(function e(t){if(t instanceof wI)return t.field.canonicalString()+t.op.toString()+wu(t.value);if(wN(t))return t.filters.map(t=>e(t)).join(",");{let r=t.filters.map(t=>e(t)).join(",");return`${t.op}(${r})`}})(e)).join(","),t+="|ob:",t+=e.orderBy.map(e=>e.field.canonicalString()+e.dir).join(","),vL(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>wu(e)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>wu(e)).join(",")),e.Te=t}return e.Te}function wH(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++){var r,n;if(r=e.orderBy[i],n=t.orderBy[i],!(r.dir===n.dir&&r.field.isEqual(n.field)))return!1}if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!function e(t,r){return t instanceof wI?r instanceof wI&&t.op===r.op&&t.field.isEqual(r.field)&&wi(t.value,r.value):t instanceof wD?r instanceof wD&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((t,n,i)=>t&&e(n,r.filters[i]),!0):void yM(19439)}(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!wA(e.startAt,t.startAt)&&wA(e.endAt,t.endAt)}function wG(e){return y8.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function wQ(e,t){return e.filters.filter(e=>e instanceof wI&&e.field.isEqual(t))}function wX(e,t,r){let n=wr,i=!0;for(let r of wQ(e,t)){let e=wr,t=!0;switch(r.op){case"<":case"<=":var o;e="nullValue"in(o=r.value)?wr:"booleanValue"in o?{booleanValue:!1}:"integerValue"in o||"doubleValue"in o?{doubleValue:NaN}:"timestampValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in o?{stringValue:""}:"bytesValue"in o?{bytesValue:""}:"referenceValue"in o?wc(b6.empty(),y8.empty()):"geoPointValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in o?{arrayValue:{}}:"mapValue"in o?wm(o)?wb:{mapValue:{}}:yM(35942,{value:o});break;case"==":case"in":case">=":e=r.value;break;case">":e=r.value,t=!1;break;case"!=":case"not-in":e=wr}0>ww({value:n,inclusive:i},{value:e,inclusive:t})&&(n=e,i=t)}if(null!==r){for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){let e=r.position[o];0>ww({value:n,inclusive:i},{value:e,inclusive:r.inclusive})&&(n=e,i=r.inclusive);break}}return{value:n,inclusive:i}}function wJ(e,t,r){let n=b7,i=!0;for(let r of wQ(e,t)){let e=b7,t=!0;switch(r.op){case">=":case">":var o;e="nullValue"in(o=r.value)?{booleanValue:!1}:"booleanValue"in o?{doubleValue:NaN}:"integerValue"in o||"doubleValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in o?{stringValue:""}:"stringValue"in o?{bytesValue:""}:"bytesValue"in o?wc(b6.empty(),y8.empty()):"referenceValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in o?{arrayValue:{}}:"arrayValue"in o?wb:"mapValue"in o?wm(o)?{mapValue:{}}:b7:yM(61959,{value:o}),t=!1;break;case"==":case"in":case"<=":e=r.value;break;case"<":e=r.value,t=!1;break;case"!=":case"not-in":e=b7}wx({value:n,inclusive:i},{value:e,inclusive:t})>0&&(n=e,i=t)}if(null!==r){for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){let e=r.position[o];wx({value:n,inclusive:i},{value:e,inclusive:r.inclusive})>0&&(n=e,i=r.inclusive);break}}return{value:n,inclusive:i}}class wY{constructor(e,t=null,r=[],n=[],i=null,o="F",a=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=n,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function wZ(e){return new wY(e)}function w0(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function w1(e){return null!==e.collectionGroup}function w2(e){if(null===e.Ie){let t;e.Ie=[];let r=new Set;for(let t of e.explicitOrderBy)e.Ie.push(t),r.add(t.field.canonicalString());let n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(t=new bV(y6.comparator),e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t).forEach(t=>{r.has(t.canonicalString())||t.isKeyField()||e.Ie.push(new wT(t,n))}),r.has(y6.keyField().canonicalString())||e.Ie.push(new wT(y6.keyField(),n))}return e.Ie}function w5(e){return e.Ee||(e.Ee=w3(e,w2(e))),e.Ee}function w3(e,t){if("F"===e.limitType)return wq(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{let t="desc"===e.dir?"asc":"desc";return new wT(e.field,t)});let r=e.endAt?new wk(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new wk(e.startAt.position,e.startAt.inclusive):null;return wq(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function w4(e,t){let r=e.filters.concat([t]);return new wY(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function w6(e,t,r){return new wY(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function w8(e,t){return wH(w5(e),w5(t))&&e.limitType===t.limitType}function w9(e){return`${wK(w5(e))}|lt:${e.limitType}`}function w7(e){var t;let r;return`Query(target=${r=(t=w5(e)).path.canonicalString(),null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(e=>(function e(t){return t instanceof wI?`${t.field.canonicalString()} ${t.op} ${wu(t.value)}`:t instanceof wD?t.op.toString()+" {"+t.getFilters().map(e).join(" ,")+"}":"Filter"})(e)).join(", ")}]`),vL(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(e=>`${e.field.canonicalString()} (${e.dir})`).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(e=>wu(e)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(e=>wu(e)).join(",")),`Target(${r})`}; limitType=${e.limitType})`}function xe(e,t){var r,n,i,o;let a,s,l;return t.isFoundDocument()&&(a=t.key.path,null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(a):y8.isDocumentKey(e.path)?e.path.isEqual(a):e.path.isImmediateParentOf(a))&&function(e,t){for(let r of w2(e))if(!r.field.isKeyField()&&null===t.data.field(r.field))return!1;return!0}(e,t)&&function(e,t){for(let r of e.filters)if(!r.matches(t))return!1;return!0}(e,t)&&(r=e,n=t,(!r.startAt||(i=r.startAt,s=w_(i,w2(r),n),i.inclusive?!!(s<=0):!!(s<0)))&&(!r.endAt||(o=r.endAt,l=w_(o,w2(r),n),o.inclusive?!!(l>=0):!!(l>0))))}function xt(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function xr(e){return(t,r)=>{let n=!1;for(let i of w2(e)){let e=function(e,t,r){var n;let i,o,a=e.field.isKeyField()?y8.comparator(t.key,r.key):(n=e.field,i=t.data.field(n),o=r.data.field(n),null!==i&&null!==o?wa(i,o):yM(42886));switch(e.dir){case"asc":return a;case"desc":return -1*a;default:return yM(19790,{direction:e.dir})}}(i,t,r);if(0!==e)return e;n=n||i.field.isKeyField()}return 0}}class xn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r){for(let[t,n]of r)if(this.equalsFn(t,e))return n}}has(e){return void 0!==this.get(e)}set(e,t){let r=this.mapKeyFn(e),n=this.inner[r];if(void 0===n)return this.inner[r]=[[e,t]],void this.innerSize++;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return void(n[r]=[e,t]);n.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return 1===r.length?delete this.inner[t]:r.splice(n,1),this.innerSize--,!0;return!1}forEach(e){bB(this.inner,(t,r)=>{for(let[t,n]of r)e(t,n)})}isEmpty(){return bM(this.inner)}size(){return this.innerSize}}let xi=new bL(y8.comparator),xo=new bL(y8.comparator);function xa(...e){let t=xo;for(let r of e)t=t.insert(r.key,r);return t}function xs(e){let t=xo;return e.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function xl(){return new xn(e=>e.toString(),(e,t)=>e.isEqual(t))}let xu=new bL(y8.comparator),xc=new bV(y8.comparator);function xh(...e){let t=xc;for(let r of e)t=t.add(r);return t}let xd=new bV(yY);function xf(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vj(t)?"-0":t}}function xp(e){return{integerValue:""+e}}class xg{constructor(){this._=void 0}}function xm(e,t){return e instanceof xS?wh(t)||t&&"doubleValue"in t?t:{integerValue:0}:null}class xy extends xg{}class xv extends xg{constructor(e){super(),this.elements=e}}function xb(e,t){let r=xk(t);for(let t of e.elements)r.some(e=>wi(e,t))||r.push(t);return{arrayValue:{values:r}}}class xw extends xg{constructor(e){super(),this.elements=e}}function xx(e,t){let r=xk(t);for(let t of e.elements)r=r.filter(e=>!wi(e,t));return{arrayValue:{values:r}}}class xS extends xg{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function xC(e){return bQ(e.integerValue||e.doubleValue)}function xk(e){return wd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class x_{constructor(e,t){this.field=e,this.transform=t}}class xA{constructor(e,t){this.version=e,this.transformResults=t}}class xT{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xT}static exists(e){return new xT(void 0,e)}static updateTime(e){return new xT(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xE(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class xI{}function xD(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new xL(e.key,xT.none()):new xN(e.key,e.data,xT.none());{let r=e.data,n=wS.empty(),i=new bV(y6.comparator);for(let e of t.fields)if(!i.has(e)){let t=r.field(e);null===t&&e.length>1&&(e=e.popLast(),t=r.field(e)),null===t?n.delete(e):n.set(e,t),i=i.add(e)}return new xR(e.key,n,new bW(i.toArray()),xT.none())}}function xF(e,t,r,n){return e instanceof xN?function(e,t,r,n){if(!xE(e.precondition,t))return r;let i=e.value.clone(),o=xM(e.fieldTransforms,n,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,r,n):e instanceof xR?function(e,t,r,n){if(!xE(e.precondition,t))return r;let i=xM(e.fieldTransforms,n,t),o=t.data;return(o.setAll(xO(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===r)?null:r.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,r,n):xE(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):r}function xP(e,t){var r,n;return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(r=e.fieldTransforms,n=t.fieldTransforms,!!(void 0===r&&void 0===n||!(!r||!n)&&y1(r,n,(e,t)=>{var r,n;return e.field.isEqual(t.field)&&(r=e.transform,n=t.transform,r instanceof xv&&n instanceof xv||r instanceof xw&&n instanceof xw?y1(r.elements,n.elements,wi):r instanceof xS&&n instanceof xS?wi(r.Ae,n.Ae):r instanceof xy&&n instanceof xy)})))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class xN extends xI{constructor(e,t,r,n=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}class xR extends xI{constructor(e,t,r,n,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=n,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function xO(e){let t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){let n=e.data.field(r);t.set(r,n)}}),t}function xB(e,t,r){let n=new Map;yj(e.length===r.length,32656,{Ve:r.length,de:e.length});for(let o=0;o<r.length;o++){var i;let a=e[o],s=a.transform,l=t.data.field(a.field);n.set(a.field,(i=r[o],s instanceof xv?xb(s,l):s instanceof xw?xx(s,l):i))}return n}function xM(e,t,r){let n=new Map;for(let i of e){let e=i.transform,o=r.data.field(i.field);n.set(i.field,function(e,t,r){var n;let i,o,a;return e instanceof xy?(n=t,i={fields:{[bY]:{stringValue:bJ},[b0]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}},n&&b1(n)&&(n=b2(n)),n&&(i.fields[bZ]=n),{mapValue:i}):e instanceof xv?xb(e,t):e instanceof xw?xx(e,t):(a=xC(o=xm(e,t))+xC(e.Ae),wh(o)&&wh(e.Ae)?xp(a):xf(e.serializer,a))}(e,o,t))}return n}class xL extends xI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xj extends xI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xz{constructor(e,t,r,n){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=n}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let n=this.mutations[t];n.key.isEqual(e.key)&&function(e,t,r){let n,i;e instanceof xN?(n=e.value.clone(),i=xB(e.fieldTransforms,t,r.transformResults),n.setAll(i),t.convertToFoundDocument(r.version,n).setHasCommittedMutations()):e instanceof xR?function(e,t,r){if(!xE(e.precondition,t))return t.convertToUnknownDocument(r.version);let n=xB(e.fieldTransforms,t,r.transformResults),i=t.data;i.setAll(xO(e)),i.setAll(n),t.convertToFoundDocument(r.version,i).setHasCommittedMutations()}(e,t,r):t.convertToNoDocument(r.version).setHasCommittedMutations()}(n,e,r[t])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=xF(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=xF(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=xl();return this.mutations.forEach(n=>{let i=e.get(n.key),o=i.overlayedDocument,a=this.applyToLocalView(o,i.mutatedFields),s=xD(o,a=t.has(n.key)?null:a);null!==s&&r.set(n.key,s),o.isValidDocument()||o.convertToNoDocument(vl.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xh())}isEqual(e){return this.batchId===e.batchId&&y1(this.mutations,e.mutations,(e,t)=>xP(e,t))&&y1(this.baseMutations,e.baseMutations,(e,t)=>xP(e,t))}}class xV{constructor(e,t,r,n){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=n}static from(e,t,r){yj(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let n=xu,i=e.mutations;for(let e=0;e<i.length;e++)n=n.insert(i[e].key,r[e].version);return new xV(e,t,r,n)}}class xU{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class x${constructor(e,t,r){this.alias=e,this.aggregateType=t,this.fieldPath=r}}class xW{constructor(e,t){this.count=e,this.unchangedNames=t}}function xq(e){switch(e){case yz.OK:return yM(64938);case yz.CANCELLED:case yz.UNKNOWN:case yz.DEADLINE_EXCEEDED:case yz.RESOURCE_EXHAUSTED:case yz.INTERNAL:case yz.UNAVAILABLE:case yz.UNAUTHENTICATED:return!1;case yz.INVALID_ARGUMENT:case yz.NOT_FOUND:case yz.ALREADY_EXISTS:case yz.PERMISSION_DENIED:case yz.FAILED_PRECONDITION:case yz.ABORTED:case yz.OUT_OF_RANGE:case yz.UNIMPLEMENTED:case yz.DATA_LOSS:return!0;default:return yM(15467,{code:e})}}function xK(e){if(void 0===e)return yR("GRPC error has no .code"),yz.UNKNOWN;switch(e){case eO.OK:return yz.OK;case eO.CANCELLED:return yz.CANCELLED;case eO.UNKNOWN:return yz.UNKNOWN;case eO.DEADLINE_EXCEEDED:return yz.DEADLINE_EXCEEDED;case eO.RESOURCE_EXHAUSTED:return yz.RESOURCE_EXHAUSTED;case eO.INTERNAL:return yz.INTERNAL;case eO.UNAVAILABLE:return yz.UNAVAILABLE;case eO.UNAUTHENTICATED:return yz.UNAUTHENTICATED;case eO.INVALID_ARGUMENT:return yz.INVALID_ARGUMENT;case eO.NOT_FOUND:return yz.NOT_FOUND;case eO.ALREADY_EXISTS:return yz.ALREADY_EXISTS;case eO.PERMISSION_DENIED:return yz.PERMISSION_DENIED;case eO.FAILED_PRECONDITION:return yz.FAILED_PRECONDITION;case eO.ABORTED:return yz.ABORTED;case eO.OUT_OF_RANGE:return yz.OUT_OF_RANGE;case eO.UNIMPLEMENTED:return yz.UNIMPLEMENTED;case eO.DATA_LOSS:return yz.DATA_LOSS;default:return yM(39323,{code:e})}}(eB=eO||(eO={}))[eB.OK=0]="OK",eB[eB.CANCELLED=1]="CANCELLED",eB[eB.UNKNOWN=2]="UNKNOWN",eB[eB.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",eB[eB.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",eB[eB.NOT_FOUND=5]="NOT_FOUND",eB[eB.ALREADY_EXISTS=6]="ALREADY_EXISTS",eB[eB.PERMISSION_DENIED=7]="PERMISSION_DENIED",eB[eB.UNAUTHENTICATED=16]="UNAUTHENTICATED",eB[eB.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",eB[eB.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",eB[eB.ABORTED=10]="ABORTED",eB[eB.OUT_OF_RANGE=11]="OUT_OF_RANGE",eB[eB.UNIMPLEMENTED=12]="UNIMPLEMENTED",eB[eB.INTERNAL=13]="INTERNAL",eB[eB.UNAVAILABLE=14]="UNAVAILABLE",eB[eB.DATA_LOSS=15]="DATA_LOSS";let xH=null;function xG(){return new TextEncoder}let xQ=new e_([0xffffffff,0xffffffff],0);function xX(e){let t=xG().encode(e),r=new eA;return r.update(t),new Uint8Array(r.digest())}function xJ(e){let t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new e_([r,n],0),new e_([i,o],0)]}class xY{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new xZ(`Invalid padding: ${t}`);if(r<0||e.length>0&&0===this.hashCount)throw new xZ(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new xZ(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=e_.fromNumber(this.ge)}ye(e,t,r){let n=e.add(t.multiply(e_.fromNumber(r)));return 1===n.compare(xQ)&&(n=new e_([n.getBits(0),n.getBits(1)],0)),n.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;let[t,r]=xJ(xX(e));for(let e=0;e<this.hashCount;e++){let n=this.ye(t,r,e);if(!this.we(n))return!1}return!0}static create(e,t,r){let n=new xY(new Uint8Array(Math.ceil(e/8)),e%8==0?0:8-e%8,t);return r.forEach(e=>n.insert(e)),n}insert(e){if(0===this.ge)return;let[t,r]=xJ(xX(e));for(let e=0;e<this.hashCount;e++){let n=this.ye(t,r,e);this.be(n)}}be(e){let t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class xZ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class x0{constructor(e,t,r,n,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=n,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let n=new Map;return n.set(e,x1.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new x0(vl.min(),n,new bL(yY),xi,xh())}}class x1{constructor(e,t,r,n,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=n,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new x1(r,t,xh(),xh(),xh())}}class x2{constructor(e,t,r,n){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=n}}class x5{constructor(e,t){this.targetId=e,this.Ce=t}}class x3{constructor(e,t,r=bK.EMPTY_BYTE_STRING,n=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=n}}class x4{constructor(){this.ve=0,this.Fe=x9(),this.Me=bK.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xh(),t=xh(),r=xh();return this.Fe.forEach((n,i)=>{switch(i){case 0:e=e.add(n);break;case 2:t=t.add(n);break;case 1:r=r.add(n);break;default:yM(38017,{changeType:i})}}),new x1(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=x9()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,yj(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class x6{constructor(e){this.Ge=e,this.ze=new Map,this.je=xi,this.He=x8(),this.Je=x8(),this.Ze=new bL(yY)}Xe(e){for(let t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{let r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:yM(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,r)=>{this.rt(r)&&t(r)})}st(e){let t=e.targetId,r=e.Ce.count,n=this.ot(t);if(n){let a=n.target;if(wG(a))if(0===r){let e=new y8(a.path);this.et(t,e,wC.newNoDocument(e,vl.min()))}else yj(1===r,20013,{expectedCount:r});else{let n=this._t(t);if(n!==r){var i,o;let r,a,s=this.ut(e),l=s?this.ct(s,e,n):1;0!==l&&(this.it(t),this.Ze=this.Ze.insert(t,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),xH?.lt((i=e.Ce,o=this.Ge.ht(),r={localCacheCount:n,existenceFilterCount:i.count,databaseId:o.database,projectId:o.projectId},(a=i.unchangedNames)&&(r.bloomFilter={applied:0===l,hashCount:a?.hashCount??0,bitmapLength:a?.bits?.bitmap?.length??0,padding:a?.bits?.padding??0,mightContain:e=>s?.mightContain(e)??!1}),r))}}}}ut(e){let t,r,n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=n;try{t=bX(i).toUint8Array()}catch(e){if(e instanceof bq)return yO("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new xY(t,o,a)}catch(e){return yO(e instanceof xZ?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.ge?null:r}ct(e,t,r){return 2*(t.Ce.count!==r-this.Pt(e,t.targetId))}Pt(e,t){let r=this.Ge.getRemoteKeysForTarget(t),n=0;return r.forEach(r=>{let i=this.Ge.ht(),o=`projects/${i.projectId}/databases/${i.database}/documents/${r.path.canonicalString()}`;e.mightContain(o)||(this.et(t,r,null),n++)}),n}Tt(e){let t=new Map;this.ze.forEach((r,n)=>{let i=this.ot(n);if(i){if(r.current&&wG(i.target)){let t=new y8(i.target.path);this.It(t).has(n)||this.Et(n,t)||this.et(n,t,wC.newNoDocument(t,e))}r.Be&&(t.set(n,r.ke()),r.Ke())}});let r=xh();this.Je.forEach((e,t)=>{let n=!0;t.forEachWhile(e=>{let t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(n=!1,!1)}),n&&(r=r.add(e))}),this.je.forEach((t,r)=>r.setReadTime(e));let n=new x0(e,t,this.Ze,this.je,r);return this.je=xi,this.He=x8(),this.Je=x8(),this.Ze=new bL(yY),n}Ye(e,t){if(!this.rt(e))return;let r=2*!!this.Et(e,t.key);this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;let n=this.nt(e);this.Et(e,t)?n.qe(t,1):n.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new x4,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new bV(yY),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new bV(yY),this.He=this.He.insert(e,t)),t}rt(e){let t=null!==this.ot(e);return t||yN("WatchChangeAggregator","Detected inactive target",e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new x4),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function x8(){return new bL(y8.comparator)}function x9(){return new bL(y8.comparator)}let x7={asc:"ASCENDING",desc:"DESCENDING"},Se={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},St={and:"AND",or:"OR"};class Sr{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sn(e,t){return e.useProto3Json||vL(t)?t:{value:t}}function Si(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function So(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Sa(e){let t;return yj(!!e,49232),vl.fromTimestamp(new vs((t=bG(e)).seconds,t.nanos))}function Ss(e,t){return Sl(e,t).canonicalString()}function Sl(e,t){let r=new y3(["projects",e.projectId,"databases",e.database]).child("documents");return void 0===t?r:r.child(t)}function Su(e){let t=y3.fromString(e);return yj(S_(t),10190,{key:t.toString()}),t}function Sc(e,t){return Ss(e.databaseId,t.path)}function Sh(e,t){let r=Su(t);if(r.get(1)!==e.databaseId.projectId)throw new yV(yz.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new yV(yz.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new y8(Sg(r))}function Sd(e,t){return Ss(e.databaseId,t)}function Sf(e){let t=Su(e);return 4===t.length?y3.emptyPath():Sg(t)}function Sp(e){return new y3(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Sg(e){return yj(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Sm(e,t,r){return{name:Sc(e,t),fields:r.value.mapValue.fields}}function Sy(e,t,r){let n=Sh(e,t.name),i=Sa(t.updateTime),o=t.createTime?Sa(t.createTime):vl.min(),a=new wS({mapValue:{fields:t.fields}}),s=wC.newFoundDocument(n,i,o,a);return r&&s.setHasCommittedMutations(),r?s.setHasCommittedMutations():s}function Sv(e,t){var r,n;let i;if(t instanceof xN)i={update:Sm(e,t.key,t.value)};else if(t instanceof xL)i={delete:Sc(e,t.key)};else if(t instanceof xR){let r;i={update:Sm(e,t.key,t.data),updateMask:(n=t.fieldMask,r=[],n.fields.forEach(e=>r.push(e.canonicalString())),{fieldPaths:r})}}else{if(!(t instanceof xj))return yM(16599,{dt:t.type});i={verify:Sc(e,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(e=>(function(e,t){let r=t.transform;if(r instanceof xy)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(r instanceof xv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:r.elements}};if(r instanceof xw)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:r.elements}};if(r instanceof xS)return{fieldPath:t.field.canonicalString(),increment:r.Ae};throw yM(20930,{transform:t.transform})})(0,e))),t.precondition.isNone||(i.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:Si(e,r.updateTime.toTimestamp())}:void 0!==r.exists?{exists:r.exists}:yM(27497)),i}function Sb(e,t){var r;let n=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?xT.updateTime(Sa(r.updateTime)):void 0!==r.exists?xT.exists(r.exists):xT.none():xT.none(),i=t.updateTransforms?t.updateTransforms.map(t=>{let r;return r=null,"setToServerValue"in t?(yj("REQUEST_TIME"===t.setToServerValue,16630,{proto:t}),r=new xy):"appendMissingElements"in t?r=new xv(t.appendMissingElements.values||[]):"removeAllFromArray"in t?r=new xw(t.removeAllFromArray.values||[]):"increment"in t?r=new xS(e,t.increment):yM(16584,{proto:t}),new x_(y6.fromServerFormat(t.fieldPath),r)}):[];if(t.update){t.update.name;let r=Sh(e,t.update.name),o=new wS({mapValue:{fields:t.update.fields}});return t.updateMask?new xR(r,o,new bW((t.updateMask.fieldPaths||[]).map(e=>y6.fromServerFormat(e))),n,i):new xN(r,o,n,i)}return t.delete?new xL(Sh(e,t.delete),n):t.verify?new xj(Sh(e,t.verify),n):yM(1463,{proto:t})}function Sw(e,t){return{documents:[Sd(e,t.path)]}}function Sx(e,t){var r,n;let i,o={structuredQuery:{}},a=t.path;null!==t.collectionGroup?(i=a,o.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=a.popLast(),o.structuredQuery.from=[{collectionId:a.lastSegment()}]),o.parent=Sd(e,i);let s=function(e){if(0!==e.length)return function e(t){var r;let n;return t instanceof wI?function(e){if("=="===e.op){if(wp(e.value))return{unaryFilter:{field:SC(e.field),op:"IS_NAN"}};if(wf(e.value))return{unaryFilter:{field:SC(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(wp(e.value))return{unaryFilter:{field:SC(e.field),op:"IS_NOT_NAN"}};if(wf(e.value))return{unaryFilter:{field:SC(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:SC(e.field),op:Se[e.op],value:e.value}}}(t):t instanceof wD?1===(n=(r=t).getFilters().map(t=>e(t))).length?n[0]:{compositeFilter:{op:St[r.op],filters:n}}:yM(54877,{filter:t})}(wD.create(e,"and"))}(t.filters);s&&(o.structuredQuery.where=s);let l=function(e){if(0!==e.length)return e.map(e=>({field:SC(e.field),direction:x7[e.dir]}))}(t.orderBy);l&&(o.structuredQuery.orderBy=l);let u=Sn(e,t.limit);return null!==u&&(o.structuredQuery.limit=u),t.startAt&&(o.structuredQuery.startAt={before:(r=t.startAt).inclusive,values:r.position}),t.endAt&&(o.structuredQuery.endAt={before:!(n=t.endAt).inclusive,values:n.position}),{ft:o,parent:i}}function SS(e){var t,r,n;let i,o,a,s,l=Sf(e.parent),u=e.structuredQuery,c=u.from?u.from.length:0,h=null;if(c>0){yj(1===c,65062);let e=u.from[0];e.allDescendants?h=e.collectionId:l=l.child(e.collectionId)}let d=[];u.where&&(d=(i=function e(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":let t=Sk(e.unaryFilter.field);return wI.create(t,"==",{doubleValue:NaN});case"IS_NULL":let r=Sk(e.unaryFilter.field);return wI.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let n=Sk(e.unaryFilter.field);return wI.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let i=Sk(e.unaryFilter.field);return wI.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yM(61313);default:return yM(60726)}}(t):void 0!==t.fieldFilter?wI.create(Sk(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yM(58110);default:return yM(50506)}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==t.compositeFilter?wD.create(t.compositeFilter.filters.map(t=>e(t)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return yM(1026)}}(t.compositeFilter.op)):yM(30097,{filter:t})}(u.where))instanceof wD&&wN(i)?i.getFilters():[i]);let f=[];u.orderBy&&(f=u.orderBy.map(e=>new wT(Sk(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))));let p=null;u.limit&&(p=vL(o="object"==typeof(t=u.limit)?t.value:t)?null:o);let g=null;u.startAt&&(a=!!(r=u.startAt).before,g=new wk(r.values||[],a));let m=null;return u.endAt&&(s=!(n=u.endAt).before,m=new wk(n.values||[],s)),new wY(l,h,f,d,p,"F",g,m)}function SC(e){return{fieldPath:e.canonicalString()}}function Sk(e){return y6.fromServerFormat(e.fieldPath)}function S_(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function SA(e){return!!e&&"function"==typeof e._toProto&&"ProtoValue"===e._protoValueType}class ST{constructor(e,t,r,n,i=vl.min(),o=vl.min(),a=bK.EMPTY_BYTE_STRING,s=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=n,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new ST(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ST(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ST(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ST(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class SE{constructor(e){this.yt=e}}function SI(e,t){let r=t.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:SD(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument()){var i;n.document={name:Sc(i=e.yt,t.key),fields:t.data.value.mapValue.fields,updateTime:Si(i,t.version.toTimestamp()),createTime:Si(i,t.createTime.toTimestamp())}}else if(t.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:SF(t.version)};else{if(!t.isUnknownDocument())return yM(57904,{document:t});n.unknownDocument={path:r.path.toArray(),version:SF(t.version)}}return n}function SD(e){let t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function SF(e){let t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function SP(e){let t=new vs(e.seconds,e.nanoseconds);return vl.fromTimestamp(t)}function SN(e,t){let r=(t.baseMutations||[]).map(t=>Sb(e.yt,t));for(let e=0;e<t.mutations.length-1;++e){let r=t.mutations[e];e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform&&(r.updateTransforms=t.mutations[e+1].transform.fieldTransforms,t.mutations.splice(e+1,1),++e)}let n=t.mutations.map(t=>Sb(e.yt,t)),i=vs.fromMillis(t.localWriteTimeMs);return new xz(t.batchId,i,r,n)}function SR(e){var t;let r,n=SP(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?SP(e.lastLimboFreeSnapshotVersion):vl.min();return new ST(void 0!==e.query.documents?(yj(1===(r=(t=e.query).documents.length),1966,{count:r}),w5(wZ(Sf(t.documents[0])))):w5(SS(e.query)),e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,i,bK.fromBase64String(e.resumeToken))}function SO(e,t){let r,n=SF(t.snapshotVersion),i=SF(t.lastLimboFreeSnapshotVersion);r=wG(t.target)?Sw(e.yt,t.target):Sx(e.yt,t.target).ft;let o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:wK(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function SB(e){let t=SS({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?w6(t,t.limit,"L"):t}function SM(e,t){return new xU(t.largestBatchId,Sb(e.yt,t.overlayMutation))}function SL(e,t){let r=t.path.lastSegment();return[e,vV(t.path.popLast()),r]}function Sj(e,t,r,n){return{indexId:e,uid:t,sequenceNumber:r,readTime:SF(n.readTime),documentKey:vV(n.documentKey.path),largestBatchId:n.largestBatchId}}class Sz{getBundleMetadata(e,t){return bR(e,bu).get(t).next(e=>{if(e)return{id:e.bundleId,createTime:SP(e.createTime),version:e.version}})}saveBundleMetadata(e,t){return bR(e,bu).put({bundleId:t.id,createTime:SF(Sa(t.createTime)),version:t.version})}getNamedQuery(e,t){return bR(e,bc).get(t).next(e=>{if(e)return{name:e.name,query:SB(e.bundledQuery),readTime:SP(e.readTime)}})}saveNamedQuery(e,t){return bR(e,bc).put({name:t.name,readTime:SF(Sa(t.readTime)),bundledQuery:t.bundledQuery})}}class SV{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){return new SV(e,t.uid||"")}getOverlay(e,t){return bR(e,bx).get(SL(this.userId,t)).next(e=>e?SM(this.serializer,e):null)}getOverlays(e,t){let r=xl();return vS.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&r.set(t,e)})).next(()=>r)}saveOverlays(e,t,r){let n=[];return r.forEach((r,i)=>{let o=new xU(t,i);n.push(this.bt(e,o))}),vS.waitFor(n)}removeOverlaysForBatchId(e,t,r){let n=new Set;t.forEach(e=>n.add(vV(e.getCollectionPath())));let i=[];return n.forEach(t=>{let n=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,r+1],!1,!0);i.push(bR(e,bx).X(bC,n))}),vS.waitFor(i)}getOverlaysForCollection(e,t,r){let n=xl(),i=vV(t),o=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,1/0],!0);return bR(e,bx).H(bC,o).next(e=>{for(let t of e){let e=SM(this.serializer,t);n.set(e.getKey(),e)}return n})}getOverlaysForCollectionGroup(e,t,r,n){let i,o=xl(),a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,1/0],!0);return bR(e,bx).ee({index:b_,range:a},(e,t,r)=>{let a=SM(this.serializer,t);o.size()<n||a.largestBatchId===i?(o.set(a.getKey(),a),i=a.largestBatchId):r.done()}).next(()=>o)}bt(e,t){return bR(e,bx).put(function(e,t,r){let[n,i,o]=SL(t,r.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:r.mutation.key.getCollectionGroup(),largestBatchId:r.largestBatchId,overlayMutation:Sv(e.yt,r.mutation)}}(this.serializer,this.userId,t))}}class SU{St(e){return bR(e,bT)}getSessionToken(e){return this.St(e).get("sessionToken").next(e=>{let t=e?.value;return t?bK.fromUint8Array(t):bK.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.St(e).put({name:"sessionToken",value:t.toUint8Array()})}}class S${Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(+!!e.booleanValue);else if("integerValue"in e)this.Ft(t,15),t.Mt(bQ(e.integerValue));else if("doubleValue"in e){let r=bQ(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),vj(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),"string"==typeof r&&(r=bG(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(bX(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?wv(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):wm(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):yM(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){let r=e.fields||{};for(let e of(this.Ft(t,55),Object.keys(r)))this.Ot(e,t),this.Ct(r[e],t)}kt(e,t){let r=e.fields||{};this.Ft(t,53);let n=r[wt].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(bQ(n)),this.Ot(wt,t),this.Ct(r[wt],t)}qt(e,t){let r=e.values||[];for(let e of(this.Ft(t,50),r))this.Ct(e,t)}Lt(e,t){this.Ft(t,37),y8.fromName(e).path.forEach(e=>{this.Ft(t,60),this.$t(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}function SW(e){return Math.ceil((64-function(e){let t=0;for(let r=0;r<8;++r){let n=function(e){if(0===e)return 8;let t=0;return e>>4||(t+=4,e<<=4),e>>6||(t+=2,e<<=2),e>>7||(t+=1),t}(255&e[r]);if(t+=n,8!==n)break}return t}(e))/8)}S$.Wt=new S$;class Sq{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.Ht(r.value),r=t.next();this.Jt()}Zt(e){for(let t of e){let e=t.charCodeAt(0);if(e<128)this.Gt(e);else if(e<2048)this.Gt(960|e>>>6),this.Gt(128|63&e);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|e>>>12),this.Gt(128|63&e>>>6),this.Gt(128|63&e);else{let e=t.codePointAt(0);this.Gt(240|e>>>18),this.Gt(128|63&e>>>12),this.Gt(128|63&e>>>6),this.Gt(128|63&e)}}this.zt()}Xt(e){for(let t of e){let e=t.charCodeAt(0);if(e<128)this.Ht(e);else if(e<2048)this.Ht(960|e>>>6),this.Ht(128|63&e);else if(t<"\uD800"||"\uDBFF"<t)this.Ht(480|e>>>12),this.Ht(128|63&e>>>6),this.Ht(128|63&e);else{let e=t.codePointAt(0);this.Ht(240|e>>>18),this.Ht(128|63&e>>>12),this.Ht(128|63&e>>>6),this.Ht(128|63&e)}}this.Jt()}Yt(e){let t=this.en(e),r=SW(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let e=t.length-r;e<t.length;++e)this.buffer[this.position++]=255&t[e]}nn(e){let t=this.en(e),r=SW(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let e=t.length-r;e<t.length;++e)this.buffer[this.position++]=~(255&t[e])}rn(){this.sn(255),this.sn(255)}_n(){this.an(255),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){let t,r=((t=new DataView(new ArrayBuffer(8))).setFloat64(0,e,!1),new Uint8Array(t.buffer)),n=!!(128&r[0]);r[0]^=n?255:128;for(let e=1;e<r.length;++e)r[e]^=255*!!n;return r}Gt(e){let t=255&e;0===t?(this.sn(0),this.sn(255)):255===t?(this.sn(255),this.sn(0)):this.sn(t)}Ht(e){let t=255&e;0===t?(this.an(0),this.an(255)):255===t?(this.an(255),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){let t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);let n=new Uint8Array(r);n.set(this.buffer),this.buffer=n}}class SK{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class SH{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class SG{constructor(){this.cn=new Sq,this.ascending=new SK(this.cn),this.descending=new SH(this.cn)}seed(e){this.cn.seed(e)}ln(e){return 0===e?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class SQ{constructor(e,t,r,n){this.hn=e,this.Pn=t,this.Tn=r,this.In=n}En(){let e=this.In.length,t=0===e||255===this.In[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.In,0),t!==e?r.set([0],this.In.length):++r[r.length-1],new SQ(this.hn,this.Pn,this.Tn,r)}Rn(e,t,r){return{indexId:this.hn,uid:e,arrayValue:SY(this.Tn),directionalValue:SY(this.In),orderedDocumentKey:SY(t),documentKey:r.path.toArray()}}An(e,t,r){let n=this.Rn(e,t,r);return[n.indexId,n.uid,n.arrayValue,n.directionalValue,n.orderedDocumentKey,n.documentKey]}}function SX(e,t){let r=e.hn-t.hn;return 0!==r||0!==(r=SJ(e.Tn,t.Tn))||0!==(r=SJ(e.In,t.In))?r:y8.comparator(e.Pn,t.Pn)}function SJ(e,t){for(let r=0;r<e.length&&r<t.length;++r){let n=e[r]-t[r];if(0!==n)return n}return e.length-t.length}function SY(e){return my()?function(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}(e):e}function SZ(e){return"string"!=typeof e?e:function(e){let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(e)}class S0{constructor(e){for(const t of(this.Vn=new bV((e,t)=>y6.comparator(e.field,t.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[],e.filters))t.isInequality()?this.Vn=this.Vn.add(t):this.mn.push(t)}get fn(){return this.Vn.size>1}gn(e){if(yj(e.collectionGroup===this.collectionId,49279),this.fn)return!1;let t=vc(e);if(void 0!==t&&!this.pn(t))return!1;let r=vh(e),n=new Set,i=0,o=0;for(;i<r.length&&this.pn(r[i]);++i)n=n.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.Vn.size>0){let e=this.Vn.getIterator().getNext();if(!n.has(e.field.canonicalString())){let t=r[i];if(!this.yn(e,t)||!this.wn(this.dn[o++],t))return!1}++i}for(;i<r.length;++i){let e=r[i];if(o>=this.dn.length||!this.wn(this.dn[o++],e))return!1}return!0}bn(){if(this.fn)return null;let e=new bV(y6.comparator),t=[];for(let r of this.mn)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new vf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new vf(r.field,0))}for(let r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new vf(r.field,+("asc"!==r.dir))));return new vu(vu.UNKNOWN_ID,this.collectionId,t,vp.empty())}pn(e){for(let t of this.mn)if(this.yn(t,e))return!0;return!1}yn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;let r="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===r}wn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function S1(e){return e instanceof wI}function S2(e){return e instanceof wD&&wN(e)}function S5(e){return S1(e)||S2(e)||function(e){if(e instanceof wD&&wP(e)){for(let t of e.getFilters())if(!S1(t)&&!S2(t))return!1;return!0}return!1}(e)}function S3(e,t){return yj(e instanceof wI||e instanceof wD,38388),yj(t instanceof wI||t instanceof wD,25473),S6(e instanceof wI?t instanceof wI?wD.create([e,t],"and"):S4(e,t):t instanceof wI?S4(t,e):function(e,t){if(yj(e.filters.length>0&&t.filters.length>0,48005),wF(e)&&wF(t))return wO(e,t.getFilters());let r=wP(e)?e:t,n=wP(e)?t:e,i=r.filters.map(e=>S3(e,n));return wD.create(i,"or")}(e,t))}function S4(e,t){if(wF(t))return wO(t,e.getFilters());{let r=t.filters.map(t=>S3(e,t));return wD.create(r,"or")}}function S6(e){if(yj(e instanceof wI||e instanceof wD,11850),e instanceof wI)return e;let t=e.getFilters();if(1===t.length)return S6(t[0]);if(wR(e))return e;let r=t.map(e=>S6(e)),n=[];return r.forEach(t=>{t instanceof wI?n.push(t):t instanceof wD&&(t.op===e.op?n.push(...t.filters):n.push(t))}),1===n.length?n[0]:wD.create(n,e.op)}class S8{constructor(){this.Sn=new S9}addToCollectionParentIndex(e,t){return this.Sn.add(t),vS.resolve()}getCollectionParents(e,t){return vS.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return vS.resolve()}deleteFieldIndex(e,t){return vS.resolve()}deleteAllFieldIndexes(e){return vS.resolve()}createTargetIndexes(e,t){return vS.resolve()}getDocumentsMatchingTarget(e,t){return vS.resolve(null)}getIndexType(e,t){return vS.resolve(0)}getFieldIndexes(e,t){return vS.resolve([])}getNextCollectionGroupToUpdate(e){return vS.resolve(null)}getMinOffset(e,t){return vS.resolve(vy.min())}getMinOffsetFromCollectionGroup(e,t){return vS.resolve(vy.min())}updateCollectionGroup(e,t,r){return vS.resolve()}updateIndexEntries(e,t){return vS.resolve()}}class S9{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),n=this.index[t]||new bV(y3.comparator),i=!n.has(r);return this.index[t]=n.add(r),i}has(e){let t=e.lastSegment(),r=e.popLast(),n=this.index[t];return n&&n.has(r)}getEntries(e){return(this.index[e]||new bV(y3.comparator)).toArray()}}let S7="IndexedDbIndexManager",Ce=new Uint8Array(0);class Ct{constructor(e,t){this.databaseId=t,this.Dn=new S9,this.Cn=new xn(e=>wK(e),(e,t)=>wH(e,t)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Dn.has(t)){let r=t.lastSegment(),n=t.popLast();e.addOnCommittedListener(()=>{this.Dn.add(t)});let i={collectionId:r,parent:vV(n)};return bR(e,ba).put(i)}return vS.resolve()}getCollectionParents(e,t){let r=[],n=IDBKeyRange.bound([t,""],[t+"\0",""],!1,!0);return bR(e,ba).H(n).next(e=>{for(let n of e){if(n.collectionId!==t)break;r.push(vU(n.parent))}return r})}addFieldIndex(e,t){let r=bR(e,bh),n={indexId:t.indexId,collectionGroup:t.collectionGroup,fields:t.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])};delete n.indexId;let i=r.add(n);if(t.indexState){let r=bR(e,bf);return i.next(e=>{r.put(Sj(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return i.next()}deleteFieldIndex(e,t){let r=bR(e,bh),n=bR(e,bf),i=bR(e,by);return r.delete(t.indexId).next(()=>n.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let t=bR(e,bh),r=bR(e,by),n=bR(e,bf);return t.X().next(()=>r.X()).next(()=>n.X())}createTargetIndexes(e,t){return vS.forEach(this.vn(t),t=>this.getIndexType(e,t).next(r=>{if(0===r||1===r){let r=new S0(t).bn();if(null!=r)return this.addFieldIndex(e,r)}}))}getDocumentsMatchingTarget(e,t){let r=bR(e,by),n=!0,i=new Map;return vS.forEach(this.vn(t),t=>this.Fn(e,t).next(e=>{n&&(n=!!e),i.set(t,e)})).next(()=>{if(n){let e=xh(),n=[];return vS.forEach(i,(i,o)=>{yN(S7,`Using index id=${i.indexId}|cg=${i.collectionGroup}|f=${i.fields.map(e=>`${e.fieldPath}:${e.kind}`).join(",")} to execute ${wK(t)}`);let a=function(e,t){let r=vc(t);if(void 0===r)return null;for(let t of wQ(e,r.fieldPath))switch(t.op){case"array-contains-any":return t.value.arrayValue.values||[];case"array-contains":return[t.value]}return null}(o,i),s=function(e,t){let r=new Map;for(let n of vh(t))for(let t of wQ(e,n.fieldPath))switch(t.op){case"==":case"in":r.set(n.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return r.set(n.fieldPath.canonicalString(),t.value),Array.from(r.values())}return null}(o,i),l=function(e,t){let r=[],n=!0;for(let i of vh(t)){let t=0===i.kind?wX(e,i.fieldPath,e.startAt):wJ(e,i.fieldPath,e.startAt);r.push(t.value),n&&(n=t.inclusive)}return new wk(r,n)}(o,i),u=function(e,t){let r=[],n=!0;for(let i of vh(t)){let t=0===i.kind?wJ(e,i.fieldPath,e.endAt):wX(e,i.fieldPath,e.endAt);r.push(t.value),n&&(n=t.inclusive)}return new wk(r,n)}(o,i),c=this.Mn(i,o,l),h=this.Mn(i,o,u),d=this.xn(i,o,s),f=this.On(i.indexId,a,c,l.inclusive,h,u.inclusive,d);return vS.forEach(f,i=>r.Z(i,t.limit).next(t=>{t.forEach(t=>{let r=y8.fromSegments(t.documentKey);e.has(r)||(e=e.add(r),n.push(r))})}))}).next(()=>n)}return vS.resolve(null)})}vn(e){let t=this.Cn.get(e);return t||(t=0===e.filters.length?[e]:(function(e){if(0===e.getFilters().length)return[];let t=function e(t){if(yj(t instanceof wI||t instanceof wD,34018),t instanceof wI)return t;if(1===t.filters.length)return e(t.filters[0]);let r=t.filters.map(t=>e(t)),n=wD.create(r,t.op);return S5(n=S6(n))?n:(yj(n instanceof wD,64498),yj(wF(n),40251),yj(n.filters.length>1,57927),n.filters.reduce((e,t)=>S3(e,t)))}(function e(t){if(yj(t instanceof wI||t instanceof wD,20012),t instanceof wI){if(t instanceof wV){let e=t.value.arrayValue?.values?.map(e=>wI.create(t.field,"==",e))||[];return wD.create(e,"or")}return t}let r=t.filters.map(t=>e(t));return wD.create(r,t.op)}(e));return yj(S5(t),7391),S1(t)||S2(t)?[t]:t.getFilters()})(wD.create(e.filters,"and")).map(t=>wq(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)),this.Cn.set(e,t)),t}On(e,t,r,n,i,o,a){let s=(null!=t?t.length:1)*Math.max(r.length,i.length),l=s/(null!=t?t.length:1),u=[];for(let c=0;c<s;++c){let s=t?this.Nn(t[c/l]):Ce,h=this.Bn(e,s,r[c%l],n),d=this.Ln(e,s,i[c%l],o),f=a.map(t=>this.Bn(e,s,t,!0));u.push(...this.createRange(h,d,f))}return u}Bn(e,t,r,n){let i=new SQ(e,y8.empty(),t,r);return n?i:i.En()}Ln(e,t,r,n){let i=new SQ(e,y8.empty(),t,r);return n?i.En():i}Fn(e,t){let r=new S0(t),n=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,n).next(e=>{let t=null;for(let n of e)r.gn(n)&&(!t||n.fields.length>t.fields.length)&&(t=n);return t})}getIndexType(e,t){let r=2,n=this.vn(t);return vS.forEach(n,t=>this.Fn(e,t).next(e=>{e?0!==r&&e.fields.length<function(e){let t=new bV(y6.comparator),r=!1;for(let n of e.filters)for(let e of n.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?r=!0:t=t.add(e.field));for(let r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+ +!!r}(t)&&(r=1):r=0})).next(()=>null!==t.limit&&n.length>1&&2===r?1:r)}kn(e,t){let r=new SG;for(let n of vh(e)){let e=t.data.field(n.fieldPath);if(null==e)return null;let i=r.ln(n.kind);S$.Wt.Dt(e,i)}return r.un()}Nn(e){let t=new SG;return S$.Wt.Dt(e,t.ln(0)),t.un()}Kn(e,t){let r,n=new SG;return S$.Wt.Dt(wc(this.databaseId,t),n.ln(0===(r=vh(e)).length?0:r[r.length-1].kind)),n.un()}xn(e,t,r){if(null===r)return[];let n=[];n.push(new SG);let i=0;for(let o of vh(e)){let e=r[i++];for(let r of n)if(this.qn(t,o.fieldPath)&&wd(e))n=this.Un(n,o,e);else{let t=r.ln(o.kind);S$.Wt.Dt(e,t)}}return this.$n(n)}Mn(e,t,r){return this.xn(e,t,r.position)}$n(e){let t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Un(e,t,r){let n=[...e],i=[];for(let e of r.arrayValue.values||[])for(let r of n){let n=new SG;n.seed(r.un()),S$.Wt.Dt(e,n.ln(t.kind)),i.push(n)}return i}qn(e,t){return!!e.filters.find(e=>e instanceof wI&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){let r=bR(e,bh),n=bR(e,bf);return(t?r.H(bd,IDBKeyRange.bound(t,t)):r.H()).next(e=>{let t=[];return vS.forEach(e,e=>n.get([e.indexId,this.uid]).next(r=>{let n,i;t.push((n=r?new vp(r.sequenceNumber,new vy(SP(r.readTime),new y8(vU(r.documentKey)),r.largestBatchId)):vp.empty(),i=e.fields.map(([e,t])=>new vf(y6.fromServerFormat(e),t)),new vu(e.indexId,e.collectionGroup,i,n)))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{let r=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==r?r:yY(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,r){let n=bR(e,bh),i=bR(e,bf);return this.Wn(e).next(e=>n.H(bd,IDBKeyRange.bound(t,t)).next(t=>vS.forEach(t,t=>i.put(Sj(t.indexId,this.uid,e,r)))))}updateIndexEntries(e,t){let r=new Map;return vS.forEach(t,(t,n)=>{let i=r.get(t.collectionGroup);return(i?vS.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next(i=>(r.set(t.collectionGroup,i),vS.forEach(i,r=>this.Qn(e,t,r).next(t=>{let i=this.Gn(n,r);return t.isEqual(i)?vS.resolve():this.zn(e,n,r,t,i)}))))})}jn(e,t,r,n){return bR(e,by).put(n.Rn(this.uid,this.Kn(r,t.key),t.key))}Hn(e,t,r,n){return bR(e,by).delete(n.An(this.uid,this.Kn(r,t.key),t.key))}Qn(e,t,r){let n=bR(e,by),i=new bV(SX);return n.ee({index:bb,range:IDBKeyRange.only([r.indexId,this.uid,SY(this.Kn(r,t))])},(e,n)=>{i=i.add(new SQ(r.indexId,t,SZ(n.arrayValue),SZ(n.directionalValue)))}).next(()=>i)}Gn(e,t){let r=new bV(SX),n=this.kn(t,e);if(null==n)return r;let i=vc(t);if(null!=i){let o=e.data.field(i.fieldPath);if(wd(o))for(let i of o.arrayValue.values||[])r=r.add(new SQ(t.indexId,e.key,this.Nn(i),n))}else r=r.add(new SQ(t.indexId,e.key,Ce,n));return r}zn(e,t,r,n,i){yN(S7,"Updating index entries for document '%s'",t.key);let o=[];return function(e,t,r,n,i){let o=e.getIterator(),a=t.getIterator(),s=b$(o),l=b$(a);for(;s||l;){let e=!1,t=!1;if(s&&l){let n=r(s,l);n<0?t=!0:n>0&&(e=!0)}else null!=s?t=!0:e=!0;e?(n(l),l=b$(a)):t?(i(s),s=b$(o)):(s=b$(o),l=b$(a))}}(n,i,SX,n=>{o.push(this.jn(e,t,r,n))},n=>{o.push(this.Hn(e,t,r,n))}),vS.waitFor(o)}Wn(e){let t=1;return bR(e,bf).ee({index:bg,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,r,n)=>{n.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((e,t)=>SX(e,t)).filter((e,t,r)=>!t||0!==SX(e,r[t-1]));let n=[];for(let i of(n.push(e),r)){let r=SX(i,e),o=SX(i,t);if(0===r)n[0]=e.En();else if(r>0&&o<0)n.push(i),n.push(i.En());else if(o>0)break}n.push(t);let i=[];for(let e=0;e<n.length;e+=2){if(this.Jn(n[e],n[e+1]))return[];let t=n[e].An(this.uid,Ce,y8.empty()),r=n[e+1].An(this.uid,Ce,y8.empty());i.push(IDBKeyRange.bound(t,r))}return i}Jn(e,t){return SX(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Cr)}getMinOffset(e,t){return vS.mapArray(this.vn(t),t=>this.Fn(e,t).next(e=>e||yM(44426))).next(Cr)}}function Cr(e){yj(0!==e.length,28825);let t=e[0].indexState.offset,r=t.largestBatchId;for(let n=1;n<e.length;n++){let i=e[n].indexState.offset;0>vv(i,t)&&(t=i),r<i.largestBatchId&&(r=i.largestBatchId)}return new vy(t.readTime,t.documentKey,r)}let Cn={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ci{static withCacheSize(e){return new Ci(e,Ci.DEFAULT_COLLECTION_PERCENTILE,Ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}function Co(e,t,r){let n=e.store(vH),i=e.store(vY),o=[],a=IDBKeyRange.only(r.batchId),s=0,l=n.ee({range:a},(e,t,r)=>(s++,r.delete()));o.push(l.next(()=>{yj(1===s,47070,{batchId:r.batchId})}));let u=[];for(let e of r.mutations){var c,h;let n=(c=e.key.path,h=r.batchId,[t,vV(c),h]);o.push(i.delete(n)),u.push(e.key)}return vS.waitFor(o).next(()=>u)}function Ca(e){let t;if(!e)return 0;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw yM(14731);t=e.noDocument}return JSON.stringify(t).length}Ci.DEFAULT_COLLECTION_PERCENTILE=10,Ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ci.DEFAULT=new Ci(0x2800000,Ci.DEFAULT_COLLECTION_PERCENTILE,Ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ci.DISABLED=new Ci(-1,0,0);class Cs{constructor(e,t,r,n){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=n,this.Zn={}}static wt(e,t,r,n){return yj(""!==e.uid,64387),new Cs(e.isAuthenticated()?e.uid:"",t,r,n)}checkEmpty(e){let t=!0,r=IDBKeyRange.bound([this.userId,-1/0],[this.userId,1/0]);return Cu(e).ee({index:vQ,range:r},(e,r,n)=>{t=!1,n.done()}).next(()=>t)}addMutationBatch(e,t,r,n){let i=bR(e,vY),o=Cu(e);return o.add({}).next(a=>{var s,l,u,c;let h,d;yj("number"==typeof a,49019);let f=new xz(a,t,r,n),p=(s=this.serializer,l=this.userId,h=f.baseMutations.map(e=>Sv(s.yt,e)),d=f.mutations.map(e=>Sv(s.yt,e)),{userId:l,batchId:f.batchId,localWriteTimeMs:f.localWriteTime.toMillis(),baseMutations:h,mutations:d}),g=[],m=new bV((e,t)=>yY(e.canonicalString(),t.canonicalString()));for(let e of n){let t=(u=this.userId,c=e.key.path,[u,vV(c),a]);m=m.add(e.key.path.popLast()),g.push(o.put(p)),g.push(i.put(t,vJ))}return m.forEach(t=>{g.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Zn[a]=f.keys()}),vS.waitFor(g).next(()=>f)})}lookupMutationBatch(e,t){return Cu(e).get(t).next(e=>e?(yj(e.userId===this.userId,48,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),SN(this.serializer,e)):null)}Xn(e,t){return this.Zn[t]?vS.resolve(this.Zn[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){let r=e.keys();return this.Zn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){let r=t+1,n=IDBKeyRange.lowerBound([this.userId,r]),i=null;return Cu(e).ee({index:vQ,range:n},(e,t,n)=>{t.userId===this.userId&&(yj(t.batchId>=r,47524,{Yn:r}),i=SN(this.serializer,t)),n.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,1/0]),r=-1;return Cu(e).ee({index:vQ,range:t,reverse:!0},(e,t,n)=>{r=t.batchId,n.done()}).next(()=>r)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,-1],[this.userId,1/0]);return Cu(e).H(vQ,t).next(e=>e.map(e=>SN(this.serializer,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){let r=[this.userId,vV(t.path)],n=IDBKeyRange.lowerBound(r),i=[];return bR(e,vY).ee({range:n},(r,n,o)=>{let[a,s,l]=r,u=vU(s);if(a===this.userId&&t.path.isEqual(u))return Cu(e).get(l).next(e=>{if(!e)throw yM(61480,{er:r,batchId:l});yj(e.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:e.userId,batchId:l}),i.push(SN(this.serializer,e))});o.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bV(yY),n=[];return t.forEach(t=>{let i=[this.userId,vV(t.path)],o=IDBKeyRange.lowerBound(i),a=bR(e,vY).ee({range:o},(e,n,i)=>{let[o,a,s]=e,l=vU(a);o===this.userId&&t.path.isEqual(l)?r=r.add(s):i.done()});n.push(a)}),vS.waitFor(n).next(()=>this.tr(e,r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,n=r.length+1,i=[this.userId,vV(r)],o=IDBKeyRange.lowerBound(i),a=new bV(yY);return bR(e,vY).ee({range:o},(e,t,i)=>{let[o,s,l]=e,u=vU(s);o===this.userId&&r.isPrefixOf(u)?u.length===n&&(a=a.add(l)):i.done()}).next(()=>this.tr(e,a))}tr(e,t){let r=[],n=[];return t.forEach(t=>{n.push(Cu(e).get(t).next(e=>{if(null===e)throw yM(35274,{batchId:t});yj(e.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),r.push(SN(this.serializer,e))}))}),vS.waitFor(n).next(()=>r)}removeMutationBatch(e,t){return Co(e.le,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.nr(t.batchId)}),vS.forEach(r,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return vS.resolve();let r=IDBKeyRange.lowerBound([this.userId]),n=[];return bR(e,vY).ee({range:r},(e,t,r)=>{if(e[0]===this.userId){let t=vU(e[1]);n.push(t)}else r.done()}).next(()=>{yj(0===n.length,56720,{rr:n.map(e=>e.canonicalString())})})})}containsKey(e,t){return Cl(e,this.userId,t)}ir(e){return bR(e,vK).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Cl(e,t,r){let n=[t,vV(r.path)],i=n[1],o=IDBKeyRange.lowerBound(n),a=!1;return bR(e,vY).ee({range:o,Y:!0},(e,r,n)=>{let[o,s,l]=e;o===t&&s===i&&(a=!0),n.done()}).next(()=>a)}function Cu(e){return bR(e,vH)}class Cc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Cc(0)}static ar(){return new Cc(-1)}}class Ch{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.ur(e).next(t=>{let r=new Cc(t.highestTargetId);return t.highestTargetId=r.next(),this.cr(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.ur(e).next(e=>vl.fromTimestamp(new vs(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.ur(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.ur(e).next(n=>(n.highestListenSequenceNumber=t,r&&(n.lastRemoteSnapshotVersion=r.toTimestamp()),t>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t),this.cr(e,n)))}addTargetData(e,t){return this.lr(e,t).next(()=>this.ur(e).next(r=>(r.targetCount+=1,this.hr(t,r),this.cr(e,r))))}updateTargetData(e,t){return this.lr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>bR(e,v8).delete(t.targetId)).next(()=>this.ur(e)).next(t=>(yj(t.targetCount>0,8065),t.targetCount-=1,this.cr(e,t)))}removeTargets(e,t,r){let n=0,i=[];return bR(e,v8).ee((o,a)=>{let s=SR(a);s.sequenceNumber<=t&&null===r.get(s.targetId)&&(n++,i.push(this.removeTargetData(e,s)))}).next(()=>vS.waitFor(i)).next(()=>n)}forEachTarget(e,t){return bR(e,v8).ee((e,r)=>{t(SR(r))})}ur(e){return bR(e,bo).get(bi).next(e=>(yj(null!==e,2888),e))}cr(e,t){return bR(e,bo).put(bi,t)}lr(e,t){return bR(e,v8).put(SO(this.serializer,t))}hr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next(e=>e.targetCount)}getTargetData(e,t){let r=wK(t),n=IDBKeyRange.bound([r,-1/0],[r,1/0]),i=null;return bR(e,v8).ee({range:n,index:v9},(e,r,n)=>{let o=SR(r);wH(t,o.target)&&(i=o,n.done())}).next(()=>i)}addMatchingKeys(e,t,r){let n=[],i=Cd(e);return t.forEach(t=>{let o=vV(t.path);n.push(i.put({targetId:r,path:o})),n.push(this.referenceDelegate.addReference(e,r,t))}),vS.waitFor(n)}removeMatchingKeys(e,t,r){let n=Cd(e);return vS.forEach(t,t=>{let i=vV(t.path);return vS.waitFor([n.delete([r,i]),this.referenceDelegate.removeReference(e,r,t)])})}removeMatchingKeysForTargetId(e,t){let r=Cd(e),n=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(n)}getMatchingKeysForTargetId(e,t){let r=IDBKeyRange.bound([t],[t+1],!1,!0),n=Cd(e),i=xh();return n.ee({range:r,Y:!0},(e,t,r)=>{let n=new y8(vU(e[1]));i=i.add(n)}).next(()=>i)}containsKey(e,t){let r=vV(t.path),n=IDBKeyRange.bound([r],[r+"\0"],!1,!0),i=0;return Cd(e).ee({index:br,Y:!0,range:n},([e,t],r,n)=>{0!==e&&(i++,n.done())}).next(()=>i>0)}At(e,t){return bR(e,v8).get(t).next(e=>e?SR(e):null)}}function Cd(e){return bR(e,be)}let Cf="LruGarbageCollector";function Cp([e,t],[r,n]){let i=yY(e,r);return 0===i?yY(t,n):i}class Cg{constructor(e){this.Pr=e,this.buffer=new bV(Cp),this.Tr=0}Ir(){return++this.Tr}Er(e){let t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{let e=this.buffer.last();0>Cp(t,e)&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Cm{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Ar(e){yN(Cf,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){vI(e)?yN(Cf,"Ignoring IndexedDB error during garbage collection: ",e):await vx(e)}await this.Ar(3e5)})}}class Cy{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return vS.resolve(vM.ce);let r=new Cg(t);return this.Vr.forEachTarget(e,e=>r.Er(e.sequenceNumber)).next(()=>this.Vr.mr(e,e=>r.Er(e))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return -1===this.params.cacheSizeCollectionThreshold?(yN("LruGarbageCollector","Garbage collection skipped; disabled"),vS.resolve(Cn)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(yN("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cn):this.gr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,n,i,o,a,s,l,u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(yN("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),n=this.params.maximumSequenceNumbersToCollect):n=t,o=Date.now(),this.nthSequenceNumber(e,n))).next(n=>(r=n,a=Date.now(),this.removeTargets(e,r,t))).next(t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,r))).next(e=>(l=Date.now(),yP()<=ek.DEBUG&&yN("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${n} in `+(a-o)+"ms\n"+`	Removed ${i} targets in `+(s-a)+"ms\n"+`	Removed ${e} documents in `+(l-s)+"ms\n"+`Total Duration: ${l-u}ms`),vS.resolve({didRun:!0,sequenceNumbersCollected:n,targetsRemoved:i,documentsRemoved:e})))}}class Cv{constructor(e,t){this.db=e,this.garbageCollector=new Cy(this,t)}dr(e){let t=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}pr(e){let t=0;return this.mr(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}mr(e,t){return this.yr(e,(e,r)=>t(r))}addReference(e,t,r){return Cb(e,r)}removeReference(e,t,r){return Cb(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Cb(e,t)}wr(e,t){let r;return r=!1,bR(e,vK).te(n=>Cl(e,n,t).next(e=>(e&&(r=!0),vS.resolve(!e)))).next(()=>r)}removeOrphanedDocuments(e,t){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),n=[],i=0;return this.yr(e,(o,a)=>{if(a<=t){let t=this.wr(e,o).next(t=>{if(!t)return i++,r.getEntry(e,o).next(()=>(r.removeEntry(o,vl.min()),Cd(e).delete([0,vV(o.path)])))});n.push(t)}}).next(()=>vS.waitFor(n)).next(()=>r.apply(e)).next(()=>i)}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Cb(e,t)}yr(e,t){let r=Cd(e),n,i=vM.ce;return r.ee({index:br},([e,r],{path:o,sequenceNumber:a})=>{0===e?(i!==vM.ce&&t(new y8(vU(n)),i),i=a,n=o):i=vM.ce}).next(()=>{i!==vM.ce&&t(new y8(vU(n)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Cb(e,t){var r;return Cd(e).put((r=e.currentSequenceNumber,{targetId:0,path:vV(t.path),sequenceNumber:r}))}class Cw{constructor(){this.changes=new xn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wC.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return void 0!==r?vS.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Cx{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return bR(e,vZ).put(r)}removeEntry(e,t,r){let n;return bR(e,vZ).delete([(n=t.path.toArray()).slice(0,n.length-2),n[n.length-2],SD(r),n[n.length-1]])}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.br(e,r)))}getEntry(e,t){let r=wC.newInvalidDocument(t);return bR(e,vZ).ee({index:v1,range:IDBKeyRange.only(CC(t))},(e,n)=>{r=this.Sr(t,n)}).next(()=>r)}Dr(e,t){let r={size:0,document:wC.newInvalidDocument(t)};return bR(e,vZ).ee({index:v1,range:IDBKeyRange.only(CC(t))},(e,n)=>{r={document:this.Sr(t,n),size:Ca(n)}}).next(()=>r)}getEntries(e,t){let r=xi;return this.Cr(e,t,(e,t)=>{let n=this.Sr(e,t);r=r.insert(e,n)}).next(()=>r)}vr(e,t){let r=xi,n=new bL(y8.comparator);return this.Cr(e,t,(e,t)=>{let i=this.Sr(e,t);r=r.insert(e,i),n=n.insert(e,Ca(t))}).next(()=>({documents:r,Fr:n}))}Cr(e,t,r){if(t.isEmpty())return vS.resolve();let n=new bV(C_);t.forEach(e=>n=n.add(e));let i=IDBKeyRange.bound(CC(n.first()),CC(n.last())),o=n.getIterator(),a=o.getNext();return bR(e,vZ).ee({index:v1,range:i},(e,t,n)=>{let i=y8.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&0>C_(a,i);)r(a,null),a=o.getNext();a&&a.isEqual(i)&&(r(a,t),a=o.hasNext()?o.getNext():null),a?n.j(CC(a)):n.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,r,n,i){let o=t.path,a=[o.popLast().toArray(),o.lastSegment(),SD(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],s=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return bR(e,vZ).H(IDBKeyRange.bound(a,s,!0)).next(e=>{i?.incrementDocumentReadCount(e.length);let r=xi;for(let i of e){let e=this.Sr(y8.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(xe(t,e)||n.has(e.key))&&(r=r.insert(e.key,e))}return r})}getAllFromCollectionGroup(e,t,r,n){let i=xi,o=Ck(t,r),a=Ck(t,vy.max());return bR(e,vZ).ee({index:v5,range:IDBKeyRange.bound(o,a,!0)},(e,t,r)=>{let o=this.Sr(y8.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(i=i.insert(o.key,o)).size===n&&r.done()}).next(()=>i)}newChangeBuffer(e){return new CS(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return bR(e,v4).get(v6).next(e=>(yj(!!e,20021),e))}br(e,t){return bR(e,v4).put(v6,t)}Sr(e,t){if(t){let e=function(e,t){var r;let n,i;if(t.document)n=Sy(e.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){let e=y8.fromSegments(t.noDocument.path),r=SP(t.noDocument.readTime);n=wC.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return yM(56709);{let e=y8.fromSegments(t.unknownDocument.path),r=SP(t.unknownDocument.version);n=wC.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime((i=new vs((r=t.readTime)[0],r[1]),vl.fromTimestamp(i))),n}(this.serializer,t);if(!(e.isNoDocument()&&e.version.isEqual(vl.min())))return e}return wC.newInvalidDocument(e)}}class CS extends Cw{constructor(e,t){super(),this.Mr=e,this.trackRemovals=t,this.Or=new xn(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){let t=[],r=0,n=new bV((e,t)=>yY(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,o)=>{let a=this.Or.get(i);if(t.push(this.Mr.removeEntry(e,i,a.readTime)),o.isValidDocument()){let s=SI(this.Mr.serializer,o);n=n.add(i.path.popLast());let l=Ca(s);r+=l-a.size,t.push(this.Mr.addEntry(e,i,s))}else if(r-=a.size,this.trackRemovals){let r=SI(this.Mr.serializer,o.convertToNoDocument(vl.min()));t.push(this.Mr.addEntry(e,i,r))}}),n.forEach(r=>{t.push(this.Mr.indexManager.addToCollectionParentIndex(e,r))}),t.push(this.Mr.updateMetadata(e,r)),vS.waitFor(t)}getFromCache(e,t){return this.Mr.Dr(e,t).next(e=>(this.Or.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.Mr.vr(e,t).next(({documents:e,Fr:t})=>(t.forEach((t,r)=>{this.Or.set(t,{size:r,readTime:e.get(t).readTime})}),e))}}function CC(e){let t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Ck(e,t){let r=t.documentKey.path.toArray();return[e,SD(t.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function C_(e,t){let r=e.path.toArray(),n=t.path.toArray(),i=0;for(let e=0;e<r.length-2&&e<n.length-2;++e)if(i=yY(r[e],n[e]))return i;return(i=yY(r.length,n.length))||(i=yY(r[r.length-2],n[n.length-2]))||yY(r[r.length-1],n[n.length-1])}class CA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class CT{constructor(e,t,r,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=n}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(n=>(r=n,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==r&&xF(r.mutation,e,bW.empty(),vs.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,xh()).next(()=>t))}getLocalViewOfDocuments(e,t,r=xh()){let n=xl();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,r).next(e=>{let t=xa();return e.forEach((e,r)=>{t=t.insert(e,r.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){let r=xl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,xh()))}populateOverlays(e,t,r){let n=[];return r.forEach(e=>{t.has(e)||n.push(e)}),this.documentOverlayCache.getOverlays(e,n).next(e=>{e.forEach((e,r)=>{t.set(e,r)})})}computeViews(e,t,r,n){let i=xi,o=xl(),a=xl();return t.forEach((e,t)=>{let a=r.get(t.key);n.has(t.key)&&(void 0===a||a.mutation instanceof xR)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),xF(a.mutation,t,a.mutation.getFieldMask(),vs.now())):o.set(t.key,bW.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>a.set(e,new CA(t,o.get(e)??null))),a))}recalculateAndSaveOverlays(e,t){let r=xl(),n=new bL((e,t)=>e-t),i=xh();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(let i of e)i.keys().forEach(e=>{let o=t.get(e);if(null===o)return;let a=r.get(e)||bW.empty();a=i.applyToLocalView(o,a),r.set(e,a);let s=(n.get(i.batchId)||xh()).add(e);n=n.insert(i.batchId,s)})}).next(()=>{let o=[],a=n.getReverseIterator();for(;a.hasNext();){let n=a.getNext(),s=n.key,l=n.value,u=xl();l.forEach(e=>{if(!i.has(e)){let n=xD(t.get(e),r.get(e));null!==n&&u.set(e,n),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,s,u))}return vS.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,r,n){return y8.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):w1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,n):this.getDocumentsMatchingCollectionQuery(e,t,r,n)}getNextDocuments(e,t,r,n){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,n).next(i=>{let o=n-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,n-i.size):vS.resolve(xl()),a=-1,s=i;return o.next(t=>vS.forEach(t,(t,r)=>(a<r.largestBatchId&&(a=r.largestBatchId),i.get(t)?vS.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,xh())).next(e=>({batchId:a,changes:xs(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new y8(t)).next(e=>{let t=xa();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,r,n){let i=t.collectionGroup,o=xa();return this.indexManager.getCollectionParents(e,i).next(a=>vS.forEach(a,a=>{let s=new wY(a.child(i),null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt);return this.getDocumentsMatchingCollectionQuery(e,s,r,n).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,n){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,n))).next(e=>{i.forEach((t,r)=>{let n=r.getKey();null===e.get(n)&&(e=e.insert(n,wC.newInvalidDocument(n)))});let r=xa();return e.forEach((e,n)=>{let o=i.get(e);void 0!==o&&xF(o.mutation,n,bW.empty(),vs.now()),xe(t,n)&&(r=r.insert(e,n))}),r})}}class CE{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return vS.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,{id:t.id,version:t.version,createTime:Sa(t.createTime)}),vS.resolve()}getNamedQuery(e,t){return vS.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,{name:t.name,query:SB(t.bundledQuery),readTime:Sa(t.readTime)}),vS.resolve()}}class CI{constructor(){this.overlays=new bL(y8.comparator),this.Lr=new Map}getOverlay(e,t){return vS.resolve(this.overlays.get(t))}getOverlays(e,t){let r=xl();return vS.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&r.set(t,e)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((r,n)=>{this.bt(e,t,n)}),vS.resolve()}removeOverlaysForBatchId(e,t,r){let n=this.Lr.get(r);return void 0!==n&&(n.forEach(e=>this.overlays=this.overlays.remove(e)),this.Lr.delete(r)),vS.resolve()}getOverlaysForCollection(e,t,r){let n=xl(),i=t.length+1,o=new y8(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>r&&n.set(e.getKey(),e)}return vS.resolve(n)}getOverlaysForCollectionGroup(e,t,r,n){let i=new bL((e,t)=>e-t),o=this.overlays.getIterator();for(;o.hasNext();){let e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>r){let t=i.get(e.largestBatchId);null===t&&(t=xl(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let a=xl(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=n)););return vS.resolve(a)}bt(e,t,r){let n=this.overlays.get(r.key);if(null!==n){let e=this.Lr.get(n.largestBatchId).delete(r.key);this.Lr.set(n.largestBatchId,e)}this.overlays=this.overlays.insert(r.key,new xU(t,r));let i=this.Lr.get(t);void 0===i&&(i=xh(),this.Lr.set(t,i)),this.Lr.set(t,i.add(r.key))}}class CD{constructor(){this.sessionToken=bK.EMPTY_BYTE_STRING}getSessionToken(e){return vS.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,vS.resolve()}}class CF{constructor(){this.kr=new bV(CP.Kr),this.qr=new bV(CP.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){let r=new CP(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Wr(new CP(e,t))}Qr(e,t){e.forEach(e=>this.removeReference(e,t))}Gr(e){let t=new y8(new y3([])),r=new CP(t,e),n=new CP(t,e+1),i=[];return this.qr.forEachInRange([r,n],e=>{this.Wr(e),i.push(e.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){let t=new y8(new y3([])),r=new CP(t,e),n=new CP(t,e+1),i=xh();return this.qr.forEachInRange([r,n],e=>{i=i.add(e.key)}),i}containsKey(e){let t=new CP(e,0),r=this.kr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class CP{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return y8.comparator(e.key,t.key)||yY(e.Hr,t.Hr)}static Ur(e,t){return yY(e.Hr,t.Hr)||y8.comparator(e.key,t.key)}}class CN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new bV(CP.Kr)}checkEmpty(e){return vS.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,n){let i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new xz(i,t,r,n);for(let t of(this.mutationQueue.push(o),n))this.Jr=this.Jr.add(new CP(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return vS.resolve(o)}lookupMutationBatch(e,t){return vS.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=this.Xr(t+1),n=r<0?0:r;return vS.resolve(this.mutationQueue.length>n?this.mutationQueue[n]:null)}getHighestUnacknowledgedBatchId(){return vS.resolve(0===this.mutationQueue.length?-1:this.Yn-1)}getAllMutationBatches(e){return vS.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new CP(t,0),n=new CP(t,1/0),i=[];return this.Jr.forEachInRange([r,n],e=>{let t=this.Zr(e.Hr);i.push(t)}),vS.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bV(yY);return t.forEach(e=>{let t=new CP(e,0),n=new CP(e,1/0);this.Jr.forEachInRange([t,n],e=>{r=r.add(e.Hr)})}),vS.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,n=r.length+1,i=r;y8.isDocumentKey(i)||(i=i.child(""));let o=new CP(new y8(i),0),a=new bV(yY);return this.Jr.forEachWhile(e=>{let t=e.key.path;return!!r.isPrefixOf(t)&&(t.length===n&&(a=a.add(e.Hr)),!0)},o),vS.resolve(this.Yr(a))}Yr(e){let t=[];return e.forEach(e=>{let r=this.Zr(e);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){yj(0===this.ei(t.batchId,"removed"),55003),this.mutationQueue.shift();let r=this.Jr;return vS.forEach(t.mutations,n=>{let i=new CP(n.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,n.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,t){let r=new CP(t,0),n=this.Jr.firstAfterOrEqual(r);return vS.resolve(t.isEqual(n&&n.key))}performConsistencyCheck(e){return this.mutationQueue.length,vS.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class CR{constructor(e){this.ti=e,this.docs=new bL(y8.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,n=this.docs.get(r),i=n?n.size:0,o=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return vS.resolve(r?r.document.mutableCopy():wC.newInvalidDocument(t))}getEntries(e,t){let r=xi;return t.forEach(e=>{let t=this.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():wC.newInvalidDocument(e))}),vS.resolve(r)}getDocumentsMatchingQuery(e,t,r,n){let i=xi,o=t.path,a=new y8(o.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){let{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||0>=vv(vm(a),r)||(n.has(a.key)||xe(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return vS.resolve(i)}getAllFromCollectionGroup(e,t,r,n){yM(9500)}ni(e,t){return vS.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new CO(this)}getSize(e){return vS.resolve(this.size)}}class CO extends Cw{constructor(e){super(),this.Mr=e}applyChanges(e){let t=[];return this.changes.forEach((r,n)=>{n.isValidDocument()?t.push(this.Mr.addEntry(e,n)):this.Mr.removeEntry(r)}),vS.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class CB{constructor(e){this.persistence=e,this.ri=new xn(e=>wK(e),wH),this.lastRemoteSnapshotVersion=vl.min(),this.highestTargetId=0,this.ii=0,this.si=new CF,this.targetCount=0,this.oi=Cc._r()}forEachTarget(e,t){return this.ri.forEach((e,r)=>t(r)),vS.resolve()}getLastRemoteSnapshotVersion(e){return vS.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return vS.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),vS.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),vS.resolve()}lr(e){this.ri.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.oi=new Cc(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,vS.resolve()}updateTargetData(e,t){return this.lr(t),vS.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,vS.resolve()}removeTargets(e,t,r){let n=0,i=[];return this.ri.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.ri.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),n++)}),vS.waitFor(i).next(()=>n)}getTargetCount(e){return vS.resolve(this.targetCount)}getTargetData(e,t){let r=this.ri.get(t)||null;return vS.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),vS.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);let n=this.persistence.referenceDelegate,i=[];return n&&t.forEach(t=>{i.push(n.markPotentiallyOrphaned(e,t))}),vS.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),vS.resolve()}getMatchingKeysForTargetId(e,t){let r=this.si.jr(t);return vS.resolve(r)}containsKey(e,t){return vS.resolve(this.si.containsKey(t))}}class CM{constructor(e,t){this._i={},this.overlays={},this.ai=new vM(0),this.ui=!1,this.ui=!0,this.ci=new CD,this.referenceDelegate=e(this),this.li=new CB(this),this.indexManager=new S8,this.remoteDocumentCache=new CR(e=>this.referenceDelegate.hi(e)),this.serializer=new SE(t),this.Pi=new CE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new CI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new CN(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){yN("MemoryPersistence","Starting transaction:",e);let n=new CL(this.ai.next());return this.referenceDelegate.Ti(),r(n).next(e=>this.referenceDelegate.Ii(n).next(()=>e)).toPromise().then(e=>(n.raiseOnCommittedEvent(),e))}Ei(e,t){return vS.or(Object.values(this._i).map(r=>()=>r.containsKey(e,t)))}}class CL extends vw{constructor(e){super(),this.currentSequenceNumber=e}}class Cj{constructor(e){this.persistence=e,this.Ri=new CF,this.Ai=null}static Vi(e){return new Cj(e)}get di(){if(this.Ai)return this.Ai;throw yM(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),vS.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),vS.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),vS.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach(e=>this.di.add(e.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.di.add(e.toString()))}).next(()=>r.removeTargetData(e,t))}Ti(){this.Ai=new Set}Ii(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vS.forEach(this.di,r=>{let n=y8.fromPath(r);return this.mi(e,n).next(e=>{e||t.removeEntry(n,vl.min())})}).next(()=>(this.Ai=null,t.apply(e)))}updateLimboDocument(e,t){return this.mi(e,t).next(e=>{e?this.di.delete(t.toString()):this.di.add(t.toString())})}hi(e){return 0}mi(e,t){return vS.or([()=>vS.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Cz{constructor(e,t){this.persistence=e,this.fi=new xn(e=>vV(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=new Cy(this,t)}static Vi(e,t){return new Cz(e,t)}Ti(){}Ii(e){return vS.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){let t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}pr(e){let t=0;return this.mr(e,e=>{t++}).next(()=>t)}mr(e,t){return vS.forEach(this.fi,(r,n)=>this.wr(e,r,n).next(e=>e?vS.resolve():t(n)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,n=this.persistence.getRemoteDocumentCache(),i=n.newChangeBuffer();return n.ni(e,n=>this.wr(e,n,t).next(e=>{e||(r++,i.removeEntry(n,vl.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),vS.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),vS.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),vS.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),vS.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=function e(t){switch(wn(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let r=b2(t);return r?16+e(r):16;case 5:return 2*t.stringValue.length;case 6:return bX(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(t.arrayValue.values||[]).reduce((t,r)=>t+e(r),0);case 10:case 11:var n;let i;return n=t.mapValue,i=0,bB(n.fields,(t,r)=>{i+=t.length+e(r)}),i;default:throw yM(13486,{value:t})}}(e.data.value)),t}wr(e,t,r){return vS.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let e=this.fi.get(t);return vS.resolve(void 0!==e&&e>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class CV{constructor(e){this.serializer=e}k(e,t,r,n){let i=new vk("createOrUpgrade",t);r<1&&n>=1&&(e.createObjectStore(vW),e.createObjectStore(vK,{keyPath:"userId"}),e.createObjectStore(vH,{keyPath:vG,autoIncrement:!0}).createIndex(vQ,vX,{unique:!0}),e.createObjectStore(vY),CU(e),e.createObjectStore(v$));let o=vS.resolve();return r<3&&n>=3&&(0!==r&&(e.deleteObjectStore(be),e.deleteObjectStore(v8),e.deleteObjectStore(bo),CU(e)),o=o.next(()=>{let e,t;return e=i.store(bo),t={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:vl.min().toTimestamp(),targetCount:0},e.put(bi,t)})),r<4&&n>=4&&(0!==r&&(o=o.next(()=>i.store(vH).H().next(t=>{e.deleteObjectStore(vH),e.createObjectStore(vH,{keyPath:vG,autoIncrement:!0}).createIndex(vQ,vX,{unique:!0});let r=i.store(vH),n=t.map(e=>r.put(e));return vS.waitFor(n)}))),o=o.next(()=>{e.createObjectStore(bl,{keyPath:"clientId"})})),r<5&&n>=5&&(o=o.next(()=>this.gi(i))),r<6&&n>=6&&(o=o.next(()=>(e.createObjectStore(v4),this.pi(i)))),r<7&&n>=7&&(o=o.next(()=>this.yi(i))),r<8&&n>=8&&(o=o.next(()=>this.wi(e,i))),r<9&&n>=9&&(o=o.next(()=>{e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")})),r<10&&n>=10&&(o=o.next(()=>this.bi(i))),r<11&&n>=11&&(o=o.next(()=>{e.createObjectStore(bu,{keyPath:"bundleId"}),e.createObjectStore(bc,{keyPath:"name"})})),r<12&&n>=12&&(o=o.next(()=>{let t;(t=e.createObjectStore(bx,{keyPath:bS})).createIndex(bC,bk,{unique:!1}),t.createIndex(b_,bA,{unique:!1})})),r<13&&n>=13&&(o=o.next(()=>{let t;(t=e.createObjectStore(vZ,{keyPath:v0})).createIndex(v1,v2),t.createIndex(v5,v3)}).next(()=>this.Si(e,i)).next(()=>e.deleteObjectStore(v$))),r<14&&n>=14&&(o=o.next(()=>this.Di(e,i))),r<15&&n>=15&&(o=o.next(()=>{e.createObjectStore(bh,{keyPath:"indexId",autoIncrement:!0}).createIndex(bd,"collectionGroup",{unique:!1}),e.createObjectStore(bf,{keyPath:bp}).createIndex(bg,bm,{unique:!1}),e.createObjectStore(by,{keyPath:bv}).createIndex(bb,bw,{unique:!1})})),r<16&&n>=16&&(o=o.next(()=>{t.objectStore(bf).clear()}).next(()=>{t.objectStore(by).clear()})),r<17&&n>=17&&(o=o.next(()=>{e.createObjectStore(bT,{keyPath:"name"})})),r<18&&n>=18&&my()&&(o=o.next(()=>{t.objectStore(bf).clear()}).next(()=>{t.objectStore(by).clear()})),o}pi(e){let t=0;return e.store(v$).ee((e,r)=>{t+=Ca(r)}).next(()=>{let r={byteSize:t};return e.store(v4).put(v6,r)})}gi(e){let t=e.store(vK),r=e.store(vH);return t.H().next(t=>vS.forEach(t,t=>{let n=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return r.H(vQ,n).next(r=>vS.forEach(r,r=>{yj(r.userId===t.userId,18650,"Cannot process batch from unexpected user",{batchId:r.batchId});let n=SN(this.serializer,r);return Co(e,t.userId,n).next(()=>{})}))}))}yi(e){let t=e.store(be),r=e.store(v$);return e.store(bo).get(bi).next(e=>{let n=[];return r.ee((r,i)=>{let o=new y3(r),a=[0,vV(o)];n.push(t.get(a).next(r=>r?vS.resolve():t.put({targetId:0,path:vV(o),sequenceNumber:e.highestListenSequenceNumber})))}).next(()=>vS.waitFor(n))})}wi(e,t){e.createObjectStore(ba,{keyPath:bs});let r=t.store(ba),n=new S9,i=e=>{if(n.add(e)){let t=e.lastSegment(),n=e.popLast();return r.put({collectionId:t,parent:vV(n)})}};return t.store(v$).ee({Y:!0},(e,t)=>i(new y3(e).popLast())).next(()=>t.store(vY).ee({Y:!0},([e,t,r],n)=>i(vU(t).popLast())))}bi(e){let t=e.store(v8);return t.ee((e,r)=>{let n=SR(r),i=SO(this.serializer,n);return t.put(i)})}Si(e,t){let r=t.store(v$),n=[];return r.ee((e,r)=>{let i=t.store(vZ),o=(r.document?new y8(y3.fromString(r.document.name).popFirst(5)):r.noDocument?y8.fromSegments(r.noDocument.path):r.unknownDocument?y8.fromSegments(r.unknownDocument.path):yM(36783)).path.toArray(),a={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:r.readTime||[0,0],unknownDocument:r.unknownDocument,noDocument:r.noDocument,document:r.document,hasCommittedMutations:!!r.hasCommittedMutations};n.push(i.put(a))}).next(()=>vS.waitFor(n))}Di(e,t){let r=t.store(vH),n=new Cx(this.serializer),i=new CM(Cj.Vi,this.serializer.yt);return r.H().next(e=>{let r=new Map;return e.forEach(e=>{let t=r.get(e.userId)??xh();SN(this.serializer,e).keys().forEach(e=>t=t.add(e)),r.set(e.userId,t)}),vS.forEach(r,(e,r)=>{let o=new yI(r),a=SV.wt(this.serializer,o),s=i.getIndexManager(o);return new CT(n,Cs.wt(o,this.serializer,s,i.referenceDelegate),a,s).recalculateAndSaveOverlaysForDocumentKeys(new bN(t,vM.ce),e).next()})})}}function CU(e){e.createObjectStore(be,{keyPath:bt}).createIndex(br,bn,{unique:!0}),e.createObjectStore(v8,{keyPath:"targetId"}).createIndex(v9,v7,{unique:!0}),e.createObjectStore(bo)}let C$="IndexedDbPersistence",CW="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Cq{constructor(e,t,r,n,i,o,a,s,l,u,c=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ci=i,this.window=o,this.document=a,this.Fi=l,this.Mi=u,this.xi=c,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=-1/0,this.ki=e=>Promise.resolve(),!Cq.v())throw new yV(yz.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Cv(this,n),this.Ki=t+"main",this.serializer=new SE(s),this.qi=new v_(this.Ki,this.xi,new CV(this.serializer)),this.ci=new SU,this.li=new Ch(this.referenceDelegate,this.serializer),this.remoteDocumentCache=new Cx(this.serializer),this.Pi=new Sz,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,!1===u&&yR(C$,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new yV(yz.FAILED_PRECONDITION,CW);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.li.getHighestSequenceNumber(e))}).then(e=>{this.ai=new vM(e,this.Fi)}).then(()=>{this.ui=!0}).catch(e=>(this.qi&&this.qi.close(),Promise.reject(e)))}zi(e){return this.ki=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget(async()=>{this.started&&await this.$i()}))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>bR(e,bl).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ji(e).next(e=>{e||(this.isPrimary=!1,this.Ci.enqueueRetryable(()=>this.ki(!1)))})}).next(()=>this.Hi(e)).next(t=>this.isPrimary&&!t?this.Ji(e).next(()=>!1):!!t&&this.Zi(e).next(()=>!0))).catch(e=>{if(vI(e))return yN(C$,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return yN(C$,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable(()=>this.ki(e)),this.isPrimary=e})}ji(e){return bR(e,vW).get(vq).next(e=>vS.resolve(this.Xi(e)))}Yi(e){return bR(e,bl).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,18e5)){this.Li=Date.now();let e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{let t=bR(e,bl);return t.H().next(e=>{let r=this.ns(e,18e5),n=e.filter(e=>-1===r.indexOf(e));return vS.forEach(n,e=>t.delete(e.clientId)).next(()=>n)})}).catch(()=>[]);if(this.Ui)for(let t of e)this.Ui.removeItem(this.rs(t.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.$i().then(()=>this.es()).then(()=>this.Gi()))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?vS.resolve(!0):bR(e,vW).get(vq).next(t=>{if(null!==t&&this.ts(t.leaseTimestampMs,5e3)&&!this.ss(t.ownerId)){if(this.Xi(t)&&this.networkEnabled)return!0;if(!this.Xi(t)){if(!t.allowTabSynchronization)throw new yV(yz.FAILED_PRECONDITION,CW);return!1}}return!(!this.networkEnabled||!this.inForeground)||bR(e,bl).H().next(e=>void 0===this.ns(e,5e3).find(e=>{if(this.clientId!==e.clientId){let t=!this.networkEnabled&&e.networkEnabled,r=!this.inForeground&&e.inForeground,n=this.networkEnabled===e.networkEnabled;if(t||r&&n)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&yN(C$,`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[vW,bl],e=>{let t=new bN(e,vM.ce);return this.Ji(t).next(()=>this.Yi(t))}),this.qi.close(),this.ls()}ns(e,t){return e.filter(e=>this.ts(e.updateTimeMs,t)&&!this.ss(e.clientId))}hs(){return this.runTransaction("getActiveClients","readonly",e=>bR(e,bl).H().next(e=>this.ns(e,18e5).map(e=>e.clientId)))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,t){return Cs.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Ct(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return SV.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,t,r){var n;let i;yN(C$,"Starting transaction:",e);let o=18===(n=this.xi)||17===n?bP:16===n||15===n?bF:14===n||13===n?bD:12===n?bI:11===n?bE:void yM(60245);return this.qi.runTransaction(e,"readonly"===t?"readonly":"readwrite",o,n=>(i=new bN(n,this.ai?this.ai.next():vM.ce),"readwrite-primary"===t?this.ji(i).next(e=>!!e||this.Hi(i)).next(t=>{if(!t)throw yR(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable(()=>this.ki(!1)),new yV(yz.FAILED_PRECONDITION,vb);return r(i)}).next(e=>this.Zi(i).next(()=>e)):this.Ps(i).next(()=>r(i)))).then(e=>(i.raiseOnCommittedEvent(),e))}Ps(e){return bR(e,vW).get(vq).next(e=>{if(null!==e&&this.ts(e.leaseTimestampMs,5e3)&&!this.ss(e.ownerId)&&!this.Xi(e)&&!(this.Mi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new yV(yz.FAILED_PRECONDITION,CW)})}Zi(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return bR(e,vW).put(vq,t)}static v(){return v_.v()}Ji(e){let t=bR(e,vW);return t.get(vq).next(e=>this.Xi(e)?(yN(C$,"Releasing primary lease."),t.delete(vq)):vS.resolve())}ts(e,t){let r=Date.now();return!(e<r-t)&&(!(e>r)||(yR(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ni=()=>{this.Ci.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.$i()))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground="visible"===this.document.visibilityState)}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){"function"==typeof this.window?.addEventListener&&(this.Oi=()=>{this._s();let e=/(?:Version|Mobile)\/1[456]/;mm()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){try{let t=null!==this.Ui?.getItem(this.rs(e));return yN(C$,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(e){return yR(C$,"Failed to get zombied client id.",e),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){yR("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch(e){}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function CK(e,t){let r=e.projectId;return e.isDefaultDatabase||(r+="."+e.database),"firestore/"+t+"/"+r+"/"}class CH{constructor(e,t,r,n){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=n}static Es(e,t){let r=xh(),n=xh();for(let e of t.docChanges)switch(e.type){case 0:r=r.add(e.doc.key);break;case 1:n=n.add(e.doc.key)}return new CH(e,t.fromCache,r,n)}}class CG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class CQ{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=mm()?8:vA(mf())>0?6:4}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,n){let i={result:null};return this.gs(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ps(e,t,n,r).next(e=>{i.result=e})}).next(()=>{if(i.result)return;let r=new CG;return this.ys(e,t,r).next(n=>{if(i.result=n,this.As)return this.ws(e,t,r,n.size)})}).next(()=>i.result)}ws(e,t,r,n){return r.documentReadCount<this.Vs?(yP()<=ek.DEBUG&&yN("QueryEngine","SDK will not create cache indexes for query:",w7(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),vS.resolve()):(yP()<=ek.DEBUG&&yN("QueryEngine","Query:",w7(t),"scans",r.documentReadCount,"local documents and returns",n,"documents as results."),r.documentReadCount>this.ds*n?(yP()<=ek.DEBUG&&yN("QueryEngine","The SDK decides to create cache indexes for query:",w7(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,w5(t))):vS.resolve())}gs(e,t){if(w0(t))return vS.resolve(null);let r=w5(t);return this.indexManager.getIndexType(e,r).next(n=>0===n?null:(null!==t.limit&&1===n&&(r=w5(t=w6(t,null,"F"))),this.indexManager.getDocumentsMatchingTarget(e,r).next(n=>{let i=xh(...n);return this.fs.getDocuments(e,i).next(n=>this.indexManager.getMinOffset(e,r).next(r=>{let o=this.bs(t,n);return this.Ss(t,o,i,r.readTime)?this.gs(e,w6(t,null,"F")):this.Ds(e,o,t,r)}))})))}ps(e,t,r,n){return w0(t)||n.isEqual(vl.min())?vS.resolve(null):this.fs.getDocuments(e,r).next(i=>{let o=this.bs(t,i);return this.Ss(t,o,r,n)?vS.resolve(null):(yP()<=ek.DEBUG&&yN("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),w7(t)),this.Ds(e,o,t,vg(n,-1)).next(e=>e))})}bs(e,t){let r=new bV(xr(e));return t.forEach((t,n)=>{xe(e,n)&&(r=r.add(n))}),r}Ss(e,t,r,n){if(null===e.limit)return!1;if(r.size!==t.size)return!0;let i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(n)>0)}ys(e,t,r){return yP()<=ek.DEBUG&&yN("QueryEngine","Using full collection scan to execute query:",w7(t)),this.fs.getDocumentsMatchingQuery(e,t,vy.min(),r)}Ds(e,t,r,n){return this.fs.getDocumentsMatchingQuery(e,r,n).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}let CX="LocalStore";class CJ{constructor(e,t,r,n){this.persistence=e,this.Cs=t,this.serializer=n,this.vs=new bL(yY),this.Fs=new xn(e=>wK(e),wH),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CT(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.vs))}}async function CY(e,t){return await e.persistence.runTransaction("Handle user change","readonly",r=>{let n;return e.mutationQueue.getAllMutationBatches(r).next(i=>(n=i,e.Os(t),e.mutationQueue.getAllMutationBatches(r))).next(t=>{let i=[],o=[],a=xh();for(let e of n)for(let t of(i.push(e.batchId),e.mutations))a=a.add(t.key);for(let e of t)for(let t of(o.push(e.batchId),e.mutations))a=a.add(t.key);return e.localDocuments.getDocuments(r,a).next(e=>({Ns:e,removedBatchIds:i,addedBatchIds:o}))})})}function CZ(e){return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.li.getLastRemoteSnapshotVersion(t))}function C0(e,t,r){let n=xh(),i=xh();return r.forEach(e=>n=n.add(e)),t.getEntries(e,n).next(e=>{let n=xi;return r.forEach((r,o)=>{let a=e.get(r);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(r)),o.isNoDocument()&&o.version.isEqual(vl.min())?(t.removeEntry(r,o.readTime),n=n.insert(r,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),n=n.insert(r,o)):yN(CX,"Ignoring outdated watch update for ",r,". Current version:",a.version," Watch version:",o.version)}),{Bs:n,Ls:i}})}function C1(e,t){return e.persistence.runTransaction("Allocate target","readwrite",r=>{let n;return e.li.getTargetData(r,t).next(i=>i?(n=i,vS.resolve(n)):e.li.allocateTargetId(r).next(i=>(n=new ST(t,i,"TargetPurposeListen",r.currentSequenceNumber),e.li.addTargetData(r,n).next(()=>n))))}).then(r=>{let n=e.vs.get(r.targetId);return(null===n||r.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(e.vs=e.vs.insert(r.targetId,r),e.Fs.set(t,r.targetId)),r})}async function C2(e,t,r){let n=e.vs.get(t);try{r||await e.persistence.runTransaction("Release target",r?"readwrite":"readwrite-primary",t=>e.persistence.referenceDelegate.removeTarget(t,n))}catch(e){if(!vI(e))throw e;yN(CX,`Failed to update sequence numbers for target ${t}: ${e}`)}e.vs=e.vs.remove(t),e.Fs.delete(n.target)}function C5(e,t,r){let n=vl.min(),i=xh();return e.persistence.runTransaction("Execute query","readwrite",o=>{var a;let s;return(a=w5(t),void 0!==(s=e.Fs.get(a))?vS.resolve(e.vs.get(s)):e.li.getTargetData(o,a)).next(t=>{if(t)return n=t.lastLimboFreeSnapshotVersion,e.li.getMatchingKeysForTargetId(o,t.targetId).next(e=>{i=e})}).next(()=>e.Cs.getDocumentsMatchingQuery(o,t,r?n:vl.min(),r?i:xh())).next(r=>(C6(e,xt(t),r),{documents:r,ks:i}))})}function C3(e,t){let r=e.li,n=e.vs.get(t);return n?Promise.resolve(n.target):e.persistence.runTransaction("Get target data","readonly",e=>r.At(e,t).next(e=>e?e.target:null))}function C4(e,t){let r=e.Ms.get(t)||vl.min();return e.persistence.runTransaction("Get new document changes","readonly",n=>e.xs.getAllFromCollectionGroup(n,t,vg(r,-1),Number.MAX_SAFE_INTEGER)).then(r=>(C6(e,t,r),r))}function C6(e,t,r){let n=e.Ms.get(t)||vl.min();r.forEach((e,t)=>{t.readTime.compareTo(n)>0&&(n=t.readTime)}),e.Ms.set(t,n)}async function C8(e,t,r,n){let i=xh(),o=xi;for(let e of r){let r=t.Ks(e.metadata.name);e.document&&(i=i.add(r));let n=t.qs(e);n.setReadTime(t.Us(e.metadata.readTime)),o=o.insert(r,n)}let a=e.xs.newChangeBuffer({trackRemovals:!0}),s=await C1(e,w5(wZ(y3.fromString(`__bundle__/docs/${n}`))));return e.persistence.runTransaction("Apply bundle documents","readwrite",t=>C0(t,a,o).next(e=>(a.apply(t),e)).next(r=>e.li.removeMatchingKeysForTargetId(t,s.targetId).next(()=>e.li.addMatchingKeys(t,i,s.targetId)).next(()=>e.localDocuments.getLocalViewOfDocuments(t,r.Bs,r.Ls)).next(()=>r.Bs)))}async function C9(e,t,r=xh()){let n=await C1(e,w5(SB(t.bundledQuery)));return e.persistence.runTransaction("Save named query","readwrite",i=>{let o=Sa(t.readTime);if(n.snapshotVersion.compareTo(o)>=0)return e.Pi.saveNamedQuery(i,t);let a=n.withResumeToken(bK.EMPTY_BYTE_STRING,o);return e.vs=e.vs.insert(a.targetId,a),e.li.updateTargetData(i,a).next(()=>e.li.removeMatchingKeysForTargetId(i,n.targetId)).next(()=>e.li.addMatchingKeys(i,r,n.targetId)).next(()=>e.Pi.saveNamedQuery(i,t))})}let C7="firestore_clients";function ke(e,t){return`${C7}_${e}_${t}`}let kt="firestore_mutations";function kr(e,t,r){let n=`${kt}_${e}_${r}`;return t.isAuthenticated()&&(n+=`_${t.uid}`),n}let kn="firestore_targets";function ki(e,t){return`${kn}_${e}_${t}`}let ko="SharedClientState";class ka{constructor(e,t,r,n){this.user=e,this.batchId=t,this.state=r,this.error=n}static $s(e,t,r){let n=JSON.parse(r),i,o="object"==typeof n&&-1!==["pending","acknowledged","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return o&&n.error&&(o="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(i=new yV(n.error.code,n.error.message)),o?new ka(e,t,n.state,i):(yR(ko,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ws(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ks{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static $s(e,t){let r=JSON.parse(t),n,i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(n=new yV(r.error.code,r.error.message)),i?new ks(e,r.state,n):(yR(ko,`Failed to parse target state for ID '${e}': ${t}`),null)}Ws(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class kl{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){let r=JSON.parse(t),n="object"==typeof r&&r.activeTargetIds instanceof Array,i=xd;for(let e=0;n&&e<r.activeTargetIds.length;++e)n=vz(r.activeTargetIds[e]),i=i.add(r.activeTargetIds[e]);return n?new kl(e,i):(yR(ko,`Failed to parse client data for instance '${e}': ${t}`),null)}}class ku{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){let t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ku(t.clientId,t.onlineState):(yR(ko,`Failed to parse online state: ${e}`),null)}}class kc{constructor(){this.activeTargetIds=xd}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){return JSON.stringify({activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()})}}class kh{constructor(e,t,r,n,i){var o,a,s;this.window=e,this.Ci=t,this.persistenceKey=r,this.zs=n,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new bL(yY),this.started=!1,this.Zs=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Xs=ke(this.persistenceKey,this.zs),this.Ys=(o=this.persistenceKey,`firestore_sequence_number_${o}`),this.Js=this.Js.insert(this.zs,new kc),this.eo=RegExp(`^${C7}_${l}_([^_]*)$`),this.no=RegExp(`^${kt}_${l}_(\\d+)(?:_(.*))?$`),this.ro=RegExp(`^${kn}_${l}_(\\d+)$`),this.io=(a=this.persistenceKey,`firestore_online_state_${a}`),this.so=(s=this.persistenceKey,`firestore_bundle_loaded_v2_${s}`),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){for(let e of(await this.syncEngine.hs())){if(e===this.zs)continue;let t=this.getItem(ke(this.persistenceKey,e));if(t){let r=kl.$s(e,t);r&&(this.Js=this.Js.insert(r.clientId,r))}}this.oo();let e=this.storage.getItem(this.io);if(e){let t=this._o(e);t&&this.ao(t)}for(let e of this.Zs)this.Hs(e);this.Zs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let t=!1;return this.Js.forEach((r,n)=>{n.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,t,r){this.co(e,t,r),this.lo(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){let t=this.storage.getItem(ki(this.persistenceKey,e));if(t){let n=ks.$s(e,t);n&&(r=n.state)}}return t&&this.ho.Qs(e),this.oo(),r}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ki(this.persistenceKey,e))}updateQueryState(e,t,r){this.Po(e,t,r)}handleUserChange(e,t,r){t.forEach(e=>{this.lo(e)}),this.currentUser=e,r.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){let t=this.storage.getItem(e);return yN(ko,"READ",e,t),t}setItem(e,t){yN(ko,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){yN(ko,"REMOVE",e),this.storage.removeItem(e)}Hs(e){if(e.storageArea===this.storage){if(yN(ko,"EVENT",e.key,e.newValue),e.key===this.Xs)return void yR("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable(async()=>{if(this.started){if(null!==e.key){if(this.eo.test(e.key)){if(null==e.newValue){let t=this.Eo(e.key);return this.Ro(t,null)}{let t=this.Ao(e.key,e.newValue);if(t)return this.Ro(t.clientId,t)}}else if(this.no.test(e.key)){if(null!==e.newValue){let t=this.Vo(e.key,e.newValue);if(t)return this.mo(t)}}else if(this.ro.test(e.key)){if(null!==e.newValue){let t=this.fo(e.key,e.newValue);if(t)return this.po(t)}}else if(e.key===this.io){if(null!==e.newValue){let t=this._o(e.newValue);if(t)return this.ao(t)}}else if(e.key===this.Ys){let t=function(e){let t=vM.ce;if(null!=e)try{let r=JSON.parse(e);yj("number"==typeof r,30636,{yo:e}),t=r}catch(e){yR(ko,"Failed to read sequence number from WebStorage",e)}return t}(e.newValue);t!==vM.ce&&this.sequenceNumberHandler(t)}else if(e.key===this.so){let t=this.wo(e.newValue);await Promise.all(t.map(e=>this.syncEngine.bo(e)))}}}else this.Zs.push(e)})}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,t,r){let n=new ka(this.currentUser,e,t,r),i=kr(this.persistenceKey,this.currentUser,e);this.setItem(i,n.Ws())}lo(e){let t=kr(this.persistenceKey,this.currentUser,e);this.removeItem(t)}To(e){let t={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(t))}Po(e,t,r){let n=ki(this.persistenceKey,e),i=new ks(e,t,r);this.setItem(n,i.Ws())}Io(e){let t=JSON.stringify(Array.from(e));this.setItem(this.so,t)}Eo(e){let t=this.eo.exec(e);return t?t[1]:null}Ao(e,t){let r=this.Eo(e);return kl.$s(r,t)}Vo(e,t){let r=this.no.exec(e),n=Number(r[1]),i=void 0!==r[2]?r[2]:null;return ka.$s(new yI(i),n,t)}fo(e,t){let r=Number(this.ro.exec(e)[1]);return ks.$s(r,t)}_o(e){return ku.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);yN(ko,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,t){let r=t?this.Js.insert(e,t):this.Js.remove(e),n=this.uo(this.Js),i=this.uo(r),o=[],a=[];return i.forEach(e=>{n.has(e)||o.push(e)}),n.forEach(e=>{i.has(e)||a.push(e)}),this.syncEngine.Co(o,a).then(()=>{this.Js=r})}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let t=xd;return e.forEach((e,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class kd{constructor(){this.vo=new kc,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new kc,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kf{Mo(e){}shutdown(){}}let kp="ConnectivityMonitor";class kg{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){for(let e of(yN(kp,"Network connectivity changed: AVAILABLE"),this.Lo))e(0)}Bo(){for(let e of(yN(kp,"Network connectivity changed: UNAVAILABLE"),this.Lo))e(1)}static v(){return"u">typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let km=null;function ky(){return null===km?km=0x10000000+Math.round(0x80000000*Math.random()):km++,"0x"+km.toString(16)}let kv="RestConnection",kb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class kw{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),n=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${n}`,this.$o=this.databaseId.database===b4?`project_id=${r}`:`project_id=${r}&database_id=${n}`}Wo(e,t,r,n,i){let o=ky(),a=this.Qo(e,t.toUriEncodedString());yN(kv,`Sending RPC '${e}' ${o}:`,a,r);let s={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(s,n,i);let{host:l}=new URL(a),u=mu(l);return this.zo(e,a,s,r,u).then(t=>(yN(kv,`Received RPC '${e}' ${o}: `,t),t),t=>{throw yO(kv,`RPC '${e}' ${o} failed with error: `,t,"url: ",a,"request:",r),t})}jo(e,t,r,n,i,o){return this.Wo(e,t,r,n,i)}Go(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+yD,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,r)=>e[r]=t),r&&r.headers.forEach((t,r)=>e[r]=t)}Qo(e,t){let r=kb[e],n=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(n=`${n}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),n}terminate(){}}class kx{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}let kS="WebChannelConnection",kC=(e,t,r)=>{e.listen(t,e=>{try{r(e)}catch(e){setTimeout(()=>{throw e},0)}})};class kk extends kw{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){kk.c_||(kC(eN(),eP.STAT_EVENT,e=>{e.stat===eF.PROXY?yN(kS,"STAT_EVENT: detected buffering proxy"):e.stat===eF.NOPROXY&&yN(kS,"STAT_EVENT: detected no buffering proxy")}),kk.c_=!0)}zo(e,t,r,n,i){let o=ky();return new Promise((i,a)=>{let s=new eT;s.setWithCredentials(!0),s.listenOnce(eI.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case eD.NO_ERROR:let t=s.getResponseJson();yN(kS,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(t)),i(t);break;case eD.TIMEOUT:yN(kS,`RPC '${e}' ${o} timed out`),a(new yV(yz.DEADLINE_EXCEEDED,"Request time out"));break;case eD.HTTP_ERROR:let r=s.getStatus();if(yN(kS,`RPC '${e}' ${o} failed with status:`,r,"response text:",s.getResponseText()),r>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=e?.error;if(t&&t.status&&t.message){let e,r=(e=t.status.toLowerCase().replace(/_/g,"-"),Object.values(yz).indexOf(e)>=0?e:yz.UNKNOWN);a(new yV(r,t.message))}else a(new yV(yz.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new yV(yz.UNAVAILABLE,"Connection failed."));break;default:yM(9055,{l_:e,streamId:o,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{yN(kS,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(n);yN(kS,`RPC '${e}' ${o} sending request:`,n),s.send(t,"POST",l,r,15)})}T_(e,t,r){let n=ky(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(a.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,t,r),a.encodeInitMessageHeaders=!0;let l=i.join("");yN(kS,`Creating RPC '${e}' stream ${n}: ${l}`,a);let u=o.createWebChannel(l,a);this.I_(u);let c=!1,h=!1,d=new kx({Ho:t=>{h?yN(kS,`Not sending because RPC '${e}' stream ${n} is closed:`,t):(c||(yN(kS,`Opening RPC '${e}' stream ${n} transport.`),u.open(),c=!0),yN(kS,`RPC '${e}' stream ${n} sending:`,t),u.send(t))},Jo:()=>u.close()});return kC(u,eE.EventType.OPEN,()=>{h||(yN(kS,`RPC '${e}' stream ${n} transport opened.`),d.i_())}),kC(u,eE.EventType.CLOSE,()=>{h||(h=!0,yN(kS,`RPC '${e}' stream ${n} transport closed`),d.o_(),this.E_(u))}),kC(u,eE.EventType.ERROR,t=>{h||(h=!0,yO(kS,`RPC '${e}' stream ${n} transport errored. Name:`,t.name,"Message:",t.message),d.o_(new yV(yz.UNAVAILABLE,"The operation could not be completed")))}),kC(u,eE.EventType.MESSAGE,t=>{if(!h){let r=t.data[0];yj(!!r,16349);let i=r?.error||r[0]?.error;if(i){yN(kS,`RPC '${e}' stream ${n} received error:`,i);let t=i.status,r=function(e){let t=eO[e];if(void 0!==t)return xK(t)}(t),o=i.message;void 0===r&&(r=yz.INTERNAL,o="Unknown error status: "+t+" with message "+i.message),h=!0,d.o_(new yV(r,o)),u.close()}else yN(kS,`RPC '${e}' stream ${n} received:`,r),d.__(r)}}),kk.u_(),setTimeout(()=>{d.s_()},0),d}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(t=>t===e)}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return eR()}}function k_(){return"u">typeof window?window:null}function kA(){return"u">typeof document?document:null}function kT(e){return new Sr(e,!0)}kk.c_=!1;class kE{constructor(e,t,r=1e3,n=1.5,i=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=n,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();let t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),n=Math.max(0,t-r);n>0&&yN("ExponentialBackoff",`Backing off for ${n} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,n,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}let kI="PersistentStream";class kD{constructor(e,t,r,n,i,o,a,s){this.Ci=e,this.b_=r,this.S_=n,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new kE(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===yz.RESOURCE_EXHAUSTED?(yR(t.toString()),yR("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===yz.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;let e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,r])=>{this.D_===t&&this.G_(e,r)},t=>{e(()=>{let e=new yV(yz.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){let r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(e=>{r(()=>this.z_(e))}),this.stream.onMessage(e=>{r(()=>1==++this.F_?this.H_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return yN(kI,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget(()=>this.D_===e?t():(yN(kI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kF extends kD{constructor(e,t,r,n,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,n,o),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=function(e,t){let r;if("targetChange"in t){var n,i;t.targetChange;let o="NO_CHANGE"===(n=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===n?1:"REMOVE"===n?2:"CURRENT"===n?3:"RESET"===n?4:yM(39313,{state:n}),a=t.targetChange.targetIds||[],s=(i=t.targetChange.resumeToken,e.useProto3Json?(yj(void 0===i||"string"==typeof i,58123),bK.fromBase64String(i||"")):(yj(void 0===i||i instanceof yk.Buffer||i instanceof Uint8Array,16193),bK.fromUint8Array(i||new Uint8Array))),l=t.targetChange.cause;r=new x3(o,a,s,l&&new yV(void 0===l.code?yz.UNKNOWN:xK(l.code),l.message||"")||null)}else if("documentChange"in t){t.documentChange;let n=t.documentChange;n.document,n.document.name,n.document.updateTime;let i=Sh(e,n.document.name),o=Sa(n.document.updateTime),a=n.document.createTime?Sa(n.document.createTime):vl.min(),s=new wS({mapValue:{fields:n.document.fields}}),l=wC.newFoundDocument(i,o,a,s);r=new x2(n.targetIds||[],n.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){t.documentDelete;let n=t.documentDelete;n.document;let i=Sh(e,n.document),o=n.readTime?Sa(n.readTime):vl.min(),a=wC.newNoDocument(i,o);r=new x2([],n.removedTargetIds||[],a.key,a)}else if("documentRemove"in t){t.documentRemove;let n=t.documentRemove;n.document;let i=Sh(e,n.document);r=new x2([],n.removedTargetIds||[],i,null)}else{if(!("filter"in t))return yM(11601,{Vt:t});{t.filter;let e=t.filter;e.targetId;let{count:n=0,unchangedNames:i}=e,o=new xW(n,i);r=new x5(e.targetId,o)}}return r}(this.serializer,e),r=function(e){if(!("targetChange"in e))return vl.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?vl.min():t.readTime?Sa(t.readTime):vl.min()}(e);return this.listener.J_(t,r)}Z_(e){let t,r={};r.database=Sp(this.serializer),r.addTarget=function(e,t){let r,n=t.target;if((r=wG(n)?{documents:Sw(e,n)}:{query:Sx(e,n).ft}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){r.resumeToken=So(e,t.resumeToken);let n=Sn(e,t.expectedCount);null!==n&&(r.expectedCount=n)}else if(t.snapshotVersion.compareTo(vl.min())>0){r.readTime=Si(e,t.snapshotVersion.toTimestamp());let n=Sn(e,t.expectedCount);null!==n&&(r.expectedCount=n)}return r}(this.serializer,e);let n=(this.serializer,null==(t=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yM(28987,{purpose:e})}}(e.purpose))?null:{"goog-listen-tags":t});n&&(r.labels=n),this.K_(r)}X_(e){let t={};t.database=Sp(this.serializer),t.removeTarget=e,this.K_(t)}}class kP extends kD{constructor(e,t,r,n,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,n,o),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return yj(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,yj(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){var t,r;yj(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let n=(t=e.writeResults,r=e.commitTime,t&&t.length>0?(yj(void 0!==r,14353),t.map(e=>{let t;return(t=e.updateTime?Sa(e.updateTime):Sa(r)).isEqual(vl.min())&&(t=Sa(r)),new xA(t,e.transformResults||[])})):[]),i=Sa(e.commitTime);return this.listener.na(i,n)}ra(){let e={};e.database=Sp(this.serializer),this.K_(e)}ea(e){let t={streamToken:this.lastStreamToken,writes:e.map(e=>Sv(this.serializer,e))};this.K_(t)}}class kN{}class kR extends kN{constructor(e,t,r,n){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=n,this.ia=!1}sa(){if(this.ia)throw new yV(yz.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,n){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,Sl(t,r),n,i,o)).catch(e=>{throw"FirebaseError"===e.name?(e.code===yz.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new yV(yz.UNKNOWN,e.toString())})}jo(e,t,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.jo(e,Sl(t,r),n,o,a,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===yz.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new yV(yz.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class kO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yR(t),this.aa=!1):yN("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}let kB="RemoteStore";class kM{constructor(e,t,r,n,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(e=>{r.enqueueAndForget(async()=>{kK(this)&&(yN(kB,"Restarting streams for network reachability change."),await async function(e){e.Ea.add(4),await kj(e),e.Va.set("Unknown"),e.Ea.delete(4),await kL(e)}(this))})}),this.Va=new kO(r,n)}}async function kL(e){if(kK(e))for(let t of e.Ra)await t(!0)}async function kj(e){for(let t of e.Ra)await t(!1)}function kz(e,t){e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),kq(e)?kW(e):k9(e).O_()&&kU(e,t))}function kV(e,t){let r=k9(e);e.Ia.delete(t),r.O_()&&k$(e,t),0===e.Ia.size&&(r.O_()?r.L_():kK(e)&&e.Va.set("Unknown"))}function kU(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vl.min())>0){let r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}k9(e).Z_(t)}function k$(e,t){e.da.$e(t),k9(e).X_(t)}function kW(e){e.da=new x6({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),k9(e).start(),e.Va.ua()}function kq(e){return kK(e)&&!k9(e).x_()&&e.Ia.size>0}function kK(e){return 0===e.Ea.size}async function kH(e){e.Va.set("Online")}async function kG(e){e.Ia.forEach((t,r)=>{kU(e,t)})}async function kQ(e,t){e.da=void 0,kq(e)?(e.Va.ha(t),kW(e)):e.Va.set("Unknown")}async function kX(e,t,r){if(e.Va.set("Online"),t instanceof x3&&2===t.state&&t.cause)try{await async function(e,t){let r=t.cause;for(let n of t.targetIds)e.Ia.has(n)&&(await e.remoteSyncer.rejectListen(n,r),e.Ia.delete(n),e.da.removeTarget(n))}(e,t)}catch(r){yN(kB,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await kJ(e,r)}else if(t instanceof x2?e.da.Xe(t):t instanceof x5?e.da.st(t):e.da.tt(t),!r.isEqual(vl.min()))try{let t,n=await CZ(e.localStore);r.compareTo(n)>=0&&await ((t=e.da.Tt(r)).targetChanges.forEach((t,n)=>{if(t.resumeToken.approximateByteSize()>0){let i=e.Ia.get(n);i&&e.Ia.set(n,i.withResumeToken(t.resumeToken,r))}}),t.targetMismatches.forEach((t,r)=>{let n=e.Ia.get(t);if(!n)return;e.Ia.set(t,n.withResumeToken(bK.EMPTY_BYTE_STRING,n.snapshotVersion)),k$(e,t);let i=new ST(n.target,t,r,n.sequenceNumber);kU(e,i)}),e.remoteSyncer.applyRemoteEvent(t))}catch(t){yN(kB,"Failed to raise snapshot:",t),await kJ(e,t)}}async function kJ(e,t,r){if(!vI(t))throw t;e.Ea.add(1),await kj(e),e.Va.set("Offline"),r||(r=()=>CZ(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{yN(kB,"Retrying IndexedDB access"),await r(),e.Ea.delete(1),await kL(e)})}function kY(e,t){return t().catch(r=>kJ(e,r,t))}async function kZ(e){var t;let r=k7(e),n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:-1;for(;kK(t=e)&&t.Ta.length<10;)try{let t=await function(e,t){return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}(e.localStore,n);if(null===t){0===e.Ta.length&&r.L_();break}n=t.batchId,function(e,t){e.Ta.push(t);let r=k7(e);r.O_()&&r.Y_&&r.ea(t.mutations)}(e,t)}catch(t){await kJ(e,t)}k0(e)&&k1(e)}function k0(e){return kK(e)&&!k7(e).x_()&&e.Ta.length>0}function k1(e){k7(e).start()}async function k2(e){k7(e).ra()}async function k5(e){let t=k7(e);for(let r of e.Ta)t.ea(r.mutations)}async function k3(e,t,r){let n=e.Ta.shift(),i=xV.from(n,t,r);await kY(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await kZ(e)}async function k4(e,t){t&&k7(e).Y_&&await async function(e,t){var r;if(xq(r=t.code)&&r!==yz.ABORTED){let r=e.Ta.shift();k7(e).B_(),await kY(e,()=>e.remoteSyncer.rejectFailedWrite(r.batchId,t)),await kZ(e)}}(e,t),k0(e)&&k1(e)}async function k6(e,t){e.asyncQueue.verifyOperationInProgress(),yN(kB,"RemoteStore received new credentials");let r=kK(e);e.Ea.add(3),await kj(e),r&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await kL(e)}async function k8(e,t){t?(e.Ea.delete(2),await kL(e)):t||(e.Ea.add(2),await kj(e),e.Va.set("Unknown"))}function k9(e){var t,r,n;return e.ma||(t=e.datastore,r=e.asyncQueue,n={Zo:kH.bind(null,e),Yo:kG.bind(null,e),t_:kQ.bind(null,e),J_:kX.bind(null,e)},t.sa(),e.ma=new kF(r,t.connection,t.authCredentials,t.appCheckCredentials,t.serializer,n),e.Ra.push(async t=>{t?(e.ma.B_(),kq(e)?kW(e):e.Va.set("Unknown")):(await e.ma.stop(),e.da=void 0)})),e.ma}function k7(e){var t,r,n;return e.fa||(t=e.datastore,r=e.asyncQueue,n={Zo:()=>Promise.resolve(),Yo:k2.bind(null,e),t_:k4.bind(null,e),ta:k5.bind(null,e),na:k3.bind(null,e)},t.sa(),e.fa=new kP(r,t.connection,t.authCredentials,t.appCheckCredentials,t.serializer,n),e.Ra.push(async t=>{t?(e.fa.B_(),await kZ(e)):(await e.fa.stop(),e.Ta.length>0&&(yN(kB,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}class _e{constructor(e,t,r,n,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=n,this.removalCallback=i,this.deferred=new yU,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,n,i){let o=new _e(e,t,Date.now()+r,n,i);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yV(yz.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _t(e,t){if(yR("AsyncQueue",`${t}: ${e}`),vI(e))return new yV(yz.UNAVAILABLE,`${t}: ${e}`);throw e}class _r{static emptySet(e){return new _r(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||y8.comparator(t.key,r.key):(e,t)=>y8.comparator(e.key,t.key),this.keyedMap=xa(),this.sortedSet=new bL(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _r)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let e=t.getNext().key,n=r.getNext().key;if(!e.isEqual(n))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){let r=new _r;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class _n{constructor(){this.ga=new bL(y8.comparator)}track(e){let t=e.doc.key,r=this.ga.get(t);r?0!==e.type&&3===r.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==r.type?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.ga=this.ga.remove(t):1===e.type&&2===r.type?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):yM(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}}class _i{constructor(e,t,r,n,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=n,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,n,i){let o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new _i(e,t,_r.emptySet(t),o,r,n,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&w8(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==r[e].type||!t[e].doc.isEqual(r[e].doc))return!1;return!0}}class _o{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class _a{constructor(){this.queries=_s(),this.onlineState="Unknown",this.Ca=new Set}terminate(){var e;let t;e=new yV(yz.ABORTED,"Firestore shutting down"),t=this.queries,this.queries=_s(),t.forEach((t,r)=>{for(let t of r.ba)t.onError(e)})}}function _s(){return new xn(e=>w9(e),w8)}async function _l(e,t){let r=3,n=t.query,i=e.queries.get(n);i?!i.Sa()&&t.Da()&&(r=2):(i=new _o,r=+!t.Da());try{switch(r){case 0:i.wa=await e.onListen(n,!0);break;case 1:i.wa=await e.onListen(n,!1);break;case 2:await e.onFirstRemoteStoreListen(n)}}catch(r){let e=_t(r,`Initialization of query '${w7(t.query)}' failed`);return void t.onError(e)}e.queries.set(n,i),i.ba.push(t),t.va(e.onlineState),i.wa&&t.Fa(i.wa)&&_d(e)}async function _u(e,t){let r=t.query,n=3,i=e.queries.get(r);if(i){let e=i.ba.indexOf(t);e>=0&&(i.ba.splice(e,1),0===i.ba.length?n=+!t.Da():!i.Sa()&&t.Da()&&(n=2))}switch(n){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function _c(e,t){let r=!1;for(let n of t){let t=n.query,i=e.queries.get(t);if(i){for(let e of i.ba)e.Fa(n)&&(r=!0);i.wa=n}}r&&_d(e)}function _h(e,t,r){let n=e.queries.get(t);if(n)for(let e of n.ba)e.onError(r);e.queries.delete(t)}function _d(e){e.Ca.forEach(e=>{e.next()})}(eL=eM||(eM={})).Ma="default",eL.Cache="cache";class _f{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let t=[];for(let r of e.docChanges)3!==r.type&&t.push(r);e=new _i(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){return!(e.fromCache&&this.Da())||(!this.options.Ka||"Offline"===t)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=_i.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==eM.Cache}}class _p{constructor(e,t){this.qa=e,this.byteLength=t}Ua(){return"metadata"in this.qa}}class _g{constructor(e){this.serializer=e}Ks(e){return Sh(this.serializer,e)}qs(e){return e.metadata.exists?Sy(this.serializer,e.document,!1):wC.newNoDocument(this.Ks(e.metadata.name),this.Us(e.metadata.readTime))}Us(e){return Sa(e)}}class _m{constructor(e,t){this.$a=e,this.serializer=t,this.Wa=[],this.Qa=[],this.collectionGroups=new Set,this.progress=_y(e)}get queries(){return this.Wa}get documents(){return this.Qa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.qa.namedQuery)this.Wa.push(e.qa.namedQuery);else if(e.qa.documentMetadata){this.Qa.push({metadata:e.qa.documentMetadata}),e.qa.documentMetadata.exists||++t;let r=y3.fromString(e.qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.qa.document&&(this.Qa[this.Qa.length-1].document=e.qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,{...this.progress}):null}za(e){let t=new Map,r=new _g(this.serializer);for(let n of e)if(n.metadata.queries){let e=r.Ks(n.metadata.name);for(let r of n.metadata.queries){let n=(t.get(r)||xh()).add(e);t.set(r,n)}}return t}async ja(e){let t=await C8(e,new _g(this.serializer),this.Qa,this.$a.id),r=this.za(this.documents);for(let t of this.Wa)await C9(e,t,r.get(t.name));return this.progress.taskState="Success",{progress:this.progress,Ha:this.collectionGroups,Ja:t}}}function _y(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class _v{constructor(e){this.key=e}}class _b{constructor(e){this.key=e}}class _w{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=xh(),this.mutatedKeys=xh(),this.eu=xr(e),this.tu=new _r(this.eu)}get nu(){return this.Za}ru(e,t){let r=t?t.iu:new _n,n=t?t.tu:this.tu,i=t?t.mutatedKeys:this.mutatedKeys,o=n,a=!1,s="F"===this.query.limitType&&n.size===this.query.limit?n.last():null,l="L"===this.query.limitType&&n.size===this.query.limit?n.first():null;if(e.inorderTraversal((e,t)=>{let u=n.get(e),c=xe(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations),f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(r.track({type:3,doc:c}),f=!0):this.su(u,c)||(r.track({type:2,doc:c}),f=!0,(s&&this.eu(c,s)>0||l&&0>this.eu(c,l))&&(a=!0)):!u&&c?(r.track({type:0,doc:c}),f=!0):u&&!c&&(r.track({type:1,doc:u}),f=!0,(s||l)&&(a=!0)),f&&(c?(o=o.add(c),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){let e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),r.track({type:1,doc:e})}return{tu:o,iu:r,Ss:a,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,n){let i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let o=e.iu.ya();o.sort((e,t)=>{var r,n;let i;return r=e.type,n=t.type,(i=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yM(20277,{Vt:e})}})(r)-i(n)||this.eu(e.doc,t.doc)}),this.ou(r),n=n??!1;let a=t&&!n?this._u():[],s=0===this.Ya.size&&this.current&&!n?1:0,l=s!==this.Xa;return(this.Xa=s,0!==o.length||l)?{snapshot:new _i(this.query,e.tu,i,o,e.mutatedKeys,0===s,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _n,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Za=this.Za.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Za=this.Za.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Ya;this.Ya=xh(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Ya=this.Ya.add(e.key))});let t=[];return e.forEach(e=>{this.Ya.has(e)||t.push(new _b(e))}),this.Ya.forEach(r=>{e.has(r)||t.push(new _v(r))}),t}cu(e){this.Za=e.ks,this.Ya=xh();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return _i.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Xa,this.hasCachedResults)}}let _x="SyncEngine";class _S{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class _C{constructor(e){this.key=e,this.hu=!1}}class _k{constructor(e,t,r,n,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=n,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new xn(e=>w9(e),w8),this.Iu=new Map,this.Eu=new Set,this.Ru=new bL(y8.comparator),this.Au=new Map,this.Vu=new CF,this.du={},this.mu=new Map,this.fu=Cc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function __(e,t,r=!0){let n,i=_1(e),o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),n=o.view.lu()):n=await _T(i,t,r,!0),n}async function _A(e,t){let r=_1(e);await _T(r,t,!0,!1)}async function _T(e,t,r,n){let i,o=await C1(e.localStore,w5(t)),a=o.targetId,s=e.sharedClientState.addLocalQueryTarget(a,r);return n&&(i=await _E(e,t,a,"current"===s,o.resumeToken)),e.isPrimaryClient&&r&&kz(e.remoteStore,o),i}async function _E(e,t,r,n,i){e.pu=(t,r,n)=>(async function(e,t,r,n){let i=t.view.ru(r);i.Ss&&(i=await C5(e.localStore,t.query,!1).then(({documents:e})=>t.view.ru(e,i)));let o=n&&n.targetChanges.get(t.targetId),a=n&&null!=n.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return _V(e,t.targetId,s.au),s.snapshot})(e,t,r,n);let o=await C5(e.localStore,t,!0),a=new _w(t,o.ks),s=a.ru(o.documents),l=x1.createSynthesizedTargetChangeForCurrentChange(r,n&&"Offline"!==e.onlineState,i),u=a.applyChanges(s,e.isPrimaryClient,l);_V(e,r,u.au);let c=new _S(t,r,a);return e.Tu.set(t,c),e.Iu.has(r)?e.Iu.get(r).push(t):e.Iu.set(r,[t]),u.snapshot}async function _I(e,t,r){let n=e.Tu.get(t),i=e.Iu.get(n.targetId);i.length>1?(e.Iu.set(n.targetId,i.filter(e=>!w8(e,t))),e.Tu.delete(t)):e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(n.targetId),e.sharedClientState.isActiveQueryTarget(n.targetId)||await C2(e.localStore,n.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(n.targetId),r&&kV(e.remoteStore,n.targetId),_j(e,n.targetId)}).catch(vx)):(_j(e,n.targetId),await C2(e.localStore,n.targetId,!0))}async function _D(e,t){let r=e.Tu.get(t),n=e.Iu.get(r.targetId);e.isPrimaryClient&&1===n.length&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),kV(e.remoteStore,r.targetId))}async function _F(e,t,r){let n=_2(e);try{var i,o;let e,a,s,l,u,c=await (i=n.localStore,s=vs.now(),l=t.reduce((e,t)=>e.add(t.key),xh()),i.persistence.runTransaction("Locally write mutations","readwrite",r=>{let n=xi,o=xh();return i.xs.getEntries(r,l).next(e=>{(n=e).forEach((e,t)=>{t.isValidDocument()||(o=o.add(e))})}).next(()=>i.localDocuments.getOverlayedDocuments(r,n)).next(n=>{e=n;let o=[];for(let r of t){let t=function(e,t){let r=null;for(let n of e.fieldTransforms){let e=t.data.field(n.field),i=xm(n.transform,e||null);null!=i&&(null===r&&(r=wS.empty()),r.set(n.field,i))}return r||null}(r,e.get(r.key).overlayedDocument);null!=t&&o.push(new xR(r.key,t,function e(t){let r=[];return bB(t.fields,(t,n)=>{let i=new y6([t]);if(wg(n)){let t=e(n.mapValue).fields;if(0===t.length)r.push(i);else for(let e of t)r.push(i.child(e))}else r.push(i)}),new bW(r)}(t.value.mapValue),xT.exists(!0)))}return i.mutationQueue.addMutationBatch(r,s,o,t)}).next(t=>{a=t;let n=t.applyToLocalDocumentSet(e,o);return i.documentOverlayCache.saveOverlays(r,t.batchId,n)})}).then(()=>({batchId:a.batchId,changes:xs(e)})));n.sharedClientState.addPendingMutation(c.batchId),o=c.batchId,(u=n.du[n.currentUser.toKey()])||(u=new bL(yY)),u=u.insert(o,r),n.du[n.currentUser.toKey()]=u,await _$(n,c.changes),await kZ(n.remoteStore)}catch(t){let e=_t(t,"Failed to persist write");r.reject(e)}}async function _P(e,t){var r;try{let n,i,o=await (r=e.localStore,n=t.snapshotVersion,i=r.vs,r.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{let o=r.xs.newChangeBuffer({trackRemovals:!0});i=r.vs;let a=[];t.targetChanges.forEach((o,s)=>{var l;let u=i.get(s);if(!u)return;a.push(r.li.removeMatchingKeys(e,o.removedDocuments,s).next(()=>r.li.addMatchingKeys(e,o.addedDocuments,s)));let c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(bK.EMPTY_BYTE_STRING,vl.min()).withLastLimboFreeSnapshotVersion(vl.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,n)),i=i.insert(s,c),l=c,(0===u.resumeToken.approximateByteSize()||l.snapshotVersion.toMicroseconds()-u.snapshotVersion.toMicroseconds()>=3e8||o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size>0)&&a.push(r.li.updateTargetData(e,c))});let s=xi,l=xh();if(t.documentUpdates.forEach(n=>{t.resolvedLimboDocuments.has(n)&&a.push(r.persistence.referenceDelegate.updateLimboDocument(e,n))}),a.push(C0(e,o,t.documentUpdates).next(e=>{s=e.Bs,l=e.Ls})),!n.isEqual(vl.min())){let t=r.li.getLastRemoteSnapshotVersion(e).next(t=>r.li.setTargetsMetadata(e,e.currentSequenceNumber,n));a.push(t)}return vS.waitFor(a).next(()=>o.apply(e)).next(()=>r.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(r.vs=i,e)));t.targetChanges.forEach((t,r)=>{let n=e.Au.get(r);n&&(yj(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1,22616),t.addedDocuments.size>0?n.hu=!0:t.modifiedDocuments.size>0?yj(n.hu,14607):t.removedDocuments.size>0&&(yj(n.hu,42227),n.hu=!1))}),await _$(e,o,t)}catch(e){await vx(e)}}function _N(e,t,r){var n;if(e.isPrimaryClient&&0===r||!e.isPrimaryClient&&1===r){let r,i=[];e.Tu.forEach((e,r)=>{let n=r.view.va(t);n.snapshot&&i.push(n.snapshot)}),(n=e.eventManager).onlineState=t,r=!1,n.queries.forEach((e,n)=>{for(let e of n.ba)e.va(t)&&(r=!0)}),r&&_d(n),i.length&&e.Pu.J_(i),e.onlineState=t,e.isPrimaryClient&&e.sharedClientState.setOnlineState(t)}}async function _R(e,t,r){e.sharedClientState.updateQueryState(t,"rejected",r);let n=e.Au.get(t),i=n&&n.key;if(i){let r=new bL(y8.comparator);r=r.insert(i,wC.newNoDocument(i,vl.min()));let n=xh().add(i),o=new x0(vl.min(),new Map,new bL(yY),r,n);await _P(e,o),e.Ru=e.Ru.remove(i),e.Au.delete(t),_U(e)}else await C2(e.localStore,t,!1).then(()=>_j(e,t,r)).catch(vx)}async function _O(e,t){var r;let n=t.batch.batchId;try{let i=await (r=e.localStore,r.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{let n,i,o,a=t.batch.keys(),s=r.xs.newChangeBuffer({trackRemovals:!0});return(i=(n=t.batch).keys(),o=vS.resolve(),i.forEach(r=>{o=o.next(()=>s.getEntry(e,r)).next(e=>{let i=t.docVersions.get(r);yj(null!==i,48541),0>e.version.compareTo(i)&&(n.applyToRemoteDocument(e,t),e.isValidDocument()&&(e.setReadTime(t.commitVersion),s.addEntry(e)))})}),o.next(()=>r.mutationQueue.removeMutationBatch(e,n))).next(()=>s.apply(e)).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,a,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=xh();for(let r=0;r<e.mutationResults.length;++r)e.mutationResults[r].transformResults.length>0&&(t=t.add(e.batch.mutations[r].key));return t}(t))).next(()=>r.localDocuments.getDocuments(e,a))}));_L(e,n,null),_M(e,n),e.sharedClientState.updateMutationState(n,"acknowledged"),await _$(e,i)}catch(e){await vx(e)}}async function _B(e,t,r){var n;try{let i=await (n=e.localStore,n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(yj(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))}));_L(e,t,r),_M(e,t),e.sharedClientState.updateMutationState(t,"rejected",r),await _$(e,i)}catch(e){await vx(e)}}function _M(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function _L(e,t,r){let n=e.du[e.currentUser.toKey()];if(n){let i=n.get(t);i&&(r?i.reject(r):i.resolve(),n=n.remove(t)),e.du[e.currentUser.toKey()]=n}}function _j(e,t,r=null){for(let n of(e.sharedClientState.removeLocalQueryTarget(t),e.Iu.get(t)))e.Tu.delete(n),r&&e.Pu.yu(n,r);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach(t=>{e.Vu.containsKey(t)||_z(e,t)})}function _z(e,t){e.Eu.delete(t.path.canonicalString());let r=e.Ru.get(t);null!==r&&(kV(e.remoteStore,r),e.Ru=e.Ru.remove(t),e.Au.delete(r),_U(e))}function _V(e,t,r){for(let n of r)n instanceof _v?(e.Vu.addReference(n.key,t),function(e,t){let r=t.key,n=r.path.canonicalString();e.Ru.get(r)||e.Eu.has(n)||(yN(_x,"New document in limbo: "+r),e.Eu.add(n),_U(e))}(e,n)):n instanceof _b?(yN(_x,"Document no longer in limbo: "+n.key),e.Vu.removeReference(n.key,t),e.Vu.containsKey(n.key)||_z(e,n.key)):yM(19791,{wu:n})}function _U(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){let t=e.Eu.values().next().value;e.Eu.delete(t);let r=new y8(y3.fromString(t)),n=e.fu.next();e.Au.set(n,new _C(r)),e.Ru=e.Ru.insert(r,n),kz(e.remoteStore,new ST(w5(wZ(r.path)),n,"TargetPurposeLimboResolution",vM.ce))}}async function _$(e,t,r){let n=[],i=[],o=[];e.Tu.isEmpty()||(e.Tu.forEach((a,s)=>{o.push(e.pu(s,t,r).then(t=>{if((t||r)&&e.isPrimaryClient){let n=t?!t.fromCache:r?.targetChanges.get(s.targetId)?.current;e.sharedClientState.updateQueryState(s.targetId,n?"current":"not-current")}if(t){n.push(t);let e=CH.Es(s.targetId,t);i.push(e)}}))}),await Promise.all(o),e.Pu.J_(n),await async function(e,t){try{await e.persistence.runTransaction("notifyLocalViewChanges","readwrite",r=>vS.forEach(t,t=>vS.forEach(t.Ts,n=>e.persistence.referenceDelegate.addReference(r,t.targetId,n)).next(()=>vS.forEach(t.Is,n=>e.persistence.referenceDelegate.removeReference(r,t.targetId,n)))))}catch(e){if(!vI(e))throw e;yN(CX,"Failed to update sequence numbers: "+e)}for(let r of t){let t=r.targetId;if(!r.fromCache){let r=e.vs.get(t),n=r.snapshotVersion,i=r.withLastLimboFreeSnapshotVersion(n);e.vs=e.vs.insert(t,i)}}}(e.localStore,i))}async function _W(e,t){if(!e.currentUser.isEqual(t)){yN(_x,"User change. New user:",t.toKey());let r=await CY(e.localStore,t);e.currentUser=t,e.mu.forEach(e=>{e.forEach(e=>{e.reject(new yV(yz.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.mu.clear(),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await _$(e,r.Ns)}}function _q(e,t){let r=e.Au.get(t);if(r&&r.hu)return xh().add(r.key);{let r=xh(),n=e.Iu.get(t);if(!n)return r;for(let t of n){let n=e.Tu.get(t);r=r.unionWith(n.view.nu)}return r}}async function _K(e,t){let r=await C5(e.localStore,t.query,!0),n=t.view.cu(r);return e.isPrimaryClient&&_V(e,t.targetId,n.au),n}async function _H(e,t){return C4(e.localStore,t).then(t=>_$(e,t))}async function _G(e,t,r,n){var i,o;let a,s=await (i=e.localStore,a=i.mutationQueue,i.persistence.runTransaction("Lookup mutation documents","readonly",e=>a.Xn(e,t).next(t=>t?i.localDocuments.getDocuments(e,t):vS.resolve(null))));null!==s?("pending"===r?await kZ(e.remoteStore):"acknowledged"===r||"rejected"===r?(_L(e,t,n||null),_M(e,t),o=e.localStore,o.mutationQueue.nr(t)):yM(6720,"Unknown batchState",{bu:r}),await _$(e,s)):yN(_x,"Cannot apply mutation batch with id: "+t)}async function _Q(e,t){if(_1(e),_2(e),!0===t&&!0!==e.gu){let t=e.sharedClientState.getAllActiveQueryTargets(),r=await _X(e,t.toArray());for(let t of(e.gu=!0,await k8(e.remoteStore,!0),r))kz(e.remoteStore,t)}else if(!1===t&&!1!==e.gu){let t=[],r=Promise.resolve();e.Iu.forEach((n,i)=>{e.sharedClientState.isLocalQueryTarget(i)?t.push(i):r=r.then(()=>(_j(e,i),C2(e.localStore,i,!0))),kV(e.remoteStore,i)}),await r,await _X(e,t),e.Au.forEach((t,r)=>{kV(e.remoteStore,r)}),e.Vu.zr(),e.Au=new Map,e.Ru=new bL(y8.comparator),e.gu=!1,await k8(e.remoteStore,!1)}}async function _X(e,t,r){let n=[],i=[];for(let r of t){let t,o=e.Iu.get(r);if(o&&0!==o.length)for(let r of(t=await C1(e.localStore,w5(o[0])),o)){let t=e.Tu.get(r),n=await _K(e,t);n.snapshot&&i.push(n.snapshot)}else{let n=await C3(e.localStore,r);t=await C1(e.localStore,n),await _E(e,_J(n),r,!1,t.resumeToken)}n.push(t)}return e.Pu.J_(i),n}function _J(e){var t,r,n,i,o;return t=e.path,r=e.collectionGroup,n=e.orderBy,i=e.filters,o=e.limit,new wY(t,r,n,i,o,"F",e.startAt,e.endAt)}function _Y(e){return e.localStore.persistence.hs()}async function _Z(e,t,r,n){if(e.gu)return void yN(_x,"Ignoring unexpected query state notification.");let i=e.Iu.get(t);if(i&&i.length>0)switch(r){case"current":case"not-current":{let n=await C4(e.localStore,xt(i[0])),o=x0.createSynthesizedRemoteEventForCurrentChange(t,"current"===r,bK.EMPTY_BYTE_STRING);await _$(e,n,o);break}case"rejected":await C2(e.localStore,t,!0),_j(e,t,n);break;default:yM(64155,r)}}async function _0(e,t,r){let n=_1(e);if(n.gu){for(let e of t){if(n.Iu.has(e)&&n.sharedClientState.isActiveQueryTarget(e)){yN(_x,"Adding an already active target "+e);continue}let t=await C3(n.localStore,e),r=await C1(n.localStore,t);await _E(n,_J(t),r.targetId,!1,r.resumeToken),kz(n.remoteStore,r)}for(let e of r)n.Iu.has(e)&&await C2(n.localStore,e,!1).then(()=>{kV(n.remoteStore,e),_j(n,e)}).catch(vx)}}function _1(e){return e.remoteStore.remoteSyncer.applyRemoteEvent=_P.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_q.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_R.bind(null,e),e.Pu.J_=_c.bind(null,e.eventManager),e.Pu.yu=_h.bind(null,e.eventManager),e}function _2(e){return e.remoteStore.remoteSyncer.applySuccessfulWrite=_O.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_B.bind(null,e),e}class _5{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kT(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){var t,r;return t=this.persistence,r=new CQ,new CJ(t,r,e.initialUser,this.serializer)}Cu(e){return new CM(Cj.Vi,this.serializer)}Du(e){return new kd}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_5.provider={build:()=>new _5};class _3 extends _5{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){return yj(this.persistence.referenceDelegate instanceof Cz,46915),new Cm(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Cu(e){let t=void 0!==this.cacheSizeBytes?Ci.withCacheSize(this.cacheSizeBytes):Ci.DEFAULT;return new CM(e=>Cz.Vi(e,t),this.serializer)}}class _4 extends _5{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await _2(this.xu.syncEngine),await kZ(this.xu.remoteStore),await this.persistence.zi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){var t,r;return t=this.persistence,r=new CQ,new CJ(t,r,e.initialUser,this.serializer)}Fu(e,t){return new Cm(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Mu(e,t){let r=new vB(t,this.persistence);return new vO(e.asyncQueue,r)}Cu(e){let t=CK(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ci.withCacheSize(this.cacheSizeBytes):Ci.DEFAULT;return new Cq(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,k_(),kA(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new kd}}class _6 extends _4{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);let t=this.xu.syncEngine;this.sharedClientState instanceof kh&&(this.sharedClientState.syncEngine={So:_G.bind(null,t),Do:_Z.bind(null,t),Co:_0.bind(null,t),hs:_Y.bind(null,t),bo:_H.bind(null,t)},await this.sharedClientState.start()),await this.persistence.zi(async e=>{await _Q(this.xu.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())})}Du(e){let t=k_();if(!kh.v(t))throw new yV(yz.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let r=CK(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new kh(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class _8{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>_N(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=_W.bind(null,this.syncEngine),await k8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new _a}createDatastore(e){var t;let r=kT(e.databaseInfo.databaseId),n=new kk(e.databaseInfo);return t=e.authCredentials,new kR(t,e.appCheckCredentials,n,r)}createRemoteStore(e){var t,r;return t=this.localStore,r=this.datastore,new kM(t,r,e.asyncQueue,e=>_N(this.syncEngine,e,0),kg.v()?new kg:new kf)}createSyncEngine(e,t){var r,n,i,o,a,s;let l;return r=this.localStore,n=this.remoteStore,i=this.eventManager,o=this.sharedClientState,a=e.initialUser,s=e.maxConcurrentLimboResolutions,l=new _k(r,n,i,o,a,s),t&&(l.gu=!0),l}async terminate(){await async function(e){yN(kB,"RemoteStore shutting down."),e.Ea.add(5),await kj(e),e.Aa.shutdown(),e.Va.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}function _9(e,t=10240){let r=0;return{async read(){if(r<e.byteLength){let n={value:e.slice(r,r+t),done:!1};return r+=t,n}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}_8.provider={build:()=>new _8};class _7{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yR("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class Ae{constructor(e,t){this.Bu=e,this.serializer=t,this.metadata=new yU,this.buffer=new Uint8Array,this.Lu=new TextDecoder("utf-8"),this.ku().then(e=>{e&&e.Ua()?this.metadata.resolve(e.qa.metadata):this.metadata.reject(Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(e?.qa)}`))},e=>this.metadata.reject(e))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async Su(){return await this.getMetadata(),this.ku()}async ku(){let e=await this.Ku();if(null===e)return null;let t=this.Lu.decode(e),r=Number(t);return isNaN(r)&&this.qu(`length string (${t}) is not valid number`),new _p(JSON.parse(await this.Uu(r)),e.length+r)}$u(){return this.buffer.findIndex(e=>123===e)}async Ku(){for(;0>this.$u()&&!await this.Wu(););if(0===this.buffer.length)return null;let e=this.$u();e<0&&this.qu("Reached the end of bundle when a length string is expected.");let t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Uu(e){for(;this.buffer.length<e;)await this.Wu()&&this.qu("Reached the end of bundle when more is expected.");let t=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}qu(e){throw this.Bu.cancel(),Error(`Invalid bundle format: ${e}`)}async Wu(){let e=await this.Bu.read();if(!e.done){let t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class At{constructor(e,t){this.bundleData=e,this.serializer=t,this.cursor=0,this.elements=[];let r=this.Su();if(!r||!r.Ua())throw Error(`The first element of the bundle is not a metadata object, it is
         ${JSON.stringify(r?.qa)}`);this.metadata=r;do null!==(r=this.Su())&&this.elements.push(r);while(null!==r)}getMetadata(){return this.metadata}Qu(){return this.elements}Su(){if(this.cursor===this.bundleData.length)return null;let e=this.Ku();return new _p(JSON.parse(this.Uu(e)),e)}Uu(e){if(this.cursor+e>this.bundleData.length)throw new yV(yz.INTERNAL,"Reached the end of bundle when more is expected.");return this.bundleData.slice(this.cursor,this.cursor+=e)}Ku(){let e=this.cursor,t=this.cursor;for(;t<this.bundleData.length;){if("{"===this.bundleData[t]){if(t===e)throw Error("First character is a bracket and not a number");return this.cursor=t,Number(this.bundleData.slice(e,t))}t++}throw Error("Reached the end of bundle when more is expected.")}}class Ar{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new yV(yz.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let t=await async function(e,t){let r={documents:t.map(t=>Sc(e.serializer,t))},n=await e.jo("BatchGetDocuments",e.serializer.databaseId,y3.emptyPath(),r,t.length),i=new Map;n.forEach(t=>{var r;let n,o,a,s,l,u,c=(r=e.serializer,"found"in t?(yj(!!t.found,43571),t.found.name,t.found.updateTime,n=Sh(r,t.found.name),o=Sa(t.found.updateTime),a=t.found.createTime?Sa(t.found.createTime):vl.min(),s=new wS({mapValue:{fields:t.found.fields}}),wC.newFoundDocument(n,o,a,s)):"missing"in t?(yj(!!t.missing,3894),yj(!!t.readTime,22933),l=Sh(r,t.missing),u=Sa(t.readTime),wC.newNoDocument(l,u)):yM(7234,{result:t}));i.set(c.key.toString(),c)});let o=[];return t.forEach(e=>{let t=i.get(e.toString());yj(!!t,55234,{key:e}),o.push(t)}),o}(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new xL(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{let r=y8.fromPath(t);this.mutations.push(new xj(r,this.precondition(r)))}),await async function(e,t){let r={writes:t.map(t=>Sv(e.serializer,t))};await e.Wo("Commit",e.serializer.databaseId,y3.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw yM(50498,{Gu:e.constructor.name});t=vl.min()}let r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new yV(yz.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){let t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(vl.min())?xT.exists(!1):xT.updateTime(t):xT.none()}preconditionForUpdate(e){let t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(vl.min()))throw new yV(yz.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xT.updateTime(t)}return xT.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class An{constructor(e,t,r,n,i){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=n,this.deferred=i,this.zu=r.maxAttempts,this.M_=new kE(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_(async()=>{let e=new Ar(this.datastore),t=this.Ju(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.Zu(e)}))}).catch(e=>{this.Zu(e)})})}Ju(e){try{let t=this.updateFunction(e);return!vL(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Hu(),Promise.resolve()))):this.deferred.reject(e)}Xu(e){if("FirebaseError"===e?.name){let t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!xq(t)}return!1}}let Ai="FirestoreClient";class Ao{constructor(e,t,r,n,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=n,this.user=yI.UNAUTHENTICATED,this.clientId=yJ.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async e=>{yN(Ai,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(r,e=>(yN(Ai,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new yU;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){let t=_t(r,"Failed to shutdown persistence");e.reject(t)}}),e.promise}}async function Aa(e,t){e.asyncQueue.verifyOperationInProgress(),yN(Ai,"Initializing OfflineComponentProvider");let r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async e=>{n.isEqual(e)||(await CY(t.localStore,e),n=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function As(e,t){e.asyncQueue.verifyOperationInProgress();let r=await Al(e);yN(Ai,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(e=>k6(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,r)=>k6(t.remoteStore,r)),e._onlineComponents=t}async function Al(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){yN(Ai,"Using user provided OfflineComponentProvider");try{await Aa(e,e._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===t.name?t.code===yz.FAILED_PRECONDITION||t.code===yz.UNIMPLEMENTED:!("u">typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code))throw t;yO("Error using user provided cache. Falling back to memory cache: "+t),await Aa(e,new _5)}}else yN(Ai,"Using default OfflineComponentProvider"),await Aa(e,new _3(void 0));return e._offlineComponents}async function Au(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(yN(Ai,"Using user provided OnlineComponentProvider"),await As(e,e._uninitializedComponentsProvider._online)):(yN(Ai,"Using default OnlineComponentProvider"),await As(e,new _8))),e._onlineComponents}function Ac(e){return Al(e).then(e=>e.localStore)}function Ah(e){return Au(e).then(e=>e.syncEngine)}function Ad(e){return Au(e).then(e=>e.datastore)}async function Af(e){let t=await Au(e),r=t.eventManager;return r.onListen=__.bind(null,t.syncEngine),r.onUnlisten=_I.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=_A.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=_D.bind(null,t.syncEngine),r}function Ap(e,t,r={}){let n=new yU;return e.asyncQueue.enqueueAndForget(async()=>{var i,o;let a,s;return i=await Af(e),o=e.asyncQueue,a=new _7({next:e=>{a.Nu(),o.enqueueAndForget(()=>_u(i,s));let l=e.docs.has(t);!l&&e.fromCache?n.reject(new yV(yz.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&e.fromCache&&r&&"server"===r.source?n.reject(new yV(yz.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):n.resolve(e)},error:e=>n.reject(e)}),_l(i,s=new _f(wZ(t.path),a,{includeMetadataChanges:!0,Ka:!0}))}),n.promise}function Ag(e,t,r={}){let n=new yU;return e.asyncQueue.enqueueAndForget(async()=>{var i,o;let a,s;return i=await Af(e),o=e.asyncQueue,s=new _f(t,a=new _7({next:e=>{a.Nu(),o.enqueueAndForget(()=>_u(i,s)),e.fromCache&&"server"===r.source?n.reject(new yV(yz.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):n.resolve(e)},error:e=>n.reject(e)}),{includeMetadataChanges:!0,Ka:!0}),_l(i,s)}),n.promise}function Am(e){let t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}let Ay=new Map,Av="firestore.googleapis.com";class Ab{constructor(e){if(void 0===e.host){if(void 0!==e.ssl)throw new yV(yz.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Av,this.ssl=!0}else this.host=e.host,this.ssl=e.ssl??!0;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=0x2800000;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new yV(yz.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,r,n){if(!0===t&&!0===n)throw new yV(yz.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Am(e.experimentalLongPollingOptions??{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new yV(yz.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new yV(yz.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new yV(yz.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){var t,r;return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,t.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Aw{constructor(e,t,r,n){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ab({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yV(yz.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new yV(yz.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ab(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new yW;switch(e.type){case"firstParty":return new yG(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new yV(yz.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){let e;return(e=Ay.get(this))&&(yN("ComponentProvider","Removing Datastore"),Ay.delete(this),e.terminate()),Promise.resolve()}}class Ax{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ax(this.firestore,e,this._query)}}class AS{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new AC(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new AS(this.firestore,e,this._key)}toJSON(){return{type:AS._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(va(t,AS._jsonSchema))return new AS(e,r||null,new y8(y3.fromString(t.referencePath)))}}AS._jsonSchemaVersion="firestore/documentReference/1.0",AS._jsonSchema={type:vo("string",AS._jsonSchemaVersion),referencePath:vo("string")};class AC extends Ax{constructor(e,t,r){super(e,t,wZ(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new AS(this.firestore,null,new y8(e))}withConverter(e){return new AC(this.firestore,e,this._path)}}function Ak(e,t,...r){if(e=mk(e),1==arguments.length&&(t=yJ.newId()),y9("doc","path",t),e instanceof Aw){let n=y3.fromString(t,...r);return y7(n),new AS(e,null,new y8(n))}{if(!(e instanceof AS||e instanceof AC))throw new yV(yz.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=e._path.child(y3.fromString(t,...r));return y7(n),new AS(e.firestore,e instanceof AC?e.converter:null,new y8(n))}}function A_(e,t){return e=mk(e),t=mk(t),e instanceof Ax&&t instanceof Ax&&e.firestore===t.firestore&&w8(e._query,t._query)&&e.converter===t.converter}let AA="AsyncQueue";class AT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new kE(this,"async_queue_retry"),this._c=()=>{let e=kA();e&&yN(AA,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=kA();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=kA();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let t=new yU;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(0!==this.Yu.length){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!vI(e))throw e;yN(AA,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,yR("INTERNAL UNHANDLED ERROR: ",AE(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let n=_e.createAndSchedule(this,e,t,r,e=>this.hc(e));return this.tc.push(n),n}uc(){this.nc&&yM(47125,{Pc:AE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{for(let t of(this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs),this.tc))if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}}function AE(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class AI{constructor(){this._progressObserver={},this._taskCompletionResolver=new yU,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class AD extends Aw{constructor(e,t,r,n){super(e,t,r,n),this.type="firestore",this._queue=new AT,this._persistenceKey=n?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new AT(e),this._firestoreClient=void 0,await e}}}function AF(e){if(e._terminated)throw new yV(yz.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){var t,r,n,i,o;let a,s=e._freezeSettings(),l=(t=e._databaseId,r=e._app?.options.appId||"",n=e._persistenceKey,i=e._app?.options.apiKey,new b3(t,r,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,Am(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,i));e._componentsProvider||s.localCache?._offlineComponentProvider&&s.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new Ao(e._authCredentials,e._appCheckCredentials,e._queue,l,e._componentsProvider&&(o=e._componentsProvider,a=o?._online.build(),{_offline:o?._offline.build(a),_online:a}))}(e),e._firestoreClient}function AP(e,t){let r=AF(e=vn(e,AD)),n=new AI;return function(e,t,r,n){var i;let o=(i=kT(t),new Ae(function(e,t){if(e instanceof Uint8Array)return _9(e,void 0);if(e instanceof ArrayBuffer)return _9(new Uint8Array(e),void 0);if(e instanceof ReadableStream)return e.getReader();throw Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof r?xG().encode(r):r),i));e.asyncQueue.enqueueAndForget(async()=>{var t;(async function(e,t,r){try{var n,i;let o,a=await t.getMetadata();if(await (n=e.localStore,o=Sa(a.createTime),n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Pi.getBundleMetadata(e,a.id)).then(e=>!!e&&e.createTime.compareTo(o)>=0)))return await t.close(),r._completeWith({taskState:"Success",documentsLoaded:a.totalDocuments,bytesLoaded:a.totalBytes,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}),Promise.resolve(new Set);r._updateProgress(_y(a));let s=new _m(a,t.serializer),l=await t.Su();for(;l;){let e=await s.Ga(l);e&&r._updateProgress(e),l=await t.Su()}let u=await s.ja(e.localStore);return await _$(e,u.Ja,void 0),await (i=e.localStore,i.persistence.runTransaction("Save bundle","readwrite",e=>i.Pi.saveBundleMetadata(e,a))),r._completeWith(u.progress),Promise.resolve(u.Ha)}catch(e){return yO(_x,`Loading bundle failed with ${e}`),r._failWith(e),Promise.resolve(new Set)}})(t=await Ah(e),o,n).then(e=>{t.sharedClientState.notifyBundleLoaded(e)})})}(r,e._databaseId,t,n),n}class AN{constructor(e){this._byteString=e}static fromBase64String(e){try{return new AN(bK.fromBase64String(e))}catch(e){throw new yV(yz.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new AN(bK.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:AN._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(va(e,AN._jsonSchema))return AN.fromBase64String(e.bytes)}}AN._jsonSchemaVersion="firestore/bytes/1.0",AN._jsonSchema={type:vo("string",AN._jsonSchemaVersion),bytes:vo("string")};class AR{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new yV(yz.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new y6(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class AO{constructor(e){this._methodName=e}}class AB{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new yV(yz.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new yV(yz.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return yY(this._lat,e._lat)||yY(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:AB._jsonSchemaVersion}}static fromJSON(e){if(va(e,AB._jsonSchema))return new AB(e.latitude,e.longitude)}}AB._jsonSchemaVersion="firestore/geoPoint/1.0",AB._jsonSchema={type:vo("string",AB._jsonSchemaVersion),latitude:vo("number"),longitude:vo("number")};class AM{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}(this._values,e._values)}toJSON(){return{type:AM._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(va(e,AM._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new AM(e.vectorValues);throw new yV(yz.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}AM._jsonSchemaVersion="firestore/vectorValue/1.0",AM._jsonSchema={type:vo("string",AM._jsonSchemaVersion),vectorValues:vo("object")};let AL=/^__.*__$/;class Aj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new xR(e,this.data,this.fieldMask,t,this.fieldTransforms):new xN(e,this.data,t,this.fieldTransforms)}}class Az{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new xR(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function AV(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yM(40011,{dataSource:e})}}class AU{constructor(e,t,r,n,i,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=n,void 0===i&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new AU({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){let t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){let t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return A5(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(0===e.length)throw this.createError("Document fields must not be empty");if(AV(this.dataSource)&&AL.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class A${constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||kT(e)}createContext(e,t,r,n=!1){return new AU({dataSource:e,methodName:t,targetDoc:r,path:y6.emptyPath(),arrayElement:!1,hasConverter:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function AW(e){let t=e._freezeSettings(),r=kT(e._databaseId);return new A$(e._databaseId,!!t.ignoreUndefinedProperties,r)}function Aq(e,t,r,n,i,o={}){let a,s,l=e.createContext(o.merge||o.mergeFields?2:0,t,r,i);AZ("Data must be an object, but it was:",l,n);let u=AJ(n,l);if(o.merge)a=new bW(l.fieldMask),s=l.fieldTransforms;else if(o.mergeFields){let e=[];for(let n of o.mergeFields){let i=A0(t,n,r);if(!l.contains(i))throw new yV(yz.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);A3(e,i)||e.push(i)}a=new bW(e),s=l.fieldTransforms.filter(e=>a.covers(e.field))}else a=null,s=l.fieldTransforms;return new Aj(new wS(u),a,s)}class AK extends AO{_toFieldTransform(e){if(2!==e.dataSource)throw 1===e.dataSource?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof AK}}function AH(e,t,r,n){let i=e.createContext(1,t,r);AZ("Data must be an object, but it was:",i,n);let o=[],a=wS.empty();return bB(n,(e,n)=>{let s=A2(t,e,r);n=mk(n);let l=i.childContextForFieldPath(s);if(n instanceof AK)o.push(s);else{let e=AX(n,l);null!=e&&(o.push(s),a.set(s,e))}}),new Az(a,new bW(o),i.fieldTransforms)}function AG(e,t,r,n,i,o){let a=e.createContext(1,t,r),s=[A0(t,n,r)],l=[i];if(o.length%2!=0)throw new yV(yz.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<o.length;e+=2)s.push(A0(t,o[e])),l.push(o[e+1]);let u=[],c=wS.empty();for(let e=s.length-1;e>=0;--e)if(!A3(u,s[e])){let t=s[e],r=l[e];r=mk(r);let n=a.childContextForFieldPath(t);if(r instanceof AK)u.push(t);else{let e=AX(r,n);null!=e&&(u.push(t),c.set(t,e))}}return new Az(c,new bW(u),a.fieldTransforms)}function AQ(e,t,r,n=!1){return AX(r,e.createContext(n?4:3,t))}function AX(e,t){if(AY(e=mk(e)))return AZ("Unsupported field value:",t,e),AJ(e,t);if(e instanceof AO)return function(e,t){if(!AV(t.dataSource))throw t.createError(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.createError(`${e._methodName}() is not currently supported inside arrays`);let r=e._toFieldTransform(t);r&&t.fieldTransforms.push(r)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&4!==t.dataSource)throw t.createError("Nested arrays are not supported");let r=[],n=0;for(let i of e){let e=AX(i,t.childContextForArray(n));null==e&&(e={nullValue:"NULL_VALUE"}),r.push(e),n++}return{arrayValue:{values:r}}}return function(e,t){var r,n,i;if(null===(e=mk(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return r=t.serializer,vz(n=e)?xp(n):xf(r,n);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){let r=vs.fromDate(e);return{timestampValue:Si(t.serializer,r)}}if(e instanceof vs){let r=new vs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Si(t.serializer,r)}}if(e instanceof AB)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof AN)return{bytesValue:So(t.serializer,e._byteString)};if(e instanceof AS){let r=t.databaseId,n=e.firestore._databaseId;if(!n.isEqual(r))throw t.createError(`Document reference is for database ${n.projectId}/${n.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Ss(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof AM)return{mapValue:{fields:{[b8]:{stringValue:we},[wt]:{arrayValue:{values:((i=e)instanceof AM?i.toArray():i).map(e=>{if("number"!=typeof e)throw t.createError("VectorValues must only contain numeric values.");return xf(t.serializer,e)})}}}}};if(SA(e))return e._toProto(t.serializer);throw t.createError(`Unsupported field value: ${vr(e)}`)}(e,t)}function AJ(e,t){let r={};return bM(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):bB(e,(e,n)=>{let i=AX(n,t.childContextForField(e));null!=i&&(r[e]=i)}),{mapValue:{fields:r}}}function AY(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof vs||e instanceof AB||e instanceof AN||e instanceof AS||e instanceof AO||e instanceof AM||SA(e))}function AZ(e,t,r){if(!AY(r)||!vt(r)){let n=vr(r);throw"an object"===n?t.createError(e+" a custom object"):t.createError(e+" "+n)}}function A0(e,t,r){if((t=mk(t))instanceof AR)return t._internalPath;if("string"==typeof t)return A2(e,t);throw A5("Field path arguments must be of type string or ",e,!1,void 0,r)}let A1=RegExp("[~\\*/\\[\\]]");function A2(e,t,r){if(t.search(A1)>=0)throw A5(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new AR(...t.split("."))._internalPath}catch(n){throw A5(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function A5(e,t,r,n,i){let o=n&&!n.isEmpty(),a=void 0!==i,s=`Function ${t}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${n}`),a&&(l+=` in document ${i}`),l+=")"),new yV(yz.INVALID_ARGUMENT,s+e+l)}function A3(e,t){return e.some(e=>e.isEqual(t))}class A4{convertValue(e,t="none"){switch(wn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bQ(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bX(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw yM(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return bB(e,(e,n)=>{r[e]=this.convertValue(n,t)}),r}convertVectorValue(e){return new AM(e.fields?.[wt].arrayValue?.values?.map(e=>bQ(e.doubleValue)))}convertGeoPoint(e){return new AB(bQ(e.latitude),bQ(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=b2(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(b5(e));default:return null}}convertTimestamp(e){let t=bG(e);return new vs(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=y3.fromString(e);yj(S_(r),9688,{name:e});let n=new b6(r.get(1),r.get(3)),i=new y8(r.popFirst(5));return n.isEqual(t)||yR(`Document ${i} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}class A6 extends A4{constructor(e){super(),this.firestore=e}convertBytes(e){return new AN(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new AS(this.firestore,null,t)}}let A8="@firebase/firestore",A9="4.10.0";function A7(e){if("object"!=typeof e||null===e)return!1;for(let t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}class Te{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class Tt{constructor(e,t,r){this._userDataWriter=t,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}_fieldsProto(){return new wS({mapValue:{fields:this._data}}).clone().value.mapValue.fields}}class Tr{constructor(e,t,r,n,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=n,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new AS(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){let e=new Tn(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){let t=this._document.data.field(A0("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Tn extends Tr{data(){return super.data()}}function Ti(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new yV(yz.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class To{}class Ta extends To{}function Ts(e,t,...r){let n=[];for(let i of(t instanceof To&&n.push(t),function(e){let t=e.filter(e=>e instanceof Tc).length,r=e.filter(e=>e instanceof Tl).length;if(t>1||t>0&&r>0)throw new yV(yz.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(r)),n))e=i._apply(e);return e}class Tl extends Ta{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Tl(e,t,r)}_apply(e){let t=this._parse(e);return TT(e._query,t),new Ax(e.firestore,e.converter,w4(e._query,t))}_parse(e){let t=AW(e.firestore);return function(e,t,r,n,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new yV(yz.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){TA(a,o);let t=[];for(let r of a)t.push(T_(n,e,r));s={arrayValue:{values:t}}}else s=T_(n,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||TA(a,o),s=AQ(r,t,a,"in"===o||"not-in"===o);return wI.create(i,o,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Tu(e,t,r){let n=A0("where",e);return Tl._create(n,t,r)}class Tc extends To{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Tc(e,t)}_parse(e){let t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:wD.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let r=e;for(let e of t.getFlattenedFilters())TT(r,e),r=w4(r,e)}(e._query,t),new Ax(e.firestore,e.converter,w4(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Th(...e){return e.forEach(e=>TE("or",e)),Tc._create("or",e)}function Td(...e){return e.forEach(e=>TE("and",e)),Tc._create("and",e)}class Tf extends Ta{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Tf(e,t)}_apply(e){var t;let r,n=function(e,t,r){if(null!==e.startAt)throw new yV(yz.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new yV(yz.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wT(t,r)}(e._query,this._field,this._direction);return new Ax(e.firestore,e.converter,(t=e._query,r=t.explicitOrderBy.concat([n]),new wY(t.path,t.collectionGroup,r,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)))}}function Tp(e,t="asc"){let r=A0("orderBy",e);return Tf._create(r,t)}class Tg extends Ta{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Tg(e,t,r)}_apply(e){return new Ax(e.firestore,e.converter,w6(e._query,this._limit,this._limitType))}}function Tm(e){return vi("limit",e),Tg._create("limit",e,"F")}function Ty(e){return vi("limitToLast",e),Tg._create("limitToLast",e,"L")}class Tv extends Ta{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Tv(e,t,r)}_apply(e){var t;let r=Tk(e,this.type,this._docOrFields,this._inclusive);return new Ax(e.firestore,e.converter,(t=e._query,new wY(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,r,t.endAt)))}}function Tb(...e){return Tv._create("startAt",e,!0)}function Tw(...e){return Tv._create("startAfter",e,!1)}class Tx extends Ta{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Tx(e,t,r)}_apply(e){var t;let r=Tk(e,this.type,this._docOrFields,this._inclusive);return new Ax(e.firestore,e.converter,(t=e._query,new wY(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,r)))}}function TS(...e){return Tx._create("endBefore",e,!1)}function TC(...e){return Tx._create("endAt",e,!0)}function Tk(e,t,r,n){if(r[0]=mk(r[0]),r[0]instanceof Tr)return function(e,t,r,n,i){if(!n)throw new yV(yz.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${r}().`);let o=[];for(let r of w2(e))if(r.field.isKeyField())o.push(wc(t,n.key));else{let e=n.data.field(r.field);if(b1(e))throw new yV(yz.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+r.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){let e=r.field.canonicalString();throw new yV(yz.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}o.push(e)}return new wk(o,i)}(e._query,e.firestore._databaseId,t,r[0]._document,n);{let i=AW(e.firestore);return function(e,t,r,n,i,o){let a=e.explicitOrderBy;if(i.length>a.length)throw new yV(yz.INVALID_ARGUMENT,`Too many arguments provided to ${n}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let s=[];for(let o=0;o<i.length;o++){let l=i[o];if(a[o].field.isKeyField()){if("string"!=typeof l)throw new yV(yz.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${n}(), but got a ${typeof l}`);if(!w1(e)&&-1!==l.indexOf("/"))throw new yV(yz.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${n}() must be a plain document ID, but '${l}' contains a slash.`);let r=e.path.child(y3.fromString(l));if(!y8.isDocumentKey(r))throw new yV(yz.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${n}() must result in a valid document path, but '${r}' is not because it contains an odd number of segments.`);let i=new y8(r);s.push(wc(t,i))}else{let e=AQ(r,n,l);s.push(e)}}return new wk(s,o)}(e._query,e.firestore._databaseId,i,t,r,n)}}function T_(e,t,r){if("string"==typeof(r=mk(r))){if(""===r)throw new yV(yz.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w1(t)&&-1!==r.indexOf("/"))throw new yV(yz.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);let n=t.path.child(y3.fromString(r));if(!y8.isDocumentKey(n))throw new yV(yz.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return wc(e,new y8(n))}if(r instanceof AS)return wc(e,r._key);throw new yV(yz.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vr(r)}.`)}function TA(e,t){if(!Array.isArray(e)||0===e.length)throw new yV(yz.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function TT(e,t){let r=function(e,t){for(let r of e)for(let e of r.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==r)throw r===t.op?new yV(yz.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new yV(yz.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}function TE(e,t){if(!(t instanceof Tl||t instanceof Tc))throw new yV(yz.INVALID_ARGUMENT,`Function ${e}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}function TI(e,t,r){return e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t}class TD extends A4{constructor(e){super(),this.firestore=e}convertBytes(e){return new AN(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new AS(this.firestore,null,t)}}function TF(e){return new Te("sum",A0("sum",e))}function TP(e){return new Te("avg",A0("average",e))}function TN(){return new Te("count")}function TR(e,t){return e instanceof Te&&t instanceof Te&&e.aggregateType===t.aggregateType&&e._internalFieldPath?.canonicalString()===t._internalFieldPath?.canonicalString()}function TO(e,t){return A_(e.query,t.query)&&mS(e.data(),t.data())}function TB(e){return TM(e,{count:TN()})}function TM(e,t){var r;let n,i=vn(e.firestore,AD),o=AF(i),a=function(e,t){let r=[];for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.push(t(e[n],n,e));return r}(t,(e,t)=>new x$(t,e.aggregateType,e._internalFieldPath));return(r=e._query,n=new yU,o.asyncQueue.enqueueAndForget(async()=>{try{let e=await Ad(o);n.resolve(async function(e,t,r){let{request:n,gt:i,parent:o}=function(e,t,r,n){let{ft:i,parent:o}=Sx(e,t),a={},s=[],l=0;return r.forEach(e=>{let t="aggregate_"+l++;a[t]=e.alias,"count"===e.aggregateType?s.push({alias:t,count:{}}):"avg"===e.aggregateType?s.push({alias:t,avg:{field:SC(e.fieldPath)}}):"sum"===e.aggregateType&&s.push({alias:t,sum:{field:SC(e.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:s,structuredQuery:i.structuredQuery},parent:i.parent},gt:a,parent:o}}(e.serializer,(t.Re||(t.Re=w3(t,t.explicitOrderBy)),t.Re),r);e.connection.Ko||delete n.parent;let a=(await e.jo("RunAggregationQuery",e.serializer.databaseId,o,n,1)).filter(e=>!!e.result);yj(1===a.length,64727);let s=a[0].result?.aggregateFields;return Object.keys(s).reduce((e,t)=>(e[i[t]]=s[t],e),{})}(e,r,a))}catch(e){n.reject(e)}}),n.promise).then(t=>new Tt(e,new A6(i),t))}class TL{constructor(e){this.kind="memory",this._onlineComponentProvider=_8.provider,this._offlineComponentProvider=e?.garbageCollector?e.garbageCollector._offlineComponentProvider:{build:()=>new _3(void 0)}}toJSON(){return{kind:this.kind}}}class Tj{constructor(e){let t;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=TG(void 0))._initialize(e),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class Tz{constructor(){this.kind="memoryEager",this._offlineComponentProvider=_5.provider}toJSON(){return{kind:this.kind}}}class TV{constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new _3(e)}}toJSON(){return{kind:this.kind}}}function TU(){return new Tz}function T$(e){return new TV(e?.cacheSizeBytes)}function TW(e){return new TL(e)}function Tq(e){return new Tj(e)}class TK{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=_8.provider,this._offlineComponentProvider={build:t=>new _4(t,e?.cacheSizeBytes,this.forceOwnership)}}}class TH{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=_8.provider,this._offlineComponentProvider={build:t=>new _6(t,e?.cacheSizeBytes)}}}function TG(e){return new TK(e?.forceOwnership)}function TQ(){return new TH}let TX="NOT SUPPORTED";class TJ{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class TY extends Tr{constructor(e,t,r,n,i,o){super(e,t,r,n,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new T0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(A0("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yV(yz.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=TY._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()&&(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),this._firestore,this.ref.path,t.bundle="NOT SUPPORTED"),t}}function TZ(e,t,r){if(va(t,TY._jsonSchema)){var n;if(t.bundle===TX)throw new yV(yz.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");let i=kT(e._databaseId),o=(n=t.bundle,new At(n,i)),a=o.t(),s=new _m(o.getMetadata(),i);for(let e of a)s.o(e);let l=s.documents;if(1!==l.length)throw new yV(yz.INVALID_ARGUMENT,`Expected bundle data to contain 1 document, but it contains ${l.length} documents.`);let u=Sy(i,l[0].document),c=new y8(y3.fromString(t.bundleName));return new TY(e,new TD(e),c,u,new TJ(!1,!1),r||null)}}TY._jsonSchemaVersion="firestore/documentSnapshot/1.0",TY._jsonSchema={type:vo("string",TY._jsonSchemaVersion),bundleSource:vo("string","DocumentSnapshot"),bundleName:vo("string"),bundle:vo("string")};class T0 extends TY{data(e={}){return super.data(e)}}class T1{constructor(e,t,r,n){this._firestore=e,this._userDataWriter=t,this._snapshot=n,this.metadata=new TJ(n.hasPendingWrites,n.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new T0(this._firestore,this._userDataWriter,r.key,r,new TJ(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new yV(yz.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(r=>{let n=new T0(e._firestore,e._userDataWriter,r.doc.key,r.doc,new TJ(e._snapshot.mutatedKeys.has(r.doc.key),e._snapshot.fromCache),e.query.converter);return r.doc,{type:"added",doc:n,oldIndex:-1,newIndex:t++}})}{let r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{let n=new T0(e._firestore,e._userDataWriter,t.doc.key,t.doc,new TJ(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yM(61501,{type:e})}}(t.type),doc:n,oldIndex:i,newIndex:o}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yV(yz.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=T1._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yJ.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],n=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),r.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),n.push(e.ref.path))}),this._firestore,this.query._query,e.bundleName,e.bundle="NOT SUPPORTED",e}}function T2(e,t,r){if(va(t,T1._jsonSchema)){var n;if(t.bundle===TX)throw new yV(yz.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");let i=kT(e._databaseId),o=(n=t.bundle,new At(n,i)),a=o.t(),s=new _m(o.getMetadata(),i);for(let e of a)s.o(e);if(1!==s.queries.length)throw new yV(yz.INVALID_ARGUMENT,`Snapshot data expected 1 query but found ${s.queries.length} queries.`);let l=SB(s.queries[0].bundledQuery),u=s.documents,c=new _r;u.map(e=>{let t=Sy(i,e.document);c=c.add(t)});let h=_i.fromInitialDocuments(l,c,xh(),!1,!1),d=new Ax(e,r||null,l);return new T1(e,new TD(e),d,h)}}function T5(e,t){return e instanceof TY&&t instanceof TY?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof T1&&t instanceof T1&&e._firestore===t._firestore&&A_(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}T1._jsonSchemaVersion="firestore/querySnapshot/1.0",T1._jsonSchema={type:vo("string",T1._jsonSchemaVersion),bundleSource:vo("string","QuerySnapshot"),bundleName:vo("string"),bundle:vo("string")};let T3={maxAttempts:5};class T4{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=AW(e)}set(e,t,r){this._verifyNotCommitted();let n=T6(e,this._firestore),i=TI(n.converter,t,r),o=Aq(this._dataReader,"WriteBatch.set",n._key,i,null!==n.converter,r);return this._mutations.push(o.toMutation(n._key,xT.none())),this}update(e,t,r,...n){let i;this._verifyNotCommitted();let o=T6(e,this._firestore);return i="string"==typeof(t=mk(t))||t instanceof AR?AG(this._dataReader,"WriteBatch.update",o._key,t,r,n):AH(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(i.toMutation(o._key,xT.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=T6(e,this._firestore);return this._mutations=this._mutations.concat(new xL(t._key,xT.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new yV(yz.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function T6(e,t){if((e=mk(e)).firestore!==t)throw new yV(yz.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class T8{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=AW(e)}get(e){let t=T6(e,this._firestore),r=new TD(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return yM(24041);let n=e[0];if(n.isFoundDocument())return new Tr(this._firestore,r,n.key,n,t.converter);if(n.isNoDocument())return new Tr(this._firestore,r,t._key,null,t.converter);throw yM(18433,{doc:n})})}set(e,t,r){let n=T6(e,this._firestore),i=TI(n.converter,t,r),o=Aq(this._dataReader,"Transaction.set",n._key,i,null!==n.converter,r);return this._transaction.set(n._key,o),this}update(e,t,r,...n){let i,o=T6(e,this._firestore);return i="string"==typeof(t=mk(t))||t instanceof AR?AG(this._dataReader,"Transaction.update",o._key,t,r,n):AH(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,i),this}delete(e){let t=T6(e,this._firestore);return this._transaction.delete(t._key),this}}class T9 extends T8{constructor(e,t){super(e,t),this._firestore=e}get(e){let t=T6(e,this._firestore),r=new A6(this._firestore);return super.get(e).then(e=>new TY(this._firestore,r,t._key,e._document,new TJ(!1,!1),t.converter))}}function T7(e,t,r){var n,i;let o;e=vn(e,AD);let a={...T3,...r};if(a.maxAttempts<1)throw new yV(yz.INVALID_ARGUMENT,"Max attempts must be at least 1");return n=AF(e),i=r=>t(new T9(e,r)),o=new yU,n.asyncQueue.enqueueAndForget(async()=>{let e=await Ad(n);new An(n.asyncQueue,e,a,i,o).ju()}),o.promise}function Ee(e){e=vn(e,AS);let t=vn(e.firestore,AD);return Ap(AF(t),e._key).then(r=>Ep(t,e,r))}function Et(e){var t;let r;e=vn(e,AS);let n=vn(e.firestore,AD),i=AF(n),o=new A6(n);return(t=e._key,r=new yU,i.asyncQueue.enqueueAndForget(async()=>(async function(e,t,r){try{let n=await e.persistence.runTransaction("read document","readonly",r=>e.localDocuments.getDocument(r,t));n.isFoundDocument()?r.resolve(n):n.isNoDocument()?r.resolve(null):r.reject(new yV(yz.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(n){let e=_t(n,`Failed to get document '${t} from cache`);r.reject(e)}})(await Ac(i),t,r)),r.promise).then(t=>new TY(n,o,e._key,t,new TJ(null!==t&&t.hasLocalMutations,!0),e.converter))}function Er(e){e=vn(e,AS);let t=vn(e.firestore,AD);return Ap(AF(t),e._key,{source:"server"}).then(r=>Ep(t,e,r))}function En(e){e=vn(e,Ax);let t=vn(e.firestore,AD),r=AF(t),n=new A6(t);return Ti(e._query),Ag(r,e._query).then(r=>new T1(t,n,e,r))}function Ei(e){var t;let r;e=vn(e,Ax);let n=vn(e.firestore,AD),i=AF(n),o=new A6(n);return(t=e._query,r=new yU,i.asyncQueue.enqueueAndForget(async()=>(async function(e,t,r){try{let n=await C5(e,t,!0),i=new _w(t,n.ks),o=i.ru(n.documents),a=i.applyChanges(o,!1);r.resolve(a.snapshot)}catch(n){let e=_t(n,`Failed to execute query '${t} against cache`);r.reject(e)}})(await Ac(i),t,r)),r.promise).then(t=>new T1(n,o,e,t))}function Eo(e){e=vn(e,Ax);let t=vn(e.firestore,AD),r=AF(t),n=new A6(t);return Ag(r,e._query,{source:"server"}).then(r=>new T1(t,n,e,r))}function Ea(e,t,r){e=vn(e,AS);let n=vn(e.firestore,AD),i=TI(e.converter,t,r),o=AW(n);return Ef(n,[Aq(o,"setDoc",e._key,i,null!==e.converter,r).toMutation(e._key,xT.none())])}function Es(e,t,r,...n){e=vn(e,AS);let i=vn(e.firestore,AD),o=AW(i);return Ef(i,[("string"==typeof(t=mk(t))||t instanceof AR?AG(o,"updateDoc",e._key,t,r,n):AH(o,"updateDoc",e._key,t)).toMutation(e._key,xT.exists(!0))])}function El(e){return Ef(vn(e.firestore,AD),[new xL(e._key,xT.none())])}function Eu(e,t){let r=vn(e.firestore,AD),n=Ak(e),i=TI(e.converter,t);return Ef(r,[Aq(AW(e.firestore),"addDoc",n._key,i,null!==e.converter,{}).toMutation(n._key,xT.exists(!1))]).then(()=>n)}function Ec(e,...t){var r;let n,i,o,a,s;e=mk(e);let l={includeMetadataChanges:!1,source:"default"},u=0;"object"!=typeof t[0]||A7(t[u])||(l=t[u++]);let c={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(A7(t[u])){let e=t[u];t[u]=e.next?.bind(e),t[u+1]=e.error?.bind(e),t[u+2]=e.complete?.bind(e)}if(e instanceof AS)i=vn(e.firestore,AD),o=wZ(e._key.path),n={next:r=>{t[u]&&t[u](Ep(i,e,r))},error:t[u+1],complete:t[u+2]};else{let r=vn(e,Ax);i=vn(r.firestore,AD),o=r._query;let a=new A6(i);n={next:e=>{t[u]&&t[u](new T1(i,a,r,e))},error:t[u+1],complete:t[u+2]},Ti(e._query)}return r=AF(i),s=new _f(o,a=new _7(n),c),r.asyncQueue.enqueueAndForget(async()=>_l(await Af(r),s)),()=>{a.Nu(),r.asyncQueue.enqueueAndForget(async()=>_u(await Af(r),s))}}function Eh(e,t,...r){var n,i,o,a,s,l;let u=mk(e),c=function(e){let t={bundle:"",bundleName:"",bundleSource:""};for(let r of["bundle","bundleName","bundleSource"]){if(!(r in e)){t.error=`snapshotJson missing required field: ${r}`;break}let n=e[r];if("string"!=typeof n){t.error=`snapshotJson field '${r}' must be a string.`;break}if(0===n.length){t.error=`snapshotJson field '${r}' cannot be an empty string.`;break}"bundle"===r?t.bundle=n:"bundleName"===r?t.bundleName=n:"bundleSource"===r&&(t.bundleSource=n)}return t}(t);if(c.error)throw new yV(yz.INVALID_ARGUMENT,c.error);let h,d=0;if("object"!=typeof r[0]||A7(r[d])||(h=r[d++]),"QuerySnapshot"===c.bundleSource){let e,t,a=null;if("object"==typeof r[d]&&A7(r[d])){let e=r[d++];a={next:e.next,error:e.error,complete:e.complete}}else a={next:r[d++],error:r[d++],complete:r[d++]};return n=h,i=a,o=r[d],t=!1,AP(u,c.bundle).then(()=>{var e,t,r;return e=u,t=c.bundleName,(r=AF(e=vn(e,AD)),r.asyncQueue.enqueue(async()=>{var e;return e=await Ac(r),e.persistence.runTransaction("Get named query","readonly",r=>e.Pi.getNamedQuery(r,t))})).then(t=>t?new Ax(e,null,t.query):null)}).then(r=>{r&&!t&&(o&&r.withConverter(o),e=Ec(r,n||{},i))}).catch(e=>(i.error&&i.error(e),()=>{})),()=>{t||(t=!0,e&&e())}}if("DocumentSnapshot"===c.bundleSource){let e,t,n=null;if("object"==typeof r[d]&&A7(r[d])){let e=r[d++];n={next:e.next,error:e.error,complete:e.complete}}else n={next:r[d++],error:r[d++],complete:r[d++]};return a=h,s=n,l=r[d],t=!1,AP(u,c.bundle).then(()=>{t||(e=Ec(new AS(u,l||null,y8.fromPath(c.bundleName)),a||{},s))}).catch(e=>(s.error&&s.error(e),()=>{})),()=>{t||(t=!0,e&&e())}}throw new yV(yz.INVALID_ARGUMENT,`unsupported bundle source: ${c.bundleSource}`)}function Ed(e,t){let r,n=AF(e=vn(e,AD));return r=new _7(A7(t)?t:{next:t}),n.asyncQueue.enqueueAndForget(async()=>{var e;return e=await Af(n),void(e.Ca.add(r),r.next())}),()=>{r.Nu(),n.asyncQueue.enqueueAndForget(async()=>{var e;return e=await Af(n),void e.Ca.delete(r)})}}function Ef(e,t){var r;let n;return r=AF(e),n=new yU,r.asyncQueue.enqueueAndForget(async()=>_F(await Ah(r),t,n)),n.promise}function Ep(e,t,r){let n=r.docs.get(t._key),i=new A6(e);return new TY(e,i,t._key,n,new TJ(r.hasPendingWrites,r.fromCache),t.converter)}function Eg(e){return AF(e=vn(e,AD)),new T4(e,t=>Ef(e,t))}function Em(e,t){let r=AF(e=vn(e,AD));if(!r._uninitializedComponentsProvider||"memory"===r._uninitializedComponentsProvider._offline.kind)return yO("Cannot enable indexes when persistence is disabled"),Promise.resolve();let n=function(e){let t="string"==typeof e?function(e){try{return JSON.parse(e)}catch(e){throw new yV(yz.INVALID_ARGUMENT,"Failed to parse JSON: "+e?.message)}}(e):e,r=[];if(Array.isArray(t.indexes))for(let e of t.indexes){let t=Ey(e,"collectionGroup"),n=[];if(Array.isArray(e.fields))for(let t of e.fields){let e=A2("setIndexConfiguration",Ey(t,"fieldPath"));"CONTAINS"===t.arrayConfig?n.push(new vf(e,2)):"ASCENDING"===t.order?n.push(new vf(e,0)):"DESCENDING"===t.order&&n.push(new vf(e,1))}r.push(new vu(vu.UNKNOWN_ID,t,n,vp.empty()))}return r}(t);return r.asyncQueue.enqueue(async()=>(async function(e,t){let r=e.indexManager,n=[];return e.persistence.runTransaction("Configure indexes","readwrite",e=>r.getFieldIndexes(e).next(i=>(function(e,t,r,n,i){t=[...t],(e=[...e]).sort(r),t.sort(r);let o=e.length,a=t.length,s=0,l=0;for(;s<a&&l<o;){let o=r(e[l],t[s]);o<0?i(e[l++]):o>0?n(t[s++]):(s++,l++)}for(;s<a;)n(t[s++]);for(;l<o;)i(e[l++])})(i,t,vd,t=>{n.push(r.addFieldIndex(e,t))},t=>{n.push(r.deleteFieldIndex(e,t))})).next(()=>vS.waitFor(n)))})(await Ac(r),n))}function Ey(e,t){if("string"!=typeof e[t])throw new yV(yz.INVALID_ARGUMENT,"Missing string value for: "+t);return e[t]}class Ev{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function Eb(e){e=vn(e,AD);let t=Ek.get(e);if(t)return t;let r=AF(e);if("persistent"!==r._uninitializedComponentsProvider?._offline.kind)return null;let n=new Ev(e);return Ek.set(e,n),n}function Ew(e){EC(e,!0)}function Ex(e){EC(e,!1)}function ES(e){var t;(t=AF(e._firestore)).asyncQueue.enqueue(async()=>{var e;let r;return r=(e=await Ac(t)).indexManager,e.persistence.runTransaction("Delete All Indexes","readwrite",e=>r.deleteAllFieldIndexes(e))}).then(e=>yN("deleting all persistent cache indexes succeeded")).catch(e=>yO("deleting all persistent cache indexes failed",e))}function EC(e,t){var r;(r=AF(e._firestore),r.asyncQueue.enqueue(async()=>{var e;return e=await Ac(r),void(e.Cs.As=t)})).then(e=>yN(`setting persistent cache index auto creation isEnabled=${t} succeeded`)).catch(e=>yO(`setting persistent cache index auto creation isEnabled=${t} failed`,e))}let Ek=new WeakMap;class E_{constructor(){throw Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return EA.instance.onExistenceFilterMismatch(e)}}class EA{constructor(){this.i=new Map}static get instance(){return ET||function(e){if(xH)throw Error("a TestingHooksSpi instance is already set");xH=e}(ET=new EA),ET}u(e){this.i.forEach(t=>t(e))}onExistenceFilterMismatch(e){let t=Symbol(),r=this.i;return r.set(t,e),()=>r.delete(t)}}let ET=null;!function(e=!0){yD=yo,m3(new m_("firestore",(t,{instanceIdentifier:r,options:n})=>{let i=t.getProvider("app").getImmediate(),o=new AD(new yK(t.getProvider("auth-internal")),new yX(i,t.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new yV(yz.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new b6(e.options.projectId,t)}(i,r),i);return n={useFetchStreams:e,...n},o._setSettings(n),o},"PUBLIC").setMultipleInstances(!0)),yh(A8,A9,void 0),yh(A8,A9,"esm2020")}(),e.s(["AggregateField",()=>Te,"AggregateQuerySnapshot",()=>Tt,"DocumentSnapshot",()=>TY,"PersistentCacheIndexManager",()=>Ev,"QueryCompositeFilterConstraint",()=>Tc,"QueryConstraint",()=>Ta,"QueryDocumentSnapshot",()=>T0,"QueryEndAtConstraint",()=>Tx,"QueryFieldFilterConstraint",()=>Tl,"QueryLimitConstraint",()=>Tg,"QueryOrderByConstraint",()=>Tf,"QuerySnapshot",()=>T1,"QueryStartAtConstraint",()=>Tv,"SnapshotMetadata",()=>TJ,"Transaction",()=>T9,"WriteBatch",()=>T4,"_TestingHooks",()=>E_,"addDoc",()=>Eu,"aggregateFieldEqual",()=>TR,"aggregateQuerySnapshotEqual",()=>TO,"and",()=>Td,"average",()=>TP,"count",()=>TN,"deleteAllPersistentCacheIndexes",()=>ES,"deleteDoc",()=>El,"disablePersistentCacheIndexAutoCreation",()=>Ex,"documentSnapshotFromJSON",()=>TZ,"enablePersistentCacheIndexAutoCreation",()=>Ew,"endAt",()=>TC,"endBefore",()=>TS,"executeWrite",()=>Ef,"getAggregateFromServer",()=>TM,"getCountFromServer",()=>TB,"getDoc",()=>Ee,"getDocFromCache",()=>Et,"getDocFromServer",()=>Er,"getDocs",()=>En,"getDocsFromCache",()=>Ei,"getDocsFromServer",()=>Eo,"getPersistentCacheIndexManager",()=>Eb,"limit",()=>Tm,"limitToLast",()=>Ty,"memoryEagerGarbageCollector",()=>TU,"memoryLocalCache",()=>TW,"memoryLruGarbageCollector",()=>T$,"onSnapshot",()=>Ec,"onSnapshotResume",()=>Eh,"onSnapshotsInSync",()=>Ed,"or",()=>Th,"orderBy",()=>Tp,"persistentLocalCache",()=>Tq,"persistentMultipleTabManager",()=>TQ,"persistentSingleTabManager",()=>TG,"query",()=>Ts,"querySnapshotFromJSON",()=>T2,"runTransaction",()=>T7,"setDoc",()=>Ea,"setIndexConfiguration",()=>Em,"snapshotEqual",()=>T5,"startAfter",()=>Tw,"startAt",()=>Tb,"sum",()=>TF,"updateDoc",()=>Es,"where",()=>Tu,"writeBatch",()=>Eg],63802),e.i(63802),yh("firebase","12.8.0","app"),e.i(92953);let EE=function(e,t){let r=m4("object"==typeof e?e:yl(),"firestore").getImmediate({identifier:"string"==typeof e?e:b4});if(!r._initialized){let e=(e=>{let t=ma()?.emulatorHosts?.[e];if(!t)return;let r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let n=parseInt(t.substring(r+1),10);return"["===t[0]?[t.substring(1,r-1),n]:[t.substring(0,r),n]})("firestore");e&&function(e,t,r,n={}){e=vn(e,Aw);let i=mu(t),o=e._getSettings(),a={...o,emulatorOptions:e._getEmulatorOptions()},s=`${t}:${r}`;i&&(mc(`https://${s}`),function(e,t){if("u"<typeof window||"u"<typeof document||!mu(window.location.host)||mh[e]===t||mh[e]||md)return;function r(e){return`__firebase__banner__${e}`}mh[e]=t;let n="__firebase__banner",i=function(){let e={prod:[],emulator:[]};for(let t of Object.keys(mh))mh[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){let e,t,o=(e=document.getElementById(n),t=!1,e||((e=document.createElement("div")).setAttribute("id",n),t=!0),{created:t,element:e}),a=r("text"),s=document.getElementById(a)||document.createElement("span"),l=r("learnmore"),u=document.getElementById(l)||document.createElement("a"),c=r("preprendIcon"),h=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(o.created){let e,t=o.element;t.style.display="flex",t.style.background="#7faaf0",t.style.position="fixed",t.style.bottom="5px",t.style.left="5px",t.style.padding=".5em",t.style.borderRadius="5px",t.style.alignItems="center",u.setAttribute("id",l),u.innerText="Learn more",u.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",u.setAttribute("target","__blank"),u.style.paddingLeft="5px",u.style.textDecoration="underline";let r=((e=document.createElement("span")).style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{let e;md=!0,(e=document.getElementById(n))&&e.remove()},e);h.setAttribute("width","24"),h.setAttribute("id",c),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px",t.append(h,s,u,r),document.body.appendChild(t)}i?(s.innerText="Preview backend disconnected.",h.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(h.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,s.innerText="Preview backend running in this workspace."),s.setAttribute("id",a)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}("Firestore",!0)),o.host!==Av&&o.host!==s&&yO("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l={...o,host:s,ssl:i,emulatorOptions:n};if(!mS(l,a)&&(e._setSettings(l),n.mockUserToken)){let t,r;if("string"==typeof n.mockUserToken)t=n.mockUserToken,r=yI.MOCK_USER;else{t=function(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let r=t||"demo-project",n=e.iat||0,i=e.sub||e.user_id;if(!i)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:n,exp:n+3600,auth_time:n,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[mn(JSON.stringify({alg:"none",type:"JWT"})),mn(JSON.stringify(o)),""].join(".")}(n.mockUserToken,e._app?.options.projectId);let i=n.mockUserToken.sub||n.mockUserToken.user_id;if(!i)throw new yV(yz.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");r=new yI(i)}e._authCredentials=new yq(new y$(t,r))}}(r,...e)}return r}(yu().length>0?yl():ya({apiKey:"AIzaSyCHmJVB5CzstIduG8hQyUHj5U0Ecnc0tCM",authDomain:"agendas-lds-la.firebaseapp.com",projectId:"agendas-lds-la",storageBucket:"agendas-lds-la.firebasestorage.app",messagingSenderId:"71468412442",appId:"1:71468412442:web:3f7f6126ef7595183ceba3"})),EI={presiding:"",conducting:"",organist:"",chorister:"",opening_hymn:"",invocation:"",sacrament_hymn:"",speaker1:"",speaker2:"",intermediate_hymn:"",speaker3:"",speaker4:"",closing_hymn:"",benediction:""},ED=(o="ward-75515",a="lds-agendas",s=EI,l=new Set,{subscribe:e=>{let t=Ec(Ak(EE,a,o),e=>{e.exists()&&(s=e.data()),l.forEach(e=>e())});return l.add(e),()=>{t(),l.delete(e)}},getSnapshot:()=>s,updateData:async e=>{try{let t=Ak(EE,a,o);return await Es(t,e),!0}catch(e){return console.error("Error updating document:",e),!1}},getServerSnapshot:()=>EI,addData:async e=>{try{return await Eu(function(e,t,...r){if(e=mk(e),y9("collection","path",t),e instanceof Aw){let n=y3.fromString(t,...r);return ve(n),new AC(e,null,n)}{if(!(e instanceof AS||e instanceof AC))throw new yV(yz.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=e._path.child(y3.fromString(t,...r));return ve(n),new AC(e.firestore,null,n)}}(EE,"lds-agendas"),e),!0}catch(e){return console.error("Error:",e),!1}}}),EF=()=>{let[e,t]=ez.default.useState(g8),r=(0,ez.useSyncExternalStore)(ED.subscribe,ED.getSnapshot,ED.getServerSnapshot),{register:n,handleSubmit:i,reset:o,watch:a,formState:{errors:s,isDirty:l}}=function(e={}){let t=ez.default.useRef(void 0),r=ez.default.useRef(void 0),[n,i]=ez.default.useState({isDirty:!1,isValidating:!1,isLoading:eX(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:eX(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!eX(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{let{formControl:r,...i}=function(e={}){let t,r={...tA,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:eX(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},o=(e$(r.defaultValues)||e$(r.values))&&eq(r.defaultValues||r.values)||{},a=r.shouldUnregister?{}:eq(o),s={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u=0,c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...c},d={...h},f={array:te(),state:te()},p="all"===r.criteriaMode,g=async e=>{if(!s.keepIsValid&&!r.disabled&&(h.isValid||d.isValid||e)){let e;r.resolver?(e=tt((await b()).errors),m()):e=await x(i,!0),e!==n.isValid&&f.state.next({isValid:e})}},m=(e,t)=>{!r.disabled&&(h.isValidating||h.validatingFields||d.isValidating||d.validatingFields)&&((e||Array.from(l.mount)).forEach(e=>{e&&(t?eJ(n.validatingFields,e,t):ti(n.validatingFields,e))}),f.state.next({validatingFields:n.validatingFields,isValidating:!tt(n.validatingFields)}))},y=(e,t,r,n)=>{let l=eQ(i,e);if(l){let i=eQ(a,e,eK(r)?eQ(o,e):r);eK(i)||n&&n.defaultChecked||t?eJ(a,e,t?i:tp(l._f)):k(e,i),s.mount&&!s.action&&g()}},v=(e,t,i,a,s)=>{let l=!1,u=!1,c={name:e};if(!r.disabled){if(!i||a){(h.isDirty||d.isDirty)&&(u=n.isDirty,n.isDirty=c.isDirty=S(),l=u!==c.isDirty);let r=e8(eQ(o,e),t);u=!!eQ(n.dirtyFields,e),r?ti(n.dirtyFields,e):eJ(n.dirtyFields,e,!0),c.dirtyFields=n.dirtyFields,l=l||(h.dirtyFields||d.dirtyFields)&&!r!==u}if(i){let t=eQ(n.touchedFields,e);t||(eJ(n.touchedFields,e,i),c.touchedFields=n.touchedFields,l=l||(h.touchedFields||d.touchedFields)&&t!==i)}l&&s&&f.state.next(c)}return l?c:{}},b=async e=>(m(e,!0),await r.resolver(a,r.context,((e,t,r,n)=>{let i={};for(let r of e){let e=eQ(t,r);e&&eJ(i,r,e._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}})(e||l.mount,i,r.criteriaMode,r.shouldUseNativeValidation))),w=async e=>{let{errors:t}=await b(e);if(m(e),e)for(let r of e){let e=eQ(t,r);e?eJ(n.errors,r,e):ti(n.errors,r)}else n.errors=t;return t},x=async(t,i,o={valid:!0})=>{for(let s in t){let u=t[s];if(u){let{_f:t,...s}=u;if(t){let s=l.array.has(t.name),c=u._f&&tv(u._f);c&&h.validatingFields&&m([t.name],!0);let d=await t_(u,l.disabled,a,p,r.shouldUseNativeValidation&&!i,s);if(c&&h.validatingFields&&m([t.name]),d[t.name]&&(o.valid=!1,i||e.shouldUseNativeValidation))break;i||(eQ(d,t.name)?s?tS(n.errors,d,t.name):eJ(n.errors,t.name,d[t.name]):ti(n.errors,t.name))}tt(s)||await x(s,i,o)}}return o.valid},S=(e,t)=>!r.disabled&&(e&&t&&eJ(a,e,t),!e8(D(),o)),C=(e,t,r)=>{var n,i;return n=l,i={...s.mount?a:eK(t)?o:e4(e)?{[e]:t}:t},e4(e)?(r&&n.watch.add(e),eQ(i,e,t)):Array.isArray(e)?e.map(e=>(r&&n.watch.add(e),eQ(i,e))):(r&&(n.watchAll=!0),i)},k=(e,t,r={})=>{let n=eQ(i,e),o=t;if(n){let r=n._f;r&&(r.disabled||eJ(a,e,th(t,r)),o=tr(r.ref)&&eU(t)?"":t,"select-multiple"===r.ref.type?[...r.ref.options].forEach(e=>e.selected=o.includes(e.value)):r.refs?"checkbox"===r.ref.type?r.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(o)?e.checked=!!o.find(t=>t===e.value):e.checked=o===e.value||!!o)}):r.refs.forEach(e=>e.checked=e.value===o):"file"===r.ref.type?r.ref.value="":(r.ref.value=o,r.ref.type||f.state.next({name:e,values:eq(a)})))}(r.shouldDirty||r.shouldTouch)&&v(e,o,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&I(e)},_=(e,t,r)=>{for(let n in t){if(!t.hasOwnProperty(n))return;let o=t[n],a=e+"."+n,s=eQ(i,a);(l.array.has(e)||e$(o)||s&&!s._f)&&!eV(o)?_(a,o,r):k(a,o,r)}},A=(e,t,r={})=>{let u=eQ(i,e),c=l.array.has(e),p=eq(t);eJ(a,e,p),c?(f.array.next({name:e,values:eq(a)}),(h.isDirty||h.dirtyFields||d.isDirty||d.dirtyFields)&&r.shouldDirty&&f.state.next({name:e,dirtyFields:ts(o,a),isDirty:S(e,p)})):!u||u._f||eU(p)?k(e,p,r):_(e,p,r),tb(e,l)?f.state.next({...n,name:e,values:eq(a)}):f.state.next({name:s.mount?e:void 0,values:eq(a)})},T=async e=>{s.mount=!0;let o=e.target,c=o.name,y=!0,w=eQ(i,c),S=e=>{y=Number.isNaN(e)||eV(e)&&isNaN(e.getTime())||e8(e,eQ(a,c,e))},C=tm(r.mode),k=tm(r.reValidateMode);if(w){let s,R,O,B,M=o.type?tp(w._f):e$(s=e)&&s.target?"checkbox"===s.target.type?s.target.checked:s.target.value:s,L="blur"===e.type||"focusout"===e.type,j=!((B=w._f).mount&&(B.required||B.min||B.max||B.maxLength||B.minLength||B.pattern||B.validate))&&!r.resolver&&!eQ(n.errors,c)&&!w._f.deps||(_=L,A=eQ(n.touchedFields,c),T=n.isSubmitted,E=k,!(D=C).isOnAll&&(!T&&D.isOnTouch?!(A||_):(T?E.isOnBlur:D.isOnBlur)?!_:(T?!E.isOnChange:!D.isOnChange)||_)),z=tb(c,l,L);eJ(a,c,M),L?o&&o.readOnly||(w._f.onBlur&&w._f.onBlur(e),t&&t(0)):w._f.onChange&&w._f.onChange(e);let V=v(c,M,L),U=!tt(V)||z;if(L||f.state.next({name:c,type:e.type,values:eq(a)}),j)return(h.isValid||d.isValid)&&("onBlur"===r.mode?L&&g():L||g()),U&&f.state.next({name:c,...z?{}:V});if(!L&&z&&f.state.next({...n}),r.resolver){let{errors:e}=await b([c]);if(m([c]),S(M),y){let t=tx(n.errors,i,c),r=tx(e,i,t.name||c);R=r.error,c=r.name,O=tt(e)}}else m([c],!0),R=(await t_(w,l.disabled,a,p,r.shouldUseNativeValidation))[c],m([c]),S(M),y&&(R?O=!1:(h.isValid||d.isValid)&&(O=await x(i,!0)));if(y){w._f.deps&&(!Array.isArray(w._f.deps)||w._f.deps.length>0)&&I(w._f.deps);var _,A,T,E,D,F=c,P=O,N=R;let e=eQ(n.errors,F),i=(h.isValid||d.isValid)&&"boolean"==typeof P&&n.isValid!==P;if(r.delayError&&N){let e;e=()=>{eJ(n.errors,F,N),f.state.next({errors:n.errors})},(t=t=>{clearTimeout(u),u=setTimeout(e,t)})(r.delayError)}else clearTimeout(u),t=null,N?eJ(n.errors,F,N):ti(n.errors,F);if((N?!e8(e,N):e)||!tt(V)||i){let e={...V,...i&&"boolean"==typeof P?{isValid:P}:{},errors:n.errors,name:F};n={...n,...e},f.state.next(e)}}}},E=(e,t)=>{if(eQ(n.errors,t)&&e.focus)return e.focus(),1},I=async(e,t={})=>{let o,a,s=e7(e);if(r.resolver){let t=await w(eK(e)?e:s);o=tt(t),a=e?!s.some(e=>eQ(t,e)):o}else e?((a=(await Promise.all(s.map(async e=>{let t=eQ(i,e);return await x(t&&t._f?{[e]:t}:t)}))).every(Boolean))||n.isValid)&&g():a=o=await x(i);return f.state.next({...!e4(e)||(h.isValid||d.isValid)&&o!==n.isValid?{}:{name:e},...r.resolver||!e?{isValid:o}:{},errors:n.errors}),t.shouldFocus&&!a&&tw(i,E,e?s:l.mount),a},D=(e,t)=>{let r={...s.mount?a:o};return t&&(r=function e(t,r){let n={};for(let i in t)if(t.hasOwnProperty(i)){let o=t[i],a=r[i];if(o&&e$(o)&&a){let t=e(o,a);e$(t)&&(n[i]=t)}else t[i]&&(n[i]=a)}return n}(t.dirtyFields?n.dirtyFields:n.touchedFields,r)),eK(e)?r:e4(e)?eQ(r,e):e.map(e=>eQ(r,e))},F=(e,t)=>({invalid:!!eQ((t||n).errors,e),isDirty:!!eQ((t||n).dirtyFields,e),error:eQ((t||n).errors,e),isValidating:!!eQ(n.validatingFields,e),isTouched:!!eQ((t||n).touchedFields,e)}),P=(e,t,r)=>{let o=(eQ(i,e,{_f:{}})._f||{}).ref,{ref:a,message:s,type:l,...u}=eQ(n.errors,e)||{};eJ(n.errors,e,{...u,...t,ref:o}),f.state.next({name:e,errors:n.errors,isValid:!1}),r&&r.shouldFocus&&o&&o.focus&&o.focus()},N=e=>f.state.subscribe({next:t=>{let r,i,s;r=e.name,i=t.name,s=e.exact,(!r||!i||r===i||e7(r).some(e=>e&&(s?e===i:e.startsWith(i)||i.startsWith(e))))&&((e,t,r,n)=>{r(e);let{name:i,...o}=e;return tt(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(e=>t[e]===(!n||"all"))})(t,e.formState||h,V,e.reRenderRoot)&&e.callback({values:{...a},...n,...t,defaultValues:o})}}).unsubscribe,R=(e,t={})=>{for(let s of e?e7(e):l.mount)l.mount.delete(s),l.array.delete(s),t.keepValue||(ti(i,s),ti(a,s)),t.keepError||ti(n.errors,s),t.keepDirty||ti(n.dirtyFields,s),t.keepTouched||ti(n.touchedFields,s),t.keepIsValidating||ti(n.validatingFields,s),r.shouldUnregister||t.keepDefaultValue||ti(o,s);f.state.next({values:eq(a)}),f.state.next({...n,...!t.keepDirty?{}:{isDirty:S()}}),t.keepIsValid||g()},O=({disabled:e,name:t})=>{if("boolean"==typeof e&&s.mount||e||l.disabled.has(t)){let r=l.disabled.has(t);e?l.disabled.add(t):l.disabled.delete(t),!!e!==r&&s.mount&&!s.action&&g()}},B=(e,t={})=>{let n=eQ(i,e),a="boolean"==typeof t.disabled||"boolean"==typeof r.disabled;return(eJ(i,e,{...n||{},_f:{...n&&n._f?n._f:{ref:{name:e}},name:e,mount:!0,...t}}),l.mount.add(e),n)?O({disabled:"boolean"==typeof t.disabled?t.disabled:r.disabled,name:e}):y(e,!0,t.value),{...a?{disabled:t.disabled||r.disabled}:{},...r.progressive?{required:!!t.required,min:tg(t.min),max:tg(t.max),minLength:tg(t.minLength),maxLength:tg(t.maxLength),pattern:tg(t.pattern)}:{},name:e,onChange:T,onBlur:T,ref:a=>{if(a){let r;B(e,t),n=eQ(i,e);let s=eK(a.value)&&a.querySelectorAll&&a.querySelectorAll("input,select,textarea")[0]||a,l="radio"===(r=s).type||"checkbox"===r.type,u=n._f.refs||[];(l?u.find(e=>e===s):s===n._f.ref)||(eJ(i,e,{_f:{...n._f,...l?{refs:[...u.filter(tn),s,...Array.isArray(eQ(o,e))?[{}]:[]],ref:{type:s.type,name:e}}:{ref:s}}}),y(e,!1,void 0,s))}else{var u;(n=eQ(i,e,{}))._f&&(n._f.mount=!1),(r.shouldUnregister||t.shouldUnregister)&&(u=l.array,!u.has(e.substring(0,e.search(/\.\d+(\.|$)/))||e)||!s.action)&&l.unMount.add(e)}}}},M=()=>r.shouldFocusError&&tw(i,E,l.mount),L=(e,t)=>async o=>{let s;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let u=eq(a);if(f.state.next({isSubmitting:!0}),r.resolver){let{errors:e,values:t}=await b();m(),n.errors=e,u=eq(t)}else await x(i);if(l.disabled.size)for(let e of l.disabled)ti(u,e);if(ti(n.errors,"root"),tt(n.errors)){f.state.next({errors:{}});try{await e(u,o)}catch(e){s=e}}else t&&await t({...n.errors},o),M(),setTimeout(M);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:tt(n.errors)&&!s,submitCount:n.submitCount+1,errors:n.errors}),s)throw s},j=(e,t={})=>{let u=e?eq(e):o,c=eq(u),d=tt(e),p=d?o:c;if(t.keepDefaultValues||(o=u),!t.keepValues){if(t.keepDirtyValues)for(let e of Array.from(new Set([...l.mount,...Object.keys(ts(o,a))]))){let t=eQ(n.dirtyFields,e),r=eQ(a,e),i=eQ(p,e);t&&!eK(r)?eJ(p,e,r):t||eK(i)||A(e,i)}else{if(eW&&eK(e))for(let e of l.mount){let t=eQ(i,e);if(t&&t._f){let e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(tr(e)){let t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(let e of l.mount)A(e,eQ(p,e));else i={}}a=r.shouldUnregister?t.keepDefaultValues?eq(o):{}:eq(p),f.array.next({values:{...p}}),f.state.next({values:{...p}})}l={mount:t.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!h.isValid||!!t.keepIsValid||!!t.keepDirtyValues||!r.shouldUnregister&&!tt(p),s.watch=!!r.shouldUnregister,s.keepIsValid=!!t.keepIsValid,s.action=!1,t.keepErrors||(n.errors={}),f.state.next({submitCount:t.keepSubmitCount?n.submitCount:0,isDirty:!d&&(t.keepDirty?n.isDirty:!!(t.keepDefaultValues&&!e8(e,o))),isSubmitted:!!t.keepIsSubmitted&&n.isSubmitted,dirtyFields:d?{}:t.keepDirtyValues?t.keepDefaultValues&&a?ts(o,a):n.dirtyFields:t.keepDefaultValues&&e?ts(o,e):t.keepDirty?n.dirtyFields:{},touchedFields:t.keepTouched?n.touchedFields:{},errors:t.keepErrors?n.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&n.isSubmitSuccessful,isSubmitting:!1,defaultValues:o})},z=(e,t)=>j(eX(e)?e(a):e,{...r.resetOptions,...t}),V=e=>{n={...n,...e}},U={control:{register:B,unregister:R,getFieldState:F,handleSubmit:L,setError:P,_subscribe:N,_runSchema:b,_updateIsValidating:m,_focusError:M,_getWatch:C,_getDirty:S,_setValid:g,_setFieldArray:(e,t=[],l,u,c=!0,p=!0)=>{if(u&&l&&!r.disabled){if(s.action=!0,p&&Array.isArray(eQ(i,e))){let t=l(eQ(i,e),u.argA,u.argB);c&&eJ(i,e,t)}if(p&&Array.isArray(eQ(n.errors,e))){let t,r=l(eQ(n.errors,e),u.argA,u.argB);c&&eJ(n.errors,e,r),eH(eQ(t=n.errors,e)).length||ti(t,e)}if((h.touchedFields||d.touchedFields)&&p&&Array.isArray(eQ(n.touchedFields,e))){let t=l(eQ(n.touchedFields,e),u.argA,u.argB);c&&eJ(n.touchedFields,e,t)}(h.dirtyFields||d.dirtyFields)&&(n.dirtyFields=ts(o,a)),f.state.next({name:e,isDirty:S(e,t),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else eJ(a,e,t)},_setDisabledField:O,_setErrors:e=>{n.errors=e,f.state.next({errors:n.errors,isValid:!1})},_getFieldArray:e=>eH(eQ(s.mount?a:o,e,r.shouldUnregister?eQ(o,e,[]):[])),_reset:j,_resetDefaultValues:()=>eX(r.defaultValues)&&r.defaultValues().then(e=>{z(e,r.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(let e of l.unMount){let t=eQ(i,e);t&&(t._f.refs?t._f.refs.every(e=>!tn(e)):!tn(t._f.ref))&&R(e)}l.unMount=new Set},_disableForm:e=>{"boolean"==typeof e&&(f.state.next({disabled:e}),tw(i,(t,r)=>{let n=eQ(i,r);n&&(t.disabled=n._f.disabled||e,Array.isArray(n._f.refs)&&n._f.refs.forEach(t=>{t.disabled=n._f.disabled||e}))},0,!1))},_subjects:f,_proxyFormState:h,get _fields(){return i},get _formValues(){return a},get _state(){return s},set _state(value){s=value},get _defaultValues(){return o},get _names(){return l},set _names(value){l=value},get _formState(){return n},get _options(){return r},set _options(value){r={...r,...value}}},subscribe:e=>(s.mount=!0,d={...d,...e.formState},N({...e,formState:{...c,...e.formState}})),trigger:I,register:B,handleSubmit:L,watch:(e,t)=>eX(e)?f.state.subscribe({next:r=>"values"in r&&e(C(void 0,t),r)}):C(e,t,!0),setValue:A,getValues:D,reset:z,resetField:(e,t={})=>{eQ(i,e)&&(eK(t.defaultValue)?A(e,eq(eQ(o,e))):(A(e,t.defaultValue),eJ(o,e,eq(t.defaultValue))),t.keepTouched||ti(n.touchedFields,e),t.keepDirty||(ti(n.dirtyFields,e),n.isDirty=t.defaultValue?S(e,eq(eQ(o,e))):S()),!t.keepError&&(ti(n.errors,e),h.isValid&&g()),f.state.next({...n}))},clearErrors:e=>{e&&e7(e).forEach(e=>ti(n.errors,e)),f.state.next({errors:e?n.errors:{}})},unregister:R,setError:P,setFocus:(e,t={})=>{let r=eQ(i,e),n=r&&r._f;if(n){let e=n.refs?n.refs[0]:n.ref;e.focus&&setTimeout(()=>{e.focus(),t.shouldSelect&&eX(e.select)&&e.select()})}},getFieldState:F};return{...U,formControl:U}}(e);t.current={...i,formState:n}}let o=t.current.control;return o._options=e,e3(()=>{let e=o._subscribe({formState:o._proxyFormState,callback:()=>i({...o._formState}),reRenderRoot:!0});return i(e=>({...e,isReady:!0})),o._formState.isReady=!0,e},[o]),ez.default.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),ez.default.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),ez.default.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),ez.default.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),ez.default.useEffect(()=>{if(o._proxyFormState.isDirty){let e=o._getDirty();e!==n.isDirty&&o._subjects.state.next({isDirty:e})}},[o,n.isDirty]),ez.default.useEffect(()=>{var t;e.values&&!e8(e.values,r.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),(null==(t=o._options.resetOptions)?void 0:t.keepIsValid)||o._setValid(),r.current=e.values,i(e=>({...e}))):o._resetDefaultValues()},[o,e.values]),ez.default.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=ez.default.useMemo(()=>((e,t,r,n=!0)=>{let i={defaultValues:t._defaultValues};for(let o in e)Object.defineProperty(i,o,{get:()=>("all"!==t._proxyFormState[o]&&(t._proxyFormState[o]=!n||"all"),r&&(r[o]=!0),e[o])});return i})(n,o),[o,n]),t.current}({defaultValues:r}),u=a(),c=async t=>{await ED.updateData(t),await g4(t,e)},h=(e,t,r=!1)=>(0,ej.jsx)(sQ,{...n(e),label:t,fullWidth:!0,size:"small",error:!!s[e],helperText:s[e]?.message,slotProps:{inputLabel:{shrink:!0}},disabled:r});return(0,ez.useEffect)(()=>{Object.values(r).some(e=>""!==e)&&!l&&o(r)},[r,o,l]),(0,ez.useEffect)(()=>{if(!l)return;let e=setTimeout(async()=>{await ED.updateData(u)},800);return()=>clearTimeout(e)},[u,l]),(0,ej.jsxs)(sa,{elevation:3,sx:{p:4,maxWidth:600,mx:"auto",mt:4},children:[(0,ej.jsxs)(lF,{sx:{mb:3},children:[(0,ej.jsx)(lI,{variant:"h5",sx:{fontWeight:"bold"},children:"Agenda Sacramental"}),(0,ej.jsxs)(lI,{variant:"body2",color:"text.secondary",children:["Prximo domingo: ",(0,ej.jsx)("b",{children:g6()})]})]}),(0,ej.jsxs)("form",{onSubmit:i(c),children:[(0,ej.jsx)(l5,{sx:{mb:2},control:(0,ej.jsx)(lY,{checked:e,onChange:e=>{t(e.target.checked)}}),label:"Reunin de ayuno y testimonio"}),(0,ej.jsxs)(lM,{spacing:2,children:[(0,ej.jsx)(lI,{variant:"overline",color:"primary",sx:{mt:1},children:"Liderazgo"}),h("presiding","Preside"),h("conducting","Dirige"),(0,ej.jsx)(lV,{}),(0,ej.jsx)(lI,{variant:"overline",color:"primary",children:"Msica y Oraciones"}),h("organist","Pianista"),h("chorister","Director de Msica"),h("opening_hymn","Himno de Apertura"),h("invocation","Primera Oracin"),h("sacrament_hymn","Himno Sacramental"),(0,ej.jsx)(lV,{}),(0,ej.jsx)(lI,{variant:"overline",color:"primary",children:"Discursantes"}),h("speaker1","Discursante 1",e),h("speaker2","Discursante 2",e),h("intermediate_hymn","Himno Especial",e),h("speaker3","Discursante 3",e),h("speaker4","Discursante 4",e),(0,ej.jsx)(lV,{}),(0,ej.jsx)(lI,{variant:"overline",color:"primary",children:"Cierre"}),h("closing_hymn","Himno de Final"),h("benediction","Oracin Final"),(0,ej.jsx)(lF,{sx:{pt:2},children:(0,ej.jsx)(lk,{type:"submit",variant:"contained",fullWidth:!0,size:"large",children:"Generar Agenda"})})]})]})]})};function EP(){return(0,ej.jsx)("div",{children:(0,ej.jsx)(EF,{})})}e.s(["default",()=>EP],52683)}]);